function Gg(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s1(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ey={exports:{}},Pu={},ty={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=Symbol.for("react.element"),o1=Symbol.for("react.portal"),a1=Symbol.for("react.fragment"),l1=Symbol.for("react.strict_mode"),u1=Symbol.for("react.profiler"),c1=Symbol.for("react.provider"),h1=Symbol.for("react.context"),d1=Symbol.for("react.forward_ref"),f1=Symbol.for("react.suspense"),p1=Symbol.for("react.memo"),m1=Symbol.for("react.lazy"),zp=Symbol.iterator;function v1(t){return t===null||typeof t!="object"?null:(t=zp&&t[zp]||t["@@iterator"],typeof t=="function"?t:null)}var ny={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ry=Object.assign,iy={};function Ps(t,e,n){this.props=t,this.context=e,this.refs=iy,this.updater=n||ny}Ps.prototype.isReactComponent={};Ps.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ps.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sy(){}sy.prototype=Ps.prototype;function ef(t,e,n){this.props=t,this.context=e,this.refs=iy,this.updater=n||ny}var tf=ef.prototype=new sy;tf.constructor=ef;ry(tf,Ps.prototype);tf.isPureReactComponent=!0;var $p=Array.isArray,oy=Object.prototype.hasOwnProperty,nf={current:null},ay={key:!0,ref:!0,__self:!0,__source:!0};function ly(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)oy.call(e,r)&&!ay.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:aa,type:t,key:s,ref:o,props:i,_owner:nf.current}}function g1(t,e){return{$$typeof:aa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rf(t){return typeof t=="object"&&t!==null&&t.$$typeof===aa}function y1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Fp=/\/+/g;function _c(t,e){return typeof t=="object"&&t!==null&&t.key!=null?y1(""+t.key):e.toString(36)}function ll(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case aa:case o1:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+_c(o,0):r,$p(i)?(n="",t!=null&&(n=t.replace(Fp,"$&/")+"/"),ll(i,e,n,"",function(u){return u})):i!=null&&(rf(i)&&(i=g1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Fp,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",$p(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+_c(s,a);o+=ll(s,e,n,l,i)}else if(l=v1(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+_c(s,a++),o+=ll(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Na(t,e,n){if(t==null)return t;var r=[],i=0;return ll(t,r,"","",function(s){return e.call(n,s,i++)}),r}function w1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jt={current:null},ul={transition:null},_1={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:ul,ReactCurrentOwner:nf};function uy(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Na,forEach:function(t,e,n){Na(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Na(t,function(){e++}),e},toArray:function(t){return Na(t,function(e){return e})||[]},only:function(t){if(!rf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=Ps;ye.Fragment=a1;ye.Profiler=u1;ye.PureComponent=ef;ye.StrictMode=l1;ye.Suspense=f1;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_1;ye.act=uy;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ry({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=nf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)oy.call(e,l)&&!ay.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:aa,type:t.type,key:i,ref:s,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:h1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:c1,_context:t},t.Consumer=t};ye.createElement=ly;ye.createFactory=function(t){var e=ly.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:d1,render:t}};ye.isValidElement=rf;ye.lazy=function(t){return{$$typeof:m1,_payload:{_status:-1,_result:t},_init:w1}};ye.memo=function(t,e){return{$$typeof:p1,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=ul.transition;ul.transition={};try{t()}finally{ul.transition=e}};ye.unstable_act=uy;ye.useCallback=function(t,e){return jt.current.useCallback(t,e)};ye.useContext=function(t){return jt.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return jt.current.useDeferredValue(t)};ye.useEffect=function(t,e){return jt.current.useEffect(t,e)};ye.useId=function(){return jt.current.useId()};ye.useImperativeHandle=function(t,e,n){return jt.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return jt.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return jt.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return jt.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return jt.current.useReducer(t,e,n)};ye.useRef=function(t){return jt.current.useRef(t)};ye.useState=function(t){return jt.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return jt.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return jt.current.useTransition()};ye.version="18.3.1";ty.exports=ye;var y=ty.exports;const be=qg(y),x1=Gg({__proto__:null,default:be},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1=y,S1=Symbol.for("react.element"),k1=Symbol.for("react.fragment"),E1=Object.prototype.hasOwnProperty,C1=b1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T1={key:!0,ref:!0,__self:!0,__source:!0};function cy(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)E1.call(e,r)&&!T1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:S1,type:t,key:s,ref:o,props:i,_owner:C1.current}}Pu.Fragment=k1;Pu.jsx=cy;Pu.jsxs=cy;ey.exports=Pu;var E=ey.exports,hy={exports:{}},sn={},dy={exports:{}},fy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,Z){var ne=D.length;D.push(Z);e:for(;0<ne;){var he=ne-1>>>1,ke=D[he];if(0<i(ke,Z))D[he]=Z,D[ne]=ke,ne=he;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var Z=D[0],ne=D.pop();if(ne!==Z){D[0]=ne;e:for(var he=0,ke=D.length,ht=ke>>>1;he<ht;){var ot=2*(he+1)-1,mt=D[ot],at=ot+1,Nt=D[at];if(0>i(mt,ne))at<ke&&0>i(Nt,mt)?(D[he]=Nt,D[at]=ne,he=at):(D[he]=mt,D[ot]=ne,he=ot);else if(at<ke&&0>i(Nt,ne))D[he]=Nt,D[at]=ne,he=at;else break e}}return Z}function i(D,Z){var ne=D.sortIndex-Z.sortIndex;return ne!==0?ne:D.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,m=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=D)r(u),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(u)}}function b(D){if(v=!1,_(D),!m)if(n(l)!==null)m=!0,ve(C);else{var Z=n(u);Z!==null&&we(b,Z.startTime-D)}}function C(D,Z){m=!1,v&&(v=!1,g(P),P=-1),f=!0;var ne=d;try{for(_(Z),h=n(l);h!==null&&(!(h.expirationTime>Z)||D&&!oe());){var he=h.callback;if(typeof he=="function"){h.callback=null,d=h.priorityLevel;var ke=he(h.expirationTime<=Z);Z=t.unstable_now(),typeof ke=="function"?h.callback=ke:h===n(l)&&r(l),_(Z)}else r(l);h=n(l)}if(h!==null)var ht=!0;else{var ot=n(u);ot!==null&&we(b,ot.startTime-Z),ht=!1}return ht}finally{h=null,d=ne,f=!1}}var A=!1,x=null,P=-1,L=5,O=-1;function oe(){return!(t.unstable_now()-O<L)}function j(){if(x!==null){var D=t.unstable_now();O=D;var Z=!0;try{Z=x(!0,D)}finally{Z?q():(A=!1,x=null)}}else A=!1}var q;if(typeof p=="function")q=function(){p(j)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ae=U.port2;U.port1.onmessage=j,q=function(){ae.postMessage(null)}}else q=function(){w(j,0)};function ve(D){x=D,A||(A=!0,q())}function we(D,Z){P=w(function(){D(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,ve(C))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(d){case 1:case 2:case 3:var Z=3;break;default:Z=d}var ne=d;d=Z;try{return D()}finally{d=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,Z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var ne=d;d=D;try{return Z()}finally{d=ne}},t.unstable_scheduleCallback=function(D,Z,ne){var he=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?he+ne:he):ne=he,D){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ne+ke,D={id:c++,callback:Z,priorityLevel:D,startTime:ne,expirationTime:ke,sortIndex:-1},ne>he?(D.sortIndex=ne,e(u,D),n(l)===null&&D===n(u)&&(v?(g(P),P=-1):v=!0,we(b,ne-he))):(D.sortIndex=ke,e(l,D),m||f||(m=!0,ve(C))),D},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(D){var Z=d;return function(){var ne=d;d=Z;try{return D.apply(this,arguments)}finally{d=ne}}}})(fy);dy.exports=fy;var R1=dy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1=y,nn=R1;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var py=new Set,jo={};function Si(t,e){hs(t,e),hs(t+"Capture",e)}function hs(t,e){for(jo[t]=e,t=0;t<e.length;t++)py.add(e[t])}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ch=Object.prototype.hasOwnProperty,N1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vp={},Up={};function M1(t){return Ch.call(Up,t)?!0:Ch.call(Vp,t)?!1:N1.test(t)?Up[t]=!0:(Vp[t]=!0,!1)}function O1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function A1(t,e,n,r){if(e===null||typeof e>"u"||O1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function It(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xt[t]=new It(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xt[e]=new It(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xt[t]=new It(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xt[t]=new It(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xt[t]=new It(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xt[t]=new It(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xt[t]=new It(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xt[t]=new It(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xt[t]=new It(t,5,!1,t.toLowerCase(),null,!1,!1)});var sf=/[\-:]([a-z])/g;function of(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sf,of);xt[e]=new It(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sf,of);xt[e]=new It(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sf,of);xt[e]=new It(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xt[t]=new It(t,1,!1,t.toLowerCase(),null,!1,!1)});xt.xlinkHref=new It("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xt[t]=new It(t,1,!1,t.toLowerCase(),null,!0,!0)});function af(t,e,n,r){var i=xt.hasOwnProperty(e)?xt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(A1(e,n,i,r)&&(n=null),r||i===null?M1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ur=P1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ma=Symbol.for("react.element"),Fi=Symbol.for("react.portal"),Vi=Symbol.for("react.fragment"),lf=Symbol.for("react.strict_mode"),Th=Symbol.for("react.profiler"),my=Symbol.for("react.provider"),vy=Symbol.for("react.context"),uf=Symbol.for("react.forward_ref"),Rh=Symbol.for("react.suspense"),Ph=Symbol.for("react.suspense_list"),cf=Symbol.for("react.memo"),xr=Symbol.for("react.lazy"),gy=Symbol.for("react.offscreen"),Bp=Symbol.iterator;function Us(t){return t===null||typeof t!="object"?null:(t=Bp&&t[Bp]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,xc;function so(t){if(xc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xc=e&&e[1]||""}return`
`+xc+t}var bc=!1;function Sc(t,e){if(!t||bc)return"";bc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{bc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?so(t):""}function L1(t){switch(t.tag){case 5:return so(t.type);case 16:return so("Lazy");case 13:return so("Suspense");case 19:return so("SuspenseList");case 0:case 2:case 15:return t=Sc(t.type,!1),t;case 11:return t=Sc(t.type.render,!1),t;case 1:return t=Sc(t.type,!0),t;default:return""}}function Nh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vi:return"Fragment";case Fi:return"Portal";case Th:return"Profiler";case lf:return"StrictMode";case Rh:return"Suspense";case Ph:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vy:return(t.displayName||"Context")+".Consumer";case my:return(t._context.displayName||"Context")+".Provider";case uf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cf:return e=t.displayName||null,e!==null?e:Nh(t.type)||"Memo";case xr:e=t._payload,t=t._init;try{return Nh(t(e))}catch{}}return null}function D1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nh(e);case 8:return e===lf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function j1(t){var e=yy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Oa(t){t._valueTracker||(t._valueTracker=j1(t))}function wy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function El(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mh(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Wp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _y(t,e){e=e.checked,e!=null&&af(t,"checked",e,!1)}function Oh(t,e){_y(t,e);var n=Vr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ah(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ah(t,e.type,Vr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Hp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ah(t,e,n){(e!=="number"||El(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var oo=Array.isArray;function es(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Lh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(oo(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vr(n)}}function xy(t,e){var n=Vr(e.value),r=Vr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Qp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function by(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?by(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Aa,Sy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Aa=Aa||document.createElement("div"),Aa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Aa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Io(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I1=["Webkit","ms","Moz","O"];Object.keys(vo).forEach(function(t){I1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vo[e]=vo[t]})});function ky(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vo.hasOwnProperty(t)&&vo[t]?(""+e).trim():e+"px"}function Ey(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ky(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var z1=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jh(t,e){if(e){if(z1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Ih(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zh=null;function hf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $h=null,ts=null,ns=null;function Kp(t){if(t=ca(t)){if(typeof $h!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Lu(e),$h(t.stateNode,t.type,e))}}function Cy(t){ts?ns?ns.push(t):ns=[t]:ts=t}function Ty(){if(ts){var t=ts,e=ns;if(ns=ts=null,Kp(t),e)for(t=0;t<e.length;t++)Kp(e[t])}}function Ry(t,e){return t(e)}function Py(){}var kc=!1;function Ny(t,e,n){if(kc)return t(e,n);kc=!0;try{return Ry(t,e,n)}finally{kc=!1,(ts!==null||ns!==null)&&(Py(),Ty())}}function zo(t,e){var n=t.stateNode;if(n===null)return null;var r=Lu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Fh=!1;if(rr)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){Fh=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{Fh=!1}function $1(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var go=!1,Cl=null,Tl=!1,Vh=null,F1={onError:function(t){go=!0,Cl=t}};function V1(t,e,n,r,i,s,o,a,l){go=!1,Cl=null,$1.apply(F1,arguments)}function U1(t,e,n,r,i,s,o,a,l){if(V1.apply(this,arguments),go){if(go){var u=Cl;go=!1,Cl=null}else throw Error(z(198));Tl||(Tl=!0,Vh=u)}}function ki(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function My(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zp(t){if(ki(t)!==t)throw Error(z(188))}function B1(t){var e=t.alternate;if(!e){if(e=ki(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Zp(i),t;if(s===r)return Zp(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function Oy(t){return t=B1(t),t!==null?Ay(t):null}function Ay(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ay(t);if(e!==null)return e;t=t.sibling}return null}var Ly=nn.unstable_scheduleCallback,Jp=nn.unstable_cancelCallback,W1=nn.unstable_shouldYield,H1=nn.unstable_requestPaint,Ge=nn.unstable_now,Y1=nn.unstable_getCurrentPriorityLevel,df=nn.unstable_ImmediatePriority,Dy=nn.unstable_UserBlockingPriority,Rl=nn.unstable_NormalPriority,Q1=nn.unstable_LowPriority,jy=nn.unstable_IdlePriority,Nu=null,jn=null;function K1(t){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(Nu,t,void 0,(t.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:X1,Z1=Math.log,J1=Math.LN2;function X1(t){return t>>>=0,t===0?32:31-(Z1(t)/J1|0)|0}var La=64,Da=4194304;function ao(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ao(a):(s&=o,s!==0&&(r=ao(s)))}else o=n&~i,o!==0?r=ao(o):s!==0&&(r=ao(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cn(e),i=1<<n,r|=t[n],e&=~i;return r}function G1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Cn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=G1(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Uh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Iy(){var t=La;return La<<=1,!(La&4194240)&&(La=64),t}function Ec(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function la(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cn(e),t[e]=n}function eb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Cn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ff(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Oe=0;function zy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $y,pf,Fy,Vy,Uy,Bh=!1,ja=[],Or=null,Ar=null,Lr=null,$o=new Map,Fo=new Map,kr=[],tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xp(t,e){switch(t){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":$o.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(e.pointerId)}}function Ws(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ca(e),e!==null&&pf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function nb(t,e,n,r,i){switch(e){case"focusin":return Or=Ws(Or,t,e,n,r,i),!0;case"dragenter":return Ar=Ws(Ar,t,e,n,r,i),!0;case"mouseover":return Lr=Ws(Lr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return $o.set(s,Ws($o.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Fo.set(s,Ws(Fo.get(s)||null,t,e,n,r,i)),!0}return!1}function By(t){var e=ii(t.target);if(e!==null){var n=ki(e);if(n!==null){if(e=n.tag,e===13){if(e=My(n),e!==null){t.blockedOn=e,Uy(t.priority,function(){Fy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zh=r,n.target.dispatchEvent(r),zh=null}else return e=ca(n),e!==null&&pf(e),t.blockedOn=n,!1;e.shift()}return!0}function Gp(t,e,n){cl(t)&&n.delete(e)}function rb(){Bh=!1,Or!==null&&cl(Or)&&(Or=null),Ar!==null&&cl(Ar)&&(Ar=null),Lr!==null&&cl(Lr)&&(Lr=null),$o.forEach(Gp),Fo.forEach(Gp)}function Hs(t,e){t.blockedOn===e&&(t.blockedOn=null,Bh||(Bh=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,rb)))}function Vo(t){function e(i){return Hs(i,t)}if(0<ja.length){Hs(ja[0],t);for(var n=1;n<ja.length;n++){var r=ja[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Or!==null&&Hs(Or,t),Ar!==null&&Hs(Ar,t),Lr!==null&&Hs(Lr,t),$o.forEach(e),Fo.forEach(e),n=0;n<kr.length;n++)r=kr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<kr.length&&(n=kr[0],n.blockedOn===null);)By(n),n.blockedOn===null&&kr.shift()}var rs=ur.ReactCurrentBatchConfig,Nl=!0;function ib(t,e,n,r){var i=Oe,s=rs.transition;rs.transition=null;try{Oe=1,mf(t,e,n,r)}finally{Oe=i,rs.transition=s}}function sb(t,e,n,r){var i=Oe,s=rs.transition;rs.transition=null;try{Oe=4,mf(t,e,n,r)}finally{Oe=i,rs.transition=s}}function mf(t,e,n,r){if(Nl){var i=Wh(t,e,n,r);if(i===null)Dc(t,e,r,Ml,n),Xp(t,r);else if(nb(i,t,e,n,r))r.stopPropagation();else if(Xp(t,r),e&4&&-1<tb.indexOf(t)){for(;i!==null;){var s=ca(i);if(s!==null&&$y(s),s=Wh(t,e,n,r),s===null&&Dc(t,e,r,Ml,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Dc(t,e,r,null,n)}}var Ml=null;function Wh(t,e,n,r){if(Ml=null,t=hf(r),t=ii(t),t!==null)if(e=ki(t),e===null)t=null;else if(n=e.tag,n===13){if(t=My(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ml=t,null}function Wy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y1()){case df:return 1;case Dy:return 4;case Rl:case Q1:return 16;case jy:return 536870912;default:return 16}default:return 16}}var Rr=null,vf=null,hl=null;function Hy(){if(hl)return hl;var t,e=vf,n=e.length,r,i="value"in Rr?Rr.value:Rr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return hl=i.slice(t,1<r?1-r:void 0)}function dl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ia(){return!0}function qp(){return!1}function on(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ia:qp,this.isPropagationStopped=qp,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ia)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ia)},persist:function(){},isPersistent:Ia}),e}var Ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gf=on(Ns),ua=We({},Ns,{view:0,detail:0}),ob=on(ua),Cc,Tc,Ys,Mu=We({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ys&&(Ys&&t.type==="mousemove"?(Cc=t.screenX-Ys.screenX,Tc=t.screenY-Ys.screenY):Tc=Cc=0,Ys=t),Cc)},movementY:function(t){return"movementY"in t?t.movementY:Tc}}),em=on(Mu),ab=We({},Mu,{dataTransfer:0}),lb=on(ab),ub=We({},ua,{relatedTarget:0}),Rc=on(ub),cb=We({},Ns,{animationName:0,elapsedTime:0,pseudoElement:0}),hb=on(cb),db=We({},Ns,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fb=on(db),pb=We({},Ns,{data:0}),tm=on(pb),mb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gb[t])?!!e[t]:!1}function yf(){return yb}var wb=We({},ua,{key:function(t){if(t.key){var e=mb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yf,charCode:function(t){return t.type==="keypress"?dl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_b=on(wb),xb=We({},Mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nm=on(xb),bb=We({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yf}),Sb=on(bb),kb=We({},Ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eb=on(kb),Cb=We({},Mu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Tb=on(Cb),Rb=[9,13,27,32],wf=rr&&"CompositionEvent"in window,yo=null;rr&&"documentMode"in document&&(yo=document.documentMode);var Pb=rr&&"TextEvent"in window&&!yo,Yy=rr&&(!wf||yo&&8<yo&&11>=yo),rm=" ",im=!1;function Qy(t,e){switch(t){case"keyup":return Rb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ky(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ui=!1;function Nb(t,e){switch(t){case"compositionend":return Ky(e);case"keypress":return e.which!==32?null:(im=!0,rm);case"textInput":return t=e.data,t===rm&&im?null:t;default:return null}}function Mb(t,e){if(Ui)return t==="compositionend"||!wf&&Qy(t,e)?(t=Hy(),hl=vf=Rr=null,Ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Yy&&e.locale!=="ko"?null:e.data;default:return null}}var Ob={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ob[t.type]:e==="textarea"}function Zy(t,e,n,r){Cy(r),e=Ol(e,"onChange"),0<e.length&&(n=new gf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wo=null,Uo=null;function Ab(t){o0(t,0)}function Ou(t){var e=Hi(t);if(wy(e))return t}function Lb(t,e){if(t==="change")return e}var Jy=!1;if(rr){var Pc;if(rr){var Nc="oninput"in document;if(!Nc){var om=document.createElement("div");om.setAttribute("oninput","return;"),Nc=typeof om.oninput=="function"}Pc=Nc}else Pc=!1;Jy=Pc&&(!document.documentMode||9<document.documentMode)}function am(){wo&&(wo.detachEvent("onpropertychange",Xy),Uo=wo=null)}function Xy(t){if(t.propertyName==="value"&&Ou(Uo)){var e=[];Zy(e,Uo,t,hf(t)),Ny(Ab,e)}}function Db(t,e,n){t==="focusin"?(am(),wo=e,Uo=n,wo.attachEvent("onpropertychange",Xy)):t==="focusout"&&am()}function jb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(Uo)}function Ib(t,e){if(t==="click")return Ou(e)}function zb(t,e){if(t==="input"||t==="change")return Ou(e)}function $b(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rn=typeof Object.is=="function"?Object.is:$b;function Bo(t,e){if(Rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ch.call(e,i)||!Rn(t[i],e[i]))return!1}return!0}function lm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function um(t,e){var n=lm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lm(n)}}function Gy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Gy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qy(){for(var t=window,e=El();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=El(t.document)}return e}function _f(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Fb(t){var e=qy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Gy(n.ownerDocument.documentElement,n)){if(r!==null&&_f(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=um(n,s);var o=um(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Vb=rr&&"documentMode"in document&&11>=document.documentMode,Bi=null,Hh=null,_o=null,Yh=!1;function cm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yh||Bi==null||Bi!==El(r)||(r=Bi,"selectionStart"in r&&_f(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_o&&Bo(_o,r)||(_o=r,r=Ol(Hh,"onSelect"),0<r.length&&(e=new gf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bi)))}function za(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wi={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionend:za("Transition","TransitionEnd")},Mc={},e0={};rr&&(e0=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function Au(t){if(Mc[t])return Mc[t];if(!Wi[t])return t;var e=Wi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in e0)return Mc[t]=e[n];return t}var t0=Au("animationend"),n0=Au("animationiteration"),r0=Au("animationstart"),i0=Au("transitionend"),s0=new Map,hm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(t,e){s0.set(t,e),Si(e,[t])}for(var Oc=0;Oc<hm.length;Oc++){var Ac=hm[Oc],Ub=Ac.toLowerCase(),Bb=Ac[0].toUpperCase()+Ac.slice(1);Wr(Ub,"on"+Bb)}Wr(t0,"onAnimationEnd");Wr(n0,"onAnimationIteration");Wr(r0,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(i0,"onTransitionEnd");hs("onMouseEnter",["mouseout","mouseover"]);hs("onMouseLeave",["mouseout","mouseover"]);hs("onPointerEnter",["pointerout","pointerover"]);hs("onPointerLeave",["pointerout","pointerover"]);Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Si("onBeforeInput",["compositionend","keypress","textInput","paste"]);Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wb=new Set("cancel close invalid load scroll toggle".split(" ").concat(lo));function dm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,U1(r,e,void 0,t),t.currentTarget=null}function o0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;dm(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;dm(i,a,u),s=l}}}if(Tl)throw t=Vh,Tl=!1,Vh=null,t}function ze(t,e){var n=e[Xh];n===void 0&&(n=e[Xh]=new Set);var r=t+"__bubble";n.has(r)||(a0(e,t,2,!1),n.add(r))}function Lc(t,e,n){var r=0;e&&(r|=4),a0(n,t,r,e)}var $a="_reactListening"+Math.random().toString(36).slice(2);function Wo(t){if(!t[$a]){t[$a]=!0,py.forEach(function(n){n!=="selectionchange"&&(Wb.has(n)||Lc(n,!1,t),Lc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$a]||(e[$a]=!0,Lc("selectionchange",!1,e))}}function a0(t,e,n,r){switch(Wy(e)){case 1:var i=ib;break;case 4:i=sb;break;default:i=mf}n=i.bind(null,e,n,t),i=void 0,!Fh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dc(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ii(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Ny(function(){var u=s,c=hf(n),h=[];e:{var d=s0.get(t);if(d!==void 0){var f=gf,m=t;switch(t){case"keypress":if(dl(n)===0)break e;case"keydown":case"keyup":f=_b;break;case"focusin":m="focus",f=Rc;break;case"focusout":m="blur",f=Rc;break;case"beforeblur":case"afterblur":f=Rc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=lb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Sb;break;case t0:case n0:case r0:f=hb;break;case i0:f=Eb;break;case"scroll":f=ob;break;case"wheel":f=Tb;break;case"copy":case"cut":case"paste":f=fb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=nm}var v=(e&4)!==0,w=!v&&t==="scroll",g=v?d!==null?d+"Capture":null:d;v=[];for(var p=u,_;p!==null;){_=p;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,g!==null&&(b=zo(p,g),b!=null&&v.push(Ho(p,b,_)))),w)break;p=p.return}0<v.length&&(d=new f(d,m,null,n,c),h.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==zh&&(m=n.relatedTarget||n.fromElement)&&(ii(m)||m[ir]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=u,m=m?ii(m):null,m!==null&&(w=ki(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(v=em,b="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=nm,b="onPointerLeave",g="onPointerEnter",p="pointer"),w=f==null?d:Hi(f),_=m==null?d:Hi(m),d=new v(b,p+"leave",f,n,c),d.target=w,d.relatedTarget=_,b=null,ii(c)===u&&(v=new v(g,p+"enter",m,n,c),v.target=_,v.relatedTarget=w,b=v),w=b,f&&m)t:{for(v=f,g=m,p=0,_=v;_;_=Mi(_))p++;for(_=0,b=g;b;b=Mi(b))_++;for(;0<p-_;)v=Mi(v),p--;for(;0<_-p;)g=Mi(g),_--;for(;p--;){if(v===g||g!==null&&v===g.alternate)break t;v=Mi(v),g=Mi(g)}v=null}else v=null;f!==null&&fm(h,d,f,v,!1),m!==null&&w!==null&&fm(h,w,m,v,!0)}}e:{if(d=u?Hi(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var C=Lb;else if(sm(d))if(Jy)C=zb;else{C=jb;var A=Db}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=Ib);if(C&&(C=C(t,u))){Zy(h,C,n,c);break e}A&&A(t,d,u),t==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&Ah(d,"number",d.value)}switch(A=u?Hi(u):window,t){case"focusin":(sm(A)||A.contentEditable==="true")&&(Bi=A,Hh=u,_o=null);break;case"focusout":_o=Hh=Bi=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,cm(h,n,c);break;case"selectionchange":if(Vb)break;case"keydown":case"keyup":cm(h,n,c)}var x;if(wf)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ui?Qy(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Yy&&n.locale!=="ko"&&(Ui||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ui&&(x=Hy()):(Rr=c,vf="value"in Rr?Rr.value:Rr.textContent,Ui=!0)),A=Ol(u,P),0<A.length&&(P=new tm(P,t,null,n,c),h.push({event:P,listeners:A}),x?P.data=x:(x=Ky(n),x!==null&&(P.data=x)))),(x=Pb?Nb(t,n):Mb(t,n))&&(u=Ol(u,"onBeforeInput"),0<u.length&&(c=new tm("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=x))}o0(h,e)})}function Ho(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ol(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zo(t,n),s!=null&&r.unshift(Ho(t,s,i)),s=zo(t,e),s!=null&&r.push(Ho(t,s,i))),t=t.return}return r}function Mi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fm(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=zo(n,s),l!=null&&o.unshift(Ho(n,l,a))):i||(l=zo(n,s),l!=null&&o.push(Ho(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Hb=/\r\n?/g,Yb=/\u0000|\uFFFD/g;function pm(t){return(typeof t=="string"?t:""+t).replace(Hb,`
`).replace(Yb,"")}function Fa(t,e,n){if(e=pm(e),pm(t)!==e&&n)throw Error(z(425))}function Al(){}var Qh=null,Kh=null;function Zh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jh=typeof setTimeout=="function"?setTimeout:void 0,Qb=typeof clearTimeout=="function"?clearTimeout:void 0,mm=typeof Promise=="function"?Promise:void 0,Kb=typeof queueMicrotask=="function"?queueMicrotask:typeof mm<"u"?function(t){return mm.resolve(null).then(t).catch(Zb)}:Jh;function Zb(t){setTimeout(function(){throw t})}function jc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Vo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vo(e)}function Dr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ms=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Ms,Yo="__reactProps$"+Ms,ir="__reactContainer$"+Ms,Xh="__reactEvents$"+Ms,Jb="__reactListeners$"+Ms,Xb="__reactHandles$"+Ms;function ii(t){var e=t[Ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ir]||n[Ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vm(t);t!==null;){if(n=t[Ln])return n;t=vm(t)}return e}t=n,n=t.parentNode}return null}function ca(t){return t=t[Ln]||t[ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Lu(t){return t[Yo]||null}var Gh=[],Yi=-1;function Hr(t){return{current:t}}function $e(t){0>Yi||(t.current=Gh[Yi],Gh[Yi]=null,Yi--)}function je(t,e){Yi++,Gh[Yi]=t.current,t.current=e}var Ur={},Rt=Hr(Ur),Ht=Hr(!1),di=Ur;function ds(t,e){var n=t.type.contextTypes;if(!n)return Ur;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Yt(t){return t=t.childContextTypes,t!=null}function Ll(){$e(Ht),$e(Rt)}function gm(t,e,n){if(Rt.current!==Ur)throw Error(z(168));je(Rt,e),je(Ht,n)}function l0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,D1(t)||"Unknown",i));return We({},n,r)}function Dl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ur,di=Rt.current,je(Rt,t),je(Ht,Ht.current),!0}function ym(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=l0(t,e,di),r.__reactInternalMemoizedMergedChildContext=t,$e(Ht),$e(Rt),je(Rt,t)):$e(Ht),je(Ht,n)}var Kn=null,Du=!1,Ic=!1;function u0(t){Kn===null?Kn=[t]:Kn.push(t)}function Gb(t){Du=!0,u0(t)}function Yr(){if(!Ic&&Kn!==null){Ic=!0;var t=0,e=Oe;try{var n=Kn;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kn=null,Du=!1}catch(i){throw Kn!==null&&(Kn=Kn.slice(t+1)),Ly(df,Yr),i}finally{Oe=e,Ic=!1}}return null}var Qi=[],Ki=0,jl=null,Il=0,ln=[],un=0,fi=null,Zn=1,Jn="";function Xr(t,e){Qi[Ki++]=Il,Qi[Ki++]=jl,jl=t,Il=e}function c0(t,e,n){ln[un++]=Zn,ln[un++]=Jn,ln[un++]=fi,fi=t;var r=Zn;t=Jn;var i=32-Cn(r)-1;r&=~(1<<i),n+=1;var s=32-Cn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Zn=1<<32-Cn(e)+i|n<<i|r,Jn=s+t}else Zn=1<<s|n<<i|r,Jn=t}function xf(t){t.return!==null&&(Xr(t,1),c0(t,1,0))}function bf(t){for(;t===jl;)jl=Qi[--Ki],Qi[Ki]=null,Il=Qi[--Ki],Qi[Ki]=null;for(;t===fi;)fi=ln[--un],ln[un]=null,Jn=ln[--un],ln[un]=null,Zn=ln[--un],ln[un]=null}var en=null,qt=null,Ve=!1,kn=null;function h0(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,en=t,qt=Dr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,en=t,qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fi!==null?{id:Zn,overflow:Jn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,en=t,qt=null,!0):!1;default:return!1}}function qh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ed(t){if(Ve){var e=qt;if(e){var n=e;if(!wm(t,e)){if(qh(t))throw Error(z(418));e=Dr(n.nextSibling);var r=en;e&&wm(t,e)?h0(r,n):(t.flags=t.flags&-4097|2,Ve=!1,en=t)}}else{if(qh(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ve=!1,en=t}}}function _m(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function Va(t){if(t!==en)return!1;if(!Ve)return _m(t),Ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zh(t.type,t.memoizedProps)),e&&(e=qt)){if(qh(t))throw d0(),Error(z(418));for(;e;)h0(t,e),e=Dr(e.nextSibling)}if(_m(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qt=Dr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qt=null}}else qt=en?Dr(t.stateNode.nextSibling):null;return!0}function d0(){for(var t=qt;t;)t=Dr(t.nextSibling)}function fs(){qt=en=null,Ve=!1}function Sf(t){kn===null?kn=[t]:kn.push(t)}var qb=ur.ReactCurrentBatchConfig;function Qs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Ua(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xm(t){var e=t._init;return e(t._payload)}function f0(t){function e(g,p){if(t){var _=g.deletions;_===null?(g.deletions=[p],g.flags|=16):_.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=$r(g,p),g.index=0,g.sibling=null,g}function s(g,p,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<p?(g.flags|=2,p):_):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,_,b){return p===null||p.tag!==6?(p=Wc(_,g.mode,b),p.return=g,p):(p=i(p,_),p.return=g,p)}function l(g,p,_,b){var C=_.type;return C===Vi?c(g,p,_.props.children,b,_.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===xr&&xm(C)===p.type)?(b=i(p,_.props),b.ref=Qs(g,p,_),b.return=g,b):(b=wl(_.type,_.key,_.props,null,g.mode,b),b.ref=Qs(g,p,_),b.return=g,b)}function u(g,p,_,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=Hc(_,g.mode,b),p.return=g,p):(p=i(p,_.children||[]),p.return=g,p)}function c(g,p,_,b,C){return p===null||p.tag!==7?(p=ci(_,g.mode,b,C),p.return=g,p):(p=i(p,_),p.return=g,p)}function h(g,p,_){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Wc(""+p,g.mode,_),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ma:return _=wl(p.type,p.key,p.props,null,g.mode,_),_.ref=Qs(g,null,p),_.return=g,_;case Fi:return p=Hc(p,g.mode,_),p.return=g,p;case xr:var b=p._init;return h(g,b(p._payload),_)}if(oo(p)||Us(p))return p=ci(p,g.mode,_,null),p.return=g,p;Ua(g,p)}return null}function d(g,p,_,b){var C=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return C!==null?null:a(g,p,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ma:return _.key===C?l(g,p,_,b):null;case Fi:return _.key===C?u(g,p,_,b):null;case xr:return C=_._init,d(g,p,C(_._payload),b)}if(oo(_)||Us(_))return C!==null?null:c(g,p,_,b,null);Ua(g,_)}return null}function f(g,p,_,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(_)||null,a(p,g,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ma:return g=g.get(b.key===null?_:b.key)||null,l(p,g,b,C);case Fi:return g=g.get(b.key===null?_:b.key)||null,u(p,g,b,C);case xr:var A=b._init;return f(g,p,_,A(b._payload),C)}if(oo(b)||Us(b))return g=g.get(_)||null,c(p,g,b,C,null);Ua(p,b)}return null}function m(g,p,_,b){for(var C=null,A=null,x=p,P=p=0,L=null;x!==null&&P<_.length;P++){x.index>P?(L=x,x=null):L=x.sibling;var O=d(g,x,_[P],b);if(O===null){x===null&&(x=L);break}t&&x&&O.alternate===null&&e(g,x),p=s(O,p,P),A===null?C=O:A.sibling=O,A=O,x=L}if(P===_.length)return n(g,x),Ve&&Xr(g,P),C;if(x===null){for(;P<_.length;P++)x=h(g,_[P],b),x!==null&&(p=s(x,p,P),A===null?C=x:A.sibling=x,A=x);return Ve&&Xr(g,P),C}for(x=r(g,x);P<_.length;P++)L=f(x,g,P,_[P],b),L!==null&&(t&&L.alternate!==null&&x.delete(L.key===null?P:L.key),p=s(L,p,P),A===null?C=L:A.sibling=L,A=L);return t&&x.forEach(function(oe){return e(g,oe)}),Ve&&Xr(g,P),C}function v(g,p,_,b){var C=Us(_);if(typeof C!="function")throw Error(z(150));if(_=C.call(_),_==null)throw Error(z(151));for(var A=C=null,x=p,P=p=0,L=null,O=_.next();x!==null&&!O.done;P++,O=_.next()){x.index>P?(L=x,x=null):L=x.sibling;var oe=d(g,x,O.value,b);if(oe===null){x===null&&(x=L);break}t&&x&&oe.alternate===null&&e(g,x),p=s(oe,p,P),A===null?C=oe:A.sibling=oe,A=oe,x=L}if(O.done)return n(g,x),Ve&&Xr(g,P),C;if(x===null){for(;!O.done;P++,O=_.next())O=h(g,O.value,b),O!==null&&(p=s(O,p,P),A===null?C=O:A.sibling=O,A=O);return Ve&&Xr(g,P),C}for(x=r(g,x);!O.done;P++,O=_.next())O=f(x,g,P,O.value,b),O!==null&&(t&&O.alternate!==null&&x.delete(O.key===null?P:O.key),p=s(O,p,P),A===null?C=O:A.sibling=O,A=O);return t&&x.forEach(function(j){return e(g,j)}),Ve&&Xr(g,P),C}function w(g,p,_,b){if(typeof _=="object"&&_!==null&&_.type===Vi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ma:e:{for(var C=_.key,A=p;A!==null;){if(A.key===C){if(C=_.type,C===Vi){if(A.tag===7){n(g,A.sibling),p=i(A,_.props.children),p.return=g,g=p;break e}}else if(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===xr&&xm(C)===A.type){n(g,A.sibling),p=i(A,_.props),p.ref=Qs(g,A,_),p.return=g,g=p;break e}n(g,A);break}else e(g,A);A=A.sibling}_.type===Vi?(p=ci(_.props.children,g.mode,b,_.key),p.return=g,g=p):(b=wl(_.type,_.key,_.props,null,g.mode,b),b.ref=Qs(g,p,_),b.return=g,g=b)}return o(g);case Fi:e:{for(A=_.key;p!==null;){if(p.key===A)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){n(g,p.sibling),p=i(p,_.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Hc(_,g.mode,b),p.return=g,g=p}return o(g);case xr:return A=_._init,w(g,p,A(_._payload),b)}if(oo(_))return m(g,p,_,b);if(Us(_))return v(g,p,_,b);Ua(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,_),p.return=g,g=p):(n(g,p),p=Wc(_,g.mode,b),p.return=g,g=p),o(g)):n(g,p)}return w}var ps=f0(!0),p0=f0(!1),zl=Hr(null),$l=null,Zi=null,kf=null;function Ef(){kf=Zi=$l=null}function Cf(t){var e=zl.current;$e(zl),t._currentValue=e}function td(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function is(t,e){$l=t,kf=Zi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wt=!0),t.firstContext=null)}function pn(t){var e=t._currentValue;if(kf!==t)if(t={context:t,memoizedValue:e,next:null},Zi===null){if($l===null)throw Error(z(308));Zi=t,$l.dependencies={lanes:0,firstContext:t}}else Zi=Zi.next=t;return e}var si=null;function Tf(t){si===null?si=[t]:si.push(t)}function m0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Tf(e)):(n.next=i.next,i.next=n),e.interleaved=n,sr(t,r)}function sr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var br=!1;function Rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function v0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,sr(t,n)}return i=r.interleaved,i===null?(e.next=e,Tf(r)):(e.next=i.next,i.next=e),r.interleaved=e,sr(t,n)}function fl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ff(t,n)}}function bm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fl(t,e,n,r){var i=t.updateQueue;br=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(d=e,f=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){h=m.call(f,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,d=typeof m=="function"?m.call(f,h,d):m,d==null)break e;h=We({},h,d);break e;case 2:br=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);mi|=o,t.lanes=o,t.memoizedState=h}}function Sm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var ha={},In=Hr(ha),Qo=Hr(ha),Ko=Hr(ha);function oi(t){if(t===ha)throw Error(z(174));return t}function Pf(t,e){switch(je(Ko,e),je(Qo,t),je(In,ha),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dh(e,t)}$e(In),je(In,e)}function ms(){$e(In),$e(Qo),$e(Ko)}function g0(t){oi(Ko.current);var e=oi(In.current),n=Dh(e,t.type);e!==n&&(je(Qo,t),je(In,n))}function Nf(t){Qo.current===t&&($e(In),$e(Qo))}var Ue=Hr(0);function Vl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zc=[];function Mf(){for(var t=0;t<zc.length;t++)zc[t]._workInProgressVersionPrimary=null;zc.length=0}var pl=ur.ReactCurrentDispatcher,$c=ur.ReactCurrentBatchConfig,pi=0,Be=null,ut=null,ft=null,Ul=!1,xo=!1,Zo=0,eS=0;function St(){throw Error(z(321))}function Of(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rn(t[n],e[n]))return!1;return!0}function Af(t,e,n,r,i,s){if(pi=s,Be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pl.current=t===null||t.memoizedState===null?iS:sS,t=n(r,i),xo){s=0;do{if(xo=!1,Zo=0,25<=s)throw Error(z(301));s+=1,ft=ut=null,e.updateQueue=null,pl.current=oS,t=n(r,i)}while(xo)}if(pl.current=Bl,e=ut!==null&&ut.next!==null,pi=0,ft=ut=Be=null,Ul=!1,e)throw Error(z(300));return t}function Lf(){var t=Zo!==0;return Zo=0,t}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Be.memoizedState=ft=t:ft=ft.next=t,ft}function mn(){if(ut===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=ft===null?Be.memoizedState:ft.next;if(e!==null)ft=e,ut=t;else{if(t===null)throw Error(z(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},ft===null?Be.memoizedState=ft=t:ft=ft.next=t}return ft}function Jo(t,e){return typeof e=="function"?e(t):e}function Fc(t){var e=mn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=ut,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((pi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Be.lanes|=c,mi|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Rn(r,e.memoizedState)||(Wt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Be.lanes|=s,mi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vc(t){var e=mn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Rn(s,e.memoizedState)||(Wt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function y0(){}function w0(t,e){var n=Be,r=mn(),i=e(),s=!Rn(r.memoizedState,i);if(s&&(r.memoizedState=i,Wt=!0),r=r.queue,Df(b0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,Xo(9,x0.bind(null,n,r,i,e),void 0,null),pt===null)throw Error(z(349));pi&30||_0(n,e,i)}return i}function _0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function x0(t,e,n,r){e.value=n,e.getSnapshot=r,S0(e)&&k0(t)}function b0(t,e,n){return n(function(){S0(e)&&k0(t)})}function S0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rn(t,n)}catch{return!0}}function k0(t){var e=sr(t,1);e!==null&&Tn(e,t,1,-1)}function km(t){var e=An();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:t},e.queue=t,t=t.dispatch=rS.bind(null,Be,t),[e.memoizedState,t]}function Xo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function E0(){return mn().memoizedState}function ml(t,e,n,r){var i=An();Be.flags|=t,i.memoizedState=Xo(1|e,n,void 0,r===void 0?null:r)}function ju(t,e,n,r){var i=mn();r=r===void 0?null:r;var s=void 0;if(ut!==null){var o=ut.memoizedState;if(s=o.destroy,r!==null&&Of(r,o.deps)){i.memoizedState=Xo(e,n,s,r);return}}Be.flags|=t,i.memoizedState=Xo(1|e,n,s,r)}function Em(t,e){return ml(8390656,8,t,e)}function Df(t,e){return ju(2048,8,t,e)}function C0(t,e){return ju(4,2,t,e)}function T0(t,e){return ju(4,4,t,e)}function R0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function P0(t,e,n){return n=n!=null?n.concat([t]):null,ju(4,4,R0.bind(null,e,t),n)}function jf(){}function N0(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Of(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function M0(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Of(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function O0(t,e,n){return pi&21?(Rn(n,e)||(n=Iy(),Be.lanes|=n,mi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=n)}function tS(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=$c.transition;$c.transition={};try{t(!1),e()}finally{Oe=n,$c.transition=r}}function A0(){return mn().memoizedState}function nS(t,e,n){var r=zr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},L0(t))D0(e,n);else if(n=m0(t,e,n,r),n!==null){var i=At();Tn(n,t,r,i),j0(n,e,r)}}function rS(t,e,n){var r=zr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(L0(t))D0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Rn(a,o)){var l=e.interleaved;l===null?(i.next=i,Tf(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=m0(t,e,i,r),n!==null&&(i=At(),Tn(n,t,r,i),j0(n,e,r))}}function L0(t){var e=t.alternate;return t===Be||e!==null&&e===Be}function D0(t,e){xo=Ul=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function j0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ff(t,n)}}var Bl={readContext:pn,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},iS={readContext:pn,useCallback:function(t,e){return An().memoizedState=[t,e===void 0?null:e],t},useContext:pn,useEffect:Em,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ml(4194308,4,R0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ml(4194308,4,t,e)},useInsertionEffect:function(t,e){return ml(4,2,t,e)},useMemo:function(t,e){var n=An();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=An();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nS.bind(null,Be,t),[r.memoizedState,t]},useRef:function(t){var e=An();return t={current:t},e.memoizedState=t},useState:km,useDebugValue:jf,useDeferredValue:function(t){return An().memoizedState=t},useTransition:function(){var t=km(!1),e=t[0];return t=tS.bind(null,t[1]),An().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Be,i=An();if(Ve){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),pt===null)throw Error(z(349));pi&30||_0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Em(b0.bind(null,r,s,t),[t]),r.flags|=2048,Xo(9,x0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=An(),e=pt.identifierPrefix;if(Ve){var n=Jn,r=Zn;n=(r&~(1<<32-Cn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=eS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sS={readContext:pn,useCallback:N0,useContext:pn,useEffect:Df,useImperativeHandle:P0,useInsertionEffect:C0,useLayoutEffect:T0,useMemo:M0,useReducer:Fc,useRef:E0,useState:function(){return Fc(Jo)},useDebugValue:jf,useDeferredValue:function(t){var e=mn();return O0(e,ut.memoizedState,t)},useTransition:function(){var t=Fc(Jo)[0],e=mn().memoizedState;return[t,e]},useMutableSource:y0,useSyncExternalStore:w0,useId:A0,unstable_isNewReconciler:!1},oS={readContext:pn,useCallback:N0,useContext:pn,useEffect:Df,useImperativeHandle:P0,useInsertionEffect:C0,useLayoutEffect:T0,useMemo:M0,useReducer:Vc,useRef:E0,useState:function(){return Vc(Jo)},useDebugValue:jf,useDeferredValue:function(t){var e=mn();return ut===null?e.memoizedState=t:O0(e,ut.memoizedState,t)},useTransition:function(){var t=Vc(Jo)[0],e=mn().memoizedState;return[t,e]},useMutableSource:y0,useSyncExternalStore:w0,useId:A0,unstable_isNewReconciler:!1};function _n(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function nd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Iu={isMounted:function(t){return(t=t._reactInternals)?ki(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=At(),i=zr(t),s=tr(r,i);s.payload=e,n!=null&&(s.callback=n),e=jr(t,s,i),e!==null&&(Tn(e,t,i,r),fl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=At(),i=zr(t),s=tr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=jr(t,s,i),e!==null&&(Tn(e,t,i,r),fl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=At(),r=zr(t),i=tr(n,r);i.tag=2,e!=null&&(i.callback=e),e=jr(t,i,r),e!==null&&(Tn(e,t,r,n),fl(e,t,r))}};function Cm(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Bo(n,r)||!Bo(i,s):!0}function I0(t,e,n){var r=!1,i=Ur,s=e.contextType;return typeof s=="object"&&s!==null?s=pn(s):(i=Yt(e)?di:Rt.current,r=e.contextTypes,s=(r=r!=null)?ds(t,i):Ur),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Iu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Tm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Iu.enqueueReplaceState(e,e.state,null)}function rd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Rf(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=pn(s):(s=Yt(e)?di:Rt.current,i.context=ds(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(nd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Iu.enqueueReplaceState(i,i.state,null),Fl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function vs(t,e){try{var n="",r=e;do n+=L1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Uc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function id(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var aS=typeof WeakMap=="function"?WeakMap:Map;function z0(t,e,n){n=tr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hl||(Hl=!0,pd=r),id(t,e)},n}function $0(t,e,n){n=tr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){id(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){id(t,e),typeof r!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Rm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new aS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=xS.bind(null,t,e,n),e.then(t,t))}function Pm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Nm(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=tr(-1,1),e.tag=2,jr(n,e,1))),n.lanes|=1),t)}var lS=ur.ReactCurrentOwner,Wt=!1;function Mt(t,e,n,r){e.child=t===null?p0(e,null,n,r):ps(e,t.child,n,r)}function Mm(t,e,n,r,i){n=n.render;var s=e.ref;return is(e,i),r=Af(t,e,n,r,s,i),n=Lf(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,or(t,e,i)):(Ve&&n&&xf(e),e.flags|=1,Mt(t,e,r,i),e.child)}function Om(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Wf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,F0(t,e,s,r,i)):(t=wl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Bo,n(o,r)&&t.ref===e.ref)return or(t,e,i)}return e.flags|=1,t=$r(s,r),t.ref=e.ref,t.return=e,e.child=t}function F0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Bo(s,r)&&t.ref===e.ref)if(Wt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Wt=!0);else return e.lanes=t.lanes,or(t,e,i)}return sd(t,e,n,r,i)}function V0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Xi,Xt),Xt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(Xi,Xt),Xt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,je(Xi,Xt),Xt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,je(Xi,Xt),Xt|=r;return Mt(t,e,i,n),e.child}function U0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sd(t,e,n,r,i){var s=Yt(n)?di:Rt.current;return s=ds(e,s),is(e,i),n=Af(t,e,n,r,s,i),r=Lf(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,or(t,e,i)):(Ve&&r&&xf(e),e.flags|=1,Mt(t,e,n,i),e.child)}function Am(t,e,n,r,i){if(Yt(n)){var s=!0;Dl(e)}else s=!1;if(is(e,i),e.stateNode===null)vl(t,e),I0(e,n,r),rd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=pn(u):(u=Yt(n)?di:Rt.current,u=ds(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Tm(e,o,r,u),br=!1;var d=e.memoizedState;o.state=d,Fl(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Ht.current||br?(typeof c=="function"&&(nd(e,n,c,r),l=e.memoizedState),(a=br||Cm(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,v0(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:_n(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=pn(l):(l=Yt(n)?di:Rt.current,l=ds(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Tm(e,o,r,l),br=!1,d=e.memoizedState,o.state=d,Fl(e,r,o,i);var m=e.memoizedState;a!==h||d!==m||Ht.current||br?(typeof f=="function"&&(nd(e,n,f,r),m=e.memoizedState),(u=br||Cm(e,n,u,r,d,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return od(t,e,n,r,s,i)}function od(t,e,n,r,i,s){U0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ym(e,n,!1),or(t,e,s);r=e.stateNode,lS.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ps(e,t.child,null,s),e.child=ps(e,null,a,s)):Mt(t,e,a,s),e.memoizedState=r.state,i&&ym(e,n,!0),e.child}function B0(t){var e=t.stateNode;e.pendingContext?gm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gm(t,e.context,!1),Pf(t,e.containerInfo)}function Lm(t,e,n,r,i){return fs(),Sf(i),e.flags|=256,Mt(t,e,n,r),e.child}var ad={dehydrated:null,treeContext:null,retryLane:0};function ld(t){return{baseLanes:t,cachePool:null,transitions:null}}function W0(t,e,n){var r=e.pendingProps,i=Ue.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),je(Ue,i&1),t===null)return ed(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Fu(o,r,0,null),t=ci(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ld(n),e.memoizedState=ad,t):If(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return uS(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$r(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=$r(a,s):(s=ci(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ld(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ad,r}return s=t.child,t=s.sibling,r=$r(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function If(t,e){return e=Fu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ba(t,e,n,r){return r!==null&&Sf(r),ps(e,t.child,null,n),t=If(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uS(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Uc(Error(z(422))),Ba(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Fu({mode:"visible",children:r.children},i,0,null),s=ci(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ps(e,t.child,null,o),e.child.memoizedState=ld(o),e.memoizedState=ad,s);if(!(e.mode&1))return Ba(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=Uc(s,r,void 0),Ba(t,e,o,r)}if(a=(o&t.childLanes)!==0,Wt||a){if(r=pt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,sr(t,i),Tn(r,t,i,-1))}return Bf(),r=Uc(Error(z(421))),Ba(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=bS.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,qt=Dr(i.nextSibling),en=e,Ve=!0,kn=null,t!==null&&(ln[un++]=Zn,ln[un++]=Jn,ln[un++]=fi,Zn=t.id,Jn=t.overflow,fi=e),e=If(e,r.children),e.flags|=4096,e)}function Dm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),td(t.return,e,n)}function Bc(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function H0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Mt(t,e,r.children,n),r=Ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dm(t,n,e);else if(t.tag===19)Dm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(Ue,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Vl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bc(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Vl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bc(e,!0,n,null,s);break;case"together":Bc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function or(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=$r(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$r(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function cS(t,e,n){switch(e.tag){case 3:B0(e),fs();break;case 5:g0(e);break;case 1:Yt(e.type)&&Dl(e);break;case 4:Pf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;je(zl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(Ue,Ue.current&1),e.flags|=128,null):n&e.child.childLanes?W0(t,e,n):(je(Ue,Ue.current&1),t=or(t,e,n),t!==null?t.sibling:null);je(Ue,Ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return H0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(Ue,Ue.current),r)break;return null;case 22:case 23:return e.lanes=0,V0(t,e,n)}return or(t,e,n)}var Y0,ud,Q0,K0;Y0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ud=function(){};Q0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,oi(In.current);var s=null;switch(n){case"input":i=Mh(t,i),r=Mh(t,r),s=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),s=[];break;case"textarea":i=Lh(t,i),r=Lh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Al)}jh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(jo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(jo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ze("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};K0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ks(t,e){if(!Ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function hS(t,e,n){var r=e.pendingProps;switch(bf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(e),null;case 1:return Yt(e.type)&&Ll(),kt(e),null;case 3:return r=e.stateNode,ms(),$e(Ht),$e(Rt),Mf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Va(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kn!==null&&(gd(kn),kn=null))),ud(t,e),kt(e),null;case 5:Nf(e);var i=oi(Ko.current);if(n=e.type,t!==null&&e.stateNode!=null)Q0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return kt(e),null}if(t=oi(In.current),Va(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ln]=e,r[Yo]=s,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<lo.length;i++)ze(lo[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":Wp(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":Yp(r,s),ze("invalid",r)}jh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Fa(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Fa(r.textContent,a,t),i=["children",""+a]):jo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":Oa(r),Hp(r,s,!0);break;case"textarea":Oa(r),Qp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Al)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=by(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ln]=e,t[Yo]=r,Y0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ih(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<lo.length;i++)ze(lo[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":Wp(t,r),i=Mh(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),ze("invalid",t);break;case"textarea":Yp(t,r),i=Lh(t,r),ze("invalid",t);break;default:i=r}jh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ey(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Sy(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Io(t,l):typeof l=="number"&&Io(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ze("scroll",t):l!=null&&af(t,s,l,o))}switch(n){case"input":Oa(t),Hp(t,r,!1);break;case"textarea":Oa(t),Qp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?es(t,!!r.multiple,s,!1):r.defaultValue!=null&&es(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Al)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kt(e),null;case 6:if(t&&e.stateNode!=null)K0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=oi(Ko.current),oi(In.current),Va(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ln]=e,(s=r.nodeValue!==n)&&(t=en,t!==null))switch(t.tag){case 3:Fa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fa(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ln]=e,e.stateNode=r}return kt(e),null;case 13:if($e(Ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ve&&qt!==null&&e.mode&1&&!(e.flags&128))d0(),fs(),e.flags|=98560,s=!1;else if(s=Va(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[Ln]=e}else fs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kt(e),s=!1}else kn!==null&&(gd(kn),kn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ue.current&1?ct===0&&(ct=3):Bf())),e.updateQueue!==null&&(e.flags|=4),kt(e),null);case 4:return ms(),ud(t,e),t===null&&Wo(e.stateNode.containerInfo),kt(e),null;case 10:return Cf(e.type._context),kt(e),null;case 17:return Yt(e.type)&&Ll(),kt(e),null;case 19:if($e(Ue),s=e.memoizedState,s===null)return kt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ks(s,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Vl(t),o!==null){for(e.flags|=128,Ks(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Ue,Ue.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ge()>gs&&(e.flags|=128,r=!0,Ks(s,!1),e.lanes=4194304)}else{if(!r)if(t=Vl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ks(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ve)return kt(e),null}else 2*Ge()-s.renderingStartTime>gs&&n!==1073741824&&(e.flags|=128,r=!0,Ks(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ge(),e.sibling=null,n=Ue.current,je(Ue,r?n&1|2:n&1),e):(kt(e),null);case 22:case 23:return Uf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xt&1073741824&&(kt(e),e.subtreeFlags&6&&(e.flags|=8192)):kt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function dS(t,e){switch(bf(e),e.tag){case 1:return Yt(e.type)&&Ll(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ms(),$e(Ht),$e(Rt),Mf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Nf(e),null;case 13:if($e(Ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));fs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(Ue),null;case 4:return ms(),null;case 10:return Cf(e.type._context),null;case 22:case 23:return Uf(),null;case 24:return null;default:return null}}var Wa=!1,Et=!1,fS=typeof WeakSet=="function"?WeakSet:Set,J=null;function Ji(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(t,e,r)}else n.current=null}function cd(t,e,n){try{n()}catch(r){Ze(t,e,r)}}var jm=!1;function pS(t,e){if(Qh=Nl,t=qy(),_f(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kh={focusedElem:t,selectionRange:n},Nl=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,w=m.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:_n(e.type,v),w);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(b){Ze(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return m=jm,jm=!1,m}function bo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&cd(e,n,s)}i=i.next}while(i!==r)}}function zu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function hd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Z0(t){var e=t.alternate;e!==null&&(t.alternate=null,Z0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ln],delete e[Yo],delete e[Xh],delete e[Jb],delete e[Xb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function J0(t){return t.tag===5||t.tag===3||t.tag===4}function Im(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||J0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Al));else if(r!==4&&(t=t.child,t!==null))for(dd(t,e,n),t=t.sibling;t!==null;)dd(t,e,n),t=t.sibling}function fd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fd(t,e,n),t=t.sibling;t!==null;)fd(t,e,n),t=t.sibling}var yt=null,xn=!1;function pr(t,e,n){for(n=n.child;n!==null;)X0(t,e,n),n=n.sibling}function X0(t,e,n){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(Nu,n)}catch{}switch(n.tag){case 5:Et||Ji(n,e);case 6:var r=yt,i=xn;yt=null,pr(t,e,n),yt=r,xn=i,yt!==null&&(xn?(t=yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(xn?(t=yt,n=n.stateNode,t.nodeType===8?jc(t.parentNode,n):t.nodeType===1&&jc(t,n),Vo(t)):jc(yt,n.stateNode));break;case 4:r=yt,i=xn,yt=n.stateNode.containerInfo,xn=!0,pr(t,e,n),yt=r,xn=i;break;case 0:case 11:case 14:case 15:if(!Et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&cd(n,e,o),i=i.next}while(i!==r)}pr(t,e,n);break;case 1:if(!Et&&(Ji(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ze(n,e,a)}pr(t,e,n);break;case 21:pr(t,e,n);break;case 22:n.mode&1?(Et=(r=Et)||n.memoizedState!==null,pr(t,e,n),Et=r):pr(t,e,n);break;default:pr(t,e,n)}}function zm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fS),e.forEach(function(r){var i=SS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,xn=!1;break e;case 3:yt=a.stateNode.containerInfo,xn=!0;break e;case 4:yt=a.stateNode.containerInfo,xn=!0;break e}a=a.return}if(yt===null)throw Error(z(160));X0(s,o,i),yt=null,xn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ze(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)G0(e,t),e=e.sibling}function G0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wn(e,t),Nn(t),r&4){try{bo(3,t,t.return),zu(3,t)}catch(v){Ze(t,t.return,v)}try{bo(5,t,t.return)}catch(v){Ze(t,t.return,v)}}break;case 1:wn(e,t),Nn(t),r&512&&n!==null&&Ji(n,n.return);break;case 5:if(wn(e,t),Nn(t),r&512&&n!==null&&Ji(n,n.return),t.flags&32){var i=t.stateNode;try{Io(i,"")}catch(v){Ze(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&_y(i,s),Ih(a,o);var u=Ih(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Ey(i,h):c==="dangerouslySetInnerHTML"?Sy(i,h):c==="children"?Io(i,h):af(i,c,h,u)}switch(a){case"input":Oh(i,s);break;case"textarea":xy(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?es(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?es(i,!!s.multiple,s.defaultValue,!0):es(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yo]=s}catch(v){Ze(t,t.return,v)}}break;case 6:if(wn(e,t),Nn(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Ze(t,t.return,v)}}break;case 3:if(wn(e,t),Nn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vo(e.containerInfo)}catch(v){Ze(t,t.return,v)}break;case 4:wn(e,t),Nn(t);break;case 13:wn(e,t),Nn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ff=Ge())),r&4&&zm(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Et=(u=Et)||c,wn(e,t),Et=u):wn(e,t),Nn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(J=t,c=t.child;c!==null;){for(h=J=c;J!==null;){switch(d=J,f=d.child,d.tag){case 0:case 11:case 14:case 15:bo(4,d,d.return);break;case 1:Ji(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){Ze(r,n,v)}}break;case 5:Ji(d,d.return);break;case 22:if(d.memoizedState!==null){Fm(h);continue}}f!==null?(f.return=d,J=f):Fm(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ky("display",o))}catch(v){Ze(t,t.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Ze(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wn(e,t),Nn(t),r&4&&zm(t);break;case 21:break;default:wn(e,t),Nn(t)}}function Nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(J0(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Io(i,""),r.flags&=-33);var s=Im(t);fd(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Im(t);dd(t,a,o);break;default:throw Error(z(161))}}catch(l){Ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mS(t,e,n){J=t,q0(t)}function q0(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Wa;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Et;a=Wa;var u=Et;if(Wa=o,(Et=l)&&!u)for(J=i;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?Vm(i):l!==null?(l.return=o,J=l):Vm(i);for(;s!==null;)J=s,q0(s),s=s.sibling;J=i,Wa=a,Et=u}$m(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,J=s):$m(t)}}function $m(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Et||zu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Et)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_n(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Sm(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Sm(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Vo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Et||e.flags&512&&hd(e)}catch(d){Ze(e,e.return,d)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function Fm(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function Vm(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zu(4,e)}catch(l){Ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ze(e,i,l)}}var s=e.return;try{hd(e)}catch(l){Ze(e,s,l)}break;case 5:var o=e.return;try{hd(e)}catch(l){Ze(e,o,l)}}}catch(l){Ze(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var vS=Math.ceil,Wl=ur.ReactCurrentDispatcher,zf=ur.ReactCurrentOwner,hn=ur.ReactCurrentBatchConfig,Te=0,pt=null,rt=null,_t=0,Xt=0,Xi=Hr(0),ct=0,Go=null,mi=0,$u=0,$f=0,So=null,Ut=null,Ff=0,gs=1/0,Yn=null,Hl=!1,pd=null,Ir=null,Ha=!1,Pr=null,Yl=0,ko=0,md=null,gl=-1,yl=0;function At(){return Te&6?Ge():gl!==-1?gl:gl=Ge()}function zr(t){return t.mode&1?Te&2&&_t!==0?_t&-_t:qb.transition!==null?(yl===0&&(yl=Iy()),yl):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:Wy(t.type)),t):1}function Tn(t,e,n,r){if(50<ko)throw ko=0,md=null,Error(z(185));la(t,n,r),(!(Te&2)||t!==pt)&&(t===pt&&(!(Te&2)&&($u|=n),ct===4&&Er(t,_t)),Qt(t,r),n===1&&Te===0&&!(e.mode&1)&&(gs=Ge()+500,Du&&Yr()))}function Qt(t,e){var n=t.callbackNode;q1(t,e);var r=Pl(t,t===pt?_t:0);if(r===0)n!==null&&Jp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Jp(n),e===1)t.tag===0?Gb(Um.bind(null,t)):u0(Um.bind(null,t)),Kb(function(){!(Te&6)&&Yr()}),n=null;else{switch(zy(r)){case 1:n=df;break;case 4:n=Dy;break;case 16:n=Rl;break;case 536870912:n=jy;break;default:n=Rl}n=aw(n,ew.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ew(t,e){if(gl=-1,yl=0,Te&6)throw Error(z(327));var n=t.callbackNode;if(ss()&&t.callbackNode!==n)return null;var r=Pl(t,t===pt?_t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ql(t,r);else{e=r;var i=Te;Te|=2;var s=nw();(pt!==t||_t!==e)&&(Yn=null,gs=Ge()+500,ui(t,e));do try{wS();break}catch(a){tw(t,a)}while(!0);Ef(),Wl.current=s,Te=i,rt!==null?e=0:(pt=null,_t=0,e=ct)}if(e!==0){if(e===2&&(i=Uh(t),i!==0&&(r=i,e=vd(t,i))),e===1)throw n=Go,ui(t,0),Er(t,r),Qt(t,Ge()),n;if(e===6)Er(t,r);else{if(i=t.current.alternate,!(r&30)&&!gS(i)&&(e=Ql(t,r),e===2&&(s=Uh(t),s!==0&&(r=s,e=vd(t,s))),e===1))throw n=Go,ui(t,0),Er(t,r),Qt(t,Ge()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Gr(t,Ut,Yn);break;case 3:if(Er(t,r),(r&130023424)===r&&(e=Ff+500-Ge(),10<e)){if(Pl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){At(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jh(Gr.bind(null,t,Ut,Yn),e);break}Gr(t,Ut,Yn);break;case 4:if(Er(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Cn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vS(r/1960))-r,10<r){t.timeoutHandle=Jh(Gr.bind(null,t,Ut,Yn),r);break}Gr(t,Ut,Yn);break;case 5:Gr(t,Ut,Yn);break;default:throw Error(z(329))}}}return Qt(t,Ge()),t.callbackNode===n?ew.bind(null,t):null}function vd(t,e){var n=So;return t.current.memoizedState.isDehydrated&&(ui(t,e).flags|=256),t=Ql(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&gd(e)),t}function gd(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function gS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Rn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Er(t,e){for(e&=~$f,e&=~$u,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cn(e),r=1<<n;t[n]=-1,e&=~r}}function Um(t){if(Te&6)throw Error(z(327));ss();var e=Pl(t,0);if(!(e&1))return Qt(t,Ge()),null;var n=Ql(t,e);if(t.tag!==0&&n===2){var r=Uh(t);r!==0&&(e=r,n=vd(t,r))}if(n===1)throw n=Go,ui(t,0),Er(t,e),Qt(t,Ge()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gr(t,Ut,Yn),Qt(t,Ge()),null}function Vf(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(gs=Ge()+500,Du&&Yr())}}function vi(t){Pr!==null&&Pr.tag===0&&!(Te&6)&&ss();var e=Te;Te|=1;var n=hn.transition,r=Oe;try{if(hn.transition=null,Oe=1,t)return t()}finally{Oe=r,hn.transition=n,Te=e,!(Te&6)&&Yr()}}function Uf(){Xt=Xi.current,$e(Xi)}function ui(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Qb(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(bf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ll();break;case 3:ms(),$e(Ht),$e(Rt),Mf();break;case 5:Nf(r);break;case 4:ms();break;case 13:$e(Ue);break;case 19:$e(Ue);break;case 10:Cf(r.type._context);break;case 22:case 23:Uf()}n=n.return}if(pt=t,rt=t=$r(t.current,null),_t=Xt=e,ct=0,Go=null,$f=$u=mi=0,Ut=So=null,si!==null){for(e=0;e<si.length;e++)if(n=si[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}si=null}return t}function tw(t,e){do{var n=rt;try{if(Ef(),pl.current=Bl,Ul){for(var r=Be.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ul=!1}if(pi=0,ft=ut=Be=null,xo=!1,Zo=0,zf.current=null,n===null||n.return===null){ct=1,Go=e,rt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=_t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Pm(o);if(f!==null){f.flags&=-257,Nm(f,o,a,s,e),f.mode&1&&Rm(s,u,e),e=f,l=u;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){Rm(s,u,e),Bf();break e}l=Error(z(426))}}else if(Ve&&a.mode&1){var w=Pm(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Nm(w,o,a,s,e),Sf(vs(l,a));break e}}s=l=vs(l,a),ct!==4&&(ct=2),So===null?So=[s]:So.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=z0(s,l,e);bm(s,g);break e;case 1:a=l;var p=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ir===null||!Ir.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=$0(s,a,e);bm(s,b);break e}}s=s.return}while(s!==null)}iw(n)}catch(C){e=C,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(!0)}function nw(){var t=Wl.current;return Wl.current=Bl,t===null?Bl:t}function Bf(){(ct===0||ct===3||ct===2)&&(ct=4),pt===null||!(mi&268435455)&&!($u&268435455)||Er(pt,_t)}function Ql(t,e){var n=Te;Te|=2;var r=nw();(pt!==t||_t!==e)&&(Yn=null,ui(t,e));do try{yS();break}catch(i){tw(t,i)}while(!0);if(Ef(),Te=n,Wl.current=r,rt!==null)throw Error(z(261));return pt=null,_t=0,ct}function yS(){for(;rt!==null;)rw(rt)}function wS(){for(;rt!==null&&!W1();)rw(rt)}function rw(t){var e=ow(t.alternate,t,Xt);t.memoizedProps=t.pendingProps,e===null?iw(t):rt=e,zf.current=null}function iw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dS(n,e),n!==null){n.flags&=32767,rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,rt=null;return}}else if(n=hS(n,e,Xt),n!==null){rt=n;return}if(e=e.sibling,e!==null){rt=e;return}rt=e=t}while(e!==null);ct===0&&(ct=5)}function Gr(t,e,n){var r=Oe,i=hn.transition;try{hn.transition=null,Oe=1,_S(t,e,n,r)}finally{hn.transition=i,Oe=r}return null}function _S(t,e,n,r){do ss();while(Pr!==null);if(Te&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(eb(t,s),t===pt&&(rt=pt=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ha||(Ha=!0,aw(Rl,function(){return ss(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=hn.transition,hn.transition=null;var o=Oe;Oe=1;var a=Te;Te|=4,zf.current=null,pS(t,n),G0(n,t),Fb(Kh),Nl=!!Qh,Kh=Qh=null,t.current=n,mS(n),H1(),Te=a,Oe=o,hn.transition=s}else t.current=n;if(Ha&&(Ha=!1,Pr=t,Yl=i),s=t.pendingLanes,s===0&&(Ir=null),K1(n.stateNode),Qt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,t=pd,pd=null,t;return Yl&1&&t.tag!==0&&ss(),s=t.pendingLanes,s&1?t===md?ko++:(ko=0,md=t):ko=0,Yr(),null}function ss(){if(Pr!==null){var t=zy(Yl),e=hn.transition,n=Oe;try{if(hn.transition=null,Oe=16>t?16:t,Pr===null)var r=!1;else{if(t=Pr,Pr=null,Yl=0,Te&6)throw Error(z(331));var i=Te;for(Te|=4,J=t.current;J!==null;){var s=J,o=s.child;if(J.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(J=u;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:bo(8,c,s)}var h=c.child;if(h!==null)h.return=c,J=h;else for(;J!==null;){c=J;var d=c.sibling,f=c.return;if(Z0(c),c===u){J=null;break}if(d!==null){d.return=f,J=d;break}J=f}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}J=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,J=o;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bo(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,J=g;break e}J=s.return}}var p=t.current;for(J=p;J!==null;){o=J;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,J=_;else e:for(o=p;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zu(9,a)}}catch(C){Ze(a,a.return,C)}if(a===o){J=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,J=b;break e}J=a.return}}if(Te=i,Yr(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(Nu,t)}catch{}r=!0}return r}finally{Oe=n,hn.transition=e}}return!1}function Bm(t,e,n){e=vs(n,e),e=z0(t,e,1),t=jr(t,e,1),e=At(),t!==null&&(la(t,1,e),Qt(t,e))}function Ze(t,e,n){if(t.tag===3)Bm(t,t,n);else for(;e!==null;){if(e.tag===3){Bm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ir===null||!Ir.has(r))){t=vs(n,t),t=$0(e,t,1),e=jr(e,t,1),t=At(),e!==null&&(la(e,1,t),Qt(e,t));break}}e=e.return}}function xS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=At(),t.pingedLanes|=t.suspendedLanes&n,pt===t&&(_t&n)===n&&(ct===4||ct===3&&(_t&130023424)===_t&&500>Ge()-Ff?ui(t,0):$f|=n),Qt(t,e)}function sw(t,e){e===0&&(t.mode&1?(e=Da,Da<<=1,!(Da&130023424)&&(Da=4194304)):e=1);var n=At();t=sr(t,e),t!==null&&(la(t,e,n),Qt(t,n))}function bS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sw(t,n)}function SS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),sw(t,n)}var ow;ow=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ht.current)Wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Wt=!1,cS(t,e,n);Wt=!!(t.flags&131072)}else Wt=!1,Ve&&e.flags&1048576&&c0(e,Il,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vl(t,e),t=e.pendingProps;var i=ds(e,Rt.current);is(e,n),i=Af(null,e,r,t,i,n);var s=Lf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yt(r)?(s=!0,Dl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rf(e),i.updater=Iu,e.stateNode=i,i._reactInternals=e,rd(e,r,t,n),e=od(null,e,r,!0,s,n)):(e.tag=0,Ve&&s&&xf(e),Mt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ES(r),t=_n(r,t),i){case 0:e=sd(null,e,r,t,n);break e;case 1:e=Am(null,e,r,t,n);break e;case 11:e=Mm(null,e,r,t,n);break e;case 14:e=Om(null,e,r,_n(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),sd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),Am(t,e,r,i,n);case 3:e:{if(B0(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,v0(t,e),Fl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=vs(Error(z(423)),e),e=Lm(t,e,r,n,i);break e}else if(r!==i){i=vs(Error(z(424)),e),e=Lm(t,e,r,n,i);break e}else for(qt=Dr(e.stateNode.containerInfo.firstChild),en=e,Ve=!0,kn=null,n=p0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fs(),r===i){e=or(t,e,n);break e}Mt(t,e,r,n)}e=e.child}return e;case 5:return g0(e),t===null&&ed(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Zh(r,i)?o=null:s!==null&&Zh(r,s)&&(e.flags|=32),U0(t,e),Mt(t,e,o,n),e.child;case 6:return t===null&&ed(e),null;case 13:return W0(t,e,n);case 4:return Pf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ps(e,null,r,n):Mt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),Mm(t,e,r,i,n);case 7:return Mt(t,e,e.pendingProps,n),e.child;case 8:return Mt(t,e,e.pendingProps.children,n),e.child;case 12:return Mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,je(zl,r._currentValue),r._currentValue=o,s!==null)if(Rn(s.value,o)){if(s.children===i.children&&!Ht.current){e=or(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=tr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),td(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),td(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Mt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,is(e,n),i=pn(i),r=r(i),e.flags|=1,Mt(t,e,r,n),e.child;case 14:return r=e.type,i=_n(r,e.pendingProps),i=_n(r.type,i),Om(t,e,r,i,n);case 15:return F0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),vl(t,e),e.tag=1,Yt(r)?(t=!0,Dl(e)):t=!1,is(e,n),I0(e,r,i),rd(e,r,i,n),od(null,e,r,!0,t,n);case 19:return H0(t,e,n);case 22:return V0(t,e,n)}throw Error(z(156,e.tag))};function aw(t,e){return Ly(t,e)}function kS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new kS(t,e,n,r)}function Wf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ES(t){if(typeof t=="function")return Wf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uf)return 11;if(t===cf)return 14}return 2}function $r(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Wf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vi:return ci(n.children,i,s,e);case lf:o=8,i|=8;break;case Th:return t=cn(12,n,e,i|2),t.elementType=Th,t.lanes=s,t;case Rh:return t=cn(13,n,e,i),t.elementType=Rh,t.lanes=s,t;case Ph:return t=cn(19,n,e,i),t.elementType=Ph,t.lanes=s,t;case gy:return Fu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case my:o=10;break e;case vy:o=9;break e;case uf:o=11;break e;case cf:o=14;break e;case xr:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=cn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ci(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function Fu(t,e,n,r){return t=cn(22,t,r,e),t.elementType=gy,t.lanes=n,t.stateNode={isHidden:!1},t}function Wc(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function Hc(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function CS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ec(0),this.expirationTimes=Ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ec(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hf(t,e,n,r,i,s,o,a,l){return t=new CS(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rf(s),t}function TS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lw(t){if(!t)return Ur;t=t._reactInternals;e:{if(ki(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Yt(n))return l0(t,n,e)}return e}function uw(t,e,n,r,i,s,o,a,l){return t=Hf(n,r,!0,t,i,s,o,a,l),t.context=lw(null),n=t.current,r=At(),i=zr(n),s=tr(r,i),s.callback=e??null,jr(n,s,i),t.current.lanes=i,la(t,i,r),Qt(t,r),t}function Vu(t,e,n,r){var i=e.current,s=At(),o=zr(i);return n=lw(n),e.context===null?e.context=n:e.pendingContext=n,e=tr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=jr(i,e,o),t!==null&&(Tn(t,i,o,s),fl(t,i,o)),o}function Kl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Wm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yf(t,e){Wm(t,e),(t=t.alternate)&&Wm(t,e)}function RS(){return null}var cw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qf(t){this._internalRoot=t}Uu.prototype.render=Qf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Vu(t,e,null,null)};Uu.prototype.unmount=Qf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vi(function(){Vu(null,t,null,null)}),e[ir]=null}};function Uu(t){this._internalRoot=t}Uu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kr.length&&e!==0&&e<kr[n].priority;n++);kr.splice(n,0,t),n===0&&By(t)}};function Kf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hm(){}function PS(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Kl(o);s.call(u)}}var o=uw(e,r,t,0,null,!1,!1,"",Hm);return t._reactRootContainer=o,t[ir]=o.current,Wo(t.nodeType===8?t.parentNode:t),vi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Kl(l);a.call(u)}}var l=Hf(t,0,!1,null,null,!1,!1,"",Hm);return t._reactRootContainer=l,t[ir]=l.current,Wo(t.nodeType===8?t.parentNode:t),vi(function(){Vu(e,l,n,r)}),l}function Wu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Kl(o);a.call(l)}}Vu(e,o,t,i)}else o=PS(n,e,t,i,r);return Kl(o)}$y=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ao(e.pendingLanes);n!==0&&(ff(e,n|1),Qt(e,Ge()),!(Te&6)&&(gs=Ge()+500,Yr()))}break;case 13:vi(function(){var r=sr(t,1);if(r!==null){var i=At();Tn(r,t,1,i)}}),Yf(t,1)}};pf=function(t){if(t.tag===13){var e=sr(t,134217728);if(e!==null){var n=At();Tn(e,t,134217728,n)}Yf(t,134217728)}};Fy=function(t){if(t.tag===13){var e=zr(t),n=sr(t,e);if(n!==null){var r=At();Tn(n,t,e,r)}Yf(t,e)}};Vy=function(){return Oe};Uy=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};$h=function(t,e,n){switch(e){case"input":if(Oh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Lu(r);if(!i)throw Error(z(90));wy(r),Oh(r,i)}}}break;case"textarea":xy(t,n);break;case"select":e=n.value,e!=null&&es(t,!!n.multiple,e,!1)}};Ry=Vf;Py=vi;var NS={usingClientEntryPoint:!1,Events:[ca,Hi,Lu,Cy,Ty,Vf]},Zs={findFiberByHostInstance:ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MS={bundleType:Zs.bundleType,version:Zs.version,rendererPackageName:Zs.rendererPackageName,rendererConfig:Zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Oy(t),t===null?null:t.stateNode},findFiberByHostInstance:Zs.findFiberByHostInstance||RS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ya=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ya.isDisabled&&Ya.supportsFiber)try{Nu=Ya.inject(MS),jn=Ya}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NS;sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kf(e))throw Error(z(200));return TS(t,e,null,n)};sn.createRoot=function(t,e){if(!Kf(t))throw Error(z(299));var n=!1,r="",i=cw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Hf(t,1,!1,null,null,n,!1,r,i),t[ir]=e.current,Wo(t.nodeType===8?t.parentNode:t),new Qf(e)};sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=Oy(e),t=t===null?null:t.stateNode,t};sn.flushSync=function(t){return vi(t)};sn.hydrate=function(t,e,n){if(!Bu(e))throw Error(z(200));return Wu(null,t,e,!0,n)};sn.hydrateRoot=function(t,e,n){if(!Kf(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=cw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=uw(e,null,t,1,n??null,i,!1,s,o),t[ir]=e.current,Wo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Uu(e)};sn.render=function(t,e,n){if(!Bu(e))throw Error(z(200));return Wu(null,t,e,!1,n)};sn.unmountComponentAtNode=function(t){if(!Bu(t))throw Error(z(40));return t._reactRootContainer?(vi(function(){Wu(null,null,t,!1,function(){t._reactRootContainer=null,t[ir]=null})}),!0):!1};sn.unstable_batchedUpdates=Vf;sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bu(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Wu(t,e,n,!1,r)};sn.version="18.3.1-next-f1338f8080-20240426";function hw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hw)}catch(t){console.error(t)}}hw(),hy.exports=sn;var da=hy.exports;const dw=qg(da),OS=Gg({__proto__:null,default:dw},[da]);var fw,Ym=da;fw=Ym.createRoot,Ym.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fe(){return Fe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fe.apply(this,arguments)}var nt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(nt||(nt={}));const Qm="popstate";function AS(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=cr(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),qo("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:fa(s))}function r(i,s){gi(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return DS(e,n,r,t)}function Se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LS(){return Math.random().toString(36).substr(2,8)}function Km(t,e){return{usr:t.state,key:t.key,idx:e}}function qo(t,e,n,r){return n===void 0&&(n=null),Fe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cr(e):e,{state:n,key:e&&e.key||r||LS()})}function fa(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function cr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function DS(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=nt.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Fe({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=nt.Pop;let w=c(),g=w==null?null:w-u;u=w,l&&l({action:a,location:v.location,delta:g})}function d(w,g){a=nt.Push;let p=qo(v.location,w,g);n&&n(p,w),u=c()+1;let _=Km(p,u),b=v.createHref(p);try{o.pushState(_,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(b)}s&&l&&l({action:a,location:v.location,delta:1})}function f(w,g){a=nt.Replace;let p=qo(v.location,w,g);n&&n(p,w),u=c();let _=Km(p,u),b=v.createHref(p);o.replaceState(_,"",b),s&&l&&l({action:a,location:v.location,delta:0})}function m(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof w=="string"?w:fa(w);return p=p.replace(/ $/,"%20"),Se(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let v={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Qm,h),l=w,()=>{i.removeEventListener(Qm,h),l=null}},createHref(w){return e(i,w)},createURL:m,encodeLocation(w){let g=m(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:f,go(w){return o.go(w)}};return v}var Me;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Me||(Me={}));const jS=new Set(["lazy","caseSensitive","path","id","index","children"]);function IS(t){return t.index===!0}function Zl(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Se(i.index!==!0||!i.children,"Cannot specify children on an index route"),Se(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),IS(i)){let l=Fe({},i,e(i),{id:a});return r[a]=l,l}else{let l=Fe({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Zl(i.children,e,o,r)),l}})}function ei(t,e,n){return n===void 0&&(n="/"),_l(t,e,n,!1)}function _l(t,e,n,r){let i=typeof e=="string"?cr(e):e,s=pa(i.pathname||"/",n);if(s==null)return null;let o=pw(t);$S(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=JS(s);a=KS(o[l],u,r)}return a}function zS(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function pw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Se(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Fr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Se(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),pw(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:YS(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of mw(s.path))i(s,o,l)}),e}function mw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=mw(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function $S(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FS=/^:[\w-]+$/,VS=3,US=2,BS=1,WS=10,HS=-2,Zm=t=>t==="*";function YS(t,e){let n=t.split("/"),r=n.length;return n.some(Zm)&&(r+=HS),e&&(r+=US),n.filter(i=>!Zm(i)).reduce((i,s)=>i+(FS.test(s)?VS:s===""?BS:WS),r)}function QS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function KS(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=Jm({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Jm({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Fr([s,h.pathname]),pathnameBase:qS(Fr([s,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(s=Fr([s,h.pathnameBase]))}return o}function Jm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ZS(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:f}=c;if(d==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function ZS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),gi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function JS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function XS(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?cr(t):t;return{pathname:n?n.startsWith("/")?n:GS(n,e):e,search:ek(r),hash:tk(i)}}function GS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Yc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zf(t,e){let n=vw(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Jf(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=cr(t):(i=Fe({},t),Se(!i.pathname||!i.pathname.includes("?"),Yc("?","pathname","search",i)),Se(!i.pathname||!i.pathname.includes("#"),Yc("#","pathname","hash",i)),Se(!i.search||!i.search.includes("#"),Yc("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=XS(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Fr=t=>t.join("/").replace(/\/\/+/g,"/"),qS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ek=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Jl{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ea(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gw=["post","put","patch","delete"],nk=new Set(gw),rk=["get",...gw],ik=new Set(rk),sk=new Set([301,302,303,307,308]),ok=new Set([307,308]),Qc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ak={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Js={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Xf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lk=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),yw="remix-router-transitions";function uk(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Se(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let S=t.detectErrorBoundary;i=T=>({hasErrorBoundary:S(T)})}else i=lk;let s={},o=Zl(t.routes,i,void 0,s),a,l=t.basename||"/",u=t.dataStrategy||fk,c=t.patchRoutesOnNavigation,h=Fe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),d=null,f=new Set,m=null,v=null,w=null,g=t.hydrationData!=null,p=ei(o,t.history.location,l),_=!1,b=null;if(p==null&&!c){let S=Ft(404,{pathname:t.history.location.pathname}),{matches:T,route:N}=av(o);p=T,b={[N.id]:S}}p&&!t.hydrationData&&Ca(p,o,t.history.location.pathname).active&&(p=null);let C;if(p)if(p.some(S=>S.route.lazy))C=!1;else if(!p.some(S=>S.route.loader))C=!0;else if(h.v7_partialHydration){let S=t.hydrationData?t.hydrationData.loaderData:null,T=t.hydrationData?t.hydrationData.errors:null;if(T){let N=p.findIndex(I=>T[I.route.id]!==void 0);C=p.slice(0,N+1).every(I=>!wd(I.route,S,T))}else C=p.every(N=>!wd(N.route,S,T))}else C=t.hydrationData!=null;else if(C=!1,p=[],h.v7_partialHydration){let S=Ca(null,o,t.history.location.pathname);S.active&&S.matches&&(_=!0,p=S.matches)}let A,x={historyAction:t.history.action,location:t.history.location,matches:p,initialized:C,navigation:Qc,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||b,fetchers:new Map,blockers:new Map},P=nt.Pop,L=!1,O,oe=!1,j=new Map,q=null,U=!1,ae=!1,ve=[],we=new Set,D=new Map,Z=0,ne=-1,he=new Map,ke=new Set,ht=new Map,ot=new Map,mt=new Set,at=new Map,Nt=new Map,hr;function ba(){if(d=t.history.listen(S=>{let{action:T,location:N,delta:I}=S;if(hr){hr(),hr=void 0;return}gi(Nt.size===0||I!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let H=Lp({currentLocation:x.location,nextLocation:N,historyAction:T});if(H&&I!=null){let se=new Promise(ue=>{hr=ue});t.history.go(I*-1),Ea(H,{state:"blocked",location:N,proceed(){Ea(H,{state:"proceeding",proceed:void 0,reset:void 0,location:N}),se.then(()=>t.history.go(I))},reset(){let ue=new Map(x.blockers);ue.set(H,Js),vt({blockers:ue})}});return}return dr(T,N)}),n){Tk(e,j);let S=()=>Rk(e,j);e.addEventListener("pagehide",S),q=()=>e.removeEventListener("pagehide",S)}return x.initialized||dr(nt.Pop,x.location,{initialHydration:!0}),A}function mc(){d&&d(),q&&q(),f.clear(),O&&O.abort(),x.fetchers.forEach((S,T)=>fr(T)),x.blockers.forEach((S,T)=>Ap(T))}function Sa(S){return f.add(S),()=>f.delete(S)}function vt(S,T){T===void 0&&(T={}),x=Fe({},x,S);let N=[],I=[];h.v7_fetcherPersist&&x.fetchers.forEach((H,se)=>{H.state==="idle"&&(mt.has(se)?I.push(se):N.push(se))}),mt.forEach(H=>{!x.fetchers.has(H)&&!D.has(H)&&I.push(H)}),[...f].forEach(H=>H(x,{deletedFetchers:I,viewTransitionOpts:T.viewTransitionOpts,flushSync:T.flushSync===!0})),h.v7_fetcherPersist?(N.forEach(H=>x.fetchers.delete(H)),I.forEach(H=>fr(H))):I.forEach(H=>mt.delete(H))}function Vn(S,T,N){var I,H;let{flushSync:se}=N===void 0?{}:N,ue=x.actionData!=null&&x.navigation.formMethod!=null&&bn(x.navigation.formMethod)&&x.navigation.state==="loading"&&((I=S.state)==null?void 0:I._isRedirect)!==!0,ee;T.actionData?Object.keys(T.actionData).length>0?ee=T.actionData:ee=null:ue?ee=x.actionData:ee=null;let te=T.loaderData?sv(x.loaderData,T.loaderData,T.matches||[],T.errors):x.loaderData,X=x.blockers;X.size>0&&(X=new Map(X),X.forEach((Ee,gt)=>X.set(gt,Js)));let re=L===!0||x.navigation.formMethod!=null&&bn(x.navigation.formMethod)&&((H=S.state)==null?void 0:H._isRedirect)!==!0;a&&(o=a,a=void 0),U||P===nt.Pop||(P===nt.Push?t.history.push(S,S.state):P===nt.Replace&&t.history.replace(S,S.state));let fe;if(P===nt.Pop){let Ee=j.get(x.location.pathname);Ee&&Ee.has(S.pathname)?fe={currentLocation:x.location,nextLocation:S}:j.has(S.pathname)&&(fe={currentLocation:S,nextLocation:x.location})}else if(oe){let Ee=j.get(x.location.pathname);Ee?Ee.add(S.pathname):(Ee=new Set([S.pathname]),j.set(x.location.pathname,Ee)),fe={currentLocation:x.location,nextLocation:S}}vt(Fe({},T,{actionData:ee,loaderData:te,historyAction:P,location:S,initialized:!0,navigation:Qc,revalidation:"idle",restoreScrollPosition:jp(S,T.matches||x.matches),preventScrollReset:re,blockers:X}),{viewTransitionOpts:fe,flushSync:se===!0}),P=nt.Pop,L=!1,oe=!1,U=!1,ae=!1,ve=[]}async function Is(S,T){if(typeof S=="number"){t.history.go(S);return}let N=yd(x.location,x.matches,l,h.v7_prependBasename,S,h.v7_relativeSplatPath,T==null?void 0:T.fromRouteId,T==null?void 0:T.relative),{path:I,submission:H,error:se}=Xm(h.v7_normalizeFormMethod,!1,N,T),ue=x.location,ee=qo(x.location,I,T&&T.state);ee=Fe({},ee,t.history.encodeLocation(ee));let te=T&&T.replace!=null?T.replace:void 0,X=nt.Push;te===!0?X=nt.Replace:te===!1||H!=null&&bn(H.formMethod)&&H.formAction===x.location.pathname+x.location.search&&(X=nt.Replace);let re=T&&"preventScrollReset"in T?T.preventScrollReset===!0:void 0,fe=(T&&T.flushSync)===!0,Ee=Lp({currentLocation:ue,nextLocation:ee,historyAction:X});if(Ee){Ea(Ee,{state:"blocked",location:ee,proceed(){Ea(Ee,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),Is(S,T)},reset(){let gt=new Map(x.blockers);gt.set(Ee,Js),vt({blockers:gt})}});return}return await dr(X,ee,{submission:H,pendingError:se,preventScrollReset:re,replace:T&&T.replace,enableViewTransition:T&&T.viewTransition,flushSync:fe})}function Np(){if(He(),vt({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){dr(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}dr(P||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:oe===!0})}}async function dr(S,T,N){O&&O.abort(),O=null,P=S,U=(N&&N.startUninterruptedRevalidation)===!0,t1(x.location,x.matches),L=(N&&N.preventScrollReset)===!0,oe=(N&&N.enableViewTransition)===!0;let I=a||o,H=N&&N.overrideNavigation,se=N!=null&&N.initialHydration&&x.matches&&x.matches.length>0&&!_?x.matches:ei(I,T,l),ue=(N&&N.flushSync)===!0;if(se&&x.initialized&&!ae&&wk(x.location,T)&&!(N&&N.submission&&bn(N.submission.formMethod))){Vn(T,{matches:se},{flushSync:ue});return}let ee=Ca(se,I,T.pathname);if(ee.active&&ee.matches&&(se=ee.matches),!se){let{error:Le,notFoundMatches:Pe,route:Ye}=gc(T.pathname);Vn(T,{matches:Pe,loaderData:{},errors:{[Ye.id]:Le}},{flushSync:ue});return}O=new AbortController;let te=Oi(t.history,T,O.signal,N&&N.submission),X;if(N&&N.pendingError)X=[ti(se).route.id,{type:Me.error,error:N.pendingError}];else if(N&&N.submission&&bn(N.submission.formMethod)){let Le=await Mp(te,T,N.submission,se,ee.active,{replace:N.replace,flushSync:ue});if(Le.shortCircuited)return;if(Le.pendingActionResult){let[Pe,Ye]=Le.pendingActionResult;if(Gt(Ye)&&ea(Ye.error)&&Ye.error.status===404){O=null,Vn(T,{matches:Le.matches,loaderData:{},errors:{[Pe]:Ye.error}});return}}se=Le.matches||se,X=Le.pendingActionResult,H=Kc(T,N.submission),ue=!1,ee.active=!1,te=Oi(t.history,te.url,te.signal)}let{shortCircuited:re,matches:fe,loaderData:Ee,errors:gt}=await k(te,T,se,ee.active,H,N&&N.submission,N&&N.fetcherSubmission,N&&N.replace,N&&N.initialHydration===!0,ue,X);re||(O=null,Vn(T,Fe({matches:fe||se},ov(X),{loaderData:Ee,errors:gt})))}async function Mp(S,T,N,I,H,se){se===void 0&&(se={}),He();let ue=Ek(T,N);if(vt({navigation:ue},{flushSync:se.flushSync===!0}),H){let X=await Ta(I,T.pathname,S.signal);if(X.type==="aborted")return{shortCircuited:!0};if(X.type==="error"){let re=ti(X.partialMatches).route.id;return{matches:X.partialMatches,pendingActionResult:[re,{type:Me.error,error:X.error}]}}else if(X.matches)I=X.matches;else{let{notFoundMatches:re,error:fe,route:Ee}=gc(T.pathname);return{matches:re,pendingActionResult:[Ee.id,{type:Me.error,error:fe}]}}}let ee,te=uo(I,T);if(!te.route.action&&!te.route.lazy)ee={type:Me.error,error:Ft(405,{method:S.method,pathname:T.pathname,routeId:te.route.id})};else if(ee=(await _e("action",x,S,[te],I,null))[te.route.id],S.signal.aborted)return{shortCircuited:!0};if(ai(ee)){let X;return se&&se.replace!=null?X=se.replace:X=nv(ee.response.headers.get("Location"),new URL(S.url),l)===x.location.pathname+x.location.search,await G(S,ee,!0,{submission:N,replace:X}),{shortCircuited:!0}}if(Nr(ee))throw Ft(400,{type:"defer-action"});if(Gt(ee)){let X=ti(I,te.route.id);return(se&&se.replace)!==!0&&(P=nt.Push),{matches:I,pendingActionResult:[X.route.id,ee]}}return{matches:I,pendingActionResult:[te.route.id,ee]}}async function k(S,T,N,I,H,se,ue,ee,te,X,re){let fe=H||Kc(T,se),Ee=se||ue||uv(fe),gt=!U&&(!h.v7_partialHydration||!te);if(I){if(gt){let Qe=R(re);vt(Fe({navigation:fe},Qe!==void 0?{actionData:Qe}:{}),{flushSync:X})}let Re=await Ta(N,T.pathname,S.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){let Qe=ti(Re.partialMatches).route.id;return{matches:Re.partialMatches,loaderData:{},errors:{[Qe]:Re.error}}}else if(Re.matches)N=Re.matches;else{let{error:Qe,notFoundMatches:Pi,route:Vs}=gc(T.pathname);return{matches:Pi,loaderData:{},errors:{[Vs.id]:Qe}}}}let Le=a||o,[Pe,Ye]=qm(t.history,x,N,Ee,T,h.v7_partialHydration&&te===!0,h.v7_skipActionErrorRevalidation,ae,ve,we,mt,ht,ke,Le,l,re);if(yc(Re=>!(N&&N.some(Qe=>Qe.route.id===Re))||Pe&&Pe.some(Qe=>Qe.route.id===Re)),ne=++Z,Pe.length===0&&Ye.length===0){let Re=zs();return Vn(T,Fe({matches:N,loaderData:{},errors:re&&Gt(re[1])?{[re[0]]:re[1].error}:null},ov(re),Re?{fetchers:new Map(x.fetchers)}:{}),{flushSync:X}),{shortCircuited:!0}}if(gt){let Re={};if(!I){Re.navigation=fe;let Qe=R(re);Qe!==void 0&&(Re.actionData=Qe)}Ye.length>0&&(Re.fetchers=M(Ye)),vt(Re,{flushSync:X})}Ye.forEach(Re=>{yn(Re.key),Re.controller&&D.set(Re.key,Re.controller)});let Ri=()=>Ye.forEach(Re=>yn(Re.key));O&&O.signal.addEventListener("abort",Ri);let{loaderResults:$s,fetcherResults:Un}=await Xe(x,N,Pe,Ye,S);if(S.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",Ri),Ye.forEach(Re=>D.delete(Re.key));let Pn=Qa($s);if(Pn)return await G(S,Pn.result,!0,{replace:ee}),{shortCircuited:!0};if(Pn=Qa(Un),Pn)return ke.add(Pn.key),await G(S,Pn.result,!0,{replace:ee}),{shortCircuited:!0};let{loaderData:wc,errors:Fs}=iv(x,N,$s,re,Ye,Un,at);at.forEach((Re,Qe)=>{Re.subscribe(Pi=>{(Pi||Re.done)&&at.delete(Qe)})}),h.v7_partialHydration&&te&&x.errors&&(Fs=Fe({},x.errors,Fs));let Kr=zs(),Ra=Op(ne),Pa=Kr||Ra||Ye.length>0;return Fe({matches:N,loaderData:wc,errors:Fs},Pa?{fetchers:new Map(x.fetchers)}:{})}function R(S){if(S&&!Gt(S[1]))return{[S[0]]:S[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function M(S){return S.forEach(T=>{let N=x.fetchers.get(T.key),I=Xs(void 0,N?N.data:void 0);x.fetchers.set(T.key,I)}),new Map(x.fetchers)}function Y(S,T,N,I){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");yn(S);let H=(I&&I.flushSync)===!0,se=a||o,ue=yd(x.location,x.matches,l,h.v7_prependBasename,N,h.v7_relativeSplatPath,T,I==null?void 0:I.relative),ee=ei(se,ue,l),te=Ca(ee,se,ue);if(te.active&&te.matches&&(ee=te.matches),!ee){gn(S,T,Ft(404,{pathname:ue}),{flushSync:H});return}let{path:X,submission:re,error:fe}=Xm(h.v7_normalizeFormMethod,!0,ue,I);if(fe){gn(S,T,fe,{flushSync:H});return}let Ee=uo(ee,X),gt=(I&&I.preventScrollReset)===!0;if(re&&bn(re.formMethod)){W(S,T,X,Ee,ee,te.active,H,gt,re);return}ht.set(S,{routeId:T,path:X}),V(S,T,X,Ee,ee,te.active,H,gt,re)}async function W(S,T,N,I,H,se,ue,ee,te){He(),ht.delete(S);function X(tt){if(!tt.route.action&&!tt.route.lazy){let Ni=Ft(405,{method:te.formMethod,pathname:N,routeId:T});return gn(S,T,Ni,{flushSync:ue}),!0}return!1}if(!se&&X(I))return;let re=x.fetchers.get(S);bt(S,Ck(te,re),{flushSync:ue});let fe=new AbortController,Ee=Oi(t.history,N,fe.signal,te);if(se){let tt=await Ta(H,new URL(Ee.url).pathname,Ee.signal,S);if(tt.type==="aborted")return;if(tt.type==="error"){gn(S,T,tt.error,{flushSync:ue});return}else if(tt.matches){if(H=tt.matches,I=uo(H,N),X(I))return}else{gn(S,T,Ft(404,{pathname:N}),{flushSync:ue});return}}D.set(S,fe);let gt=Z,Pe=(await _e("action",x,Ee,[I],H,S))[I.route.id];if(Ee.signal.aborted){D.get(S)===fe&&D.delete(S);return}if(h.v7_fetcherPersist&&mt.has(S)){if(ai(Pe)||Gt(Pe)){bt(S,yr(void 0));return}}else{if(ai(Pe))if(D.delete(S),ne>gt){bt(S,yr(void 0));return}else return ke.add(S),bt(S,Xs(te)),G(Ee,Pe,!1,{fetcherSubmission:te,preventScrollReset:ee});if(Gt(Pe)){gn(S,T,Pe.error);return}}if(Nr(Pe))throw Ft(400,{type:"defer-action"});let Ye=x.navigation.location||x.location,Ri=Oi(t.history,Ye,fe.signal),$s=a||o,Un=x.navigation.state!=="idle"?ei($s,x.navigation.location,l):x.matches;Se(Un,"Didn't find any matches after fetcher action");let Pn=++Z;he.set(S,Pn);let wc=Xs(te,Pe.data);x.fetchers.set(S,wc);let[Fs,Kr]=qm(t.history,x,Un,te,Ye,!1,h.v7_skipActionErrorRevalidation,ae,ve,we,mt,ht,ke,$s,l,[I.route.id,Pe]);Kr.filter(tt=>tt.key!==S).forEach(tt=>{let Ni=tt.key,Ip=x.fetchers.get(Ni),i1=Xs(void 0,Ip?Ip.data:void 0);x.fetchers.set(Ni,i1),yn(Ni),tt.controller&&D.set(Ni,tt.controller)}),vt({fetchers:new Map(x.fetchers)});let Ra=()=>Kr.forEach(tt=>yn(tt.key));fe.signal.addEventListener("abort",Ra);let{loaderResults:Pa,fetcherResults:Re}=await Xe(x,Un,Fs,Kr,Ri);if(fe.signal.aborted)return;fe.signal.removeEventListener("abort",Ra),he.delete(S),D.delete(S),Kr.forEach(tt=>D.delete(tt.key));let Qe=Qa(Pa);if(Qe)return G(Ri,Qe.result,!1,{preventScrollReset:ee});if(Qe=Qa(Re),Qe)return ke.add(Qe.key),G(Ri,Qe.result,!1,{preventScrollReset:ee});let{loaderData:Pi,errors:Vs}=iv(x,Un,Pa,void 0,Kr,Re,at);if(x.fetchers.has(S)){let tt=yr(Pe.data);x.fetchers.set(S,tt)}Op(Pn),x.navigation.state==="loading"&&Pn>ne?(Se(P,"Expected pending action"),O&&O.abort(),Vn(x.navigation.location,{matches:Un,loaderData:Pi,errors:Vs,fetchers:new Map(x.fetchers)})):(vt({errors:Vs,loaderData:sv(x.loaderData,Pi,Un,Vs),fetchers:new Map(x.fetchers)}),ae=!1)}async function V(S,T,N,I,H,se,ue,ee,te){let X=x.fetchers.get(S);bt(S,Xs(te,X?X.data:void 0),{flushSync:ue});let re=new AbortController,fe=Oi(t.history,N,re.signal);if(se){let Pe=await Ta(H,new URL(fe.url).pathname,fe.signal,S);if(Pe.type==="aborted")return;if(Pe.type==="error"){gn(S,T,Pe.error,{flushSync:ue});return}else if(Pe.matches)H=Pe.matches,I=uo(H,N);else{gn(S,T,Ft(404,{pathname:N}),{flushSync:ue});return}}D.set(S,re);let Ee=Z,Le=(await _e("loader",x,fe,[I],H,S))[I.route.id];if(Nr(Le)&&(Le=await Gf(Le,fe.signal,!0)||Le),D.get(S)===re&&D.delete(S),!fe.signal.aborted){if(mt.has(S)){bt(S,yr(void 0));return}if(ai(Le))if(ne>Ee){bt(S,yr(void 0));return}else{ke.add(S),await G(fe,Le,!1,{preventScrollReset:ee});return}if(Gt(Le)){gn(S,T,Le.error);return}Se(!Nr(Le),"Unhandled fetcher deferred data"),bt(S,yr(Le.data))}}async function G(S,T,N,I){let{submission:H,fetcherSubmission:se,preventScrollReset:ue,replace:ee}=I===void 0?{}:I;T.response.headers.has("X-Remix-Revalidate")&&(ae=!0);let te=T.response.headers.get("Location");Se(te,"Expected a Location header on the redirect Response"),te=nv(te,new URL(S.url),l);let X=qo(x.location,te,{_isRedirect:!0});if(n){let Pe=!1;if(T.response.headers.has("X-Remix-Reload-Document"))Pe=!0;else if(Xf.test(te)){const Ye=t.history.createURL(te);Pe=Ye.origin!==e.location.origin||pa(Ye.pathname,l)==null}if(Pe){ee?e.location.replace(te):e.location.assign(te);return}}O=null;let re=ee===!0||T.response.headers.has("X-Remix-Replace")?nt.Replace:nt.Push,{formMethod:fe,formAction:Ee,formEncType:gt}=x.navigation;!H&&!se&&fe&&Ee&&gt&&(H=uv(x.navigation));let Le=H||se;if(ok.has(T.response.status)&&Le&&bn(Le.formMethod))await dr(re,X,{submission:Fe({},Le,{formAction:te}),preventScrollReset:ue||L,enableViewTransition:N?oe:void 0});else{let Pe=Kc(X,H);await dr(re,X,{overrideNavigation:Pe,fetcherSubmission:se,preventScrollReset:ue||L,enableViewTransition:N?oe:void 0})}}async function _e(S,T,N,I,H,se){let ue,ee={};try{ue=await pk(u,S,T,N,I,H,se,s,i)}catch(te){return I.forEach(X=>{ee[X.route.id]={type:Me.error,error:te}}),ee}for(let[te,X]of Object.entries(ue))if(_k(X)){let re=X.result;ee[te]={type:Me.redirect,response:gk(re,N,te,H,l,h.v7_relativeSplatPath)}}else ee[te]=await vk(X);return ee}async function Xe(S,T,N,I,H){let se=S.matches,ue=_e("loader",S,H,N,T,null),ee=Promise.all(I.map(async re=>{if(re.matches&&re.match&&re.controller){let Ee=(await _e("loader",S,Oi(t.history,re.path,re.controller.signal),[re.match],re.matches,re.key))[re.match.route.id];return{[re.key]:Ee}}else return Promise.resolve({[re.key]:{type:Me.error,error:Ft(404,{pathname:re.path})}})})),te=await ue,X=(await ee).reduce((re,fe)=>Object.assign(re,fe),{});return await Promise.all([Sk(T,te,H.signal,se,S.loaderData),kk(T,X,I)]),{loaderResults:te,fetcherResults:X}}function He(){ae=!0,ve.push(...yc()),ht.forEach((S,T)=>{D.has(T)&&we.add(T),yn(T)})}function bt(S,T,N){N===void 0&&(N={}),x.fetchers.set(S,T),vt({fetchers:new Map(x.fetchers)},{flushSync:(N&&N.flushSync)===!0})}function gn(S,T,N,I){I===void 0&&(I={});let H=ti(x.matches,T);fr(S),vt({errors:{[H.route.id]:N},fetchers:new Map(x.fetchers)},{flushSync:(I&&I.flushSync)===!0})}function Ti(S){return ot.set(S,(ot.get(S)||0)+1),mt.has(S)&&mt.delete(S),x.fetchers.get(S)||ak}function fr(S){let T=x.fetchers.get(S);D.has(S)&&!(T&&T.state==="loading"&&he.has(S))&&yn(S),ht.delete(S),he.delete(S),ke.delete(S),h.v7_fetcherPersist&&mt.delete(S),we.delete(S),x.fetchers.delete(S)}function vc(S){let T=(ot.get(S)||0)-1;T<=0?(ot.delete(S),mt.add(S),h.v7_fetcherPersist||fr(S)):ot.set(S,T),vt({fetchers:new Map(x.fetchers)})}function yn(S){let T=D.get(S);T&&(T.abort(),D.delete(S))}function ka(S){for(let T of S){let N=Ti(T),I=yr(N.data);x.fetchers.set(T,I)}}function zs(){let S=[],T=!1;for(let N of ke){let I=x.fetchers.get(N);Se(I,"Expected fetcher: "+N),I.state==="loading"&&(ke.delete(N),S.push(N),T=!0)}return ka(S),T}function Op(S){let T=[];for(let[N,I]of he)if(I<S){let H=x.fetchers.get(N);Se(H,"Expected fetcher: "+N),H.state==="loading"&&(yn(N),he.delete(N),T.push(N))}return ka(T),T.length>0}function qx(S,T){let N=x.blockers.get(S)||Js;return Nt.get(S)!==T&&Nt.set(S,T),N}function Ap(S){x.blockers.delete(S),Nt.delete(S)}function Ea(S,T){let N=x.blockers.get(S)||Js;Se(N.state==="unblocked"&&T.state==="blocked"||N.state==="blocked"&&T.state==="blocked"||N.state==="blocked"&&T.state==="proceeding"||N.state==="blocked"&&T.state==="unblocked"||N.state==="proceeding"&&T.state==="unblocked","Invalid blocker state transition: "+N.state+" -> "+T.state);let I=new Map(x.blockers);I.set(S,T),vt({blockers:I})}function Lp(S){let{currentLocation:T,nextLocation:N,historyAction:I}=S;if(Nt.size===0)return;Nt.size>1&&gi(!1,"A router only supports one blocker at a time");let H=Array.from(Nt.entries()),[se,ue]=H[H.length-1],ee=x.blockers.get(se);if(!(ee&&ee.state==="proceeding")&&ue({currentLocation:T,nextLocation:N,historyAction:I}))return se}function gc(S){let T=Ft(404,{pathname:S}),N=a||o,{matches:I,route:H}=av(N);return yc(),{notFoundMatches:I,route:H,error:T}}function yc(S){let T=[];return at.forEach((N,I)=>{(!S||S(I))&&(N.cancel(),T.push(I),at.delete(I))}),T}function e1(S,T,N){if(m=S,w=T,v=N||null,!g&&x.navigation===Qc){g=!0;let I=jp(x.location,x.matches);I!=null&&vt({restoreScrollPosition:I})}return()=>{m=null,w=null,v=null}}function Dp(S,T){return v&&v(S,T.map(I=>zS(I,x.loaderData)))||S.key}function t1(S,T){if(m&&w){let N=Dp(S,T);m[N]=w()}}function jp(S,T){if(m){let N=Dp(S,T),I=m[N];if(typeof I=="number")return I}return null}function Ca(S,T,N){if(c)if(S){if(Object.keys(S[0].params).length>0)return{active:!0,matches:_l(T,N,l,!0)}}else return{active:!0,matches:_l(T,N,l,!0)||[]};return{active:!1,matches:null}}async function Ta(S,T,N,I){if(!c)return{type:"success",matches:S};let H=S;for(;;){let se=a==null,ue=a||o,ee=s;try{await c({signal:N,path:T,matches:H,fetcherKey:I,patch:(re,fe)=>{N.aborted||tv(re,fe,ue,ee,i)}})}catch(re){return{type:"error",error:re,partialMatches:H}}finally{se&&!N.aborted&&(o=[...o])}if(N.aborted)return{type:"aborted"};let te=ei(ue,T,l);if(te)return{type:"success",matches:te};let X=_l(ue,T,l,!0);if(!X||H.length===X.length&&H.every((re,fe)=>re.route.id===X[fe].route.id))return{type:"success",matches:null};H=X}}function n1(S){s={},a=Zl(S,i,void 0,s)}function r1(S,T){let N=a==null;tv(S,T,a||o,s,i),N&&(o=[...o],vt({}))}return A={get basename(){return l},get future(){return h},get state(){return x},get routes(){return o},get window(){return e},initialize:ba,subscribe:Sa,enableScrollRestoration:e1,navigate:Is,fetch:Y,revalidate:Np,createHref:S=>t.history.createHref(S),encodeLocation:S=>t.history.encodeLocation(S),getFetcher:Ti,deleteFetcher:vc,dispose:mc,getBlocker:qx,deleteBlocker:Ap,patchRoutes:r1,_internalFetchControllers:D,_internalActiveDeferreds:at,_internalSetRoutes:n1},A}function ck(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function yd(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){u=h;break}}else l=e,u=e[e.length-1];let c=Jf(i||".",Zf(l,s),pa(t.pathname,n)||t.pathname,a==="path");if(i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u){let h=qf(c.search);if(u.route.index&&!h)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let d=new URLSearchParams(c.search),f=d.getAll("index");d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let m=d.toString();c.search=m?"?"+m:""}}return r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Fr([n,c.pathname])),fa(c)}function Xm(t,e,n,r){if(!r||!ck(r))return{path:n};if(r.formMethod&&!bk(r.formMethod))return{path:n,error:Ft(405,{method:r.formMethod})};let i=()=>({path:n,error:Ft(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=xw(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!bn(o))return i();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,m)=>{let[v,w]=m;return""+f+v+"="+w+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!bn(o))return i();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}Se(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=_d(r.formData),u=r.formData;else if(r.body instanceof FormData)l=_d(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=rv(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=rv(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(bn(c.formMethod))return{path:n,submission:c};let h=cr(n);return e&&h.search&&qf(h.search)&&l.append("index",""),h.search="?"+l,{path:fa(h),submission:c}}function Gm(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function qm(t,e,n,r,i,s,o,a,l,u,c,h,d,f,m,v){let w=v?Gt(v[1])?v[1].error:v[1].data:void 0,g=t.createURL(e.location),p=t.createURL(i),_=n;s&&e.errors?_=Gm(n,Object.keys(e.errors)[0],!0):v&&Gt(v[1])&&(_=Gm(n,v[0]));let b=v?v[1].statusCode:void 0,C=o&&b&&b>=400,A=_.filter((P,L)=>{let{route:O}=P;if(O.lazy)return!0;if(O.loader==null)return!1;if(s)return wd(O,e.loaderData,e.errors);if(hk(e.loaderData,e.matches[L],P)||l.some(q=>q===P.route.id))return!0;let oe=e.matches[L],j=P;return ev(P,Fe({currentUrl:g,currentParams:oe.params,nextUrl:p,nextParams:j.params},r,{actionResult:w,actionStatus:b,defaultShouldRevalidate:C?!1:a||g.pathname+g.search===p.pathname+p.search||g.search!==p.search||ww(oe,j)}))}),x=[];return h.forEach((P,L)=>{if(s||!n.some(U=>U.route.id===P.routeId)||c.has(L))return;let O=ei(f,P.path,m);if(!O){x.push({key:L,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let oe=e.fetchers.get(L),j=uo(O,P.path),q=!1;d.has(L)?q=!1:u.has(L)?(u.delete(L),q=!0):oe&&oe.state!=="idle"&&oe.data===void 0?q=a:q=ev(j,Fe({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:p,nextParams:n[n.length-1].params},r,{actionResult:w,actionStatus:b,defaultShouldRevalidate:C?!1:a})),q&&x.push({key:L,routeId:P.routeId,path:P.path,matches:O,match:j,controller:new AbortController})}),[A,x]}function wd(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function hk(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function ww(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function ev(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function tv(t,e,n,r,i){var s;let o;if(t){let u=r[t];Se(u,"No route found to patch children into: routeId = "+t),u.children||(u.children=[]),o=u.children}else o=n;let a=e.filter(u=>!o.some(c=>_w(u,c))),l=Zl(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...l)}function _w(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>_w(n,s))}):!1}async function dk(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Se(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";gi(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!jS.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Fe({},e(i),{lazy:void 0}))}async function fk(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function pk(t,e,n,r,i,s,o,a,l,u){let c=s.map(f=>f.route.lazy?dk(f.route,l,a):void 0),h=s.map((f,m)=>{let v=c[m],w=i.some(p=>p.route.id===f.route.id);return Fe({},f,{shouldLoad:w,resolve:async p=>(p&&r.method==="GET"&&(f.route.lazy||f.route.loader)&&(w=!0),w?mk(e,r,f,v,p,u):Promise.resolve({type:Me.data,result:void 0}))})}),d=await t({matches:h,request:r,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(c)}catch{}return d}async function mk(t,e,n,r,i,s){let o,a,l=u=>{let c,h=new Promise((m,v)=>c=v);a=()=>c(),e.signal.addEventListener("abort",a);let d=m=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:s},...m!==void 0?[m]:[]),f=(async()=>{try{return{type:"data",result:await(i?i(v=>d(v)):d())}}catch(m){return{type:"error",result:m}}})();return Promise.race([f,h])};try{let u=n.route[t];if(r)if(u){let c,[h]=await Promise.all([l(u).catch(d=>{c=d}),r]);if(c!==void 0)throw c;o=h}else if(await r,u=n.route[t],u)o=await l(u);else if(t==="action"){let c=new URL(e.url),h=c.pathname+c.search;throw Ft(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Me.data,result:void 0};else if(u)o=await l(u);else{let c=new URL(e.url),h=c.pathname+c.search;throw Ft(404,{pathname:h})}Se(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Me.error,result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function vk(t){let{result:e,type:n}=t;if(bw(e)){let h;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(d){return{type:Me.error,error:d}}return n===Me.error?{type:Me.error,error:new Jl(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:Me.data,data:h,statusCode:e.status,headers:e.headers}}if(n===Me.error){if(lv(e)){var r,i;if(e.data instanceof Error){var s,o;return{type:Me.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:Me.error,error:new Jl(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:ea(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:Me.error,error:e,statusCode:ea(e)?e.status:void 0}}if(xk(e)){var a,l;return{type:Me.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(lv(e)){var u,c;return{type:Me.data,data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:Me.data,data:e}}function gk(t,e,n,r,i,s){let o=t.headers.get("Location");if(Se(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Xf.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=yd(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function nv(t,e,n){if(Xf.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=pa(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Oi(t,e,n,r){let i=t.createURL(xw(e)).toString(),s={signal:n};if(r&&bn(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=_d(r.formData):s.body=r.formData}return new Request(i,s)}function _d(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function rv(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function yk(t,e,n,r,i){let s={},o=null,a,l=!1,u={},c=n&&Gt(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let d=h.route.id,f=e[d];if(Se(!ai(f),"Cannot handle redirect results in processLoaderData"),Gt(f)){let m=f.error;c!==void 0&&(m=c,c=void 0),o=o||{};{let v=ti(t,d);o[v.route.id]==null&&(o[v.route.id]=m)}s[d]=void 0,l||(l=!0,a=ea(f.error)?f.error.status:500),f.headers&&(u[d]=f.headers)}else Nr(f)?(r.set(d,f.deferredData),s[d]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(u[d]=f.headers)):(s[d]=f.data,f.statusCode&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(u[d]=f.headers))}),c!==void 0&&n&&(o={[n[0]]:c},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function iv(t,e,n,r,i,s,o){let{loaderData:a,errors:l}=yk(e,n,r,o);return i.forEach(u=>{let{key:c,match:h,controller:d}=u,f=s[c];if(Se(f,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(Gt(f)){let m=ti(t.matches,h==null?void 0:h.route.id);l&&l[m.route.id]||(l=Fe({},l,{[m.route.id]:f.error})),t.fetchers.delete(c)}else if(ai(f))Se(!1,"Unhandled fetcher revalidation redirect");else if(Nr(f))Se(!1,"Unhandled fetcher deferred data");else{let m=yr(f.data);t.fetchers.set(c,m)}}),{loaderData:a,errors:l}}function sv(t,e,n,r){let i=Fe({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function ov(t){return t?Gt(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ti(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function av(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ft(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Jl(t||500,a,new Error(l),!0)}function Qa(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(ai(i))return{key:r,result:i}}}function xw(t){let e=typeof t=="string"?cr(t):t;return fa(Fe({},e,{hash:""}))}function wk(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function _k(t){return bw(t.result)&&sk.has(t.result.status)}function Nr(t){return t.type===Me.deferred}function Gt(t){return t.type===Me.error}function ai(t){return(t&&t.type)===Me.redirect}function lv(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function xk(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function bw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function bk(t){return ik.has(t.toLowerCase())}function bn(t){return nk.has(t.toLowerCase())}async function Sk(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],u=t.find(d=>(d==null?void 0:d.route.id)===a);if(!u)continue;let c=r.find(d=>d.route.id===u.route.id),h=c!=null&&!ww(c,u)&&(i&&i[u.route.id])!==void 0;Nr(l)&&h&&await Gf(l,n,!1).then(d=>{d&&(e[a]=d)})}}async function kk(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(u=>(u==null?void 0:u.route.id)===s)&&Nr(a)&&(Se(o,"Expected an AbortController for revalidating fetcher deferred result"),await Gf(a,o.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function Gf(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Me.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Me.error,error:i}}return{type:Me.data,data:t.deferredData.data}}}function qf(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function uo(t,e){let n=typeof e=="string"?cr(e).search:e.search;if(t[t.length-1].route.index&&qf(n||""))return t[t.length-1];let r=vw(t);return r[r.length-1]}function uv(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Kc(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Ek(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Xs(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ck(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function yr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Tk(t,e){try{let n=t.sessionStorage.getItem(yw);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function Rk(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(yw,JSON.stringify(n))}catch(r){gi(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xl.apply(this,arguments)}const Hu=y.createContext(null),Sw=y.createContext(null),ma=y.createContext(null),ep=y.createContext(null),Ei=y.createContext({outlet:null,matches:[],isDataRoute:!1}),kw=y.createContext(null);function va(){return y.useContext(ep)!=null}function Yu(){return va()||Se(!1),y.useContext(ep).location}function Ew(t){y.useContext(ma).static||y.useLayoutEffect(t)}function Pk(){let{isDataRoute:t}=y.useContext(Ei);return t?Vk():Nk()}function Nk(){va()||Se(!1);let t=y.useContext(Hu),{basename:e,future:n,navigator:r}=y.useContext(ma),{matches:i}=y.useContext(Ei),{pathname:s}=Yu(),o=JSON.stringify(Zf(i,n.v7_relativeSplatPath)),a=y.useRef(!1);return Ew(()=>{a.current=!0}),y.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=Jf(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Fr([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,o,s,t])}function Mk(t,e,n,r){va()||Se(!1);let{navigator:i,static:s}=y.useContext(ma),{matches:o}=y.useContext(Ei),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=Yu(),h;h=c;let d=h.pathname||"/",f=d;if(u!=="/"){let w=u.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(w.length).join("/")}let m=!s&&n&&n.matches&&n.matches.length>0?n.matches:ei(t,{pathname:f});return jk(m&&m.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Fr([u,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:Fr([u,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r)}function Ok(){let t=Fk(),e=ea(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:i},n):null,null)}const Ak=y.createElement(Ok,null);class Lk extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(Ei.Provider,{value:this.props.routeContext},y.createElement(kw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dk(t){let{routeContext:e,match:n,children:r}=t,i=y.useContext(Hu);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Ei.Provider,{value:e},r)}function jk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||Se(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:f}=n,m=h.route.loader&&d[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,d)=>{let f,m=!1,v=null,w=null;n&&(f=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||Ak,l&&(u<0&&d===0?(m=!0,w=null):u===d&&(m=!0,w=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,d+1)),p=()=>{let _;return f?_=v:m?_=w:h.route.Component?_=y.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=c,y.createElement(Dk,{match:h,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?y.createElement(Lk,{location:n.location,revalidation:n.revalidation,component:v,error:f,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var Cw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Cw||{}),Gl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gl||{});function Ik(t){let e=y.useContext(Hu);return e||Se(!1),e}function zk(t){let e=y.useContext(Sw);return e||Se(!1),e}function $k(t){let e=y.useContext(Ei);return e||Se(!1),e}function Tw(t){let e=$k(),n=e.matches[e.matches.length-1];return n.route.id||Se(!1),n.route.id}function Fk(){var t;let e=y.useContext(kw),n=zk(Gl.UseRouteError),r=Tw(Gl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Vk(){let{router:t}=Ik(Cw.UseNavigateStable),e=Tw(Gl.UseNavigateStable),n=y.useRef(!1);return Ew(()=>{n.current=!0}),y.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Xl({fromRouteId:e},s)))},[t,e])}function Uk(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function ql(t){let{to:e,replace:n,state:r,relative:i}=t;va()||Se(!1);let{future:s,static:o}=y.useContext(ma),{matches:a}=y.useContext(Ei),{pathname:l}=Yu(),u=Pk(),c=Jf(e,Zf(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(c);return y.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function Bk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=nt.Pop,navigator:s,static:o=!1,future:a}=t;va()&&Se(!1);let l=e.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:l,navigator:s,static:o,future:Xl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=cr(r));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:m="default"}=r,v=y.useMemo(()=>{let w=pa(c,l);return w==null?null:{location:{pathname:w,search:h,hash:d,state:f,key:m},navigationType:i}},[l,c,h,d,f,m,i]);return v==null?null:y.createElement(ma.Provider,{value:u},y.createElement(ep.Provider,{children:n,value:v}))}new Promise(()=>{});function Wk(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:y.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:y.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:y.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eu.apply(this,arguments)}const Hk="6";try{window.__reactRouterVersion=Hk}catch{}function Yk(t,e){return uk({basename:void 0,future:eu({},void 0,{v7_prependBasename:!0}),history:AS({window:void 0}),hydrationData:Qk(),routes:t,mapRouteProperties:Wk,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Qk(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=eu({},e,{errors:Kk(e.errors)})),e}function Kk(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Jl(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const Zk=y.createContext({isTransitioning:!1}),Jk=y.createContext(new Map),Xk="startTransition",cv=x1[Xk],Gk="flushSync",hv=OS[Gk];function qk(t){cv?cv(t):t()}function Gs(t){hv?hv(t):t()}let eE=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function tE(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=y.useState(n.state),[o,a]=y.useState(),[l,u]=y.useState({isTransitioning:!1}),[c,h]=y.useState(),[d,f]=y.useState(),[m,v]=y.useState(),w=y.useRef(new Map),{v7_startTransition:g}=r||{},p=y.useCallback(P=>{g?qk(P):P()},[g]),_=y.useCallback((P,L)=>{let{deletedFetchers:O,flushSync:oe,viewTransitionOpts:j}=L;P.fetchers.forEach((U,ae)=>{U.data!==void 0&&w.current.set(ae,U.data)}),O.forEach(U=>w.current.delete(U));let q=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!j||q){oe?Gs(()=>s(P)):p(()=>s(P));return}if(oe){Gs(()=>{d&&(c&&c.resolve(),d.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:j.currentLocation,nextLocation:j.nextLocation})});let U=n.window.document.startViewTransition(()=>{Gs(()=>s(P))});U.finished.finally(()=>{Gs(()=>{h(void 0),f(void 0),a(void 0),u({isTransitioning:!1})})}),Gs(()=>f(U));return}d?(c&&c.resolve(),d.skipTransition(),v({state:P,currentLocation:j.currentLocation,nextLocation:j.nextLocation})):(a(P),u({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}))},[n.window,d,c,w,p]);y.useLayoutEffect(()=>n.subscribe(_),[n,_]),y.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new eE)},[l]),y.useEffect(()=>{if(c&&o&&n.window){let P=o,L=c.promise,O=n.window.document.startViewTransition(async()=>{p(()=>s(P)),await L});O.finished.finally(()=>{h(void 0),f(void 0),a(void 0),u({isTransitioning:!1})}),f(O)}},[p,o,c,n.window]),y.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,d,i.location,o]),y.useEffect(()=>{!l.isTransitioning&&m&&(a(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),v(void 0))},[l.isTransitioning,m]),y.useEffect(()=>{},[]);let b=y.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:P=>n.navigate(P),push:(P,L,O)=>n.navigate(P,{state:L,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(P,L,O)=>n.navigate(P,{replace:!0,state:L,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[n]),C=n.basename||"/",A=y.useMemo(()=>({router:n,navigator:b,static:!1,basename:C}),[n,b,C]),x=y.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return y.useEffect(()=>Uk(r,n.future),[r,n.future]),y.createElement(y.Fragment,null,y.createElement(Hu.Provider,{value:A},y.createElement(Sw.Provider,{value:i},y.createElement(Jk.Provider,{value:w.current},y.createElement(Zk.Provider,{value:l},y.createElement(Bk,{basename:C,location:i.location,navigationType:i.historyAction,navigator:b,future:x},i.initialized||n.future.v7_partialHydration?y.createElement(nE,{routes:n.routes,future:n.future,state:i}):e))))),null)}const nE=y.memo(rE);function rE(t){let{routes:e,future:n,state:r}=t;return Mk(e,void 0,r,n)}var dv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(dv||(dv={}));var fv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fv||(fv={}));var tu=["light","dark"],tp="(prefers-color-scheme: dark)",iE=typeof window>"u",Rw=y.createContext(void 0),sE=t=>y.useContext(Rw)?t.children:y.createElement(aE,{...t}),oE=["light","dark"],aE=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:s=oE,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:l,children:u,nonce:c})=>{let[h,d]=y.useState(()=>pv(i,o)),[f,m]=y.useState(()=>pv(i)),v=l?Object.values(l):s,w=y.useCallback(b=>{let C=b;if(!C)return;b==="system"&&n&&(C=mv());let A=l?l[C]:C,x=e?uE():null,P=document.documentElement;if(a==="class"?(P.classList.remove(...v),A&&P.classList.add(A)):A?P.setAttribute(a,A):P.removeAttribute(a),r){let L=tu.includes(o)?o:null,O=tu.includes(C)?C:L;P.style.colorScheme=O}x==null||x()},[]),g=y.useCallback(b=>{let C=typeof b=="function"?b(b):b;d(C);try{localStorage.setItem(i,C)}catch{}},[t]),p=y.useCallback(b=>{let C=mv(b);m(C),h==="system"&&n&&!t&&w("system")},[h,t]);y.useEffect(()=>{let b=window.matchMedia(tp);return b.addListener(p),p(b),()=>b.removeListener(p)},[p]),y.useEffect(()=>{let b=C=>{if(C.key!==i)return;let A=C.newValue||o;g(A)};return window.addEventListener("storage",b),()=>window.removeEventListener("storage",b)},[g]),y.useEffect(()=>{w(t??h)},[t,h]);let _=y.useMemo(()=>({theme:h,setTheme:g,forcedTheme:t,resolvedTheme:h==="system"?f:h,themes:n?[...s,"system"]:s,systemTheme:n?f:void 0}),[h,g,t,f,n,s]);return y.createElement(Rw.Provider,{value:_},y.createElement(lE,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:n,enableColorScheme:r,storageKey:i,themes:s,defaultTheme:o,attribute:a,value:l,children:u,attrs:v,nonce:c}),u)},lE=y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let u=s==="system",c=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=i?tu.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(m,v=!1,w=!0)=>{let g=o?o[m]:m,p=v?m+"|| ''":`'${g}'`,_="";return i&&w&&!v&&tu.includes(m)&&(_+=`d.style.colorScheme = '${m}';`),n==="class"?v||g?_+=`c.add(${p})`:_+="null":g&&(_+=`d[s](n,${p})`),_},f=t?`!function(){${c}${d(t)}}()`:r?`!function(){try{${c}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${tp}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}${u?"":"else{"+d(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${c}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}else{${d(s,!1,!1)};}${h}}catch(t){}}();`;return y.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})}),pv=(t,e)=>{if(iE)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},uE=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},mv=t=>(t||(t=window.matchMedia(tp)),t.matches?"dark":"light"),ga=t=>t.type==="checkbox",Gi=t=>t instanceof Date,Ot=t=>t==null;const Pw=t=>typeof t=="object";var st=t=>!Ot(t)&&!Array.isArray(t)&&Pw(t)&&!Gi(t),Nw=t=>st(t)&&t.target?ga(t.target)?t.target.checked:t.target.value:t,cE=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Mw=(t,e)=>t.has(cE(e)),hE=t=>{const e=t.constructor&&t.constructor.prototype;return st(e)&&e.hasOwnProperty("isPrototypeOf")},np=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $t(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(np&&(t instanceof Blob||t instanceof FileList))&&(n||st(t)))if(e=n?[]:{},!n&&!hE(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=$t(t[r]));else return t;return e}var Qu=t=>Array.isArray(t)?t.filter(Boolean):[],Je=t=>t===void 0,B=(t,e,n)=>{if(!e||!st(t))return n;const r=Qu(e.split(/[,[\].]+?/)).reduce((i,s)=>Ot(i)?i:i[s],t);return Je(r)||r===t?Je(t[e])?n:t[e]:r},an=t=>typeof t=="boolean",rp=t=>/^\w*$/.test(t),Ow=t=>Qu(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ne=(t,e,n)=>{let r=-1;const i=rp(e)?[e]:Ow(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=st(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const nu={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},En={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Bn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Aw=be.createContext(null),Ku=()=>be.useContext(Aw),dE=t=>{const{children:e,...n}=t;return be.createElement(Aw.Provider,{value:n},e)};var Lw=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==En.all&&(e._proxyFormState[o]=!r||En.all),n&&(n[o]=!0),t[o]}});return i},Vt=t=>st(t)&&!Object.keys(t).length,Dw=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Vt(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||En.all))},Eo=t=>Array.isArray(t)?t:[t],jw=(t,e,n)=>!t||!e||t===e||Eo(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function ip(t){const e=be.useRef(t);e.current=t,be.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function fE(t){const e=Ku(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,a]=be.useState(n._formState),l=be.useRef(!0),u=be.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=be.useRef(i);return c.current=i,ip({disabled:r,next:h=>l.current&&jw(c.current,h.name,s)&&Dw(h,u.current,n._updateFormState)&&a({...n._formState,...h}),subject:n._subjects.state}),be.useEffect(()=>(l.current=!0,u.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),Lw(o,n,u.current,!1)}var Dn=t=>typeof t=="string",Iw=(t,e,n,r,i)=>Dn(t)?(r&&e.watch.add(t),B(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),B(n,s))):(r&&(e.watchAll=!0),n);function pE(t){const e=Ku(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},a=be.useRef(r);a.current=r,ip({disabled:s,subject:n._subjects.values,next:c=>{jw(a.current,c.name,o)&&u($t(Iw(a.current,n._names,c.values||n._formValues,!1,i)))}});const[l,u]=be.useState(n._getWatch(r,i));return be.useEffect(()=>n._removeUnmounted()),l}function mE(t){const e=Ku(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=Mw(i._names.array,n),a=pE({control:i,name:n,defaultValue:B(i._formValues,n,B(i._defaultValues,n,t.defaultValue)),exact:!0}),l=fE({control:i,name:n,exact:!0}),u=be.useRef(i.register(n,{...t.rules,value:a,...an(t.disabled)?{disabled:t.disabled}:{}}));return be.useEffect(()=>{const c=i._options.shouldUnregister||s,h=(d,f)=>{const m=B(i._fields,d);m&&m._f&&(m._f.mount=f)};if(h(n,!0),c){const d=$t(B(i._options.defaultValues,n));Ne(i._defaultValues,n,d),Je(B(i._formValues,n))&&Ne(i._formValues,n,d)}return()=>{(o?c&&!i._state.action:c)?i.unregister(n):h(n,!1)}},[n,i,o,s]),be.useEffect(()=>{B(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:B(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:a,...an(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:be.useCallback(c=>u.current.onChange({target:{value:Nw(c),name:n},type:nu.CHANGE}),[n]),onBlur:be.useCallback(()=>u.current.onBlur({target:{value:B(i._formValues,n),name:n},type:nu.BLUR}),[n,i]),ref:be.useCallback(c=>{const h=B(i._fields,n);h&&c&&(h._f.ref={focus:()=>c.focus(),select:()=>c.select(),setCustomValidity:d=>c.setCustomValidity(d),reportValidity:()=>c.reportValidity()})},[i._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!B(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!B(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!B(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!B(l.validatingFields,n)},error:{enumerable:!0,get:()=>B(l.errors,n)}})}}const vE=t=>t.render(mE(t));var zw=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},vv=t=>({isOnSubmit:!t||t===En.onSubmit,isOnBlur:t===En.onBlur,isOnChange:t===En.onChange,isOnAll:t===En.all,isOnTouch:t===En.onTouched}),gv=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Co=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=B(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Co(a,e))break}else if(st(a)&&Co(a,e))break}}};var gE=(t,e,n)=>{const r=Eo(B(t,n));return Ne(r,"root",e[n]),Ne(t,n,r),t},sp=t=>t.type==="file",Xn=t=>typeof t=="function",ru=t=>{if(!np)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},xl=t=>Dn(t),op=t=>t.type==="radio",iu=t=>t instanceof RegExp;const yv={value:!1,isValid:!1},wv={value:!0,isValid:!0};var $w=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Je(t[0].attributes.value)?Je(t[0].value)||t[0].value===""?wv:{value:t[0].value,isValid:!0}:wv:yv}return yv};const _v={isValid:!1,value:null};var Fw=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,_v):_v;function xv(t,e,n="validate"){if(xl(t)||Array.isArray(t)&&t.every(xl)||an(t)&&!t)return{type:n,message:xl(t)?t:"",ref:e}}var Ai=t=>st(t)&&!iu(t)?t:{value:t,message:""},bv=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:h,pattern:d,validate:f,name:m,valueAsNumber:v,mount:w,disabled:g}=t._f,p=B(e,m);if(!w||g)return{};const _=o?o[0]:s,b=j=>{r&&_.reportValidity&&(_.setCustomValidity(an(j)?"":j||""),_.reportValidity())},C={},A=op(s),x=ga(s),P=A||x,L=(v||sp(s))&&Je(s.value)&&Je(p)||ru(s)&&s.value===""||p===""||Array.isArray(p)&&!p.length,O=zw.bind(null,m,n,C),oe=(j,q,U,ae=Bn.maxLength,ve=Bn.minLength)=>{const we=j?q:U;C[m]={type:j?ae:ve,message:we,ref:s,...O(j?ae:ve,we)}};if(i?!Array.isArray(p)||!p.length:a&&(!P&&(L||Ot(p))||an(p)&&!p||x&&!$w(o).isValid||A&&!Fw(o).isValid)){const{value:j,message:q}=xl(a)?{value:!!a,message:a}:Ai(a);if(j&&(C[m]={type:Bn.required,message:q,ref:_,...O(Bn.required,q)},!n))return b(q),C}if(!L&&(!Ot(c)||!Ot(h))){let j,q;const U=Ai(h),ae=Ai(c);if(!Ot(p)&&!isNaN(p)){const ve=s.valueAsNumber||p&&+p;Ot(U.value)||(j=ve>U.value),Ot(ae.value)||(q=ve<ae.value)}else{const ve=s.valueAsDate||new Date(p),we=ne=>new Date(new Date().toDateString()+" "+ne),D=s.type=="time",Z=s.type=="week";Dn(U.value)&&p&&(j=D?we(p)>we(U.value):Z?p>U.value:ve>new Date(U.value)),Dn(ae.value)&&p&&(q=D?we(p)<we(ae.value):Z?p<ae.value:ve<new Date(ae.value))}if((j||q)&&(oe(!!j,U.message,ae.message,Bn.max,Bn.min),!n))return b(C[m].message),C}if((l||u)&&!L&&(Dn(p)||i&&Array.isArray(p))){const j=Ai(l),q=Ai(u),U=!Ot(j.value)&&p.length>+j.value,ae=!Ot(q.value)&&p.length<+q.value;if((U||ae)&&(oe(U,j.message,q.message),!n))return b(C[m].message),C}if(d&&!L&&Dn(p)){const{value:j,message:q}=Ai(d);if(iu(j)&&!p.match(j)&&(C[m]={type:Bn.pattern,message:q,ref:s,...O(Bn.pattern,q)},!n))return b(q),C}if(f){if(Xn(f)){const j=await f(p,e),q=xv(j,_);if(q&&(C[m]={...q,...O(Bn.validate,q.message)},!n))return b(q.message),C}else if(st(f)){let j={};for(const q in f){if(!Vt(j)&&!n)break;const U=xv(await f[q](p,e),_,q);U&&(j={...U,...O(q,U.message)},b(U.message),n&&(C[m]=j))}if(!Vt(j)&&(C[m]={ref:_,...j},!n))return C}}return b(!0),C};function yE(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Je(t)?r++:t[e[r++]];return t}function wE(t){for(const e in t)if(t.hasOwnProperty(e)&&!Je(t[e]))return!1;return!0}function lt(t,e){const n=Array.isArray(e)?e:rp(e)?[e]:Ow(e),r=n.length===1?t:yE(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(st(r)&&Vt(r)||Array.isArray(r)&&wE(r))&&lt(t,n.slice(0,-1)),t}var Zc=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},su=t=>Ot(t)||!Pw(t);function Cr(t,e){if(su(t)||su(e))return t===e;if(Gi(t)&&Gi(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Gi(s)&&Gi(o)||st(s)&&st(o)||Array.isArray(s)&&Array.isArray(o)?!Cr(s,o):s!==o)return!1}}return!0}var Vw=t=>t.type==="select-multiple",_E=t=>op(t)||ga(t),Jc=t=>ru(t)&&t.isConnected,Uw=t=>{for(const e in t)if(Xn(t[e]))return!0;return!1};function ou(t,e={}){const n=Array.isArray(t);if(st(t)||n)for(const r in t)Array.isArray(t[r])||st(t[r])&&!Uw(t[r])?(e[r]=Array.isArray(t[r])?[]:{},ou(t[r],e[r])):Ot(t[r])||(e[r]=!0);return e}function Bw(t,e,n){const r=Array.isArray(t);if(st(t)||r)for(const i in t)Array.isArray(t[i])||st(t[i])&&!Uw(t[i])?Je(e)||su(n[i])?n[i]=Array.isArray(t[i])?ou(t[i],[]):{...ou(t[i])}:Bw(t[i],Ot(e)?{}:e[i],n[i]):n[i]=!Cr(t[i],e[i]);return n}var Ka=(t,e)=>Bw(t,e,ou(e)),Ww=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Je(t)?t:e?t===""?NaN:t&&+t:n&&Dn(t)?new Date(t):r?r(t):t;function Xc(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return sp(e)?e.files:op(e)?Fw(t.refs).value:Vw(e)?[...e.selectedOptions].map(({value:n})=>n):ga(e)?$w(t.refs).value:Ww(Je(e.value)?t.ref.value:e.value,t)}var xE=(t,e,n,r)=>{const i={};for(const s of t){const o=B(e,s);o&&Ne(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},qs=t=>Je(t)?t:iu(t)?t.source:st(t)?iu(t.value)?t.value.source:t.value:t;const Sv="AsyncFunction";var bE=t=>(!t||!t.validate)&&!!(Xn(t.validate)&&t.validate.constructor.name===Sv||st(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Sv)),SE=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function kv(t,e,n){const r=B(t,n);if(r||rp(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=B(e,s),a=B(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var kE=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,EE=(t,e)=>!Qu(B(t,e)).length&&lt(t,e);const CE={mode:En.onSubmit,reValidateMode:En.onChange,shouldFocusError:!0};function TE(t={}){let e={...CE,...t},n={submitCount:0,isDirty:!1,isLoading:Xn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=st(e.defaultValues)||st(e.values)?$t(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:$t(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Zc(),array:Zc(),state:Zc()},d=vv(e.mode),f=vv(e.reValidateMode),m=e.criteriaMode===En.all,v=k=>R=>{clearTimeout(u),u=setTimeout(k,R)},w=async k=>{if(c.isValid||k){const R=e.resolver?Vt((await P()).errors):await O(r,!0);R!==n.isValid&&h.state.next({isValid:R})}},g=(k,R)=>{(c.isValidating||c.validatingFields)&&((k||Array.from(a.mount)).forEach(M=>{M&&(R?Ne(n.validatingFields,M,R):lt(n.validatingFields,M))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Vt(n.validatingFields)}))},p=(k,R=[],M,Y,W=!0,V=!0)=>{if(Y&&M){if(o.action=!0,V&&Array.isArray(B(r,k))){const G=M(B(r,k),Y.argA,Y.argB);W&&Ne(r,k,G)}if(V&&Array.isArray(B(n.errors,k))){const G=M(B(n.errors,k),Y.argA,Y.argB);W&&Ne(n.errors,k,G),EE(n.errors,k)}if(c.touchedFields&&V&&Array.isArray(B(n.touchedFields,k))){const G=M(B(n.touchedFields,k),Y.argA,Y.argB);W&&Ne(n.touchedFields,k,G)}c.dirtyFields&&(n.dirtyFields=Ka(i,s)),h.state.next({name:k,isDirty:j(k,R),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ne(s,k,R)},_=(k,R)=>{Ne(n.errors,k,R),h.state.next({errors:n.errors})},b=k=>{n.errors=k,h.state.next({errors:n.errors,isValid:!1})},C=(k,R,M,Y)=>{const W=B(r,k);if(W){const V=B(s,k,Je(M)?B(i,k):M);Je(V)||Y&&Y.defaultChecked||R?Ne(s,k,R?V:Xc(W._f)):ae(k,V),o.mount&&w()}},A=(k,R,M,Y,W)=>{let V=!1,G=!1;const _e={name:k},Xe=!!(B(r,k)&&B(r,k)._f&&B(r,k)._f.disabled);if(!M||Y){c.isDirty&&(G=n.isDirty,n.isDirty=_e.isDirty=j(),V=G!==_e.isDirty);const He=Xe||Cr(B(i,k),R);G=!!(!Xe&&B(n.dirtyFields,k)),He||Xe?lt(n.dirtyFields,k):Ne(n.dirtyFields,k,!0),_e.dirtyFields=n.dirtyFields,V=V||c.dirtyFields&&G!==!He}if(M){const He=B(n.touchedFields,k);He||(Ne(n.touchedFields,k,M),_e.touchedFields=n.touchedFields,V=V||c.touchedFields&&He!==M)}return V&&W&&h.state.next(_e),V?_e:{}},x=(k,R,M,Y)=>{const W=B(n.errors,k),V=c.isValid&&an(R)&&n.isValid!==R;if(t.delayError&&M?(l=v(()=>_(k,M)),l(t.delayError)):(clearTimeout(u),l=null,M?Ne(n.errors,k,M):lt(n.errors,k)),(M?!Cr(W,M):W)||!Vt(Y)||V){const G={...Y,...V&&an(R)?{isValid:R}:{},errors:n.errors,name:k};n={...n,...G},h.state.next(G)}},P=async k=>{g(k,!0);const R=await e.resolver(s,e.context,xE(k||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return g(k),R},L=async k=>{const{errors:R}=await P(k);if(k)for(const M of k){const Y=B(R,M);Y?Ne(n.errors,M,Y):lt(n.errors,M)}else n.errors=R;return R},O=async(k,R,M={valid:!0})=>{for(const Y in k){const W=k[Y];if(W){const{_f:V,...G}=W;if(V){const _e=a.array.has(V.name),Xe=W._f&&bE(W._f);Xe&&c.validatingFields&&g([Y],!0);const He=await bv(W,s,m,e.shouldUseNativeValidation&&!R,_e);if(Xe&&c.validatingFields&&g([Y]),He[V.name]&&(M.valid=!1,R))break;!R&&(B(He,V.name)?_e?gE(n.errors,He,V.name):Ne(n.errors,V.name,He[V.name]):lt(n.errors,V.name))}!Vt(G)&&await O(G,R,M)}}return M.valid},oe=()=>{for(const k of a.unMount){const R=B(r,k);R&&(R._f.refs?R._f.refs.every(M=>!Jc(M)):!Jc(R._f.ref))&&at(k)}a.unMount=new Set},j=(k,R)=>(k&&R&&Ne(s,k,R),!Cr(he(),i)),q=(k,R,M)=>Iw(k,a,{...o.mount?s:Je(R)?i:Dn(k)?{[k]:R}:R},M,R),U=k=>Qu(B(o.mount?s:i,k,t.shouldUnregister?B(i,k,[]):[])),ae=(k,R,M={})=>{const Y=B(r,k);let W=R;if(Y){const V=Y._f;V&&(!V.disabled&&Ne(s,k,Ww(R,V)),W=ru(V.ref)&&Ot(R)?"":R,Vw(V.ref)?[...V.ref.options].forEach(G=>G.selected=W.includes(G.value)):V.refs?ga(V.ref)?V.refs.length>1?V.refs.forEach(G=>(!G.defaultChecked||!G.disabled)&&(G.checked=Array.isArray(W)?!!W.find(_e=>_e===G.value):W===G.value)):V.refs[0]&&(V.refs[0].checked=!!W):V.refs.forEach(G=>G.checked=G.value===W):sp(V.ref)?V.ref.value="":(V.ref.value=W,V.ref.type||h.values.next({name:k,values:{...s}})))}(M.shouldDirty||M.shouldTouch)&&A(k,W,M.shouldTouch,M.shouldDirty,!0),M.shouldValidate&&ne(k)},ve=(k,R,M)=>{for(const Y in R){const W=R[Y],V=`${k}.${Y}`,G=B(r,V);(a.array.has(k)||!su(W)||G&&!G._f)&&!Gi(W)?ve(V,W,M):ae(V,W,M)}},we=(k,R,M={})=>{const Y=B(r,k),W=a.array.has(k),V=$t(R);Ne(s,k,V),W?(h.array.next({name:k,values:{...s}}),(c.isDirty||c.dirtyFields)&&M.shouldDirty&&h.state.next({name:k,dirtyFields:Ka(i,s),isDirty:j(k,V)})):Y&&!Y._f&&!Ot(V)?ve(k,V,M):ae(k,V,M),gv(k,a)&&h.state.next({...n}),h.values.next({name:o.mount?k:void 0,values:{...s}})},D=async k=>{o.mount=!0;const R=k.target;let M=R.name,Y=!0;const W=B(r,M),V=()=>R.type?Xc(W._f):Nw(k),G=_e=>{Y=Number.isNaN(_e)||Cr(_e,B(s,M,_e))};if(W){let _e,Xe;const He=V(),bt=k.type===nu.BLUR||k.type===nu.FOCUS_OUT,gn=!SE(W._f)&&!e.resolver&&!B(n.errors,M)&&!W._f.deps||kE(bt,B(n.touchedFields,M),n.isSubmitted,f,d),Ti=gv(M,a,bt);Ne(s,M,He),bt?(W._f.onBlur&&W._f.onBlur(k),l&&l(0)):W._f.onChange&&W._f.onChange(k);const fr=A(M,He,bt,!1),vc=!Vt(fr)||Ti;if(!bt&&h.values.next({name:M,type:k.type,values:{...s}}),gn)return c.isValid&&(t.mode==="onBlur"?bt&&w():w()),vc&&h.state.next({name:M,...Ti?{}:fr});if(!bt&&Ti&&h.state.next({...n}),e.resolver){const{errors:yn}=await P([M]);if(G(He),Y){const ka=kv(n.errors,r,M),zs=kv(yn,r,ka.name||M);_e=zs.error,M=zs.name,Xe=Vt(yn)}}else g([M],!0),_e=(await bv(W,s,m,e.shouldUseNativeValidation))[M],g([M]),G(He),Y&&(_e?Xe=!1:c.isValid&&(Xe=await O(r,!0)));Y&&(W._f.deps&&ne(W._f.deps),x(M,Xe,_e,fr))}},Z=(k,R)=>{if(B(n.errors,R)&&k.focus)return k.focus(),1},ne=async(k,R={})=>{let M,Y;const W=Eo(k);if(e.resolver){const V=await L(Je(k)?k:W);M=Vt(V),Y=k?!W.some(G=>B(V,G)):M}else k?(Y=(await Promise.all(W.map(async V=>{const G=B(r,V);return await O(G&&G._f?{[V]:G}:G)}))).every(Boolean),!(!Y&&!n.isValid)&&w()):Y=M=await O(r);return h.state.next({...!Dn(k)||c.isValid&&M!==n.isValid?{}:{name:k},...e.resolver||!k?{isValid:M}:{},errors:n.errors}),R.shouldFocus&&!Y&&Co(r,Z,k?W:a.mount),Y},he=k=>{const R={...o.mount?s:i};return Je(k)?R:Dn(k)?B(R,k):k.map(M=>B(R,M))},ke=(k,R)=>({invalid:!!B((R||n).errors,k),isDirty:!!B((R||n).dirtyFields,k),error:B((R||n).errors,k),isValidating:!!B(n.validatingFields,k),isTouched:!!B((R||n).touchedFields,k)}),ht=k=>{k&&Eo(k).forEach(R=>lt(n.errors,R)),h.state.next({errors:k?n.errors:{}})},ot=(k,R,M)=>{const Y=(B(r,k,{_f:{}})._f||{}).ref,W=B(n.errors,k)||{},{ref:V,message:G,type:_e,...Xe}=W;Ne(n.errors,k,{...Xe,...R,ref:Y}),h.state.next({name:k,errors:n.errors,isValid:!1}),M&&M.shouldFocus&&Y&&Y.focus&&Y.focus()},mt=(k,R)=>Xn(k)?h.values.subscribe({next:M=>k(q(void 0,R),M)}):q(k,R,!0),at=(k,R={})=>{for(const M of k?Eo(k):a.mount)a.mount.delete(M),a.array.delete(M),R.keepValue||(lt(r,M),lt(s,M)),!R.keepError&&lt(n.errors,M),!R.keepDirty&&lt(n.dirtyFields,M),!R.keepTouched&&lt(n.touchedFields,M),!R.keepIsValidating&&lt(n.validatingFields,M),!e.shouldUnregister&&!R.keepDefaultValue&&lt(i,M);h.values.next({values:{...s}}),h.state.next({...n,...R.keepDirty?{isDirty:j()}:{}}),!R.keepIsValid&&w()},Nt=({disabled:k,name:R,field:M,fields:Y,value:W})=>{if(an(k)&&o.mount||k){const V=k?void 0:Je(W)?Xc(M?M._f:B(Y,R)._f):W;Ne(s,R,V),A(R,V,!1,!1,!0)}},hr=(k,R={})=>{let M=B(r,k);const Y=an(R.disabled)||an(t.disabled);return Ne(r,k,{...M||{},_f:{...M&&M._f?M._f:{ref:{name:k}},name:k,mount:!0,...R}}),a.mount.add(k),M?Nt({field:M,disabled:an(R.disabled)?R.disabled:t.disabled,name:k,value:R.value}):C(k,!0,R.value),{...Y?{disabled:R.disabled||t.disabled}:{},...e.progressive?{required:!!R.required,min:qs(R.min),max:qs(R.max),minLength:qs(R.minLength),maxLength:qs(R.maxLength),pattern:qs(R.pattern)}:{},name:k,onChange:D,onBlur:D,ref:W=>{if(W){hr(k,R),M=B(r,k);const V=Je(W.value)&&W.querySelectorAll&&W.querySelectorAll("input,select,textarea")[0]||W,G=_E(V),_e=M._f.refs||[];if(G?_e.find(Xe=>Xe===V):V===M._f.ref)return;Ne(r,k,{_f:{...M._f,...G?{refs:[..._e.filter(Jc),V,...Array.isArray(B(i,k))?[{}]:[]],ref:{type:V.type,name:k}}:{ref:V}}}),C(k,!1,void 0,V)}else M=B(r,k,{}),M._f&&(M._f.mount=!1),(e.shouldUnregister||R.shouldUnregister)&&!(Mw(a.array,k)&&o.action)&&a.unMount.add(k)}}},ba=()=>e.shouldFocusError&&Co(r,Z,a.mount),mc=k=>{an(k)&&(h.state.next({disabled:k}),Co(r,(R,M)=>{const Y=B(r,M);Y&&(R.disabled=Y._f.disabled||k,Array.isArray(Y._f.refs)&&Y._f.refs.forEach(W=>{W.disabled=Y._f.disabled||k}))},0,!1))},Sa=(k,R)=>async M=>{let Y;M&&(M.preventDefault&&M.preventDefault(),M.persist&&M.persist());let W=$t(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:V,values:G}=await P();n.errors=V,W=G}else await O(r);if(lt(n.errors,"root"),Vt(n.errors)){h.state.next({errors:{}});try{await k(W,M)}catch(V){Y=V}}else R&&await R({...n.errors},M),ba(),setTimeout(ba);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Vt(n.errors)&&!Y,submitCount:n.submitCount+1,errors:n.errors}),Y)throw Y},vt=(k,R={})=>{B(r,k)&&(Je(R.defaultValue)?we(k,$t(B(i,k))):(we(k,R.defaultValue),Ne(i,k,$t(R.defaultValue))),R.keepTouched||lt(n.touchedFields,k),R.keepDirty||(lt(n.dirtyFields,k),n.isDirty=R.defaultValue?j(k,$t(B(i,k))):j()),R.keepError||(lt(n.errors,k),c.isValid&&w()),h.state.next({...n}))},Vn=(k,R={})=>{const M=k?$t(k):i,Y=$t(M),W=Vt(k),V=W?i:Y;if(R.keepDefaultValues||(i=M),!R.keepValues){if(R.keepDirtyValues)for(const G of a.mount)B(n.dirtyFields,G)?Ne(V,G,B(s,G)):we(G,B(V,G));else{if(np&&Je(k))for(const G of a.mount){const _e=B(r,G);if(_e&&_e._f){const Xe=Array.isArray(_e._f.refs)?_e._f.refs[0]:_e._f.ref;if(ru(Xe)){const He=Xe.closest("form");if(He){He.reset();break}}}}r={}}s=t.shouldUnregister?R.keepDefaultValues?$t(i):{}:$t(V),h.array.next({values:{...V}}),h.values.next({values:{...V}})}a={mount:R.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!c.isValid||!!R.keepIsValid||!!R.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:R.keepSubmitCount?n.submitCount:0,isDirty:W?!1:R.keepDirty?n.isDirty:!!(R.keepDefaultValues&&!Cr(k,i)),isSubmitted:R.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:W?{}:R.keepDirtyValues?R.keepDefaultValues&&s?Ka(i,s):n.dirtyFields:R.keepDefaultValues&&k?Ka(i,k):R.keepDirty?n.dirtyFields:{},touchedFields:R.keepTouched?n.touchedFields:{},errors:R.keepErrors?n.errors:{},isSubmitSuccessful:R.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Is=(k,R)=>Vn(Xn(k)?k(s):k,R);return{control:{register:hr,unregister:at,getFieldState:ke,handleSubmit:Sa,setError:ot,_executeSchema:P,_getWatch:q,_getDirty:j,_updateValid:w,_removeUnmounted:oe,_updateFieldArray:p,_updateDisabledField:Nt,_getFieldArray:U,_reset:Vn,_resetDefaultValues:()=>Xn(e.defaultValues)&&e.defaultValues().then(k=>{Is(k,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:k=>{n={...n,...k}},_disableForm:mc,_subjects:h,_proxyFormState:c,_setErrors:b,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(k){o=k},get _defaultValues(){return i},get _names(){return a},set _names(k){a=k},get _formState(){return n},set _formState(k){n=k},get _options(){return e},set _options(k){e={...e,...k}}},trigger:ne,register:hr,handleSubmit:Sa,watch:mt,setValue:we,getValues:he,reset:Is,resetField:vt,clearErrors:ht,unregister:at,setError:ot,setFocus:(k,R={})=>{const M=B(r,k),Y=M&&M._f;if(Y){const W=Y.refs?Y.refs[0]:Y.ref;W.focus&&(W.focus(),R.shouldSelect&&W.select())}},getFieldState:ke}}function RE(t={}){const e=be.useRef(),n=be.useRef(),[r,i]=be.useState({isDirty:!1,isValidating:!1,isLoading:Xn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Xn(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...TE(t),formState:r});const s=e.current.control;return s._options=t,ip({subject:s._subjects.state,next:o=>{Dw(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),be.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),be.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),be.useEffect(()=>{t.values&&!Cr(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),be.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),be.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),be.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=Lw(r,s),e.current}const Ev=(t,e,n)=>{if(t&&"reportValidity"in t){const r=B(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},Hw=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?Ev(r.ref,n,t):r.refs&&r.refs.forEach(i=>Ev(i,n,t))}},PE=(t,e)=>{e.shouldUseNativeValidation&&Hw(t,e);const n={};for(const r in t){const i=B(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(NE(e.names||Object.keys(t),r)){const o=Object.assign({},B(n,r));Ne(o,"root",s),Ne(n,r,o)}else Ne(n,r,s)}return n},NE=(t,e)=>t.some(n=>n.startsWith(e+"."));var ME=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(c){return c.errors.forEach(function(h){return t.push(h)})}),e){var l=n[o].types,u=l&&l[r.code];n[o]=zw(o,e,n,i,u?[].concat(u,r.message):r.message)}t.shift()}return n},OE=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return s.shouldUseNativeValidation&&Hw({},s),{errors:{},values:n.raw?r:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:PE(ME(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},Ce;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Ce||(Ce={}));var Cv;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Cv||(Cv={}));const K=Ce.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ni=t=>{switch(typeof t){case"undefined":return K.undefined;case"string":return K.string;case"number":return isNaN(t)?K.nan:K.number;case"boolean":return K.boolean;case"function":return K.function;case"bigint":return K.bigint;case"symbol":return K.symbol;case"object":return Array.isArray(t)?K.array:t===null?K.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?K.promise:typeof Map<"u"&&t instanceof Map?K.map:typeof Set<"u"&&t instanceof Set?K.set:typeof Date<"u"&&t instanceof Date?K.date:K.object;default:return K.unknown}},$=Ce.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class dn extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),r}static assert(e){if(!(e instanceof dn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ce.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}dn.create=t=>new dn(t);const ta=(t,e)=>{let n;switch(t.code){case $.invalid_type:t.received===K.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case $.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ce.jsonStringifyReplacer)}`;break;case $.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ce.joinValues(t.keys,", ")}`;break;case $.invalid_union:n="Invalid input";break;case $.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ce.joinValues(t.options)}`;break;case $.invalid_enum_value:n=`Invalid enum value. Expected ${Ce.joinValues(t.options)}, received '${t.received}'`;break;case $.invalid_arguments:n="Invalid function arguments";break;case $.invalid_return_type:n="Invalid function return type";break;case $.invalid_date:n="Invalid date";break;case $.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ce.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case $.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case $.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case $.custom:n="Invalid input";break;case $.invalid_intersection_types:n="Intersection results could not be merged";break;case $.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case $.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ce.assertNever(t)}return{message:n}};let AE=ta;function xd(){return AE}const bd=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}};function Q(t,e){const n=xd(),r=bd({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===ta?void 0:ta].filter(i=>!!i)});t.common.issues.push(r)}class Dt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return ce;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Dt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return ce;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const ce=Object.freeze({status:"aborted"}),co=t=>({status:"dirty",value:t}),Kt=t=>({status:"valid",value:t}),Tv=t=>t.status==="aborted",Rv=t=>t.status==="dirty",au=t=>t.status==="valid",lu=t=>typeof Promise<"u"&&t instanceof Promise;function uu(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Yw(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ie;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ie||(ie={}));var ho,fo;class $n{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Pv=(t,e)=>{if(au(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new dn(t.common.issues);return this._error=n,this._error}}};function de(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var l,u;const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:(l=c??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=c??n)!==null&&u!==void 0?u:a.defaultError}},description:i}}class ge{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ni(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ni(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Dt,ctx:{common:e.parent.common,data:e.data,parsedType:ni(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(lu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ni(e)},s=this._parseSync({data:e,path:i.path,parent:i});return Pv(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ni(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(lu(i)?i:Promise.resolve(i));return Pv(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:$.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new lr({schema:this,typeName:le.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return nr.create(this,this._def)}nullable(){return wi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return zn.create(this,this._def)}promise(){return ra.create(this,this._def)}or(e){return du.create([this,e],this._def)}and(e){return fu.create(this,e,this._def)}transform(e){return new lr({...de(this._def),schema:this,typeName:le.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new yu({...de(this._def),innerType:this,defaultValue:n,typeName:le.ZodDefault})}brand(){return new Jw({typeName:le.ZodBranded,type:this,...de(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new wu({...de(this._def),innerType:this,catchValue:n,typeName:le.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Zu.create(this,e)}readonly(){return _u.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const LE=/^c[^\s-]{8,}$/i,DE=/^[0-9a-z]+$/,jE=/^[0-9A-HJKMNP-TV-Z]{26}$/,IE=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,zE=/^[a-z0-9_-]{21}$/i,$E=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,FE=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,VE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Gc;const UE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,BE=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,WE=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Qw="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",HE=new RegExp(`^${Qw}$`);function Kw(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function YE(t){return new RegExp(`^${Kw(t)}$`)}function QE(t){let e=`${Qw}T${Kw(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function KE(t,e){return!!((e==="v4"||!e)&&UE.test(t)||(e==="v6"||!e)&&BE.test(t))}class Gn extends ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==K.string){const s=this._getOrReturnCtx(e);return Q(s,{code:$.invalid_type,expected:K.string,received:s.parsedType}),ce}const r=new Dt;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Q(i,{code:$.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Q(i,{code:$.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?Q(i,{code:$.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Q(i,{code:$.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")FE.test(e.data)||(i=this._getOrReturnCtx(e,i),Q(i,{validation:"email",code:$.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Gc||(Gc=new RegExp(VE,"u")),Gc.test(e.data)||(i=this._getOrReturnCtx(e,i),Q(i,{validation:"emoji",code:$.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")IE.test(e.data)||(i=this._getOrReturnCtx(e,i),Q(i,{validation:"uuid",code:$.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")zE.test(e.data)||(i=this._getOrReturnCtx(e,i),Q(i,{validation:"nanoid",code:$.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")LE.test(e.data)||(i=this._getOrReturnCtx(e,i),Q(i,{validation:"cuid",code:$.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")DE.test(e.data)||(i=this._getOrReturnCtx(e,i),Q(i,{validation:"cuid2",code:$.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")jE.test(e.data)||(i=this._getOrReturnCtx(e,i),Q(i,{validation:"ulid",code:$.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Q(i,{validation:"url",code:$.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Q(i,{validation:"regex",code:$.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Q(i,{code:$.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Q(i,{code:$.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Q(i,{code:$.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?QE(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Q(i,{code:$.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?HE.test(e.data)||(i=this._getOrReturnCtx(e,i),Q(i,{code:$.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?YE(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Q(i,{code:$.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?$E.test(e.data)||(i=this._getOrReturnCtx(e,i),Q(i,{validation:"duration",code:$.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?KE(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Q(i,{validation:"ip",code:$.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?WE.test(e.data)||(i=this._getOrReturnCtx(e,i),Q(i,{validation:"base64",code:$.invalid_string,message:s.message}),r.dirty()):Ce.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:$.invalid_string,...ie.errToObj(r)})}_addCheck(e){return new Gn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ie.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ie.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ie.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ie.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ie.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ie.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ie.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ie.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ie.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ie.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ie.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ie.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ie.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ie.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ie.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ie.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ie.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ie.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ie.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ie.errToObj(n)})}nonempty(e){return this.min(1,ie.errToObj(e))}trim(){return new Gn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Gn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Gn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Gn.create=t=>{var e;return new Gn({checks:[],typeName:le.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...de(t)})};function ZE(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class ys extends ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==K.number){const s=this._getOrReturnCtx(e);return Q(s,{code:$.invalid_type,expected:K.number,received:s.parsedType}),ce}let r;const i=new Dt;for(const s of this._def.checks)s.kind==="int"?Ce.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{code:$.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:$.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:$.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?ZE(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Q(r,{code:$.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{code:$.not_finite,message:s.message}),i.dirty()):Ce.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ie.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ie.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ie.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ie.toString(n))}setLimit(e,n,r,i){return new ys({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ie.toString(i)}]})}_addCheck(e){return new ys({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ie.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ie.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ie.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ie.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ie.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ie.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ce.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ys.create=t=>new ys({checks:[],typeName:le.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...de(t)});class ws extends ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==K.bigint){const s=this._getOrReturnCtx(e);return Q(s,{code:$.invalid_type,expected:K.bigint,received:s.parsedType}),ce}let r;const i=new Dt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:$.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:$.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:$.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Ce.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ie.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ie.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ie.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ie.toString(n))}setLimit(e,n,r,i){return new ws({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ie.toString(i)}]})}_addCheck(e){return new ws({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ie.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ie.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ws.create=t=>{var e;return new ws({checks:[],typeName:le.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...de(t)})};class Sd extends ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==K.boolean){const r=this._getOrReturnCtx(e);return Q(r,{code:$.invalid_type,expected:K.boolean,received:r.parsedType}),ce}return Kt(e.data)}}Sd.create=t=>new Sd({typeName:le.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...de(t)});class na extends ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==K.date){const s=this._getOrReturnCtx(e);return Q(s,{code:$.invalid_type,expected:K.date,received:s.parsedType}),ce}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Q(s,{code:$.invalid_date}),ce}const r=new Dt;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Q(i,{code:$.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Q(i,{code:$.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Ce.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new na({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ie.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ie.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}na.create=t=>new na({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:le.ZodDate,...de(t)});class kd extends ge{_parse(e){if(this._getType(e)!==K.symbol){const r=this._getOrReturnCtx(e);return Q(r,{code:$.invalid_type,expected:K.symbol,received:r.parsedType}),ce}return Kt(e.data)}}kd.create=t=>new kd({typeName:le.ZodSymbol,...de(t)});class cu extends ge{_parse(e){if(this._getType(e)!==K.undefined){const r=this._getOrReturnCtx(e);return Q(r,{code:$.invalid_type,expected:K.undefined,received:r.parsedType}),ce}return Kt(e.data)}}cu.create=t=>new cu({typeName:le.ZodUndefined,...de(t)});class hu extends ge{_parse(e){if(this._getType(e)!==K.null){const r=this._getOrReturnCtx(e);return Q(r,{code:$.invalid_type,expected:K.null,received:r.parsedType}),ce}return Kt(e.data)}}hu.create=t=>new hu({typeName:le.ZodNull,...de(t)});class Ed extends ge{constructor(){super(...arguments),this._any=!0}_parse(e){return Kt(e.data)}}Ed.create=t=>new Ed({typeName:le.ZodAny,...de(t)});class os extends ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Kt(e.data)}}os.create=t=>new os({typeName:le.ZodUnknown,...de(t)});class Br extends ge{_parse(e){const n=this._getOrReturnCtx(e);return Q(n,{code:$.invalid_type,expected:K.never,received:n.parsedType}),ce}}Br.create=t=>new Br({typeName:le.ZodNever,...de(t)});class Cd extends ge{_parse(e){if(this._getType(e)!==K.undefined){const r=this._getOrReturnCtx(e);return Q(r,{code:$.invalid_type,expected:K.void,received:r.parsedType}),ce}return Kt(e.data)}}Cd.create=t=>new Cd({typeName:le.ZodVoid,...de(t)});class zn extends ge{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==K.array)return Q(n,{code:$.invalid_type,expected:K.array,received:n.parsedType}),ce;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(Q(n,{code:o?$.too_big:$.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Q(n,{code:$.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Q(n,{code:$.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new $n(n,o,n.path,a)))).then(o=>Dt.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new $n(n,o,n.path,a)));return Dt.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new zn({...this._def,minLength:{value:e,message:ie.toString(n)}})}max(e,n){return new zn({...this._def,maxLength:{value:e,message:ie.toString(n)}})}length(e,n){return new zn({...this._def,exactLength:{value:e,message:ie.toString(n)}})}nonempty(e){return this.min(1,e)}}zn.create=(t,e)=>new zn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:le.ZodArray,...de(e)});function zi(t){if(t instanceof Ke){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=nr.create(zi(r))}return new Ke({...t._def,shape:()=>e})}else return t instanceof zn?new zn({...t._def,type:zi(t.element)}):t instanceof nr?nr.create(zi(t.unwrap())):t instanceof wi?wi.create(zi(t.unwrap())):t instanceof ar?ar.create(t.items.map(e=>zi(e))):t}class Ke extends ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ce.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==K.object){const u=this._getOrReturnCtx(e);return Q(u,{code:$.invalid_type,expected:K.object,received:u.parsedType}),ce}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Br&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const c=s[u],h=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new $n(i,h,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Br){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")a.length>0&&(Q(i,{code:$.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of a){const h=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new $n(i,h,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const h=await c.key,d=await c.value;u.push({key:h,value:d,alwaysSet:c.alwaysSet})}return u}).then(u=>Dt.mergeObjectSync(r,u)):Dt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ie.errToObj,new Ke({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ie.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Ke({...this._def,unknownKeys:"strip"})}passthrough(){return new Ke({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ke({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ke({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:le.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ke({...this._def,catchall:e})}pick(e){const n={};return Ce.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ke({...this._def,shape:()=>n})}omit(e){const n={};return Ce.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ke({...this._def,shape:()=>n})}deepPartial(){return zi(this)}partial(e){const n={};return Ce.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new Ke({...this._def,shape:()=>n})}required(e){const n={};return Ce.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof nr;)s=s._def.innerType;n[r]=s}}),new Ke({...this._def,shape:()=>n})}keyof(){return Zw(Ce.objectKeys(this.shape))}}Ke.create=(t,e)=>new Ke({shape:()=>t,unknownKeys:"strip",catchall:Br.create(),typeName:le.ZodObject,...de(e)});Ke.strictCreate=(t,e)=>new Ke({shape:()=>t,unknownKeys:"strict",catchall:Br.create(),typeName:le.ZodObject,...de(e)});Ke.lazycreate=(t,e)=>new Ke({shape:t,unknownKeys:"strip",catchall:Br.create(),typeName:le.ZodObject,...de(e)});class du extends ge{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new dn(a.ctx.common.issues));return Q(n,{code:$.invalid_union,unionErrors:o}),ce}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new dn(l));return Q(n,{code:$.invalid_union,unionErrors:a}),ce}}get options(){return this._def.options}}du.create=(t,e)=>new du({options:t,typeName:le.ZodUnion,...de(e)});const Hn=t=>t instanceof mu?Hn(t.schema):t instanceof lr?Hn(t.innerType()):t instanceof vu?[t.value]:t instanceof yi?t.options:t instanceof gu?Ce.objectValues(t.enum):t instanceof yu?Hn(t._def.innerType):t instanceof cu?[void 0]:t instanceof hu?[null]:t instanceof nr?[void 0,...Hn(t.unwrap())]:t instanceof wi?[null,...Hn(t.unwrap())]:t instanceof Jw||t instanceof _u?Hn(t.unwrap()):t instanceof wu?Hn(t._def.innerType):[];class ap extends ge{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==K.object)return Q(n,{code:$.invalid_type,expected:K.object,received:n.parsedType}),ce;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(Q(n,{code:$.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ce)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Hn(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new ap({typeName:le.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...de(r)})}}function Td(t,e){const n=ni(t),r=ni(e);if(t===e)return{valid:!0,data:t};if(n===K.object&&r===K.object){const i=Ce.objectKeys(e),s=Ce.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=Td(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===K.array&&r===K.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=Td(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===K.date&&r===K.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class fu extends ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(Tv(s)||Tv(o))return ce;const a=Td(s.value,o.value);return a.valid?((Rv(s)||Rv(o))&&n.dirty(),{status:n.value,value:a.data}):(Q(r,{code:$.invalid_intersection_types}),ce)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}fu.create=(t,e,n)=>new fu({left:t,right:e,typeName:le.ZodIntersection,...de(n)});class ar extends ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.array)return Q(r,{code:$.invalid_type,expected:K.array,received:r.parsedType}),ce;if(r.data.length<this._def.items.length)return Q(r,{code:$.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ce;!this._def.rest&&r.data.length>this._def.items.length&&(Q(r,{code:$.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new $n(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Dt.mergeArray(n,o)):Dt.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new ar({...this._def,rest:e})}}ar.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ar({items:t,typeName:le.ZodTuple,rest:null,...de(e)})};class pu extends ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.object)return Q(r,{code:$.invalid_type,expected:K.object,received:r.parsedType}),ce;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new $n(r,a,r.path,a)),value:o._parse(new $n(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Dt.mergeObjectAsync(n,i):Dt.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ge?new pu({keyType:e,valueType:n,typeName:le.ZodRecord,...de(r)}):new pu({keyType:Gn.create(),valueType:e,typeName:le.ZodRecord,...de(n)})}}class Rd extends ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.map)return Q(r,{code:$.invalid_type,expected:K.map,received:r.parsedType}),ce;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:i._parse(new $n(r,a,r.path,[u,"key"])),value:s._parse(new $n(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return ce;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return ce;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}}}}Rd.create=(t,e,n)=>new Rd({valueType:e,keyType:t,typeName:le.ZodMap,...de(n)});class _s extends ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.set)return Q(r,{code:$.invalid_type,expected:K.set,received:r.parsedType}),ce;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Q(r,{code:$.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Q(r,{code:$.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const u=new Set;for(const c of l){if(c.status==="aborted")return ce;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>s._parse(new $n(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new _s({...this._def,minSize:{value:e,message:ie.toString(n)}})}max(e,n){return new _s({...this._def,maxSize:{value:e,message:ie.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}_s.create=(t,e)=>new _s({valueType:t,minSize:null,maxSize:null,typeName:le.ZodSet,...de(e)});class To extends ge{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==K.function)return Q(n,{code:$.invalid_type,expected:K.function,received:n.parsedType}),ce;function r(a,l){return bd({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,xd(),ta].filter(u=>!!u),issueData:{code:$.invalid_arguments,argumentsError:l}})}function i(a,l){return bd({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,xd(),ta].filter(u=>!!u),issueData:{code:$.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof ra){const a=this;return Kt(async function(...l){const u=new dn([]),c=await a._def.args.parseAsync(l,s).catch(f=>{throw u.addIssue(r(l,f)),u}),h=await Reflect.apply(o,this,c);return await a._def.returns._def.type.parseAsync(h,s).catch(f=>{throw u.addIssue(i(h,f)),u})})}else{const a=this;return Kt(function(...l){const u=a._def.args.safeParse(l,s);if(!u.success)throw new dn([r(l,u.error)]);const c=Reflect.apply(o,this,u.data),h=a._def.returns.safeParse(c,s);if(!h.success)throw new dn([i(c,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new To({...this._def,args:ar.create(e).rest(os.create())})}returns(e){return new To({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new To({args:e||ar.create([]).rest(os.create()),returns:n||os.create(),typeName:le.ZodFunction,...de(r)})}}class mu extends ge{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}mu.create=(t,e)=>new mu({getter:t,typeName:le.ZodLazy,...de(e)});class vu extends ge{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Q(n,{received:n.data,code:$.invalid_literal,expected:this._def.value}),ce}return{status:"valid",value:e.data}}get value(){return this._def.value}}vu.create=(t,e)=>new vu({value:t,typeName:le.ZodLiteral,...de(e)});function Zw(t,e){return new yi({values:t,typeName:le.ZodEnum,...de(e)})}class yi extends ge{constructor(){super(...arguments),ho.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Q(n,{expected:Ce.joinValues(r),received:n.parsedType,code:$.invalid_type}),ce}if(uu(this,ho)||Yw(this,ho,new Set(this._def.values)),!uu(this,ho).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Q(n,{received:n.data,code:$.invalid_enum_value,options:r}),ce}return Kt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return yi.create(e,{...this._def,...n})}exclude(e,n=this._def){return yi.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ho=new WeakMap;yi.create=Zw;class gu extends ge{constructor(){super(...arguments),fo.set(this,void 0)}_parse(e){const n=Ce.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==K.string&&r.parsedType!==K.number){const i=Ce.objectValues(n);return Q(r,{expected:Ce.joinValues(i),received:r.parsedType,code:$.invalid_type}),ce}if(uu(this,fo)||Yw(this,fo,new Set(Ce.getValidEnumValues(this._def.values))),!uu(this,fo).has(e.data)){const i=Ce.objectValues(n);return Q(r,{received:r.data,code:$.invalid_enum_value,options:i}),ce}return Kt(e.data)}get enum(){return this._def.values}}fo=new WeakMap;gu.create=(t,e)=>new gu({values:t,typeName:le.ZodNativeEnum,...de(e)});class ra extends ge{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==K.promise&&n.common.async===!1)return Q(n,{code:$.invalid_type,expected:K.promise,received:n.parsedType}),ce;const r=n.parsedType===K.promise?n.data:Promise.resolve(n.data);return Kt(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ra.create=(t,e)=>new ra({type:t,typeName:le.ZodPromise,...de(e)});class lr extends ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Q(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return ce;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?ce:l.status==="dirty"||n.value==="dirty"?co(l.value):l});{if(n.value==="aborted")return ce;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?ce:a.status==="dirty"||n.value==="dirty"?co(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ce:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ce:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!au(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>au(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);Ce.assertNever(i)}}lr.create=(t,e,n)=>new lr({schema:t,typeName:le.ZodEffects,effect:e,...de(n)});lr.createWithPreprocess=(t,e,n)=>new lr({schema:e,effect:{type:"preprocess",transform:t},typeName:le.ZodEffects,...de(n)});class nr extends ge{_parse(e){return this._getType(e)===K.undefined?Kt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}nr.create=(t,e)=>new nr({innerType:t,typeName:le.ZodOptional,...de(e)});class wi extends ge{_parse(e){return this._getType(e)===K.null?Kt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wi.create=(t,e)=>new wi({innerType:t,typeName:le.ZodNullable,...de(e)});class yu extends ge{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===K.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}yu.create=(t,e)=>new yu({innerType:t,typeName:le.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...de(e)});class wu extends ge{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return lu(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new dn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new dn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}wu.create=(t,e)=>new wu({innerType:t,typeName:le.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...de(e)});class Pd extends ge{_parse(e){if(this._getType(e)!==K.nan){const r=this._getOrReturnCtx(e);return Q(r,{code:$.invalid_type,expected:K.nan,received:r.parsedType}),ce}return{status:"valid",value:e.data}}}Pd.create=t=>new Pd({typeName:le.ZodNaN,...de(t)});class Jw extends ge{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Zu extends ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ce:s.status==="dirty"?(n.dirty(),co(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ce:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Zu({in:e,out:n,typeName:le.ZodPipeline})}}class _u extends ge{_parse(e){const n=this._def.innerType._parse(e),r=i=>(au(i)&&(i.value=Object.freeze(i.value)),i);return lu(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}_u.create=(t,e)=>new _u({innerType:t,typeName:le.ZodReadonly,...de(e)});Ke.lazycreate;var le;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(le||(le={}));const Nv=Gn.create;ys.create;Pd.create;ws.create;Sd.create;na.create;kd.create;cu.create;hu.create;Ed.create;os.create;Br.create;Cd.create;zn.create;const JE=Ke.create;Ke.strictCreate;du.create;ap.create;fu.create;ar.create;pu.create;Rd.create;_s.create;To.create;mu.create;vu.create;yi.create;gu.create;ra.create;lr.create;nr.create;wi.create;lr.createWithPreprocess;Zu.create;/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xw=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...GE,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Xw("lucide",i),...a},[...o.map(([u,c])=>y.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=(t,e)=>{const n=y.forwardRef(({className:r,...i},s)=>y.createElement(qE,{ref:s,iconNode:e,className:Xw(`lucide-${XE(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=ya("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=ya("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=ya("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=ya("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=ya("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);function sC(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Gw(...t){return e=>t.forEach(n=>sC(n,e))}function rn(...t){return y.useCallback(Gw(...t),t)}var xs=y.forwardRef((t,e)=>{const{children:n,...r}=t,i=y.Children.toArray(n),s=i.find(aC);if(s){const o=s.props.children,a=i.map(l=>l===s?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:l);return E.jsx(Nd,{...r,ref:e,children:y.isValidElement(o)?y.cloneElement(o,void 0,a):null})}return E.jsx(Nd,{...r,ref:e,children:n})});xs.displayName="Slot";var Nd=y.forwardRef((t,e)=>{const{children:n,...r}=t;if(y.isValidElement(n)){const i=uC(n);return y.cloneElement(n,{...lC(r,n.props),ref:e?Gw(e,i):i})}return y.Children.count(n)>1?y.Children.only(null):null});Nd.displayName="SlotClone";var oC=({children:t})=>E.jsx(E.Fragment,{children:t});function aC(t){return y.isValidElement(t)&&t.type===oC}function lC(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function uC(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function qw(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=qw(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function cC(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=qw(t))&&(r&&(r+=" "),r+=e);return r}const Mv=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,Ov=cC,lp=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Ov(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const c=n==null?void 0:n[u],h=s==null?void 0:s[u];if(c===null)return null;const d=Mv(c)||Mv(h);return i[u][d]}),a=n&&Object.entries(n).reduce((u,c)=>{let[h,d]=c;return d===void 0||(u[h]=d),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,c)=>{let{class:h,className:d,...f}=c;return Object.entries(f).every(m=>{let[v,w]=m;return Array.isArray(w)?w.includes({...s,...a}[v]):{...s,...a}[v]===w})?[...u,h,d]:u},[]);return Ov(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};function e_(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=e_(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function hC(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=e_(t))&&(r&&(r+=" "),r+=e);return r}const up="-",dC=t=>{const e=pC(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(up);return a[0]===""&&a.length!==1&&a.shift(),t_(a,e)||fC(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},t_=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?t_(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(up);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},Av=/^\[(.+)\]$/,fC=t=>{if(Av.test(t)){const e=Av.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},pC=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return vC(Object.entries(t.classGroups),n).forEach(([s,o])=>{Md(o,r,s,e)}),r},Md=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Lv(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(mC(i)){Md(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Md(o,Lv(e,s),n,r)})})},Lv=(t,e)=>{let n=t;return e.split(up).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},mC=t=>t.isThemeGetter,vC=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,gC=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},n_="!",yC=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let u=0,c=0,h;for(let w=0;w<a.length;w++){let g=a[w];if(u===0){if(g===i&&(r||a.slice(w,w+s)===e)){l.push(a.slice(c,w)),c=w+s;continue}if(g==="/"){h=w;continue}}g==="["?u++:g==="]"&&u--}const d=l.length===0?a:a.substring(c),f=d.startsWith(n_),m=f?d.substring(1):d,v=h&&h>c?h-c:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},wC=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},_C=t=>({cache:gC(t.cacheSize),parseClassName:yC(t),...dC(t)}),xC=/\s+/,bC=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(xC);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:c,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:f}=n(u);let m=!!f,v=r(m?d.substring(0,f):d);if(!v){if(!m){a=u+(a.length>0?" "+a:a);continue}if(v=r(d),!v){a=u+(a.length>0?" "+a:a);continue}m=!1}const w=wC(c).join(":"),g=h?w+n_:w,p=g+v;if(s.includes(p))continue;s.push(p);const _=i(v,m);for(let b=0;b<_.length;++b){const C=_[b];s.push(g+C)}a=u+(a.length>0?" "+a:a)}return a};function SC(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=r_(e))&&(r&&(r+=" "),r+=n);return r}const r_=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=r_(t[r]))&&(n&&(n+=" "),n+=e);return n};function kC(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((c,h)=>h(c),t());return n=_C(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const c=bC(l,n);return i(l,c),c}return function(){return s(SC.apply(null,arguments))}}const Ie=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},i_=/^\[(?:([a-z-]+):)?(.+)\]$/i,EC=/^\d+\/\d+$/,CC=new Set(["px","full","screen"]),TC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,NC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,MC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wn=t=>as(t)||CC.has(t)||EC.test(t),mr=t=>Os(t,"length",$C),as=t=>!!t&&!Number.isNaN(Number(t)),qc=t=>Os(t,"number",as),eo=t=>!!t&&Number.isInteger(Number(t)),OC=t=>t.endsWith("%")&&as(t.slice(0,-1)),pe=t=>i_.test(t),vr=t=>TC.test(t),AC=new Set(["length","size","percentage"]),LC=t=>Os(t,AC,s_),DC=t=>Os(t,"position",s_),jC=new Set(["image","url"]),IC=t=>Os(t,jC,VC),zC=t=>Os(t,"",FC),to=()=>!0,Os=(t,e,n)=>{const r=i_.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},$C=t=>RC.test(t)&&!PC.test(t),s_=()=>!1,FC=t=>NC.test(t),VC=t=>MC.test(t),UC=()=>{const t=Ie("colors"),e=Ie("spacing"),n=Ie("blur"),r=Ie("brightness"),i=Ie("borderColor"),s=Ie("borderRadius"),o=Ie("borderSpacing"),a=Ie("borderWidth"),l=Ie("contrast"),u=Ie("grayscale"),c=Ie("hueRotate"),h=Ie("invert"),d=Ie("gap"),f=Ie("gradientColorStops"),m=Ie("gradientColorStopPositions"),v=Ie("inset"),w=Ie("margin"),g=Ie("opacity"),p=Ie("padding"),_=Ie("saturate"),b=Ie("scale"),C=Ie("sepia"),A=Ie("skew"),x=Ie("space"),P=Ie("translate"),L=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],oe=()=>["auto",pe,e],j=()=>[pe,e],q=()=>["",Wn,mr],U=()=>["auto",as,pe],ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ve=()=>["solid","dashed","dotted","double","none"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",pe],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],he=()=>[as,pe];return{cacheSize:500,separator:":",theme:{colors:[to],spacing:[Wn,mr],blur:["none","",vr,pe],brightness:he(),borderColor:[t],borderRadius:["none","","full",vr,pe],borderSpacing:j(),borderWidth:q(),contrast:he(),grayscale:Z(),hueRotate:he(),invert:Z(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[OC,mr],inset:oe(),margin:oe(),opacity:he(),padding:j(),saturate:he(),scale:he(),sepia:Z(),skew:he(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[vr]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ae(),pe]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",eo,pe]}],basis:[{basis:oe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",eo,pe]}],"grid-cols":[{"grid-cols":[to]}],"col-start-end":[{col:["auto",{span:["full",eo,pe]},pe]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[to]}],"row-start-end":[{row:["auto",{span:[eo,pe]},pe]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[x]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[x]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,e]}],"min-w":[{"min-w":[pe,e,"min","max","fit"]}],"max-w":[{"max-w":[pe,e,"none","full","min","max","fit","prose",{screen:[vr]},vr]}],h:[{h:[pe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",vr,mr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qc]}],"font-family":[{font:[to]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",as,qc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wn,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wn,mr]}],"underline-offset":[{"underline-offset":["auto",Wn,pe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ae(),DC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",LC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},IC]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...ve(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:ve()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ve()]}],"outline-offset":[{"outline-offset":[Wn,pe]}],"outline-w":[{outline:[Wn,mr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Wn,mr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",vr,zC]}],"shadow-color":[{shadow:[to]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...we(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":we()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",vr,pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:he()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:he()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[eo,pe]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Wn,mr,qc]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},BC=kC(UC);function et(...t){return BC(hC(t))}const WC=lp("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ls=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?xs:"button";return E.jsx(o,{className:et(WC({variant:e,size:n,className:t})),ref:s,...i})});ls.displayName="Button";const xu=y.forwardRef(({className:t,type:e,...n},r)=>E.jsx("input",{type:e,className:et("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));xu.displayName="Input";const cp=y.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:et("rounded-xl border bg-card text-card-foreground shadow",t),...e}));cp.displayName="Card";const o_=y.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:et("flex flex-col space-y-1.5 p-6",t),...e}));o_.displayName="CardHeader";const a_=y.forwardRef(({className:t,...e},n)=>E.jsx("h3",{ref:n,className:et("font-semibold leading-none tracking-tight",t),...e}));a_.displayName="CardTitle";const l_=y.forwardRef(({className:t,...e},n)=>E.jsx("p",{ref:n,className:et("text-sm text-muted-foreground",t),...e}));l_.displayName="CardDescription";const u_=y.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:et("p-6 pt-0",t),...e}));u_.displayName="CardContent";const c_=y.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:et("flex items-center p-6 pt-0",t),...e}));c_.displayName="CardFooter";var HC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Pt=HC.reduce((t,e)=>{const n=y.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?xs:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function h_(t,e){t&&da.flushSync(()=>t.dispatchEvent(e))}var YC="Label",d_=y.forwardRef((t,e)=>E.jsx(Pt.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));d_.displayName=YC;var f_=d_;const QC=lp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),p_=y.forwardRef(({className:t,...e},n)=>E.jsx(f_,{ref:n,className:et(QC(),t),...e}));p_.displayName=f_.displayName;const KC=dE,m_=y.createContext({}),Dv=({...t})=>E.jsx(m_.Provider,{value:{name:t.name},children:E.jsx(vE,{...t})}),Ju=()=>{const t=y.useContext(m_),e=y.useContext(v_),{getFieldState:n,formState:r}=Ku(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},v_=y.createContext({}),Od=y.forwardRef(({className:t,...e},n)=>{const r=y.useId();return E.jsx(v_.Provider,{value:{id:r},children:E.jsx("div",{ref:n,className:et("space-y-2",t),...e})})});Od.displayName="FormItem";const Ad=y.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=Ju();return E.jsx(p_,{ref:n,className:et(r&&"text-destructive",t),htmlFor:i,...e})});Ad.displayName="FormLabel";const Ld=y.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=Ju();return E.jsx(xs,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});Ld.displayName="FormControl";const ZC=y.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Ju();return E.jsx("p",{ref:n,id:r,className:et("text-[0.8rem] text-muted-foreground",t),...e})});ZC.displayName="FormDescription";const Dd=y.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=Ju(),o=i?String(i==null?void 0:i.message):e;return o?E.jsx("p",{ref:r,id:s,className:et("text-[0.8rem] font-medium text-destructive",t),...n,children:o}):null});Dd.displayName="FormMessage";const JC="modulepreload",XC=function(t){return"/screener/"+t},jv={},bs=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=XC(l),l in jv)return;jv[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":JC,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},GC=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>bs(async()=>{const{default:r}=await Promise.resolve().then(()=>As);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class hp extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class qC extends hp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class eT extends hp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class tT extends hp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var jd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(jd||(jd={}));var nT=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class rT{constructor(e,{headers:n={},customFetch:r,region:i=jd.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=GC(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return nT(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(m=>{throw new qC(m)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new eT(c);if(!c.ok)throw new tT(c);let d=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return d==="application/json"?f=yield c.json():d==="application/octet-stream"?f=yield c.blob():d==="text/event-stream"?f=c:d==="multipart/form-data"?f=yield c.formData():f=yield c.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}var Bt={},dp={},Xu={},wa={},Gu={},qu={},iT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ss=iT();const sT=Ss.fetch,g_=Ss.fetch.bind(Ss),y_=Ss.Headers,oT=Ss.Request,aT=Ss.Response,As=Object.freeze(Object.defineProperty({__proto__:null,Headers:y_,Request:oT,Response:aT,default:g_,fetch:sT},Symbol.toStringTag,{value:"Module"})),lT=s1(As);var ec={};Object.defineProperty(ec,"__esModule",{value:!0});let uT=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ec.default=uT;var w_=fn&&fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qu,"__esModule",{value:!0});const cT=w_(lT),hT=w_(ec);let dT=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=cT.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let u=null,c=null,h=null,d=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){const g=await s.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=g:c=JSON.parse(g))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,d=406,f="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const v=await s.text();try{u=JSON.parse(v),Array.isArray(u)&&s.status===404&&(c=[],u=null,d=200,f="OK")}catch{s.status===404&&v===""?(d=204,f="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,d=200,f="OK"),u&&this.shouldThrowOnError)throw new hT.default(u)}return{error:u,data:c,count:h,status:d,statusText:f}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};qu.default=dT;var fT=fn&&fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gu,"__esModule",{value:!0});const pT=fT(qu);let mT=class extends pT.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Gu.default=mT;var vT=fn&&fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wa,"__esModule",{value:!0});const gT=vT(Gu);let yT=class extends gT.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};wa.default=yT;var wT=fn&&fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xu,"__esModule",{value:!0});const no=wT(wa);let _T=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new no.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new no.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new no.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new no.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new no.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Xu.default=_T;var tc={},nc={};Object.defineProperty(nc,"__esModule",{value:!0});nc.version=void 0;nc.version="0.0.0-automated";Object.defineProperty(tc,"__esModule",{value:!0});tc.DEFAULT_HEADERS=void 0;const xT=nc;tc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${xT.version}`};var __=fn&&fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dp,"__esModule",{value:!0});const bT=__(Xu),ST=__(wa),kT=tc;let ET=class x_{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},kT.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new bT.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new x_(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(o="POST",l=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new ST.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};dp.default=ET;var Ls=fn&&fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.PostgrestError=Bt.PostgrestBuilder=Bt.PostgrestTransformBuilder=Bt.PostgrestFilterBuilder=Bt.PostgrestQueryBuilder=Bt.PostgrestClient=void 0;const b_=Ls(dp);Bt.PostgrestClient=b_.default;const S_=Ls(Xu);Bt.PostgrestQueryBuilder=S_.default;const k_=Ls(wa);Bt.PostgrestFilterBuilder=k_.default;const E_=Ls(Gu);Bt.PostgrestTransformBuilder=E_.default;const C_=Ls(qu);Bt.PostgrestBuilder=C_.default;const T_=Ls(ec);Bt.PostgrestError=T_.default;var CT=Bt.default={PostgrestClient:b_.default,PostgrestQueryBuilder:S_.default,PostgrestFilterBuilder:k_.default,PostgrestTransformBuilder:E_.default,PostgrestBuilder:C_.default,PostgrestError:T_.default};const{PostgrestClient:TT,PostgrestQueryBuilder:nA,PostgrestFilterBuilder:rA,PostgrestTransformBuilder:iA,PostgrestBuilder:sA,PostgrestError:oA}=CT,RT="2.11.2",PT={"X-Client-Info":`realtime-js/${RT}`},NT="1.0.0",R_=1e4,MT=1e3;var us;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(us||(us={}));var Jt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Jt||(Jt={}));var Sn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Sn||(Sn={}));var Id;(function(t){t.websocket="websocket"})(Id||(Id={}));var ri;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ri||(ri={}));class OT{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class P_{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(De||(De={}));const Iv=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=AT(o,t,e,i),s),{})},AT=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?N_(s,o):zd(o)},N_=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return IT(e,n)}switch(t){case De.bool:return LT(e);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return DT(e);case De.json:case De.jsonb:return jT(e);case De.timestamp:return zT(e);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return zd(e);default:return zd(e)}},zd=t=>t,LT=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},DT=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},jT=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},IT=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>N_(e,a))}return t},zT=t=>typeof t=="string"?t.replace(" ","T"):t,M_=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class eh{constructor(e,n,r={},i=R_){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(zv||(zv={}));class Ro{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ro.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Ro.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ro.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=s[u];if(h){const d=c.map(w=>w.presence_ref),f=h.map(w=>w.presence_ref),m=c.filter(w=>f.indexOf(w.presence_ref)<0),v=h.filter(w=>d.indexOf(w.presence_ref)<0);m.length>0&&(a[u]=m),v.length>0&&(l[u]=v)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(f=>f.presence_ref),d=c.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...d)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $v;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})($v||($v={}));var Fv;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Fv||(Fv={}));var Qn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Qn||(Qn={}));class fp{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new eh(this,Sn.join,this.params,this.timeout),this.rejoinTimer=new P_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sn.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Ro(this),this.broadcastEndpointURL=M_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(Qn.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(Qn.CLOSED));const l={},u={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e==null||e(Qn.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,f=(h=d==null?void 0:d.length)!==null&&h!==void 0?h:0,m=[];for(let v=0;v<f;v++){const w=d[v],{filter:{event:g,schema:p,table:_,filter:b}}=w,C=c&&c[v];if(C&&C.event===g&&C.schema===p&&C.table===_&&C.filter===b)m.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),e==null||e(Qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(Qn.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(Qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Jt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new eh(this,Sn.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new eh(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Sn;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let d=this._onMessage(o,n,r);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var m,v,w;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((w=(v=f.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(f=>f.callback(d,r)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var m,v,w,g,p,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const b=f.id,C=(m=f.filter)===null||m===void 0?void 0:m.event;return b&&((v=n.ids)===null||v===void 0?void 0:v.includes(b))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(p=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return b==="*"||b===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const m=d.data,{schema:v,table:w,commit_timestamp:g,type:p,errors:_}=m;d=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:g,eventType:p,new:{},old:{},errors:_}),this._getPayloadRecords(m))}f.callback(d,r)})}_isClosed(){return this.state===Jt.closed}_isJoined(){return this.state===Jt.joined}_isJoining(){return this.state===Jt.joining}_isLeaving(){return this.state===Jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&fp.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Sn.close,{},e)}_onError(e){this._on(Sn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Iv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Iv(e.columns,e.old_record)),n}}const $T=()=>{},FT=typeof WebSocket<"u",VT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class UT{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=PT,this.params={},this.timeout=R_,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=$T,this.conn=null,this.sendBuffer=[],this.serializer=new OT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>bs(async()=>{const{default:l}=await Promise.resolve().then(()=>As);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Id.websocket}`,this.httpEndpoint=M_(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new P_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(FT){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new BT(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),bs(async()=>{const{default:e}=await import("./browser-wIcMliIt.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:NT}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case us.connecting:return ri.Connecting;case us.open:return ri.Open;case us.closing:return ri.Closing;default:return ri.Closed}}isConnected(){return this.connectionState()===ri.Open}channel(e,n={config:{}}){const r=new fp(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(Sn.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(MT,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Sn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([VT],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class BT{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=us.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class pp extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function dt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class WT extends pp{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class $d extends pp{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var HT=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const O_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>bs(async()=>{const{default:r}=await Promise.resolve().then(()=>As);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},YT=()=>HT(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield bs(()=>Promise.resolve().then(()=>As),void 0)).Response:Response}),Fd=t=>{if(Array.isArray(t))return t.map(n=>Fd(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Fd(r)}),e};var Ci=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const th=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),QT=(t,e,n)=>Ci(void 0,void 0,void 0,function*(){const r=yield YT();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new WT(th(i),t.status||500))}).catch(i=>{e(new $d(th(i),i))}):e(new $d(th(t),t))}),KT=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function _a(t,e,n,r,i,s){return Ci(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,KT(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>QT(l,a,r))})})}function bu(t,e,n,r){return Ci(this,void 0,void 0,function*(){return _a(t,"GET",e,n,r)})}function Sr(t,e,n,r,i){return Ci(this,void 0,void 0,function*(){return _a(t,"POST",e,r,i,n)})}function ZT(t,e,n,r,i){return Ci(this,void 0,void 0,function*(){return _a(t,"PUT",e,r,i,n)})}function JT(t,e,n,r){return Ci(this,void 0,void 0,function*(){return _a(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function A_(t,e,n,r,i){return Ci(this,void 0,void 0,function*(){return _a(t,"DELETE",e,r,i,n)})}var zt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const XT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class GT{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=O_(i)}uploadOrUpdate(e,n,r,i){return zt(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Vv),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield h.json();return h.ok?{data:{path:u,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}upload(e,n,r){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return zt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Vv.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),d=yield h.json();return h.ok?{data:{path:s,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(dt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return zt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Sr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new pp("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}update(e,n,r){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return zt(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(dt(i))return{data:null,error:i};throw i}})}copy(e,n,r){return zt(this,void 0,void 0,function*(){try{return{data:{path:(yield Sr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(dt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return zt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Sr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(dt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return zt(this,void 0,void 0,function*(){try{const i=yield Sr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(dt(i))return{data:null,error:i};throw i}})}download(e,n){return zt(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield bu(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(dt(a))return{data:null,error:a};throw a}})}info(e){return zt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield bu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Fd(r),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}exists(e){return zt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield JT(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(dt(r)&&r instanceof $d){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return zt(this,void 0,void 0,function*(){try{return{data:yield A_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}list(e,n,r){return zt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},XT),n),{prefix:e||""});return{data:yield Sr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(dt(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const qT="2.7.1",eR={"X-Client-Info":`storage-js/${qT}`};var Li=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class tR{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},eR),n),this.fetch=O_(r)}listBuckets(){return Li(this,void 0,void 0,function*(){try{return{data:yield bu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(dt(e))return{data:null,error:e};throw e}})}getBucket(e){return Li(this,void 0,void 0,function*(){try{return{data:yield bu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Li(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Li(this,void 0,void 0,function*(){try{return{data:yield ZT(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Li(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Li(this,void 0,void 0,function*(){try{return{data:yield A_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}}class nR extends tR{constructor(e,n={},r){super(e,n,r)}from(e){return new GT(this.url,this.headers,e,this.fetch)}}const rR="2.49.4";let po="";typeof Deno<"u"?po="deno":typeof document<"u"?po="web":typeof navigator<"u"&&navigator.product==="ReactNative"?po="react-native":po="node";const iR={"X-Client-Info":`supabase-js-${po}/${rR}`},sR={headers:iR},oR={schema:"public"},aR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lR={};var uR=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const cR=t=>{let e;return t?e=t:typeof fetch>"u"?e=g_:e=fetch,(...n)=>e(...n)},hR=()=>typeof Headers>"u"?y_:Headers,dR=(t,e,n)=>{const r=cR(n),i=hR();return(s,o)=>uR(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};var fR=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function pR(t){return t.replace(/\/$/,"")}function mR(t,e){const{db:n,auth:r,realtime:i,global:s}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),s),accessToken:()=>fR(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const L_="2.69.1",$i=30*1e3,Vd=3,nh=Vd*$i,vR="http://localhost:9999",gR="supabase.auth.token",yR={"X-Client-Info":`gotrue-js/${L_}`},Ud="X-Supabase-Api-Version",D_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_R=6e5;class mp extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function me(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class xR extends mp{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function bR(t){return me(t)&&t.name==="AuthApiError"}class j_ extends mp{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Qr extends mp{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class wr extends Qr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function SR(t){return me(t)&&t.name==="AuthSessionMissingError"}class rh extends Qr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Za extends Qr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ja extends Qr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kR(t){return me(t)&&t.name==="AuthImplicitGrantRedirectError"}class Uv extends Qr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bd extends Qr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ih(t){return me(t)&&t.name==="AuthRetryableFetchError"}class Bv extends Qr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Po extends Qr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hv=` 	
\r=`.split(""),ER=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Hv.length;e+=1)t[Hv[e].charCodeAt(0)]=-2;for(let e=0;e<Wv.length;e+=1)t[Wv[e].charCodeAt(0)]=e;return t})();function I_(t,e,n){const r=ER[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Yv(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{RR(o,r,n)};for(let o=0;o<t.length;o+=1)I_(t.charCodeAt(o),i,s);return e.join("")}function CR(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function TR(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}CR(r,e)}}function RR(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function PR(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)I_(t.charCodeAt(i),n,r);return new Uint8Array(e)}function NR(t){const e=[];return TR(t,n=>e.push(n)),new Uint8Array(e)}function MR(t){return Math.round(Date.now()/1e3)+t}function OR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const On=()=>typeof window<"u"&&typeof document<"u",Zr={tested:!1,writable:!1},No=()=>{if(!On())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zr.tested)return Zr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Zr.tested=!0,Zr.writable=!0}catch{Zr.tested=!0,Zr.writable=!1}return Zr.writable};function AR(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const z_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>bs(async()=>{const{default:r}=await Promise.resolve().then(()=>As);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},LR=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$_=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Xa=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ga=async(t,e)=>{await t.removeItem(e)};class rc{constructor(){this.promise=new rc.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}rc.promiseConstructor=Promise;function sh(t){const e=t.split(".");if(e.length!==3)throw new Po("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!wR.test(e[r]))throw new Po("JWT not in base64url format");return{header:JSON.parse(Yv(e[0])),payload:JSON.parse(Yv(e[1])),signature:PR(e[2]),raw:{header:e[0],payload:e[1]}}}async function DR(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function jR(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function IR(t){return("0"+t.toString(16)).substr(-2)}function zR(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,IR).join("")}async function $R(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function FR(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await $R(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Di(t,e,n=!1){const r=zR();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await $_(t,`${e}-code-verifier`,i);const s=await FR(r);return[s,r===s?"plain":"s256"]}const VR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function UR(t){const e=t.headers.get(Ud);if(!e||!e.match(VR))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function BR(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function WR(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var HR=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const qr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),YR=[502,503,504];async function Qv(t){var e;if(!LR(t))throw new Bd(qr(t),0);if(YR.includes(t.status))throw new Bd(qr(t),t.status);let n;try{n=await t.json()}catch(s){throw new j_(qr(s),s)}let r;const i=UR(t);if(i&&i.getTime()>=D_["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Bv(qr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new wr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Bv(qr(n),t.status,n.weak_password.reasons);throw new xR(qr(n),t.status||500,r)}const QR=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function xe(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Ud]||(s[Ud]=D_["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await KR(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function KR(t,e,n,r,i,s){const o=QR(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Bd(qr(l),0)}if(a.ok||await Qv(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Qv(l)}}function _r(t){var e;let n=null;GR(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=MR(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Kv(t){const e=_r(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Tr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ZR(t){return{data:t,error:null}}function JR(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=HR(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function XR(t){return t}function GR(t){return t.access_token&&t.refresh_token&&t.expires_in}var qR=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class eP{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=z_(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Tr})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=qR(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:JR,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(me(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tr})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:XR});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(m.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(me(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tr})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Tr})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Tr})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await xe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}}const tP={getItem:t=>No()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{No()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{No()&&globalThis.localStorage.removeItem(t)}};function Zv(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function nP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ji={debug:!!(globalThis&&No()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class F_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class rP extends F_{}async function iP(t,e,n){ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ji.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new rP(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ji.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}nP();const sP={url:vR,storageKey:gR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jv(t,e,n){return await n()}class ia{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ia.nextInstanceID,ia.nextInstanceID+=1,this.instanceID>0&&On()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},sP),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new eP({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=z_(i.fetch),this.lock=i.lock||Jv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:On()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=iP:this.lock=Jv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:No()?this.storage=tP:(this.memoryStorage={},this.storage=Zv(this.memoryStorage)):(this.memoryStorage={},this.storage=Zv(this.memoryStorage)),On()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${L_}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=AR(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),On()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),kR(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return me(n)?{error:n}:{error:new j_("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:_r}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(me(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:c,password:h,options:d}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Di(this.storage,this.storageKey)),s=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:m},xform:_r})}else if("phone"in e){const{phone:c,password:h,options:d}=e;s=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},channel:(i=d==null?void 0:d.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:_r})}else throw new Za("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(me(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Kv})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Kv})}else throw new Za("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new rh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Xa(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:_r});if(await Ga(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new rh}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(me(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:_r}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new rh}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Di(this.storage,this.storageKey));const{error:h}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Za("You must provide either an email or phone number.")}catch(a){if(me(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:_r});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(me(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Di(this.storage,this.storageKey)),await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:ZR})}catch(s){if(me(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new wr;const{error:i}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(me(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await xe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await xe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Za("You must provide either an email or phone number and a type")}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Xa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<nh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tr}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wr}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Tr})})}catch(n){if(me(n))return SR(n)&&(await this._removeSession(),await Ga(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new wr;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Di(this.storage,this.storageKey));const{data:u,error:c}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Tr});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wr;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=sh(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(me(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new wr;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!On())throw new Ja("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ja(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Uv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ja("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Uv("No code detected.");const{data:p,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!s||!a||!o||!u)throw new Ja("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let d=c+h;l&&(d=parseInt(l));const f=d-c;f*1e3<=$i&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const m=d-h;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,d,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,d,c);const{data:v,error:w}=await this._getUser(s);if(w)throw w;const g={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:d,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(me(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Xa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(bR(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ga(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=OR(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Di(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(me(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:h,error:d}=s;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return On()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(me(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await jR(async i=>(i>0&&await DR(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_r})),(i,s)=>{const o=200*Math.pow(2,i);return s&&ih(s)&&Date.now()+o-r<$i})}catch(r){if(this._debug(n,"error",r),me(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),On()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Xa(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<nh;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${nh}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),ih(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new wr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new rc;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new wr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),me(s)){const o={session:null,error:s};return ih(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await $_(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ga(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&On()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),$i);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/$i);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${$i}ms, refresh threshold is ${Vd} ticks`),i<=Vd&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof F_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!On()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Di(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await xe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(me(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(me(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=sh(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+_R>Date.now()))return r;const{data:i,error:s}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new Po("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===e),!r)throw new Po("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:f,error:m}=await this.getSession();if(m||!f.session)return{data:null,error:m};r=f.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=sh(r);if(BR(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:s,header:i,signature:o},error:null}}const u=WR(i.alg),c=await this.fetchJwk(i.kid,n),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,NR(`${a}.${l}`)))throw new Po("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}}ia.nextInstanceID=0;const oP=ia;class aP extends oP{constructor(e){super(e)}}var lP=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class uP{constructor(e,n,r){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=pR(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:oR,realtime:lR,auth:Object.assign(Object.assign({},aR),{storageKey:l}),global:sR},c=mR(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=dR(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new TT(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new rT(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new nR(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return lP(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new aP({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new UT(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cP=(t,e,n)=>new uP(t,e,n),hP="https://gwkirrnjlrcwaejjlokn.supabase.co",dP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd3a2lycm5qbHJjd2Flampsb2tuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcyMDMzMzQsImV4cCI6MjA2Mjc3OTMzNH0.yzLOtjHvM38Q63Qyca6sFK_tM01Nh1HaLNiQ5tMhyKM",li=cP(hP,dP),V_=y.createContext(void 0);function fP({children:t}){const[e,n]=y.useState({user:null,session:null,isLoading:!0,error:null});y.useEffect(()=>{li.auth.getSession().then(({data:{session:a}})=>{n(l=>({...l,session:a,user:(a==null?void 0:a.user)??null,isLoading:!1}))});const{data:{subscription:o}}=li.auth.onAuthStateChange((a,l)=>{n(u=>({...u,session:l,user:(l==null?void 0:l.user)??null,isLoading:!1}))});return()=>{o.unsubscribe()}},[]);const s={...e,login:async({email:o,password:a})=>{try{const{error:l}=await li.auth.signInWithPassword({email:o,password:a});return l?(n(u=>({...u,error:l.message})),{error:l}):{error:null}}catch(l){return n(u=>({...u,error:l.message})),{error:l}}},logout:async()=>{try{await li.auth.signOut(),n(o=>({...o,user:null,session:null}))}catch(o){n(a=>({...a,error:o.message}))}}};return E.jsx(V_.Provider,{value:s,children:t})}function ic(){const t=y.useContext(V_);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function U_({size:t=32,className:e="",showText:n=!1}){return E.jsxs("div",{className:`flex items-center gap-2 ${e}`,children:[E.jsx("div",{className:"relative",children:E.jsx(eC,{size:t,className:"text-primary"})}),n&&E.jsx("span",{className:"font-bold text-lg text-primary select-none",children:"Screener AI"})]})}const pP=1,mP=1e6;let oh=0;function vP(){return oh=(oh+1)%Number.MAX_SAFE_INTEGER,oh.toString()}const ah=new Map,Xv=t=>{if(ah.has(t))return;const e=setTimeout(()=>{ah.delete(t),Mo({type:"REMOVE_TOAST",toastId:t})},mP);ah.set(t,e)},gP=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,pP)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Xv(n):t.toasts.forEach(r=>{Xv(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},bl=[];let Sl={toasts:[]};function Mo(t){Sl=gP(Sl,t),bl.forEach(e=>{e(Sl)})}function yP({...t}){const e=vP(),n=i=>Mo({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Mo({type:"DISMISS_TOAST",toastId:e});return Mo({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function vp(){const[t,e]=y.useState(Sl);return y.useEffect(()=>(bl.push(e),()=>{const n=bl.indexOf(e);n>-1&&bl.splice(n,1)}),[t]),{...t,toast:yP,dismiss:n=>Mo({type:"DISMISS_TOAST",toastId:n})}}const wP=JE({email:Nv().email("   ."),password:Nv().min(6,"  6  .")});function _P(){const{login:t,error:e}=ic(),{toast:n}=vp(),[r,i]=y.useState(!1),[s,o]=y.useState(!1);y.useEffect(()=>{window.amplitude.track("login-view-screener-poc")},[]);const a=RE({resolver:OE(wP),defaultValues:{email:"",password:""}}),l=async u=>{i(!0);try{const{error:c}=await t({email:u.email,password:u.password});c&&n({variant:"destructive",title:" ",description:c.message||"   ."})}catch{n({variant:"destructive",title:" ",description:"  .    ."})}finally{i(!1)}};return E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:E.jsx("div",{className:"w-full max-w-md px-4",children:E.jsxs(cp,{children:[E.jsxs(o_,{className:"space-y-2 items-center text-center",children:[E.jsx(U_,{size:48,className:"mb-2"}),E.jsx(a_,{className:"text-2xl font-bold",children:"Screener AI by Newsystock"}),E.jsx(l_,{children:"    AI ."})]}),E.jsx(u_,{children:E.jsx(KC,{...a,children:E.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-4",children:[E.jsx(Dv,{control:a.control,name:"email",render:({field:u})=>E.jsxs(Od,{children:[E.jsx(Ad,{children:""}),E.jsx(Ld,{children:E.jsx(xu,{placeholder:"name@example.com",type:"email",autoComplete:"email",...u})}),E.jsx(Dd,{})]})}),E.jsx(Dv,{control:a.control,name:"password",render:({field:u})=>E.jsxs(Od,{children:[E.jsx(Ad,{children:""}),E.jsxs("div",{className:"relative",children:[E.jsx(Ld,{children:E.jsx(xu,{placeholder:" ",type:s?"text":"password",autoComplete:"current-password",...u})}),E.jsx(ls,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>o(!s),children:s?E.jsx(tC,{className:"h-4 w-4"}):E.jsx(nC,{className:"h-4 w-4"})})]}),E.jsx(Dd,{})]})}),e&&E.jsx("div",{className:"text-destructive text-sm mt-2",children:e}),E.jsx(ls,{type:"submit",className:"w-full",disabled:r,children:r?" ...":""})]})})}),E.jsx(c_,{className:"flex flex-col",children:E.jsx("p",{className:"text-xs text-muted-foreground text-center",children:" Newsystock     ."})})]})})})}var sa=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{};function xP(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var Ds=t=>{const{present:e,children:n}=t,r=bP(e),i=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),s=rn(r.ref,SP(i));return typeof n=="function"||r.isPresent?y.cloneElement(i,{ref:s}):null};Ds.displayName="Presence";function bP(t){const[e,n]=y.useState(),r=y.useRef({}),i=y.useRef(t),s=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=xP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=qa(r.current);s.current=a==="mounted"?u:"none"},[a]),sa(()=>{const u=r.current,c=i.current;if(c!==t){const d=s.current,f=qa(u);t?l("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&d!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),sa(()=>{if(e){let u;const c=e.ownerDocument.defaultView??window,h=f=>{const v=qa(r.current).includes(f.animationName);if(f.target===e&&v&&(l("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=c.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},d=f=>{f.target===e&&(s.current=qa(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{c.clearTimeout(u),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function qa(t){return(t==null?void 0:t.animationName)||"none"}function SP(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function B_(t,e=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];const u=h=>{var g;const{scope:d,children:f,...m}=h,v=((g=d==null?void 0:d[t])==null?void 0:g[l])||a,w=y.useMemo(()=>m,Object.values(m));return E.jsx(v.Provider,{value:w,children:f})};u.displayName=s+"Provider";function c(h,d){var v;const f=((v=d==null?void 0:d[t])==null?void 0:v[l])||a,m=y.useContext(f);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,c]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,kP(i,...e)]}function kP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Tt(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var EP=y.createContext(void 0);function CP(t){const e=y.useContext(EP);return t||e||"ltr"}function TP(t,[e,n]){return Math.min(n,Math.max(e,t))}function it(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function RP(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var gp="ScrollArea",[W_,aA]=B_(gp),[PP,vn]=W_(gp),H_=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[a,l]=y.useState(null),[u,c]=y.useState(null),[h,d]=y.useState(null),[f,m]=y.useState(null),[v,w]=y.useState(null),[g,p]=y.useState(0),[_,b]=y.useState(0),[C,A]=y.useState(!1),[x,P]=y.useState(!1),L=rn(e,oe=>l(oe)),O=CP(i);return E.jsx(PP,{scope:n,type:r,dir:O,scrollHideDelay:s,scrollArea:a,viewport:u,onViewportChange:c,content:h,onContentChange:d,scrollbarX:f,onScrollbarXChange:m,scrollbarXEnabled:C,onScrollbarXEnabledChange:A,scrollbarY:v,onScrollbarYChange:w,scrollbarYEnabled:x,onScrollbarYEnabledChange:P,onCornerWidthChange:p,onCornerHeightChange:b,children:E.jsx(Pt.div,{dir:O,...o,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});H_.displayName=gp;var Y_="ScrollAreaViewport",Q_=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:i,nonce:s,...o}=t,a=vn(Y_,n),l=y.useRef(null),u=rn(e,l,a.onViewportChange);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),E.jsx(Pt.div,{"data-radix-scroll-area-viewport":"",...o,asChild:i,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:$P({asChild:i,children:r},c=>E.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:c}))})]})});Q_.displayName=Y_;var Fn="ScrollAreaScrollbar",yp=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=vn(Fn,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return y.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?E.jsx(NP,{...r,ref:e,forceMount:n}):i.type==="scroll"?E.jsx(MP,{...r,ref:e,forceMount:n}):i.type==="auto"?E.jsx(K_,{...r,ref:e,forceMount:n}):i.type==="always"?E.jsx(wp,{...r,ref:e}):null});yp.displayName=Fn;var NP=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=vn(Fn,t.__scopeScrollArea),[s,o]=y.useState(!1);return y.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},c=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),E.jsx(Ds,{present:n||s,children:E.jsx(K_,{"data-state":s?"visible":"hidden",...r,ref:e})})}),MP=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=vn(Fn,t.__scopeScrollArea),s=t.orientation==="horizontal",o=oc(()=>l("SCROLL_END"),100),[a,l]=RP("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,i.scrollHideDelay,l]),y.useEffect(()=>{const u=i.viewport,c=s?"scrollLeft":"scrollTop";if(u){let h=u[c];const d=()=>{const f=u[c];h!==f&&(l("SCROLL"),o()),h=f};return u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[i.viewport,s,l,o]),E.jsx(Ds,{present:n||a!=="hidden",children:E.jsx(wp,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:it(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:it(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),K_=y.forwardRef((t,e)=>{const n=vn(Fn,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=y.useState(!1),a=t.orientation==="horizontal",l=oc(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:c)}},10);return ks(n.viewport,l),ks(n.content,l),E.jsx(Ds,{present:r||s,children:E.jsx(wp,{"data-state":s?"visible":"hidden",...i,ref:e})})}),wp=y.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=vn(Fn,t.__scopeScrollArea),s=y.useRef(null),o=y.useRef(0),[a,l]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=q_(a.viewport,a.content),c={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:d=>s.current=d,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:d=>o.current=d};function h(d,f){return IP(d,o.current,a,f)}return n==="horizontal"?E.jsx(OP,{...c,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollLeft,f=Gv(d,a,i.dir);s.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=h(d,i.dir))}}):n==="vertical"?E.jsx(AP,{...c,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollTop,f=Gv(d,a);s.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=h(d))}}):null}),OP=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=vn(Fn,t.__scopeScrollArea),[o,a]=y.useState(),l=y.useRef(null),u=rn(e,l,s.onScrollbarXChange);return y.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),E.jsx(J_,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":sc(n)+"px",...t.style},onThumbPointerDown:c=>t.onThumbPointerDown(c.x),onDragScroll:c=>t.onDragScroll(c.x),onWheelScroll:(c,h)=>{if(s.viewport){const d=s.viewport.scrollLeft+c.deltaX;t.onWheelScroll(d),tx(d,h)&&c.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:ku(o.paddingLeft),paddingEnd:ku(o.paddingRight)}})}})}),AP=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=vn(Fn,t.__scopeScrollArea),[o,a]=y.useState(),l=y.useRef(null),u=rn(e,l,s.onScrollbarYChange);return y.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),E.jsx(J_,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":sc(n)+"px",...t.style},onThumbPointerDown:c=>t.onThumbPointerDown(c.y),onDragScroll:c=>t.onDragScroll(c.y),onWheelScroll:(c,h)=>{if(s.viewport){const d=s.viewport.scrollTop+c.deltaY;t.onWheelScroll(d),tx(d,h)&&c.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:ku(o.paddingTop),paddingEnd:ku(o.paddingBottom)}})}})}),[LP,Z_]=W_(Fn),J_=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:c,onResize:h,...d}=t,f=vn(Fn,n),[m,v]=y.useState(null),w=rn(e,L=>v(L)),g=y.useRef(null),p=y.useRef(""),_=f.viewport,b=r.content-r.viewport,C=Tt(c),A=Tt(l),x=oc(h,10);function P(L){if(g.current){const O=L.clientX-g.current.left,oe=L.clientY-g.current.top;u({x:O,y:oe})}}return y.useEffect(()=>{const L=O=>{const oe=O.target;(m==null?void 0:m.contains(oe))&&C(O,b)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[_,m,b,C]),y.useEffect(A,[r,A]),ks(m,x),ks(f.content,x),E.jsx(LP,{scope:n,scrollbar:m,hasThumb:i,onThumbChange:Tt(s),onThumbPointerUp:Tt(o),onThumbPositionChange:A,onThumbPointerDown:Tt(a),children:E.jsx(Pt.div,{...d,ref:w,style:{position:"absolute",...d.style},onPointerDown:it(t.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),g.current=m.getBoundingClientRect(),p.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),P(L))}),onPointerMove:it(t.onPointerMove,P),onPointerUp:it(t.onPointerUp,L=>{const O=L.target;O.hasPointerCapture(L.pointerId)&&O.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=p.current,f.viewport&&(f.viewport.style.scrollBehavior=""),g.current=null})})})}),Su="ScrollAreaThumb",X_=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Z_(Su,t.__scopeScrollArea);return E.jsx(Ds,{present:n||i.hasThumb,children:E.jsx(DP,{ref:e,...r})})}),DP=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=vn(Su,n),o=Z_(Su,n),{onThumbPositionChange:a}=o,l=rn(e,h=>o.onThumbChange(h)),u=y.useRef(),c=oc(()=>{u.current&&(u.current(),u.current=void 0)},100);return y.useEffect(()=>{const h=s.viewport;if(h){const d=()=>{if(c(),!u.current){const f=zP(h,a);u.current=f,a()}};return a(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[s.viewport,c,a]),E.jsx(Pt.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:it(t.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),m=h.clientX-f.left,v=h.clientY-f.top;o.onThumbPointerDown({x:m,y:v})}),onPointerUp:it(t.onPointerUp,o.onThumbPointerUp)})});X_.displayName=Su;var _p="ScrollAreaCorner",G_=y.forwardRef((t,e)=>{const n=vn(_p,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?E.jsx(jP,{...t,ref:e}):null});G_.displayName=_p;var jP=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=vn(_p,n),[s,o]=y.useState(0),[a,l]=y.useState(0),u=!!(s&&a);return ks(i.scrollbarX,()=>{var h;const c=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(c),l(c)}),ks(i.scrollbarY,()=>{var h;const c=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(c),o(c)}),u?E.jsx(Pt.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function ku(t){return t?parseInt(t,10):0}function q_(t,e){const n=t/e;return isNaN(n)?0:n}function sc(t){const e=q_(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function IP(t,e,n,r="ltr"){const i=sc(n),s=i/2,o=e||s,a=i-o,l=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,h=r==="ltr"?[0,c]:[c*-1,0];return ex([l,u],h)(t)}function Gv(t,e,n="ltr"){const r=sc(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],u=TP(t,l);return ex([0,o],[0,a])(u)}function ex(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function tx(t,e){return t>0&&t<e}var zP=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function oc(t,e){const n=Tt(t),r=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),y.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function ks(t,e){const n=Tt(e);sa(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function $P(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const i=y.Children.only(r);return y.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var nx=H_,FP=Q_,VP=G_;const rx=y.forwardRef(({className:t,children:e,...n},r)=>E.jsxs(nx,{ref:r,className:et("relative overflow-hidden",t),...n,children:[E.jsx(FP,{className:"h-full w-full rounded-[inherit]",children:e}),E.jsx(ix,{}),E.jsx(VP,{})]}));rx.displayName=nx.displayName;const ix=y.forwardRef(({className:t,orientation:e="vertical",...n},r)=>E.jsx(yp,{ref:r,orientation:e,className:et("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:E.jsx(X_,{className:"relative flex-1 rounded-full bg-border"})}));ix.displayName=yp.displayName;function Ae(t){var e=t.width,n=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(n<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:n}}function hi(t,e){return t.width===e.width&&t.height===e.height}var UP=function(){function t(e){var n=this;this._resolutionListener=function(){return n._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e){var n=this,r={next:e};return this._observers.push(r),{unsubscribe:function(){n._observers=n._observers.filter(function(i){return i!==r})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(n){return n.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();function BP(t){return new UP(t)}var WP=function(){function t(e,n,r){var i;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=Ae({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=n??function(s){return s},this._allowResizeObserver=(i=r==null?void 0:r.allowResizeObserver)!==null&&i!==void 0?i:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var e,n;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(n=this._devicePixelRatioObservable)===null||n===void 0||n.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return Ae({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=Ae(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(n){return n!==e})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(n){return n!==e})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(e){var n=this.bitmapSize;hi(n,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(n,e))},t.prototype._emitBitmapSizeChanged=function(e,n){var r=this;this._bitmapSizeChangedListeners.forEach(function(i){return i.call(r,e,n)})},t.prototype._suggestNewBitmapSize=function(e){var n=this._suggestedBitmapSize,r=Ae(this._transformBitmapSize(e,this._canvasElementClientSize)),i=hi(this.bitmapSize,r)?null:r;n===null&&i===null||n!==null&&i!==null&&hi(n,i)||(this._suggestedBitmapSize=i,this._emitSuggestedBitmapSizeChanged(n,i))},t.prototype._emitSuggestedBitmapSizeChanged=function(e,n){var r=this;this._suggestedBitmapSizeChangedListeners.forEach(function(i){return i.call(r,e,n)})},t.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}YP().then(function(n){return n?e._initResizeObserver():e._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var n=qv(this._canvasElement);if(n===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=BP(n),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var e,n;if(this._canvasElement!==null){var r=qv(this._canvasElement);if(r!==null){var i=(n=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&n!==void 0?n:r.devicePixelRatio,s=this._canvasElement.getClientRects(),o=s[0]!==void 0?QP(s[0],i):Ae({width:this._canvasElementClientSize.width*i,height:this._canvasElementClientSize.height*i});this._suggestNewBitmapSize(o)}}},t.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(n){var r=n.find(function(o){return o.target===e._canvasElement});if(!(!r||!r.devicePixelContentBoxSize||!r.devicePixelContentBoxSize[0])){var i=r.devicePixelContentBoxSize[0],s=Ae({width:i.inlineSize,height:i.blockSize});e._suggestNewBitmapSize(s)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function HP(t,e){if(e.type==="device-pixel-content-box")return new WP(t,e.transform,e.options);throw new Error("Unsupported binding target")}function qv(t){return t.ownerDocument.defaultView}function YP(){return new Promise(function(t){var e=new ResizeObserver(function(n){t(n.every(function(r){return"devicePixelContentBoxSize"in r})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function QP(t,e){return Ae({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}var KP=function(){function t(e,n,r){if(n.width===0||n.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=n,r.width===0||r.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=r,this._context=e}return t.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function _i(t,e){var n=t.canvasElementClientSize;if(n.width===0||n.height===0)return null;var r=t.bitmapSize;if(r.width===0||r.height===0)return null;var i=t.canvasElement.getContext("2d",e);return i===null?null:new KP(i,n,r)}/*!
 * @license
 * TradingView Lightweight Charts v5.0.7
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const sx={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var eg,tg;function Es(t,e){const n={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(n)}function ox(t,e,n,r){t.beginPath();const i=t.lineWidth%2?.5:0;t.moveTo(n,e+i),t.lineTo(r,e+i),t.stroke()}function Ct(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function Zt(t){if(t===void 0)throw new Error("Value is undefined");return t}function F(t){if(t===null)throw new Error("Value is null");return t}function Mr(t){return F(Zt(t))}(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})(eg||(eg={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(tg||(tg={}));class qe{constructor(){this.t=[]}i(e,n,r){const i={h:e,l:n,o:r===!0};this.t.push(i)}_(e){const n=this.t.findIndex(r=>e===r.h);n>-1&&this.t.splice(n,1)}u(e){this.t=this.t.filter(n=>n.l!==e)}p(e,n,r){const i=[...this.t];this.t=this.t.filter(s=>!s.o),i.forEach(s=>s.h(e,n,r))}v(){return this.t.length>0}m(){this.t=[]}}function tn(t,...e){for(const n of e)for(const r in n)n[r]!==void 0&&Object.prototype.hasOwnProperty.call(n,r)&&!["__proto__","constructor","prototype"].includes(r)&&(typeof n[r]!="object"||t[r]===void 0||Array.isArray(n[r])?t[r]=n[r]:tn(t[r],n[r]));return t}function Cs(t){return typeof t=="number"&&isFinite(t)}function oa(t){return typeof t=="number"&&t%1==0}function xa(t){return typeof t=="string"}function el(t){return typeof t=="boolean"}function qn(t){const e=t;if(!e||typeof e!="object")return e;let n,r,i;for(r in n=Array.isArray(e)?[]:{},e)e.hasOwnProperty(r)&&(i=e[r],n[r]=i&&typeof i=="object"?qn(i):i);return n}function ZP(t){return t!==null}function Wd(t){return t===null?void 0:t}const ax="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Eu(t,e,n){return e===void 0&&(e=ax),`${n=n!==void 0?`${n} `:""}${t}px ${e}`}class JP{constructor(e){this.M={S:1,C:5,k:NaN,P:"",T:"",R:"",D:"",V:0,I:0,B:0,A:0,L:0},this.O=e}N(){const e=this.M,n=this.W(),r=this.F();return e.k===n&&e.T===r||(e.k=n,e.T=r,e.P=Eu(n,r),e.A=2.5/12*n,e.V=e.A,e.I=n/12*e.C,e.B=n/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}W(){return this.O.N().layout.fontSize}F(){return this.O.N().layout.fontFamily}}function lh(t){return t<0?0:t>255?255:Math.round(t)||0}function ng(t){return .199*t[0]+.687*t[1]+.114*t[2]}class XP{constructor(e,n){this.q=new Map,this.Y=e,n&&(this.q=n)}j(e,n){if(e==="transparent")return e;const r=this.K(e),i=r[3];return`rgba(${r[0]}, ${r[1]}, ${r[2]}, ${n*i})`}X(e){const n=this.K(e);return{Z:`rgb(${n[0]}, ${n[1]}, ${n[2]})`,G:ng(n)>160?"black":"white"}}J(e){return ng(this.K(e))}tt(e,n,r){const[i,s,o,a]=this.K(e),[l,u,c,h]=this.K(n),d=[lh(i+r*(l-i)),lh(s+r*(u-s)),lh(o+r*(c-o)),(f=a+r*(h-a),f<=0||f>1?Math.min(Math.max(f,0),1):Math.round(1e4*f)/1e4)];var f;return`rgba(${d[0]}, ${d[1]}, ${d[2]}, ${d[3]})`}K(e){const n=this.q.get(e);if(n)return n;const r=function(o){const a=document.createElement("div");a.style.display="none",document.body.appendChild(a),a.style.color=o;const l=window.getComputedStyle(a).color;return document.body.removeChild(a),l}(e),i=r.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!i){if(this.Y.length)for(const o of this.Y){const a=o(e);if(a)return this.q.set(e,a),a}throw new Error(`Failed to parse color: ${e}`)}const s=[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),i[4]?parseFloat(i[4]):1];return this.q.set(e,s),s}}class GP{constructor(){this.it=[]}st(e){this.it=e}nt(e,n,r){this.it.forEach(i=>{i.nt(e,n,r)})}}class js{nt(e,n,r){e.useBitmapCoordinateSpace(i=>this.et(i,n,r))}}class qP extends js{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.rt===null||this.rt.lt===null)return;const i=this.rt.lt,s=this.rt,o=Math.max(1,Math.floor(n))%2/2,a=l=>{e.beginPath();for(let u=i.to-1;u>=i.from;--u){const c=s.ot[u],h=Math.round(c._t*n)+o,d=c.ut*r,f=l*r+o;e.moveTo(h,d),e.arc(h,d,f,0,2*Math.PI)}e.fill()};s.ct>0&&(e.fillStyle=s.dt,a(s.ft+s.ct)),e.fillStyle=s.vt,a(s.ft)}}function eN(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const tN={from:0,to:1};class nN{constructor(e,n,r){this.Mt=new GP,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=n,this.yt=r,this.Mt.st(this.bt)}kt(e){this.Pt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}Pt(){const e=this.yt.Dt();e.length!==this.bt.length&&(this.St=e.map(eN),this.bt=this.St.map(n=>{const r=new qP;return r.ht(n),r}),this.Mt.st(this.bt))}Rt(){const e=this.Ct.N().mode===2||!this.Ct.Vt(),n=this.yt.It(),r=this.Ct.Bt(),i=this.O.At();this.Pt(),n.forEach((s,o)=>{const a=this.St[o],l=s.Et(r),u=s.zt();!e&&l!==null&&s.Vt()&&u!==null?(a.vt=l.Lt,a.ft=l.ft,a.ct=l.Ot,a.ot[0].gt=l.gt,a.ot[0].ut=s.Wt().Nt(l.gt,u.Ft),a.dt=l.Ht??this.O.Ut(a.ot[0].ut/s.Wt().$t()),a.ot[0].wt=r,a.ot[0]._t=i.qt(r),a.lt=tN):a.lt=null})}}class rN extends js{constructor(e){super(),this.Yt=e}et({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.Yt===null)return;const s=this.Yt.jt.Vt,o=this.Yt.Kt.Vt;if(!s&&!o)return;const a=Math.round(this.Yt._t*r),l=Math.round(this.Yt.ut*i);e.lineCap="butt",s&&a>=0&&(e.lineWidth=Math.floor(this.Yt.jt.ct*r),e.strokeStyle=this.Yt.jt.R,e.fillStyle=this.Yt.jt.R,Es(e,this.Yt.jt.Xt),function(u,c,h,d){u.beginPath();const f=u.lineWidth%2?.5:0;u.moveTo(c+f,h),u.lineTo(c+f,d),u.stroke()}(e,a,0,n.height)),o&&l>=0&&(e.lineWidth=Math.floor(this.Yt.Kt.ct*i),e.strokeStyle=this.Yt.Kt.R,e.fillStyle=this.Yt.Kt.R,Es(e,this.Yt.Kt.Xt),ox(e,l,0,n.width))}}class iN{constructor(e,n){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new rN(this.Zt),this.Jt=e,this.yt=n}kt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){const e=this.Jt.Vt(),n=this.yt.Qt().N().crosshair,r=this.Zt;if(n.mode===2)return r.Kt.Vt=!1,void(r.jt.Vt=!1);r.Kt.Vt=e&&this.Jt.ti(this.yt),r.jt.Vt=e&&this.Jt.ii(),r.Kt.ct=n.horzLine.width,r.Kt.Xt=n.horzLine.style,r.Kt.R=n.horzLine.color,r.jt.ct=n.vertLine.width,r.jt.Xt=n.vertLine.style,r.jt.R=n.vertLine.color,r._t=this.Jt.si(),r.ut=this.Jt.ni()}}function ac(t,e,n,r,i,s){t.save(),t.globalCompositeOperation="copy",t.fillStyle=s,t.fillRect(e,n,r,i),t.restore()}function rg(t,e,n,r,i,s){t.beginPath(),t.roundRect?t.roundRect(e,n,r,i,s):(t.lineTo(e+r-s[1],n),s[1]!==0&&t.arcTo(e+r,n,e+r,n+s[1],s[1]),t.lineTo(e+r,n+i-s[2]),s[2]!==0&&t.arcTo(e+r,n+i,e+r-s[2],n+i,s[2]),t.lineTo(e+s[3],n+i),s[3]!==0&&t.arcTo(e,n+i,e,n+i-s[3],s[3]),t.lineTo(e,n+s[0]),s[0]!==0&&t.arcTo(e,n,e+s[0],n,s[0]))}function ig(t,e,n,r,i,s,o=0,a=[0,0,0,0],l=""){if(t.save(),!o||!l||l===s)return rg(t,e,n,r,i,a),t.fillStyle=s,t.fill(),void t.restore();const u=o/2;var c;rg(t,e+u,n+u,r-o,i-o,(c=-u,a.map(h=>h===0?h:h+c))),s!=="transparent"&&(t.fillStyle=s,t.fill()),l!=="transparent"&&(t.lineWidth=o,t.strokeStyle=l,t.closePath(),t.stroke()),t.restore()}function lx(t,e,n,r,i,s,o){t.save(),t.globalCompositeOperation="copy";const a=t.createLinearGradient(0,0,0,i);a.addColorStop(0,s),a.addColorStop(1,o),t.fillStyle=a,t.fillRect(e,n,r,i),t.restore()}class sg{constructor(e,n){this.ht(e,n)}ht(e,n){this.Yt=e,this.ei=n}$t(e,n){return this.Yt.Vt?e.k+e.A+e.V:0}nt(e,n,r,i){if(!this.Yt.Vt||this.Yt.ri.length===0)return;const s=this.Yt.R,o=this.ei.Z,a=e.useBitmapCoordinateSpace(l=>{const u=l.context;u.font=n.P;const c=this.hi(l,n,r,i),h=c.ai;return c.li?ig(u,h.oi,h._i,h.ui,h.ci,o,h.di,[h.ft,0,0,h.ft],o):ig(u,h.fi,h._i,h.ui,h.ci,o,h.di,[0,h.ft,h.ft,0],o),this.Yt.pi&&(u.fillStyle=s,u.fillRect(h.fi,h.mi,h.wi-h.fi,h.gi)),this.Yt.Mi&&(u.fillStyle=n.D,u.fillRect(c.li?h.bi-h.di:0,h._i,h.di,h.Si-h._i)),c});e.useMediaCoordinateSpace(({context:l})=>{const u=a.xi;l.font=n.P,l.textAlign=a.li?"right":"left",l.textBaseline="middle",l.fillStyle=s,l.fillText(this.Yt.ri,u.Ci,(u._i+u.Si)/2+u.yi)})}hi(e,n,r,i){const{context:s,bitmapSize:o,mediaSize:a,horizontalPixelRatio:l,verticalPixelRatio:u}=e,c=this.Yt.pi||!this.Yt.ki?n.C:0,h=this.Yt.Pi?n.S:0,d=n.A+this.ei.Ti,f=n.V+this.ei.Ri,m=n.I,v=n.B,w=this.Yt.ri,g=n.k,p=r.Di(s,w),_=Math.ceil(r.Vi(s,w)),b=g+d+f,C=n.S+m+v+_+c,A=Math.max(1,Math.floor(u));let x=Math.round(b*u);x%2!=A%2&&(x+=1);const P=h>0?Math.max(1,Math.floor(h*l)):0,L=Math.round(C*l),O=Math.round(c*l),oe=this.ei.Ii??this.ei.Bi,j=Math.round(oe*u)-Math.floor(.5*u),q=Math.floor(j+A/2-x/2),U=q+x,ae=i==="right",ve=ae?a.width-h:h,we=ae?o.width-P:P;let D,Z,ne;return ae?(D=we-L,Z=we-O,ne=ve-c-m-h):(D=we+L,Z=we+O,ne=ve+c+m),{li:ae,ai:{_i:q,mi:j,Si:U,ui:L,ci:x,ft:2*l,di:P,oi:D,fi:we,wi:Z,gi:A,bi:o.width},xi:{_i:q/u,Si:U/u,Ci:ne,yi:p}}}}class lc{constructor(e){this.Ai={Bi:0,Z:"#000",Ri:0,Ti:0},this.Ei={ri:"",Vt:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,Pi:!1},this.zi={ri:"",Vt:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,Pi:!0},this.xt=!0,this.Li=new(e||sg)(this.Ei,this.Ai),this.Oi=new(e||sg)(this.zi,this.Ai)}ri(){return this.Ni(),this.Ei.ri}Bi(){return this.Ni(),this.Ai.Bi}kt(){this.xt=!0}$t(e,n=!1){return Math.max(this.Li.$t(e,n),this.Oi.$t(e,n))}Wi(){return this.Ai.Ii||0}Fi(e){this.Ai.Ii=e}Hi(){return this.Ni(),this.Ei.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ei.Vt}Tt(e){return this.Ni(),this.Ei.pi=this.Ei.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Li.ht(this.Ei,this.Ai),this.Oi.ht(this.zi,this.Ai),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ei,this.Ai),this.Oi.ht(this.zi,this.Ai),this.Oi}Ni(){this.xt&&(this.Ei.pi=!0,this.zi.pi=!1,this.qi(this.Ei,this.zi,this.Ai))}}class sN extends lc{constructor(e,n,r){super(),this.Jt=e,this.Yi=n,this.ji=r}qi(e,n,r){if(e.Vt=!1,this.Jt.N().mode===2)return;const i=this.Jt.N().horzLine;if(!i.labelVisible)return;const s=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||s===null)return;const o=this.Yi.Xi().X(i.labelBackgroundColor);r.Z=o.Z,e.R=o.G;const a=2/12*this.Yi.k();r.Ti=a,r.Ri=a;const l=this.ji(this.Yi);r.Bi=l.Bi,e.ri=this.Yi.Zi(l.gt,s),e.Vt=!0}}const oN=/[1-9]/g;class ux{constructor(){this.Yt=null}ht(e){this.Yt=e}nt(e,n){if(this.Yt===null||this.Yt.Vt===!1||this.Yt.ri.length===0)return;const r=e.useMediaCoordinateSpace(({context:d})=>(d.font=n.P,Math.round(n.Gi.Vi(d,F(this.Yt).ri,oN))));if(r<=0)return;const i=n.Ji,s=r+2*i,o=s/2,a=this.Yt.Qi;let l=this.Yt.Bi,u=Math.floor(l-o)+.5;u<0?(l+=Math.abs(0-u),u=Math.floor(l-o)+.5):u+s>a&&(l-=Math.abs(a-(u+s)),u=Math.floor(l-o)+.5);const c=u+s,h=Math.ceil(0+n.S+n.C+n.A+n.k+n.V);e.useBitmapCoordinateSpace(({context:d,horizontalPixelRatio:f,verticalPixelRatio:m})=>{const v=F(this.Yt);d.fillStyle=v.Z;const w=Math.round(u*f),g=Math.round(0*m),p=Math.round(c*f),_=Math.round(h*m),b=Math.round(2*f);if(d.beginPath(),d.moveTo(w,g),d.lineTo(w,_-b),d.arcTo(w,_,w+b,_,b),d.lineTo(p-b,_),d.arcTo(p,_,p,_-b,b),d.lineTo(p,g),d.fill(),v.pi){const C=Math.round(v.Bi*f),A=g,x=Math.round((A+n.C)*m);d.fillStyle=v.R;const P=Math.max(1,Math.floor(f)),L=Math.floor(.5*f);d.fillRect(C-L,A,P,x-A)}}),e.useMediaCoordinateSpace(({context:d})=>{const f=F(this.Yt),m=0+n.S+n.C+n.A+n.k/2;d.font=n.P,d.textAlign="left",d.textBaseline="middle",d.fillStyle=f.R;const v=n.Gi.Di(d,"Apr0");d.translate(u+i,m+v),d.fillText(f.ri,0,0)})}}class aN{constructor(e,n,r){this.xt=!0,this.Gt=new ux,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Bi:NaN,pi:!0},this.Ct=e,this.ts=n,this.ji=r}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const e=this.Zt;if(e.Vt=!1,this.Ct.N().mode===2)return;const n=this.Ct.N().vertLine;if(!n.labelVisible)return;const r=this.ts.At();if(r.Ki())return;e.Qi=r.Qi();const i=this.ji();if(i===null)return;e.Bi=i.Bi;const s=r.ss(this.Ct.Bt());e.ri=r.ns(F(s)),e.Vt=!0;const o=this.ts.Xi().X(n.labelBackgroundColor);e.Z=o.Z,e.R=o.G,e.pi=r.N().ticksVisible}}class cx{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(e){this.rs=e}Wt(){return this.es}_s(e){this.es=e}us(e){return[]}cs(){return[]}Vt(){return!0}}var og;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden",t[t.MagnetOHLC=3]="MagnetOHLC"})(og||(og={}));class lN extends cx{constructor(e,n){super(),this.yt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=e,this.ys=n,this.ks=((i,s)=>o=>{const a=s(),l=i();if(o===F(this.yt).Ps())return{gt:l,Bi:a};{const u=F(o.zt());return{gt:o.Ts(a,u),Bi:a}}})(()=>this.ds,()=>this.Ss);const r=((i,s)=>()=>{const o=this.ts.At().Rs(i()),a=s();return o&&Number.isFinite(a)?{wt:o,Bi:a}:null})(()=>this.fs,()=>this.si());this.Ds=new aN(this,e,r)}N(){return this.ys}Vs(e,n){this.xs=e,this.Cs=n}Is(){this.xs=NaN,this.Cs=NaN}Bs(){return this.xs}As(){return this.Cs}Es(e,n,r){this.ws||(this.ws=!0),this.ps=!0,this.zs(e,n,r)}Bt(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.yt=null,this.Is(),this.Ns()}Ws(e){let n=this.gs.get(e);n||(n=new iN(this,e),this.gs.set(e,n));let r=this.Ms.get(e);return r||(r=new nN(this.ts,this,e),this.Ms.set(e,r)),[n,r]}ti(e){return e===this.yt&&this.ys.horzLine.visible}ii(){return this.ys.vertLine.visible}Fs(e,n){this.ps&&this.yt===e||this.vs.clear();const r=[];return this.yt===e&&r.push(this.Hs(this.vs,n,this.ks)),r}cs(){return this.ps?[this.Ds]:[]}Us(){return this.yt}Ns(){this.ts.$s().forEach(e=>{var n,r;(n=this.gs.get(e))==null||n.kt(),(r=this.Ms.get(e))==null||r.kt()}),this.vs.forEach(e=>e.kt()),this.Ds.kt()}qs(e){return e&&!e.Ps().Ki()?e.Ps():null}zs(e,n,r){this.Ys(e,n,r)&&this.Ns()}Ys(e,n,r){const i=this.bs,s=this.Ss,o=this.ds,a=this.fs,l=this.yt,u=this.qs(r);this.fs=e,this.bs=isNaN(e)?NaN:this.ts.At().qt(e),this.yt=r;const c=u!==null?u.zt():null;return u!==null&&c!==null?(this.ds=n,this.Ss=u.Nt(n,c)):(this.ds=NaN,this.Ss=NaN),i!==this.bs||s!==this.Ss||a!==this.fs||o!==this.ds||l!==this.yt}Os(){const e=this.ts.js().map(r=>r.Xs().Ks()).filter(ZP),n=e.length===0?null:Math.max(...e);this.fs=n!==null?n:NaN}Hs(e,n,r){let i=e.get(n);return i===void 0&&(i=new sN(this,n,r),e.set(n,i)),i}}function uc(t){return t==="left"||t==="right"}class wt{constructor(e){this.Zs=new Map,this.Gs=[],this.Js=e}Qs(e,n){const r=function(i,s){return i===void 0?s:{tn:Math.max(i.tn,s.tn),sn:i.sn||s.sn}}(this.Zs.get(e),n);this.Zs.set(e,r)}nn(){return this.Js}en(e){const n=this.Zs.get(e);return n===void 0?{tn:this.Js}:{tn:Math.max(this.Js,n.tn),sn:n.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(e){this.hn(),this.Gs=[{an:1,Ft:e}]}_n(e){this.un(),this.Gs.push({an:5,Ft:e})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(e){this.hn(),this.Gs.push({an:2,Ft:e})}fn(e){this.hn(),this.Gs.push({an:3,Ft:e})}pn(){return this.Gs}vn(e){for(const n of e.Gs)this.mn(n);this.Js=Math.max(this.Js,e.Js),e.Zs.forEach((n,r)=>{this.Qs(r,n)})}static wn(){return new wt(2)}static gn(){return new wt(3)}mn(e){switch(e.an){case 0:this.rn();break;case 1:this.ln(e.Ft);break;case 2:this.dn(e.Ft);break;case 3:this.fn(e.Ft);break;case 4:this.cn();break;case 5:this._n(e.Ft);break;case 6:this.un()}}un(){const e=this.Gs.findIndex(n=>n.an===5);e!==-1&&this.Gs.splice(e,1)}}const ag=".";function er(t,e){if(!Cs(t))return"n/a";if(!oa(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?t.toString():("0000000000000000"+t.toString()).slice(-e)}class cc{constructor(e,n){if(n||(n=1),Cs(e)&&oa(e)||(e=100),e<0)throw new TypeError("invalid base");this.Yi=e,this.Mn=n,this.bn()}format(e){const n=e<0?"":"";return e=Math.abs(e),n+this.Sn(e)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let e=this.Yi;for(;e>1;)e/=10,this.xn++}}Sn(e){const n=this.Yi/this.Mn;let r=Math.floor(e),i="";const s=this.xn!==void 0?this.xn:NaN;if(n>1){let o=+(Math.round(e*n)-r*n).toFixed(this.xn);o>=n&&(o-=n,r+=1),i=ag+er(+o.toFixed(this.xn)*this.Mn,s)}else r=Math.round(r*n)/n,s>0&&(i=ag+er(0,s));return r.toFixed(0)+i}}class hx extends cc{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class uN{constructor(e){this.Cn=e}format(e){let n="";return e<0&&(n="-",e=-e),e<995?n+this.yn(e):e<999995?n+this.yn(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),n+this.yn(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),n+this.yn(e/1e9)+"B")}yn(e){let n;const r=Math.pow(10,this.Cn);return n=(e=Math.round(e*r)/r)>=1e-15&&e<1?e.toFixed(this.Cn).replace(/\.?0+$/,""):String(e),n.replace(/(\.[1-9]*)0+$/,(i,s)=>s)}}const cN=/[2-9]/g;class Cu{constructor(e=50){this.kn=0,this.Pn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=e}In(){this.kn=0,this.Dn.clear(),this.Pn=1,this.Tn=1,this.Rn={}}Vi(e,n,r){return this.Bn(e,n,r).width}Di(e,n,r){const i=this.Bn(e,n,r);return((i.actualBoundingBoxAscent||0)-(i.actualBoundingBoxDescent||0))/2}Bn(e,n,r){const i=r||cN,s=String(n).replace(i,"0");if(this.Dn.has(s))return Zt(this.Dn.get(s)).An;if(this.kn===this.Vn){const a=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(a),this.Tn++,this.kn--}e.save(),e.textBaseline="middle";const o=e.measureText(s);return e.restore(),o.width===0&&n.length||(this.Dn.set(s,{An:o,En:this.Pn}),this.Rn[this.Pn]=s,this.kn++,this.Pn++),o}}class hN{constructor(e){this.zn=null,this.M=null,this.Ln="right",this.On=e}Nn(e,n,r){this.zn=e,this.M=n,this.Ln=r}nt(e){this.M!==null&&this.zn!==null&&this.zn.nt(e,this.M,this.On,this.Ln)}}class dx{constructor(e,n,r){this.Wn=e,this.On=new Cu(50),this.Fn=n,this.O=r,this.W=-1,this.Gt=new hN(this.On)}Tt(){const e=this.O.Hn(this.Fn);if(e===null)return null;const n=e.Un(this.Fn)?e.$n():this.Fn.Wt();if(n===null)return null;const r=e.qn(n);if(r==="overlay")return null;const i=this.O.Yn();return i.k!==this.W&&(this.W=i.k,this.On.In()),this.Gt.Nn(this.Wn.$i(),i,r),this.Gt}}class dN extends js{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}jn(e,n){var o;if(!((o=this.Yt)!=null&&o.Vt))return null;const{ut:r,ct:i,Kn:s}=this.Yt;return n>=r-i-7&&n<=r+i+7?{Xn:this.Yt,Kn:s}:null}et({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.Yt===null||this.Yt.Vt===!1)return;const s=Math.round(this.Yt.ut*i);s<0||s>n.height||(e.lineCap="butt",e.strokeStyle=this.Yt.R,e.lineWidth=Math.floor(this.Yt.ct*r),Es(e,this.Yt.Xt),ox(e,s,0,n.width))}}class xp{constructor(e){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new dN,this.xt=!0,this.Jn=e,this.Qn=e.Qt(),this.Gn.ht(this.Zn)}kt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class fN extends xp{constructor(e){super(e)}te(){this.Zn.Vt=!1;const e=this.Jn.Wt(),n=e.ie().ie;if(n!==2&&n!==3)return;const r=this.Jn.N();if(!r.baseLineVisible||!this.Jn.Vt())return;const i=this.Jn.zt();i!==null&&(this.Zn.Vt=!0,this.Zn.ut=e.Nt(i.Ft,i.Ft),this.Zn.R=r.baseLineColor,this.Zn.ct=r.baseLineWidth,this.Zn.Xt=r.baseLineStyle)}}class pN extends js{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}se(){return this.Yt}et({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){const i=this.Yt;if(i===null)return;const s=Math.max(1,Math.floor(n)),o=s%2/2,a=Math.round(i.ne.x*n)+o,l=i.ne.y*r;e.fillStyle=i.ee,e.beginPath();const u=Math.max(2,1.5*i.re)*n;e.arc(a,l,u,0,2*Math.PI,!1),e.fill(),e.fillStyle=i.he,e.beginPath(),e.arc(a,l,i.ft*n,0,2*Math.PI,!1),e.fill(),e.lineWidth=s,e.strokeStyle=i.ae,e.beginPath(),e.arc(a,l,i.ft*n+s/2,0,2*Math.PI,!1),e.stroke()}}const mN=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class vN{constructor(e){this.Gt=new pN,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=e}Me(){this.we=this.me-1,this.kt()}be(){if(this.kt(),this.ge.N().lastPriceAnimation===2){const e=performance.now(),n=this.we-e;if(n>0)return void(n<650&&(this.we+=2600));this.me=e,this.we=e+2600}}kt(){this.xt=!0}Se(){this.ve=!0}Vt(){return this.ge.N().lastPriceAnimation!==0}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const e=this.ge.Qt().At(),n=e.ye(),r=this.ge.zt();if(n===null||r===null)return;const i=this.ge.ke(!0);if(i.Pe||!n.Te(i.Re))return;const s={x:e.qt(i.Re),y:this.ge.Wt().Nt(i.gt,r.Ft)},o=i.R,a=this.ge.N().lineWidth,l=this.De(this.Ve(),o);this.Gt.ht({ee:o,re:a,he:l.he,ae:l.ae,ft:l.ft,ne:s})}Ce(){const e=this.Gt.se();if(e!==null){const n=this.De(this.Ve(),e.ee);e.he=n.he,e.ae=n.ae,e.ft=n.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Ie(e,n,r,i){const s=r+(i-r)*n;return this.ge.Qt().Xi().j(e,s)}De(e,n){const r=e%2600/2600;let i;for(const u of mN)if(r>=u.le&&r<=u.oe){i=u;break}Ct(i!==void 0,"Last price animation internal logic error");const s=(r-i.le)/(i.oe-i.le);return{he:this.Ie(n,s,i.ce,i.de),ae:this.Ie(n,s,i.fe,i.pe),ft:(o=s,a=i._e,l=i.ue,a+(l-a)*o)};var o,a,l}}class gN extends xp{constructor(e){super(e)}te(){const e=this.Zn;e.Vt=!1;const n=this.Jn.N();if(!n.priceLineVisible||!this.Jn.Vt())return;const r=this.Jn.ke(n.priceLineSource===0);r.Pe||(e.Vt=!0,e.ut=r.Bi,e.R=this.Jn.Be(r.R),e.ct=n.priceLineWidth,e.Xt=n.priceLineStyle)}}class yN extends lc{constructor(e){super(),this.Jt=e}qi(e,n,r){e.Vt=!1,n.Vt=!1;const i=this.Jt;if(!i.Vt())return;const s=i.N(),o=s.lastValueVisible,a=i.Ae()!=="",l=s.seriesLastValueMode===0,u=i.ke(!1);if(u.Pe)return;o&&(e.ri=this.Ee(u,o,l),e.Vt=e.ri.length!==0),(a||l)&&(n.ri=this.ze(u,o,a,l),n.Vt=n.ri.length>0);const c=i.Be(u.R),h=this.Jt.Qt().Xi().X(c);r.Z=h.Z,r.Bi=u.Bi,n.Ht=i.Qt().Ut(u.Bi/i.Wt().$t()),e.Ht=c,e.R=h.G,n.R=h.G}ze(e,n,r,i){let s="";const o=this.Jt.Ae();return r&&o.length!==0&&(s+=`${o} `),n&&i&&(s+=this.Jt.Wt().Le()?e.Oe:e.Ne),s.trim()}Ee(e,n,r){return n?r?this.Jt.Wt().Le()?e.Ne:e.Oe:e.ri:""}}function lg(t,e,n,r){const i=Number.isFinite(e),s=Number.isFinite(n);return i&&s?t(e,n):i||s?i?e:n:r}class Lt{constructor(e,n){this.We=e,this.Fe=n}He(e){return e!==null&&this.We===e.We&&this.Fe===e.Fe}Ue(){return new Lt(this.We,this.Fe)}$e(){return this.We}qe(){return this.Fe}Ye(){return this.Fe-this.We}Ki(){return this.Fe===this.We||Number.isNaN(this.Fe)||Number.isNaN(this.We)}vn(e){return e===null?this:new Lt(lg(Math.min,this.$e(),e.$e(),-1/0),lg(Math.max,this.qe(),e.qe(),1/0))}je(e){if(!Cs(e)||this.Fe-this.We===0)return;const n=.5*(this.Fe+this.We);let r=this.Fe-n,i=this.We-n;r*=e,i*=e,this.Fe=n+r,this.We=n+i}Ke(e){Cs(e)&&(this.Fe+=e,this.We+=e)}Xe(){return{minValue:this.We,maxValue:this.Fe}}static Ze(e){return e===null?null:new Lt(e.minValue,e.maxValue)}}class Tu{constructor(e,n){this.Ge=e,this.Je=n||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:this.Ge===null?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(e){return e===null?null:new Tu(Lt.Ze(e.priceRange),e.margins)}}class wN extends xp{constructor(e,n){super(e),this.ir=n}te(){const e=this.Zn;e.Vt=!1;const n=this.ir.N();if(!this.Jn.Vt()||!n.lineVisible)return;const r=this.ir.sr();r!==null&&(e.Vt=!0,e.ut=r,e.R=n.color,e.ct=n.lineWidth,e.Xt=n.lineStyle,e.Kn=this.ir.N().id)}}class _N extends lc{constructor(e,n){super(),this.ge=e,this.ir=n}qi(e,n,r){e.Vt=!1,n.Vt=!1;const i=this.ir.N(),s=i.axisLabelVisible,o=i.title!=="",a=this.ge;if(!s||!a.Vt())return;const l=this.ir.sr();if(l===null)return;o&&(n.ri=i.title,n.Vt=!0),n.Ht=a.Qt().Ut(l/a.Wt().$t()),e.ri=this.nr(i.price),e.Vt=!0;const u=this.ge.Qt().Xi().X(i.axisLabelColor||i.color);r.Z=u.Z;const c=i.axisLabelTextColor||u.G;e.R=c,n.R=c,r.Bi=l}nr(e){const n=this.ge.zt();return n===null?"":this.ge.Wt().Zi(e,n.Ft)}}class xN{constructor(e,n){this.ge=e,this.ys=n,this.er=new wN(e,this),this.Wn=new _N(e,this),this.rr=new dx(this.Wn,e,e.Qt())}hr(e){tn(this.ys,e),this.kt(),this.ge.Qt().ar()}N(){return this.ys}lr(){return this.er}_r(){return this.rr}ur(){return this.Wn}kt(){this.er.kt(),this.Wn.kt()}sr(){const e=this.ge,n=e.Wt();if(e.Qt().At().Ki()||n.Ki())return null;const r=e.zt();return r===null?null:n.Nt(this.ys.price,r.Ft)}}class bN extends cx{constructor(e){super(),this.ts=e}Qt(){return this.ts}}const SN={Bar:(t,e,n,r)=>{const i=e.upColor,s=e.downColor,o=F(t(n,r)),a=Mr(o.Ft[0])<=Mr(o.Ft[3]);return{cr:o.R??(a?i:s)}},Candlestick:(t,e,n,r)=>{const i=e.upColor,s=e.downColor,o=e.borderUpColor,a=e.borderDownColor,l=e.wickUpColor,u=e.wickDownColor,c=F(t(n,r)),h=Mr(c.Ft[0])<=Mr(c.Ft[3]);return{cr:c.R??(h?i:s),dr:c.Ht??(h?o:a),pr:c.vr??(h?l:u)}},Custom:(t,e,n,r)=>({cr:F(t(n,r)).R??e.color}),Area:(t,e,n,r)=>{const i=F(t(n,r));return{cr:i.vt??e.lineColor,vt:i.vt??e.lineColor,mr:i.mr??e.topColor,wr:i.wr??e.bottomColor}},Baseline:(t,e,n,r)=>{const i=F(t(n,r));return{cr:i.Ft[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,gr:i.gr??e.topLineColor,Mr:i.Mr??e.bottomLineColor,br:i.br??e.topFillColor1,Sr:i.Sr??e.topFillColor2,Cr:i.Cr??e.bottomFillColor1,yr:i.yr??e.bottomFillColor2}},Line:(t,e,n,r)=>{const i=F(t(n,r));return{cr:i.R??e.color,vt:i.R??e.color}},Histogram:(t,e,n,r)=>({cr:F(t(n,r)).R??e.color})};class kN{constructor(e){this.kr=(n,r)=>r!==void 0?r.Ft:this.ge.Xs().Pr(n),this.ge=e,this.Tr=SN[e.Rr()]}Dr(e,n){return this.Tr(this.kr,this.ge.N(),e,n)}}function fx(t,e,n,r,i=0,s=e.length){let o=s-i;for(;0<o;){const a=o>>1,l=i+a;r(e[l],n)===t?(i=l+1,o-=a+1):o=a}return i}const Ts=fx.bind(null,!0),px=fx.bind(null,!1);var ug;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(ug||(ug={}));const gr=30;class EN{constructor(){this.Vr=[],this.Ir=new Map,this.Br=new Map,this.Ar=[]}Er(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return this.zr()===0}Te(e){return this.Nr(e,0)!==null}Pr(e){return this.Wr(e)}Wr(e,n=0){const r=this.Nr(e,n);return r===null?null:{...this.Fr(r),Re:this.Or(r)}}Hr(){return this.Vr}Ur(e,n,r){if(this.Ki())return null;let i=null;for(const s of r)i=tl(i,this.$r(e,n,s));return i}ht(e){this.Br.clear(),this.Ir.clear(),this.Vr=e,this.Ar=e.map(n=>n.Re)}qr(){return this.Ar}Or(e){return this.Vr[e].Re}Fr(e){return this.Vr[e]}Nr(e,n){const r=this.Yr(e);if(r===null&&n!==0)switch(n){case-1:return this.jr(e);case 1:return this.Kr(e);default:throw new TypeError("Unknown search mode")}return r}jr(e){let n=this.Xr(e);return n>0&&(n-=1),n!==this.Vr.length&&this.Or(n)<e?n:null}Kr(e){const n=this.Zr(e);return n!==this.Vr.length&&e<this.Or(n)?n:null}Yr(e){const n=this.Xr(e);return n===this.Vr.length||e<this.Vr[n].Re?null:n}Xr(e){return Ts(this.Vr,e,(n,r)=>n.Re<r)}Zr(e){return px(this.Vr,e,(n,r)=>n.Re>r)}Gr(e,n,r){let i=null;for(let s=e;s<n;s++){const o=this.Vr[s].Ft[r];Number.isNaN(o)||(i===null?i={Jr:o,Qr:o}:(o<i.Jr&&(i.Jr=o),o>i.Qr&&(i.Qr=o)))}return i}$r(e,n,r){if(this.Ki())return null;let i=null;const s=F(this.Lr()),o=F(this.Ks()),a=Math.max(e,s),l=Math.min(n,o),u=Math.ceil(a/gr)*gr,c=Math.max(u,Math.floor(l/gr)*gr);{const d=this.Xr(a),f=this.Zr(Math.min(l,u,n));i=tl(i,this.Gr(d,f,r))}let h=this.Ir.get(r);h===void 0&&(h=new Map,this.Ir.set(r,h));for(let d=Math.max(u+1,a);d<c;d+=gr){const f=Math.floor(d/gr);let m=h.get(f);if(m===void 0){const v=this.Xr(f*gr),w=this.Zr((f+1)*gr-1);m=this.Gr(v,w,r),h.set(f,m)}i=tl(i,m)}{const d=this.Xr(c),f=this.Zr(l);i=tl(i,this.Gr(d,f,r))}return i}}function tl(t,e){return t===null?e:e===null?t:{Jr:Math.min(t.Jr,e.Jr),Qr:Math.max(t.Qr,e.Qr)}}class CN{constructor(e){this.th=e}nt(e,n,r){this.th.draw(e)}ih(e,n,r){var i,s;(s=(i=this.th).drawBackground)==null||s.call(i,e)}}class TN{constructor(e){this.Dn=null,this.sh=e}Tt(){var r;const e=this.sh.renderer();if(e===null)return null;if(((r=this.Dn)==null?void 0:r.nh)===e)return this.Dn.eh;const n=new CN(e);return this.Dn={nh:e,eh:n},n}rh(){var e,n;return((n=(e=this.sh).zOrder)==null?void 0:n.call(e))??"normal"}}class mx{constructor(e){this.hh=null,this.ah=e}oh(){return this.ah}Ns(){var e,n;(n=(e=this.ah).updateAllViews)==null||n.call(e)}Ws(){var r,i,s;const e=((i=(r=this.ah).paneViews)==null?void 0:i.call(r))??[];if(((s=this.hh)==null?void 0:s.nh)===e)return this.hh.eh;const n=e.map(o=>new TN(o));return this.hh={nh:e,eh:n},n}jn(e,n){var r,i;return((i=(r=this.ah).hitTest)==null?void 0:i.call(r,e,n))??null}}let RN=class extends mx{us(){return[]}};class PN{constructor(e){this.th=e}nt(e,n,r){this.th.draw(e)}ih(e,n,r){var i,s;(s=(i=this.th).drawBackground)==null||s.call(i,e)}}class cg{constructor(e){this.Dn=null,this.sh=e}Tt(){var r;const e=this.sh.renderer();if(e===null)return null;if(((r=this.Dn)==null?void 0:r.nh)===e)return this.Dn.eh;const n=new PN(e);return this.Dn={nh:e,eh:n},n}rh(){var e,n;return((n=(e=this.sh).zOrder)==null?void 0:n.call(e))??"normal"}}function vx(t){var e,n,r;return{ri:t.text(),Bi:t.coordinate(),Ii:(e=t.fixedCoordinate)==null?void 0:e.call(t),R:t.textColor(),Z:t.backColor(),Vt:((n=t.visible)==null?void 0:n.call(t))??!0,pi:((r=t.tickVisible)==null?void 0:r.call(t))??!0}}class NN{constructor(e,n){this.Gt=new ux,this._h=e,this.uh=n}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...vx(this._h)}),this.Gt}}class MN extends lc{constructor(e,n){super(),this._h=e,this.Yi=n}qi(e,n,r){const i=vx(this._h);r.Z=i.Z,e.R=i.R;const s=2/12*this.Yi.k();r.Ti=s,r.Ri=s,r.Bi=i.Bi,r.Ii=i.Ii,e.ri=i.ri,e.Vt=i.Vt,e.pi=i.pi}}class ON extends mx{constructor(e,n){super(e),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=n}cs(){var i,s,o;const e=((s=(i=this.ah).timeAxisViews)==null?void 0:s.call(i))??[];if(((o=this.dh)==null?void 0:o.nh)===e)return this.dh.eh;const n=this.ge.Qt().At(),r=e.map(a=>new NN(a,n));return this.dh={nh:e,eh:r},r}Fs(){var i,s,o;const e=((s=(i=this.ah).priceAxisViews)==null?void 0:s.call(i))??[];if(((o=this.fh)==null?void 0:o.nh)===e)return this.fh.eh;const n=this.ge.Wt(),r=e.map(a=>new MN(a,n));return this.fh={nh:e,eh:r},r}wh(){var r,i,s;const e=((i=(r=this.ah).priceAxisPaneViews)==null?void 0:i.call(r))??[];if(((s=this.ph)==null?void 0:s.nh)===e)return this.ph.eh;const n=e.map(o=>new cg(o));return this.ph={nh:e,eh:n},n}gh(){var r,i,s;const e=((i=(r=this.ah).timeAxisPaneViews)==null?void 0:i.call(r))??[];if(((s=this.mh)==null?void 0:s.nh)===e)return this.mh.eh;const n=e.map(o=>new cg(o));return this.mh={nh:e,eh:n},n}Mh(e,n){var r,i;return((i=(r=this.ah).autoscaleInfo)==null?void 0:i.call(r,e,n))??null}}function uh(t,e,n,r){t.forEach(i=>{e(i).forEach(s=>{s.rh()===n&&r.push(s)})})}function ch(t){return t.Ws()}function AN(t){return t.wh()}function LN(t){return t.gh()}const DN=["Area","Line","Baseline"];class hc extends bN{constructor(e,n,r,i,s){super(e),this.Yt=new EN,this.er=new gN(this),this.bh=[],this.Sh=new fN(this),this.xh=null,this.Ch=null,this.yh=null,this.kh=[],this.ys=r,this.Ph=n;const o=new yN(this);this.vs=[o],this.rr=new dx(o,this,e),DN.includes(this.Ph)&&(this.xh=new vN(this)),this.Th(),this.sh=i(this,this.Qt(),s)}m(){this.yh!==null&&clearTimeout(this.yh)}Be(e){return this.ys.priceLineColor||e}ke(e){const n={Pe:!0},r=this.Wt();if(this.Qt().At().Ki()||r.Ki()||this.Yt.Ki())return n;const i=this.Qt().At().ye(),s=this.zt();if(i===null||s===null)return n;let o,a;if(e){const h=this.Yt.Er();if(h===null)return n;o=h,a=h.Re}else{const h=this.Yt.Wr(i.bi(),-1);if(h===null||(o=this.Yt.Pr(h.Re),o===null))return n;a=h.Re}const l=o.Ft[3],u=this.Rh().Dr(a,{Ft:o}),c=r.Nt(l,s.Ft);return{Pe:!1,gt:l,ri:r.Zi(l,s.Ft),Oe:r.Dh(l),Ne:r.Vh(l,s.Ft),R:u.cr,Bi:c,Re:a}}Rh(){return this.Ch!==null||(this.Ch=new kN(this)),this.Ch}N(){return this.ys}hr(e){const n=e.priceScaleId;n!==void 0&&n!==this.ys.priceScaleId&&this.Qt().Ih(this,n),tn(this.ys,e),e.priceFormat!==void 0&&(this.Th(),this.Qt().Bh()),this.Qt().Ah(this),this.Qt().Eh(),this.sh.kt("options")}ht(e,n){this.Yt.ht(e),this.sh.kt("data"),this.xh!==null&&(n&&n.zh?this.xh.be():e.length===0&&this.xh.Me());const r=this.Qt().Hn(this);this.Qt().Lh(r),this.Qt().Ah(this),this.Qt().Eh(),this.Qt().ar()}Oh(e){const n=new xN(this,e);return this.bh.push(n),this.Qt().Ah(this),n}Nh(e){const n=this.bh.indexOf(e);n!==-1&&this.bh.splice(n,1),this.Qt().Ah(this)}Wh(){return this.bh}Rr(){return this.Ph}zt(){const e=this.Fh();return e===null?null:{Ft:e.Ft[3],Hh:e.wt}}Fh(){const e=this.Qt().At().ye();if(e===null)return null;const n=e.Uh();return this.Yt.Wr(n,1)}Xs(){return this.Yt}$h(e){const n=this.Yt.Pr(e);return n===null?null:this.Ph==="Bar"||this.Ph==="Candlestick"||this.Ph==="Custom"?{qh:n.Ft[0],Yh:n.Ft[1],jh:n.Ft[2],Kh:n.Ft[3]}:n.Ft[3]}Xh(e){const n=[];uh(this.kh,ch,"top",n);const r=this.xh;return r!==null&&r.Vt()&&(this.yh===null&&r.xe()&&(this.yh=setTimeout(()=>{this.yh=null,this.Qt().Zh()},0)),r.Se(),n.unshift(r)),n}Ws(){const e=[];this.Gh()||e.push(this.Sh),e.push(this.sh,this.er);const n=this.bh.map(r=>r.lr());return e.push(...n),uh(this.kh,ch,"normal",e),e}Jh(){return this.Qh(ch,"bottom")}ta(e){return this.Qh(AN,e)}ia(e){return this.Qh(LN,e)}sa(e,n){return this.kh.map(r=>r.jn(e,n)).filter(r=>r!==null)}us(){return[this.rr,...this.bh.map(e=>e._r())]}Fs(e,n){if(n!==this.es&&!this.Gh())return[];const r=[...this.vs];for(const i of this.bh)r.push(i.ur());return this.kh.forEach(i=>{r.push(...i.Fs())}),r}cs(){const e=[];return this.kh.forEach(n=>{e.push(...n.cs())}),e}Mh(e,n){if(this.ys.autoscaleInfoProvider!==void 0){const r=this.ys.autoscaleInfoProvider(()=>{const i=this.na(e,n);return i===null?null:i.Xe()});return Tu.Ze(r)}return this.na(e,n)}ea(){return this.ys.priceFormat.minMove}ra(){return this.ha}Ns(){var e;this.sh.kt();for(const n of this.vs)n.kt();for(const n of this.bh)n.kt();this.er.kt(),this.Sh.kt(),(e=this.xh)==null||e.kt(),this.kh.forEach(n=>n.Ns())}Wt(){return F(super.Wt())}Et(e){if(!((this.Ph==="Line"||this.Ph==="Area"||this.Ph==="Baseline")&&this.ys.crosshairMarkerVisible))return null;const n=this.Yt.Pr(e);return n===null?null:{gt:n.Ft[3],ft:this.aa(),Ht:this.la(),Ot:this.oa(),Lt:this._a(e)}}Ae(){return this.ys.title}Vt(){return this.ys.visible}ua(e){this.kh.push(new ON(e,this))}ca(e){this.kh=this.kh.filter(n=>n.oh()!==e)}da(){if(this.Ph==="Custom")return e=>this.sh.fa(e)}pa(){if(this.Ph==="Custom")return e=>this.sh.va(e)}ma(){return this.Yt.qr()}Gh(){return!uc(this.Wt().wa())}na(e,n){if(!oa(e)||!oa(n)||this.Yt.Ki())return null;const r=this.Ph==="Line"||this.Ph==="Area"||this.Ph==="Baseline"||this.Ph==="Histogram"?[3]:[2,1],i=this.Yt.Ur(e,n,r);let s=i!==null?new Lt(i.Jr,i.Qr):null,o=null;if(this.Rr()==="Histogram"){const a=this.ys.base,l=new Lt(a,a);s=s!==null?s.vn(l):l}return this.kh.forEach(a=>{const l=a.Mh(e,n);if(l!=null&&l.priceRange){const u=new Lt(l.priceRange.minValue,l.priceRange.maxValue);s=s!==null?s.vn(u):u}l!=null&&l.margins&&(o=l.margins)}),new Tu(s,o)}aa(){switch(this.Ph){case"Line":case"Area":case"Baseline":return this.ys.crosshairMarkerRadius}return 0}la(){switch(this.Ph){case"Line":case"Area":case"Baseline":{const e=this.ys.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}oa(){switch(this.Ph){case"Line":case"Area":case"Baseline":return this.ys.crosshairMarkerBorderWidth}return 0}_a(e){switch(this.Ph){case"Line":case"Area":case"Baseline":{const n=this.ys.crosshairMarkerBackgroundColor;if(n.length!==0)return n}}return this.Rh().Dr(e).cr}Th(){switch(this.ys.priceFormat.type){case"custom":this.ha={format:this.ys.priceFormat.formatter};break;case"volume":this.ha=new uN(this.ys.priceFormat.precision);break;case"percent":this.ha=new hx(this.ys.priceFormat.precision);break;default:{const e=Math.pow(10,this.ys.priceFormat.precision);this.ha=new cc(e,this.ys.priceFormat.minMove*e)}}this.es!==null&&this.es.ga()}Qh(e,n){const r=[];return uh(this.kh,e,n,r),r}}const jN=[3],IN=[0,1,2,3];class zN{constructor(e){this.ys=e}Ma(e,n,r){let i=e;if(this.ys.mode===0)return i;const s=r.Ps(),o=s.zt();if(o===null)return i;const a=s.Nt(e,o),l=r.ba().filter(c=>c instanceof hc).reduce((c,h)=>{if(r.Un(h)||!h.Vt())return c;const d=h.Wt(),f=h.Xs();if(d.Ki()||!f.Te(n))return c;const m=f.Pr(n);if(m===null)return c;const v=Mr(h.zt()),w=this.ys.mode===3?IN:jN;return c.concat(w.map(g=>d.Nt(m.Ft[g],v.Ft)))},[]);if(l.length===0)return i;l.sort((c,h)=>Math.abs(c-a)-Math.abs(h-a));const u=l[0];return i=s.Ts(u,o),i}}function Oo(t,e,n){return Math.min(Math.max(t,e),n)}function nl(t,e,n){return e-t<=n}class $N extends js{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}et({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.Yt===null)return;const s=Math.max(1,Math.floor(r));e.lineWidth=s,function(o,a){o.save(),o.lineWidth%2&&o.translate(.5,.5),a(),o.restore()}(e,()=>{const o=F(this.Yt);if(o.Sa){e.strokeStyle=o.xa,Es(e,o.Ca),e.beginPath();for(const a of o.ya){const l=Math.round(a.ka*r);e.moveTo(l,-s),e.lineTo(l,n.height+s)}e.stroke()}if(o.Pa){e.strokeStyle=o.Ta,Es(e,o.Ra),e.beginPath();for(const a of o.Da){const l=Math.round(a.ka*i);e.moveTo(-s,l),e.lineTo(n.width+s,l)}e.stroke()}})}}class FN{constructor(e){this.Gt=new $N,this.xt=!0,this.yt=e}kt(){this.xt=!0}Tt(){if(this.xt){const e=this.yt.Qt().N().grid,n={Pa:e.horzLines.visible,Sa:e.vertLines.visible,Ta:e.horzLines.color,xa:e.vertLines.color,Ra:e.horzLines.style,Ca:e.vertLines.style,Da:this.yt.Ps().Va(),ya:(this.yt.Qt().At().Va()||[]).map(r=>({ka:r.coord}))};this.Gt.ht(n),this.xt=!1}return this.Gt}}class VN{constructor(e){this.sh=new FN(e)}lr(){return this.sh}}const hh={Ia:4,Ba:1e-4};function qi(t,e){const n=100*(t-e)/e;return e<0?-n:n}function UN(t,e){const n=qi(t.$e(),e),r=qi(t.qe(),e);return new Lt(n,r)}function Ao(t,e){const n=100*(t-e)/e+100;return e<0?-n:n}function BN(t,e){const n=Ao(t.$e(),e),r=Ao(t.qe(),e);return new Lt(n,r)}function Ru(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const r=Math.log10(n+e.Ba)+e.Ia;return t<0?-r:r}function Lo(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const r=Math.pow(10,n-e.Ia)-e.Ba;return t<0?-r:r}function ro(t,e){if(t===null)return null;const n=Ru(t.$e(),e),r=Ru(t.qe(),e);return new Lt(n,r)}function mo(t,e){if(t===null)return null;const n=Lo(t.$e(),e),r=Lo(t.qe(),e);return new Lt(n,r)}function dh(t){if(t===null)return hh;const e=Math.abs(t.qe()-t.$e());if(e>=1||e<1e-15)return hh;const n=Math.ceil(Math.abs(Math.log10(e))),r=hh.Ia+n;return{Ia:r,Ba:1/Math.pow(10,r)}}class fh{constructor(e,n){if(this.Aa=e,this.Ea=n,function(r){if(r<0)return!1;for(let i=r;i>1;i/=10)if(i%10!=0)return!1;return!0}(this.Aa))this.za=[2,2.5,2];else{this.za=[];for(let r=this.Aa;r!==1;){if(r%2==0)this.za.push(2),r/=2;else{if(r%5!=0)throw new Error("unexpected base");this.za.push(2,2.5),r/=5}if(this.za.length>100)throw new Error("something wrong with base")}}}La(e,n,r){const i=this.Aa===0?0:1/this.Aa;let s=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-n)))),o=0,a=this.Ea[0];for(;;){const h=nl(s,i,1e-14)&&s>i+1e-14,d=nl(s,r*a,1e-14),f=nl(s,1,1e-14);if(!(h&&d&&f))break;s/=a,a=this.Ea[++o%this.Ea.length]}if(s<=i+1e-14&&(s=i),s=Math.max(1,s),this.za.length>0&&(l=s,u=1,c=1e-14,Math.abs(l-u)<c))for(o=0,a=this.za[0];nl(s,r*a,1e-14)&&s>i+1e-14;)s/=a,a=this.za[++o%this.za.length];var l,u,c;return s}}class hg{constructor(e,n,r,i){this.Oa=[],this.Yi=e,this.Aa=n,this.Na=r,this.Wa=i}La(e,n){if(e<n)throw new Error("high < low");const r=this.Yi.$t(),i=(e-n)*this.Fa()/r,s=new fh(this.Aa,[2,2.5,2]),o=new fh(this.Aa,[2,2,2.5]),a=new fh(this.Aa,[2.5,2,2]),l=[];return l.push(s.La(e,n,i),o.La(e,n,i),a.La(e,n,i)),function(u){if(u.length<1)throw Error("array is empty");let c=u[0];for(let h=1;h<u.length;++h)u[h]<c&&(c=u[h]);return c}(l)}Ha(){const e=this.Yi,n=e.zt();if(n===null)return void(this.Oa=[]);const r=e.$t(),i=this.Na(r-1,n),s=this.Na(0,n),o=this.Yi.N().entireTextOnly?this.Ua()/2:0,a=o,l=r-1-o,u=Math.max(i,s),c=Math.min(i,s);if(u===c)return void(this.Oa=[]);const h=this.La(u,c);if(this.$a(n,h,u,c,a,l),e.qa()&&this.Ya(h,c,u)){const d=this.Yi.ja();this.Ka(n,h,a,l,d,2*d)}}Va(){return this.Oa}Ua(){return this.Yi.k()}Fa(){return Math.ceil(2.5*this.Ua())}$a(e,n,r,i,s,o){const a=this.Oa,l=this.Yi;let u=r%n;u+=u<0?n:0;const c=r>=i?1:-1;let h=null,d=0;for(let f=r-u;f>i;f-=n){const m=this.Wa(f,e,!0);h!==null&&Math.abs(m-h)<this.Fa()||m<s||m>o||(d<a.length?(a[d].ka=m,a[d].Xa=l.Za(f)):a.push({ka:m,Xa:l.Za(f)}),d++,h=m,l.Ga()&&(n=this.La(f*c,i)))}a.length=d}Ka(e,n,r,i,s,o){const a=this.Oa,l=this.Ja(e,r,s,o),u=this.Ja(e,i,-o,-s),c=this.Wa(0,e,!0)-this.Wa(n,e,!0);a.length>0&&a[0].ka-l.ka<c/2&&a.shift(),a.length>0&&u.ka-a[a.length-1].ka<c/2&&a.pop(),a.unshift(l),a.push(u)}Ja(e,n,r,i){const s=(r+i)/2,o=this.Na(n+r,e),a=this.Na(n+i,e),l=Math.min(o,a),u=Math.max(o,a),c=Math.max(.1,this.La(u,l)),h=this.Na(n+s,e),d=h-h%c,f=this.Wa(d,e,!0);return{Xa:this.Yi.Za(d),ka:f}}Ya(e,n,r){let i=Mr(this.Yi.Qe());return this.Yi.Ga()&&(i=mo(i,this.Yi.Qa())),i.$e()-n<e&&r-i.qe()<e}}function gx(t){return t.slice().sort((e,n)=>F(e.hs())-F(n.hs()))}var dg;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})(dg||(dg={}));const fg=new hx,pg=new cc(100,1);class WN{constructor(e,n,r,i,s){this.tl=0,this.il=null,this.Ge=null,this.sl=null,this.nl={el:!1,rl:null},this.hl=!1,this.al=0,this.ll=0,this.ol=new qe,this._l=new qe,this.ul=[],this.cl=null,this.dl=null,this.fl=null,this.pl=null,this.vl=null,this.ha=pg,this.ml=dh(null),this.wl=e,this.ys=n,this.gl=r,this.Ml=i,this.bl=s,this.Sl=new hg(this,100,this.xl.bind(this),this.Cl.bind(this))}wa(){return this.wl}N(){return this.ys}hr(e){if(tn(this.ys,e),this.ga(),e.mode!==void 0&&this.yl({ie:e.mode}),e.scaleMargins!==void 0){const n=Zt(e.scaleMargins.top),r=Zt(e.scaleMargins.bottom);if(n<0||n>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${n}`);if(r<0||r>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${r}`);if(n+r>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${n+r}`);this.kl(),this.fl=null}}Pl(){return this.ys.autoScale}Tl(){return this.hl}Ga(){return this.ys.mode===1}Le(){return this.ys.mode===2}Rl(){return this.ys.mode===3}Qa(){return this.ml}ie(){return{sn:this.ys.autoScale,Dl:this.ys.invertScale,ie:this.ys.mode}}yl(e){const n=this.ie();let r=null;e.sn!==void 0&&(this.ys.autoScale=e.sn),e.ie!==void 0&&(this.ys.mode=e.ie,e.ie!==2&&e.ie!==3||(this.ys.autoScale=!0),this.nl.el=!1),n.ie===1&&e.ie!==n.ie&&(function(s,o){if(s===null)return!1;const a=Lo(s.$e(),o),l=Lo(s.qe(),o);return isFinite(a)&&isFinite(l)}(this.Ge,this.ml)?(r=mo(this.Ge,this.ml),r!==null&&this.Vl(r)):this.ys.autoScale=!0),e.ie===1&&e.ie!==n.ie&&(r=ro(this.Ge,this.ml),r!==null&&this.Vl(r));const i=n.ie!==this.ys.mode;i&&(n.ie===2||this.Le())&&this.ga(),i&&(n.ie===3||this.Rl())&&this.ga(),e.Dl!==void 0&&n.Dl!==e.Dl&&(this.ys.invertScale=e.Dl,this.Il()),this._l.p(n,this.ie())}Bl(){return this._l}k(){return this.gl.fontSize}$t(){return this.tl}Al(e){this.tl!==e&&(this.tl=e,this.kl(),this.fl=null)}El(){if(this.il)return this.il;const e=this.$t()-this.zl()-this.Ll();return this.il=e,e}Qe(){return this.Ol(),this.Ge}Vl(e,n){const r=this.Ge;(n||r===null&&e!==null||r!==null&&!r.He(e))&&(this.fl=null,this.Ge=e)}Nl(e){this.Vl(e),this.Wl(e!==null)}Ki(){return this.Ol(),this.tl===0||!this.Ge||this.Ge.Ki()}Fl(e){return this.Dl()?e:this.$t()-1-e}Nt(e,n){return this.Le()?e=qi(e,n):this.Rl()&&(e=Ao(e,n)),this.Cl(e,n)}Hl(e,n,r){this.Ol();const i=this.Ll(),s=F(this.Qe()),o=s.$e(),a=s.qe(),l=this.El()-1,u=this.Dl(),c=l/(a-o),h=r===void 0?0:r.from,d=r===void 0?e.length:r.to,f=this.Ul();for(let m=h;m<d;m++){const v=e[m],w=v.gt;if(isNaN(w))continue;let g=w;f!==null&&(g=f(v.gt,n));const p=i+c*(g-o),_=u?p:this.tl-1-p;v.ut=_}}$l(e,n,r){this.Ol();const i=this.Ll(),s=F(this.Qe()),o=s.$e(),a=s.qe(),l=this.El()-1,u=this.Dl(),c=l/(a-o),h=r===void 0?0:r.from,d=r===void 0?e.length:r.to,f=this.Ul();for(let m=h;m<d;m++){const v=e[m];let w=v.qh,g=v.Yh,p=v.jh,_=v.Kh;f!==null&&(w=f(v.qh,n),g=f(v.Yh,n),p=f(v.jh,n),_=f(v.Kh,n));let b=i+c*(w-o),C=u?b:this.tl-1-b;v.ql=C,b=i+c*(g-o),C=u?b:this.tl-1-b,v.Yl=C,b=i+c*(p-o),C=u?b:this.tl-1-b,v.jl=C,b=i+c*(_-o),C=u?b:this.tl-1-b,v.Kl=C}}Ts(e,n){const r=this.xl(e,n);return this.Xl(r,n)}Xl(e,n){let r=e;return this.Le()?r=function(i,s){return s<0&&(i=-i),i/100*s+s}(r,n):this.Rl()&&(r=function(i,s){return i-=100,s<0&&(i=-i),i/100*s+s}(r,n)),r}ba(){return this.ul}Dt(){return this.dl||(this.dl=gx(this.ul)),this.dl}Zl(e){this.ul.indexOf(e)===-1&&(this.ul.push(e),this.ga(),this.Gl())}Jl(e){const n=this.ul.indexOf(e);if(n===-1)throw new Error("source is not attached to scale");this.ul.splice(n,1),this.ul.length===0&&(this.yl({sn:!0}),this.Vl(null)),this.ga(),this.Gl()}zt(){let e=null;for(const n of this.ul){const r=n.zt();r!==null&&(e===null||r.Hh<e.Hh)&&(e=r)}return e===null?null:e.Ft}Dl(){return this.ys.invertScale}Va(){const e=this.zt()===null;if(this.fl!==null&&(e||this.fl.Ql===e))return this.fl.Va;this.Sl.Ha();const n=this.Sl.Va();return this.fl={Va:n,Ql:e},this.ol.p(),n}io(){return this.ol}so(e){this.Le()||this.Rl()||this.pl===null&&this.sl===null&&(this.Ki()||(this.pl=this.tl-e,this.sl=F(this.Qe()).Ue()))}no(e){if(this.Le()||this.Rl()||this.pl===null)return;this.yl({sn:!1}),(e=this.tl-e)<0&&(e=0);let n=(this.pl+.2*(this.tl-1))/(e+.2*(this.tl-1));const r=F(this.sl).Ue();n=Math.max(n,.1),r.je(n),this.Vl(r)}eo(){this.Le()||this.Rl()||(this.pl=null,this.sl=null)}ro(e){this.Pl()||this.vl===null&&this.sl===null&&(this.Ki()||(this.vl=e,this.sl=F(this.Qe()).Ue()))}ho(e){if(this.Pl()||this.vl===null)return;const n=F(this.Qe()).Ye()/(this.El()-1);let r=e-this.vl;this.Dl()&&(r*=-1);const i=r*n,s=F(this.sl).Ue();s.Ke(i),this.Vl(s,!0),this.fl=null}ao(){this.Pl()||this.vl!==null&&(this.vl=null,this.sl=null)}ra(){return this.ha||this.ga(),this.ha}Zi(e,n){switch(this.ys.mode){case 2:return this.lo(qi(e,n));case 3:return this.ra().format(Ao(e,n));default:return this.nr(e)}}Za(e){switch(this.ys.mode){case 2:return this.lo(e);case 3:return this.ra().format(e);default:return this.nr(e)}}Dh(e){return this.nr(e,F(this.cl).ra())}Vh(e,n){return e=qi(e,n),this.lo(e,fg)}oo(){return this.ul}_o(e){this.nl={rl:e,el:!1}}Ns(){this.ul.forEach(e=>e.Ns())}qa(){return this.ys.ensureEdgeTickMarksVisible&&this.Pl()}ja(){return this.k()/2}ga(){this.fl=null;let e=1/0;this.cl=null;for(const r of this.ul)r.hs()<e&&(e=r.hs(),this.cl=r);let n=100;this.cl!==null&&(n=Math.round(1/this.cl.ea())),this.ha=pg,this.Le()?(this.ha=fg,n=100):this.Rl()?(this.ha=new cc(100,1),n=100):this.cl!==null&&(this.ha=this.cl.ra()),this.Sl=new hg(this,n,this.xl.bind(this),this.Cl.bind(this)),this.Sl.Ha()}Gl(){this.dl=null}Xi(){return this.bl}Wl(e){this.hl=e}zl(){return this.Dl()?this.ys.scaleMargins.bottom*this.$t()+this.ll:this.ys.scaleMargins.top*this.$t()+this.al}Ll(){return this.Dl()?this.ys.scaleMargins.top*this.$t()+this.al:this.ys.scaleMargins.bottom*this.$t()+this.ll}Ol(){this.nl.el||(this.nl.el=!0,this.uo())}kl(){this.il=null}Cl(e,n){if(this.Ol(),this.Ki())return 0;e=this.Ga()&&e?Ru(e,this.ml):e;const r=F(this.Qe()),i=this.Ll()+(this.El()-1)*(e-r.$e())/r.Ye();return this.Fl(i)}xl(e,n){if(this.Ol(),this.Ki())return 0;const r=this.Fl(e),i=F(this.Qe()),s=i.$e()+i.Ye()*((r-this.Ll())/(this.El()-1));return this.Ga()?Lo(s,this.ml):s}Il(){this.fl=null,this.Sl.Ha()}uo(){if(this.Tl()&&!this.Pl())return;const e=this.nl.rl;if(e===null)return;let n=null;const r=this.oo();let i=0,s=0;for(const l of r){if(!l.Vt())continue;const u=l.zt();if(u===null)continue;const c=l.Mh(e.Uh(),e.bi());let h=c&&c.Qe();if(h!==null){switch(this.ys.mode){case 1:h=ro(h,this.ml);break;case 2:h=UN(h,u.Ft);break;case 3:h=BN(h,u.Ft)}if(n=n===null?h:n.vn(F(h)),c!==null){const d=c.tr();d!==null&&(i=Math.max(i,d.above),s=Math.max(s,d.below))}}}if(this.qa()&&(i=Math.max(i,this.ja()),s=Math.max(s,this.ja())),i===this.al&&s===this.ll||(this.al=i,this.ll=s,this.fl=null,this.kl()),n!==null){if(n.$e()===n.qe()){const l=this.cl,u=5*(l===null||this.Le()||this.Rl()?1:l.ea());this.Ga()&&(n=mo(n,this.ml)),n=new Lt(n.$e()-u,n.qe()+u),this.Ga()&&(n=ro(n,this.ml))}if(this.Ga()){const l=mo(n,this.ml),u=dh(l);if(o=u,a=this.ml,o.Ia!==a.Ia||o.Ba!==a.Ba){const c=this.sl!==null?mo(this.sl,this.ml):null;this.ml=u,n=ro(l,u),c!==null&&(this.sl=ro(c,u))}}this.Vl(n)}else this.Ge===null&&(this.Vl(new Lt(-.5,.5)),this.ml=dh(null));var o,a}Ul(){return this.Le()?qi:this.Rl()?Ao:this.Ga()?e=>Ru(e,this.ml):null}co(e,n,r){return n===void 0?(r===void 0&&(r=this.ra()),r.format(e)):n(e)}nr(e,n){return this.co(e,this.Ml.priceFormatter,n)}lo(e,n){return this.co(e,this.Ml.percentageFormatter,n)}}function mg(t){return t instanceof hc}class vg{constructor(e,n){this.ul=[],this.do=new Map,this.tl=0,this.fo=0,this.po=1e3,this.dl=null,this.vo=new qe,this.kh=[],this.uh=e,this.ts=n,this.mo=new VN(this);const r=n.N();this.wo=this.Mo("left",r.leftPriceScale),this.bo=this.Mo("right",r.rightPriceScale),this.wo.Bl().i(this.So.bind(this,this.wo),this),this.bo.Bl().i(this.So.bind(this,this.bo),this),this.xo(r)}xo(e){if(e.leftPriceScale&&this.wo.hr(e.leftPriceScale),e.rightPriceScale&&this.bo.hr(e.rightPriceScale),e.localization&&(this.wo.ga(),this.bo.ga()),e.overlayPriceScales){const n=Array.from(this.do.values());for(const r of n){const i=F(r[0].Wt());i.hr(e.overlayPriceScales),e.localization&&i.ga()}}}Co(e){switch(e){case"left":return this.wo;case"right":return this.bo}return this.do.has(e)?Zt(this.do.get(e))[0].Wt():null}m(){this.Qt().yo().u(this),this.wo.Bl().u(this),this.bo.Bl().u(this),this.ul.forEach(e=>{e.m&&e.m()}),this.kh=this.kh.filter(e=>{const n=e.oh();return n.detached&&n.detached(),!1}),this.vo.p()}ko(){return this.po}Po(e){this.po=e}Qt(){return this.ts}Qi(){return this.fo}$t(){return this.tl}To(e){this.fo=e,this.Ro()}Al(e){this.tl=e,this.wo.Al(e),this.bo.Al(e),this.ul.forEach(n=>{if(this.Un(n)){const r=n.Wt();r!==null&&r.Al(e)}}),this.Ro()}Do(){return this.ul.filter(mg)}ba(){return this.ul}Un(e){const n=e.Wt();return n===null||this.wo!==n&&this.bo!==n}Zl(e,n,r){this.Vo(e,n,r?e.hs():this.ul.length)}Jl(e,n){const r=this.ul.indexOf(e);Ct(r!==-1,"removeDataSource: invalid data source"),this.ul.splice(r,1),n||this.ul.forEach((o,a)=>o.ls(a));const i=F(e.Wt()).wa();if(this.do.has(i)){const o=Zt(this.do.get(i)),a=o.indexOf(e);a!==-1&&(o.splice(a,1),o.length===0&&this.do.delete(i))}const s=e.Wt();s&&s.ba().indexOf(e)>=0&&(s.Jl(e),this.Io(s)),this.dl=null}qn(e){return e===this.wo?"left":e===this.bo?"right":"overlay"}Bo(){return this.wo}Ao(){return this.bo}Eo(e,n){e.so(n)}zo(e,n){e.no(n),this.Ro()}Lo(e){e.eo()}Oo(e,n){e.ro(n)}No(e,n){e.ho(n),this.Ro()}Wo(e){e.ao()}Ro(){this.ul.forEach(e=>{e.Ns()})}Ps(){let e=null;return this.ts.N().rightPriceScale.visible&&this.bo.ba().length!==0?e=this.bo:this.ts.N().leftPriceScale.visible&&this.wo.ba().length!==0?e=this.wo:this.ul.length!==0&&(e=this.ul[0].Wt()),e===null&&(e=this.bo),e}$n(){let e=null;return this.ts.N().rightPriceScale.visible?e=this.bo:this.ts.N().leftPriceScale.visible&&(e=this.wo),e}Io(e){e!==null&&e.Pl()&&this.Fo(e)}Ho(e){const n=this.uh.ye();e.yl({sn:!0}),n!==null&&e._o(n),this.Ro()}Uo(){this.Fo(this.wo),this.Fo(this.bo)}$o(){this.Io(this.wo),this.Io(this.bo),this.ul.forEach(e=>{this.Un(e)&&this.Io(e.Wt())}),this.Ro(),this.ts.ar()}Dt(){return this.dl===null&&(this.dl=gx(this.ul)),this.dl}qo(e,n){n=Oo(n,0,this.ul.length-1);const r=this.ul.indexOf(e);Ct(r!==-1,"setSeriesOrder: invalid data source"),this.ul.splice(r,1),this.ul.splice(n,0,e),this.ul.forEach((i,s)=>i.ls(s)),this.dl=null;for(const i of[this.wo,this.bo])i.Gl(),i.ga();this.ts.ar()}It(){return this.Dt().filter(mg)}Yo(){return this.vo}jo(){return this.mo}ua(e){this.kh.push(new RN(e))}ca(e){this.kh=this.kh.filter(n=>n.oh()!==e),e.detached&&e.detached(),this.ts.ar()}Ko(){return this.kh}sa(e,n){return this.kh.map(r=>r.jn(e,n)).filter(r=>r!==null)}Fo(e){const n=e.oo();if(n&&n.length>0&&!this.uh.Ki()){const r=this.uh.ye();r!==null&&e._o(r)}e.Ns()}Vo(e,n,r){let i=this.Co(n);if(i===null&&(i=this.Mo(n,this.ts.N().overlayPriceScales)),this.ul.splice(r,0,e),!uc(n)){const s=this.do.get(n)||[];s.push(e),this.do.set(n,s)}e.ls(r),i.Zl(e),e._s(i),this.Io(i),this.dl=null}So(e,n,r){n.ie!==r.ie&&this.Fo(e)}Mo(e,n){const r={visible:!0,autoScale:!0,...qn(n)},i=new WN(e,r,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return i.Al(this.$t()),i}}function rl(t){return{Xo:t.Xo,Zo:{Kn:t.Go.externalId},Jo:t.Go.cursorStyle}}function HN(t,e,n,r){for(const i of t){const s=i.Tt(r);if(s!==null&&s.jn){const o=s.jn(e,n);if(o!==null)return{Qo:i,Zo:o}}}return null}function YN(t){return t.Ws!==void 0}function yx(t,e,n){const r=[t,...t.Dt()],i=function(s,o,a){var d;let l,u;for(const f of s){const m=((d=f.sa)==null?void 0:d.call(f,o,a))??[];for(const v of m)c=v.zOrder,h=l==null?void 0:l.zOrder,(!h||c==="top"&&h!=="top"||c==="normal"&&h==="bottom")&&(l=v,u=f)}var c,h;return l&&u?{Go:l,Xo:u}:null}(r,e,n);if((i==null?void 0:i.Go.zOrder)==="top")return rl(i);for(const s of r){if(i&&i.Xo===s&&i.Go.zOrder!=="bottom"&&!i.Go.isBackground)return rl(i);if(YN(s)){const o=HN(s.Ws(t),e,n,t);if(o!==null)return{Xo:s,Qo:o.Qo,Zo:o.Zo}}if(i&&i.Xo===s&&i.Go.zOrder!=="bottom"&&i.Go.isBackground)return rl(i)}return i!=null&&i.Go?rl(i):null}class QN{constructor(e,n,r=50){this.kn=0,this.Pn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.t_=e,this.i_=n,this.Vn=r}s_(e){const n=e.time,r=this.i_.cacheKey(n),i=this.Dn.get(r);if(i!==void 0)return i.n_;if(this.kn===this.Vn){const o=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(Zt(o)),this.Tn++,this.kn--}const s=this.t_(e);return this.Dn.set(r,{n_:s,En:this.Pn}),this.Rn.set(this.Pn,r),this.kn++,this.Pn++,s}}class Do{constructor(e,n){Ct(e<=n,"right should be >= left"),this.e_=e,this.r_=n}Uh(){return this.e_}bi(){return this.r_}h_(){return this.r_-this.e_+1}Te(e){return this.e_<=e&&e<=this.r_}He(e){return this.e_===e.Uh()&&this.r_===e.bi()}}function gg(t,e){return t===null||e===null?t===e:t.He(e)}class KN{constructor(){this.a_=new Map,this.Dn=null,this.l_=!1}o_(e){this.l_=e,this.Dn=null}__(e,n){this.u_(n),this.Dn=null;for(let r=n;r<e.length;++r){const i=e[r];let s=this.a_.get(i.timeWeight);s===void 0&&(s=[],this.a_.set(i.timeWeight,s)),s.push({index:r,time:i.time,weight:i.timeWeight,originalTime:i.originalTime})}}c_(e,n,r,i,s){const o=Math.ceil(n/e);return this.Dn!==null&&this.Dn.d_===o&&s===this.Dn.f_&&r===this.Dn.p_||(this.Dn={f_:s,p_:r,Va:this.v_(o,r,i),d_:o}),this.Dn.Va}u_(e){if(e===0)return void this.a_.clear();const n=[];this.a_.forEach((r,i)=>{e<=r[0].index?n.push(i):r.splice(Ts(r,e,s=>s.index<e),1/0)});for(const r of n)this.a_.delete(r)}v_(e,n,r){let i=[];const s=o=>!n||r.has(o.index);for(const o of Array.from(this.a_.keys()).sort((a,l)=>l-a)){if(!this.a_.get(o))continue;const a=i;i=[];const l=a.length;let u=0;const c=Zt(this.a_.get(o)),h=c.length;let d=1/0,f=-1/0;for(let m=0;m<h;m++){const v=c[m],w=v.index;for(;u<l;){const g=a[u],p=g.index;if(!(p<w&&s(g))){d=p;break}u++,i.push(g),f=p,d=1/0}if(d-w>=e&&w-f>=e&&s(v))i.push(v),f=w;else if(this.l_)return a}for(;u<l;u++)s(a[u])&&i.push(a[u])}return i}}class cs{constructor(e){this.m_=e}w_(){return this.m_===null?null:new Do(Math.floor(this.m_.Uh()),Math.ceil(this.m_.bi()))}g_(){return this.m_}static M_(){return new cs(null)}}function ZN(t,e){return t.weight>e.weight?t:e}class JN{constructor(e,n,r,i){this.fo=0,this.b_=null,this.S_=[],this.vl=null,this.pl=null,this.x_=new KN,this.C_=new Map,this.y_=cs.M_(),this.k_=!0,this.P_=new qe,this.T_=new qe,this.R_=new qe,this.D_=null,this.V_=null,this.I_=new Map,this.B_=-1,this.A_=[],this.ys=n,this.Ml=r,this.E_=n.rightOffset,this.z_=n.barSpacing,this.ts=e,this.i_=i,this.L_(),this.x_.o_(n.uniformDistribution),this.O_()}N(){return this.ys}N_(e){tn(this.Ml,e),this.W_(),this.L_()}hr(e,n){tn(this.ys,e),this.ys.fixLeftEdge&&this.F_(),this.ys.fixRightEdge&&this.H_(),e.barSpacing!==void 0&&this.ts.dn(e.barSpacing),e.rightOffset!==void 0&&this.ts.fn(e.rightOffset),e.minBarSpacing===void 0&&e.maxBarSpacing===void 0||this.ts.dn(e.barSpacing??this.z_),e.ignoreWhitespaceIndices!==void 0&&e.ignoreWhitespaceIndices!==this.ys.ignoreWhitespaceIndices&&this.O_(),this.W_(),this.L_(),this.R_.p()}Rs(e){var n;return((n=this.S_[e])==null?void 0:n.time)??null}ss(e){return this.S_[e]??null}U_(e,n){if(this.S_.length<1)return null;if(this.i_.key(e)>this.i_.key(this.S_[this.S_.length-1].time))return n?this.S_.length-1:null;const r=Ts(this.S_,this.i_.key(e),(i,s)=>this.i_.key(i.time)<s);return this.i_.key(e)<this.i_.key(this.S_[r].time)?n?r:null:r}Ki(){return this.fo===0||this.S_.length===0||this.b_===null}q_(){return this.S_.length>0}ye(){return this.Y_(),this.y_.w_()}j_(){return this.Y_(),this.y_.g_()}K_(){const e=this.ye();if(e===null)return null;const n={from:e.Uh(),to:e.bi()};return this.X_(n)}X_(e){const n=Math.round(e.from),r=Math.round(e.to),i=F(this.Z_()),s=F(this.G_());return{from:F(this.ss(Math.max(i,n))),to:F(this.ss(Math.min(s,r)))}}J_(e){return{from:F(this.U_(e.from,!0)),to:F(this.U_(e.to,!0))}}Qi(){return this.fo}To(e){if(!isFinite(e)||e<=0||this.fo===e)return;const n=this.j_(),r=this.fo;if(this.fo=e,this.k_=!0,this.ys.lockVisibleTimeRangeOnResize&&r!==0){const i=this.z_*e/r;this.z_=i}if(this.ys.fixLeftEdge&&n!==null&&n.Uh()<=0){const i=r-e;this.E_-=Math.round(i/this.z_)+1,this.k_=!0}this.Q_(),this.tu()}qt(e){if(this.Ki()||!oa(e))return 0;const n=this.iu()+this.E_-e;return this.fo-(n+.5)*this.z_-1}su(e,n){const r=this.iu(),i=n===void 0?0:n.from,s=n===void 0?e.length:n.to;for(let o=i;o<s;o++){const a=e[o].wt,l=r+this.E_-a,u=this.fo-(l+.5)*this.z_-1;e[o]._t=u}}nu(e,n){const r=Math.ceil(this.eu(e));return n&&this.ys.ignoreWhitespaceIndices&&!this.ru(r)?this.hu(r):r}fn(e){this.k_=!0,this.E_=e,this.tu(),this.ts.au(),this.ts.ar()}lu(){return this.z_}dn(e){this.ou(e),this.tu(),this.ts.au(),this.ts.ar()}_u(){return this.E_}Va(){if(this.Ki())return null;if(this.V_!==null)return this.V_;const e=this.z_,n=5*(this.ts.N().layout.fontSize+4)/8*(this.ys.tickMarkMaxCharacterLength||8),r=Math.round(n/e),i=F(this.ye()),s=Math.max(i.Uh(),i.Uh()-r),o=Math.max(i.bi(),i.bi()-r),a=this.x_.c_(e,n,this.ys.ignoreWhitespaceIndices,this.I_,this.B_),l=this.Z_()+r,u=this.G_()-r,c=this.uu(),h=this.ys.fixLeftEdge||c,d=this.ys.fixRightEdge||c;let f=0;for(const m of a){if(!(s<=m.index&&m.index<=o))continue;let v;f<this.A_.length?(v=this.A_[f],v.coord=this.qt(m.index),v.label=this.cu(m),v.weight=m.weight):(v={needAlignCoordinate:!1,coord:this.qt(m.index),label:this.cu(m),weight:m.weight},this.A_.push(v)),this.z_>n/2&&!c?v.needAlignCoordinate=!1:v.needAlignCoordinate=h&&m.index<=l||d&&m.index>=u,f++}return this.A_.length=f,this.V_=this.A_,this.A_}du(){this.k_=!0,this.dn(this.ys.barSpacing),this.fn(this.ys.rightOffset)}fu(e){this.k_=!0,this.b_=e,this.tu(),this.F_()}pu(e,n){const r=this.eu(e),i=this.lu(),s=i+n*(i/10);this.dn(s),this.ys.rightBarStaysOnScroll||this.fn(this._u()+(r-this.eu(e)))}so(e){this.vl&&this.ao(),this.pl===null&&this.D_===null&&(this.Ki()||(this.pl=e,this.vu()))}no(e){if(this.D_===null)return;const n=Oo(this.fo-e,0,this.fo),r=Oo(this.fo-F(this.pl),0,this.fo);n!==0&&r!==0&&this.dn(this.D_.lu*n/r)}eo(){this.pl!==null&&(this.pl=null,this.mu())}ro(e){this.vl===null&&this.D_===null&&(this.Ki()||(this.vl=e,this.vu()))}ho(e){if(this.vl===null)return;const n=(this.vl-e)/this.lu();this.E_=F(this.D_)._u+n,this.k_=!0,this.tu()}ao(){this.vl!==null&&(this.vl=null,this.mu())}wu(){this.gu(this.ys.rightOffset)}gu(e,n=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(n)||n<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const r=this.E_,i=performance.now();this.ts._n({Mu:s=>(s-i)/n>=1,bu:s=>{const o=(s-i)/n;return o>=1?e:r+(e-r)*o}})}kt(e,n){this.k_=!0,this.S_=e,this.x_.__(e,n),this.tu()}Su(){return this.P_}xu(){return this.T_}Cu(){return this.R_}iu(){return this.b_||0}yu(e){const n=e.h_();this.ou(this.fo/n),this.E_=e.bi()-this.iu(),this.tu(),this.k_=!0,this.ts.au(),this.ts.ar()}ku(){const e=this.Z_(),n=this.G_();e!==null&&n!==null&&this.yu(new Do(e,n+this.ys.rightOffset))}Pu(e){const n=new Do(e.from,e.to);this.yu(n)}ns(e){return this.Ml.timeFormatter!==void 0?this.Ml.timeFormatter(e.originalTime):this.i_.formatHorzItem(e.time)}O_(){if(!this.ys.ignoreWhitespaceIndices)return;this.I_.clear();const e=this.ts.js();for(const n of e)for(const r of n.ma())this.I_.set(r,!0);this.B_++}uu(){const e=this.ts.N().handleScroll,n=this.ts.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||n.axisDoubleClickReset.time||n.axisPressedMouseMove.time||n.mouseWheel||n.pinch)}Z_(){return this.S_.length===0?null:0}G_(){return this.S_.length===0?null:this.S_.length-1}Tu(e){return(this.fo-1-e)/this.z_}eu(e){const n=this.Tu(e),r=this.iu()+this.E_-n;return Math.round(1e6*r)/1e6}ou(e){const n=this.z_;this.z_=e,this.Q_(),n!==this.z_&&(this.k_=!0,this.Ru())}Y_(){if(!this.k_)return;if(this.k_=!1,this.Ki())return void this.Du(cs.M_());const e=this.iu(),n=this.fo/this.z_,r=this.E_+e,i=new Do(r-n+1,r);this.Du(new cs(i))}Q_(){const e=Oo(this.z_,this.Vu(),this.Iu());this.z_!==e&&(this.z_=e,this.k_=!0)}Iu(){return this.ys.maxBarSpacing>0?this.ys.maxBarSpacing:.5*this.fo}Vu(){return this.ys.fixLeftEdge&&this.ys.fixRightEdge&&this.S_.length!==0?this.fo/this.S_.length:this.ys.minBarSpacing}tu(){const e=this.Bu();e!==null&&this.E_<e&&(this.E_=e,this.k_=!0);const n=this.Au();this.E_>n&&(this.E_=n,this.k_=!0)}Bu(){const e=this.Z_(),n=this.b_;return e===null||n===null?null:e-n-1+(this.ys.fixLeftEdge?this.fo/this.z_:Math.min(2,this.S_.length))}Au(){return this.ys.fixRightEdge?0:this.fo/this.z_-Math.min(2,this.S_.length)}vu(){this.D_={lu:this.lu(),_u:this._u()}}mu(){this.D_=null}cu(e){let n=this.C_.get(e.weight);return n===void 0&&(n=new QN(r=>this.Eu(r),this.i_),this.C_.set(e.weight,n)),n.s_(e)}Eu(e){return this.i_.formatTickmark(e,this.Ml)}Du(e){const n=this.y_;this.y_=e,gg(n.w_(),this.y_.w_())||this.P_.p(),gg(n.g_(),this.y_.g_())||this.T_.p(),this.Ru()}Ru(){this.V_=null}W_(){this.Ru(),this.C_.clear()}L_(){this.i_.updateFormatter(this.Ml)}F_(){if(!this.ys.fixLeftEdge)return;const e=this.Z_();if(e===null)return;const n=this.ye();if(n===null)return;const r=n.Uh()-e;if(r<0){const i=this.E_-r-1;this.fn(i)}this.Q_()}H_(){this.tu(),this.Q_()}ru(e){return!this.ys.ignoreWhitespaceIndices||this.I_.get(e)||!1}hu(e){const n=function*(i){const s=Math.round(i),o=s<i;let a=1;for(;;)o?(yield s+a,yield s-a):(yield s-a,yield s+a),a++}(e),r=this.G_();for(;r;){const i=n.next().value;if(this.I_.get(i))return i;if(i<0||i>r)break}return e}}var yg,wg,_g,xg,bg;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(yg||(yg={}));class XN{constructor(e,n,r){this.zu=[],this.Lu=[],this.fo=0,this.Ou=null,this.Nu=new qe,this.Wu=new qe,this.Fu=null,this.Hu=e,this.ys=n,this.i_=r,this.bl=new XP(this.ys.layout.colorParsers),this.Uu=new JP(this),this.uh=new JN(this,n.timeScale,this.ys.localization,r),this.Ct=new lN(this,n.crosshair),this.$u=new zN(n.crosshair),this.qu(0),this.zu[0].Po(2e3),this.Yu=this.ju(0),this.Ku=this.ju(1)}Bh(){this.Xu(wt.gn())}ar(){this.Xu(wt.wn())}Zh(){this.Xu(new wt(1))}Ah(e){const n=this.Zu(e);this.Xu(n)}Gu(){return this.Ou}Ju(e){var r,i,s,o;if(((r=this.Ou)==null?void 0:r.Xo)===(e==null?void 0:e.Xo)&&((s=(i=this.Ou)==null?void 0:i.Zo)==null?void 0:s.Kn)===((o=e==null?void 0:e.Zo)==null?void 0:o.Kn))return;const n=this.Ou;this.Ou=e,n!==null&&this.Ah(n.Xo),e!==null&&e.Xo!==(n==null?void 0:n.Xo)&&this.Ah(e.Xo)}N(){return this.ys}hr(e){tn(this.ys,e),this.zu.forEach(n=>n.xo(e)),e.timeScale!==void 0&&this.uh.hr(e.timeScale),e.localization!==void 0&&this.uh.N_(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.Nu.p(),this.Yu=this.ju(0),this.Ku=this.ju(1),this.Bh()}Qu(e,n,r=0){const i=this.zu[r];if(i===void 0)return;if(e==="left")return tn(this.ys,{leftPriceScale:n}),i.xo({leftPriceScale:n}),this.Nu.p(),void this.Bh();if(e==="right")return tn(this.ys,{rightPriceScale:n}),i.xo({rightPriceScale:n}),this.Nu.p(),void this.Bh();const s=this.tc(e,r);s!==null&&(s.Wt.hr(n),this.Nu.p())}tc(e,n){const r=this.zu[n];if(r===void 0)return null;const i=r.Co(e);return i!==null?{Us:r,Wt:i}:null}At(){return this.uh}$s(){return this.zu}sc(){return this.Ct}nc(){return this.Wu}ec(e,n){e.Al(n),this.au()}To(e){this.fo=e,this.uh.To(this.fo),this.zu.forEach(n=>n.To(e)),this.au()}rc(e){this.zu.length!==1&&(Ct(e>=0&&e<this.zu.length,"Invalid pane index"),this.zu.splice(e,1),this.Bh())}hc(e,n){if(this.zu.length<2)return;Ct(e>=0&&e<this.zu.length,"Invalid pane index");const r=this.zu[e],i=this.zu.reduce((h,d)=>h+d.ko(),0),s=this.zu.reduce((h,d)=>h+d.$t(),0),o=s-30*(this.zu.length-1);n=Math.min(o,Math.max(30,n));const a=i/s,l=r.$t();r.Po(n*a);let u=n-l,c=this.zu.length-1;for(const h of this.zu)if(h!==r){const d=Math.min(o,Math.max(30,h.$t()-u/c));u-=h.$t()-d,c-=1;const f=d*a;h.Po(f)}this.Bh()}ac(e,n){Ct(e>=0&&e<this.zu.length&&n>=0&&n<this.zu.length,"Invalid pane index");const r=this.zu[e],i=this.zu[n];this.zu[e]=i,this.zu[n]=r,this.Bh()}Eo(e,n,r){e.Eo(n,r)}zo(e,n,r){e.zo(n,r),this.Eh(),this.Xu(this.lc(e,2))}Lo(e,n){e.Lo(n),this.Xu(this.lc(e,2))}Oo(e,n,r){n.Pl()||e.Oo(n,r)}No(e,n,r){n.Pl()||(e.No(n,r),this.Eh(),this.Xu(this.lc(e,2)))}Wo(e,n){n.Pl()||(e.Wo(n),this.Xu(this.lc(e,2)))}Ho(e,n){e.Ho(n),this.Xu(this.lc(e,2))}oc(e){this.uh.so(e)}_c(e,n){const r=this.At();if(r.Ki()||n===0)return;const i=r.Qi();e=Math.max(1,Math.min(e,i)),r.pu(e,n),this.au()}uc(e){this.cc(0),this.dc(e),this.fc()}vc(e){this.uh.no(e),this.au()}mc(){this.uh.eo(),this.ar()}cc(e){this.uh.ro(e)}dc(e){this.uh.ho(e),this.au()}fc(){this.uh.ao(),this.ar()}js(){return this.Lu}wc(e,n,r,i,s){this.Ct.Vs(e,n);let o=NaN,a=this.uh.nu(e,!0);const l=this.uh.ye();l!==null&&(a=Math.min(Math.max(l.Uh(),a),l.bi()));const u=i.Ps(),c=u.zt();if(c!==null&&(o=u.Ts(n,c)),o=this.$u.Ma(o,a,i),this.Ct.Es(a,o,i),this.Zh(),!s){const h=yx(i,e,n);this.Ju(h&&{Xo:h.Xo,Zo:h.Zo,Jo:h.Jo||null}),this.Wu.p(this.Ct.Bt(),{x:e,y:n},r)}}gc(e,n,r){const i=r.Ps(),s=i.zt(),o=i.Nt(e,F(s)),a=this.uh.U_(n,!0),l=this.uh.qt(F(a));this.wc(l,o,null,r,!0)}Mc(e){this.sc().Ls(),this.Zh(),e||this.Wu.p(null,null,null)}Eh(){const e=this.Ct.Us();if(e!==null){const n=this.Ct.Bs(),r=this.Ct.As();this.wc(n,r,null,e)}this.Ct.Ns()}bc(e,n,r){const i=this.uh.Rs(0);n!==void 0&&r!==void 0&&this.uh.kt(n,r);const s=this.uh.Rs(0),o=this.uh.iu(),a=this.uh.ye();if(a!==null&&i!==null&&s!==null){const l=a.Te(o),u=this.i_.key(i)>this.i_.key(s),c=e!==null&&e>o&&!u,h=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,d=l&&(r!==void 0||h)&&this.uh.N().shiftVisibleRangeOnNewBar;if(c&&!d){const f=e-o;this.uh.fn(this.uh._u()-f)}}this.uh.fu(e)}Lh(e){e!==null&&e.$o()}Hn(e){if(function(r){return r instanceof vg}(e))return e;const n=this.zu.find(r=>r.Dt().includes(e));return n===void 0?null:n}au(){this.zu.forEach(e=>e.$o()),this.Eh()}m(){this.zu.forEach(e=>e.m()),this.zu.length=0,this.ys.localization.priceFormatter=void 0,this.ys.localization.percentageFormatter=void 0,this.ys.localization.timeFormatter=void 0}Sc(){return this.Uu}Yn(){return this.Uu.N()}yo(){return this.Nu}xc(e,n){const r=this.qu(n);this.Cc(e,r),this.Lu.push(e),this.Lu.length===1?this.Bh():this.ar()}yc(e){const n=this.Hn(e),r=this.Lu.indexOf(e);Ct(r!==-1,"Series not found");const i=F(n);this.Lu.splice(r,1),i.Jl(e),e.m&&e.m(),this.uh.O_(),this.kc(i)}Ih(e,n){const r=F(this.Hn(e));r.Jl(e,!0),r.Zl(e,n,!0)}ku(){const e=wt.wn();e.rn(),this.Xu(e)}Pc(e){const n=wt.wn();n.ln(e),this.Xu(n)}cn(){const e=wt.wn();e.cn(),this.Xu(e)}dn(e){const n=wt.wn();n.dn(e),this.Xu(n)}fn(e){const n=wt.wn();n.fn(e),this.Xu(n)}_n(e){const n=wt.wn();n._n(e),this.Xu(n)}hn(){const e=wt.wn();e.hn(),this.Xu(e)}Tc(){return this.ys.rightPriceScale.visible?"right":"left"}Rc(e,n){if(Ct(n>=0,"Index should be greater or equal to 0"),n===this.Dc(e))return;const r=F(this.Hn(e));r.Jl(e);const i=this.qu(n);this.Cc(e,i),r.ba().length===0&&this.kc(r)}Vc(){return this.Ku}$(){return this.Yu}Ut(e){const n=this.Ku,r=this.Yu;if(n===r)return n;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.Fu===null||this.Fu.mr!==r||this.Fu.wr!==n)this.Fu={mr:r,wr:n,Ic:new Map};else{const s=this.Fu.Ic.get(e);if(s!==void 0)return s}const i=this.bl.tt(r,n,e/100);return this.Fu.Ic.set(e,i),i}Bc(e){return this.zu.indexOf(e)}Xi(){return this.bl}qu(e){if(Ct(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.zu.length,e))<this.zu.length)return this.zu[e];const n=new vg(this.uh,this);this.zu.push(n);const r=wt.gn();return r.Qs(e,{tn:0,sn:!0}),this.Xu(r),n}Dc(e){return this.zu.findIndex(n=>n.Do().includes(e))}lc(e,n){const r=new wt(n);if(e!==null){const i=this.zu.indexOf(e);r.Qs(i,{tn:n})}return r}Zu(e,n){return n===void 0&&(n=2),this.lc(this.Hn(e),n)}Xu(e){this.Hu&&this.Hu(e),this.zu.forEach(n=>n.jo().lr().kt())}Cc(e,n){const r=e.N().priceScaleId,i=r!==void 0?r:this.Tc();n.Zl(e,i),uc(i)||e.hr(e.N())}ju(e){const n=this.ys.layout;return n.background.type==="gradient"?e===0?n.background.topColor:n.background.bottomColor:n.background.color}kc(e){e.ba().length===0&&this.zu.length>1&&(this.zu.splice(this.Bc(e),1),this.Bh())}}function Hd(t){return!Cs(t)&&!xa(t)}function wx(t){return Cs(t)}(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})(wg||(wg={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(_g||(_g={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(xg||(xg={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(bg||(bg={}));const Sg=t=>t.getUTCFullYear();function GN(t,e,n){return e.replace(/yyyy/g,(r=>er(Sg(r),4))(t)).replace(/yy/g,(r=>er(Sg(r)%100,2))(t)).replace(/MMMM/g,((r,i)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(i,{month:"long"}))(t,n)).replace(/MMM/g,((r,i)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(i,{month:"short"}))(t,n)).replace(/MM/g,(r=>er((i=>i.getUTCMonth()+1)(r),2))(t)).replace(/dd/g,(r=>er((i=>i.getUTCDate())(r),2))(t))}class _x{constructor(e="yyyy-MM-dd",n="default"){this.Ac=e,this.Ec=n}s_(e){return GN(e,this.Ac,this.Ec)}}class qN{constructor(e){this.zc=e||"%h:%m:%s"}s_(e){return this.zc.replace("%h",er(e.getUTCHours(),2)).replace("%m",er(e.getUTCMinutes(),2)).replace("%s",er(e.getUTCSeconds(),2))}}const eM={Lc:"yyyy-MM-dd",Oc:"%h:%m:%s",Nc:" ",Wc:"default"};class tM{constructor(e={}){const n={...eM,...e};this.Fc=new _x(n.Lc,n.Wc),this.Hc=new qN(n.Oc),this.Uc=n.Nc}s_(e){return`${this.Fc.s_(e)}${this.Uc}${this.Hc.s_(e)}`}}function il(t){return 60*t*60*1e3}function ph(t){return 60*t*1e3}const sl=[{$c:(kg=1,1e3*kg),qc:10},{$c:ph(1),qc:20},{$c:ph(5),qc:21},{$c:ph(30),qc:22},{$c:il(1),qc:30},{$c:il(3),qc:31},{$c:il(6),qc:32},{$c:il(12),qc:33}];var kg;function Eg(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let n=sl.length-1;n>=0;--n)if(Math.floor(e.getTime()/sl[n].$c)!==Math.floor(t.getTime()/sl[n].$c))return sl[n].qc;return 0}function mh(t){let e=t;if(xa(t)&&(e=bp(t)),!Hd(e))throw new Error("time must be of type BusinessDay");const n=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{Yc:Math.round(n.getTime()/1e3),jc:e}}function Cg(t){if(!wx(t))throw new Error("time must be of type isUTCTimestamp");return{Yc:t}}function bp(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function Tg(t){xa(t.time)&&(t.time=bp(t.time))}class Rg{options(){return this.ys}setOptions(e){this.ys=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(n){n.forEach(Tg)}(e):Tg(e)}createConverterToInternalObj(e){return F(function(n){return n.length===0?null:Hd(n[0].time)||xa(n[0].time)?mh:Cg}(e))}key(e){return typeof e=="object"&&"Yc"in e?e.Yc:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const n=e;return n.jc===void 0?new Date(1e3*n.Yc).getTime():new Date(Date.UTC(n.jc.year,n.jc.month-1,n.jc.day)).getTime()}convertHorzItemToInternal(e){return wx(n=e)?Cg(n):Hd(n)?mh(n):mh(bp(n));var n}updateFormatter(e){if(!this.ys)return;const n=e.dateFormat;this.ys.timeScale.timeVisible?this.Kc=new tM({Lc:n,Oc:this.ys.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Nc:"   ",Wc:e.locale}):this.Kc=new _x(n,e.locale)}formatHorzItem(e){const n=e;return this.Kc.s_(new Date(1e3*n.Yc))}formatTickmark(e,n){const r=function(s,o,a){switch(s){case 0:case 10:return o?a?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.ys.timeScale.timeVisible,this.ys.timeScale.secondsVisible),i=this.ys.timeScale;if(i.tickMarkFormatter!==void 0){const s=i.tickMarkFormatter(e.originalTime,r,n.locale);if(s!==null)return s}return function(s,o,a){const l={};switch(o){case 0:l.year="numeric";break;case 1:l.month="short";break;case 2:l.day="numeric";break;case 3:l.hour12=!1,l.hour="2-digit",l.minute="2-digit";break;case 4:l.hour12=!1,l.hour="2-digit",l.minute="2-digit",l.second="2-digit"}const u=s.jc===void 0?new Date(1e3*s.Yc):new Date(Date.UTC(s.jc.year,s.jc.month-1,s.jc.day));return new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()).toLocaleString(a,l)}(e.time,r,n.locale)}maxTickMarkWeight(e){let n=e.reduce(ZN,e[0]).weight;return n>30&&n<50&&(n=30),n}fillWeightsForPoints(e,n){(function(r,i=0){if(r.length===0)return;let s=i===0?null:r[i-1].time.Yc,o=s!==null?new Date(1e3*s):null,a=0;for(let l=i;l<r.length;++l){const u=r[l],c=new Date(1e3*u.time.Yc);o!==null&&(u.timeWeight=Eg(c,o)),a+=u.time.Yc-(s||u.time.Yc),s=u.time.Yc,o=c}if(i===0&&r.length>1){const l=Math.ceil(a/(r.length-1)),u=new Date(1e3*(r[0].time.Yc-l));r[0].timeWeight=Eg(new Date(1e3*r[0].time.Yc),u)}})(e,n)}static Xc(e){return tn({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const Rs=typeof window<"u";function Pg(){return!!Rs&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function vh(){return!!Rs&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function Yd(t){return t+t%2}function nM(t){Rs&&window.chrome!==void 0&&t.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class dc{constructor(e,n,r){this.Zc=0,this.Gc=null,this.Jc={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.Qc=0,this.td=null,this.sd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.nd=null,this.ed=!1,this.rd=null,this.hd=null,this.ad=!1,this.ld=!1,this.od=!1,this._d=null,this.ud=null,this.dd=null,this.fd=null,this.pd=null,this.vd=null,this.md=null,this.wd=0,this.gd=!1,this.Md=!1,this.bd=!1,this.Sd=0,this.xd=null,this.Cd=!vh(),this.yd=i=>{this.kd(i)},this.Pd=i=>{if(this.Td(i)){const s=this.Rd(i);if(++this.Qc,this.td&&this.Qc>1){const{Dd:o}=this.Vd(Mn(i),this.sd);o<30&&!this.od&&this.Id(s,this.Ad.Bd),this.Ed()}}else{const s=this.Rd(i);if(++this.Zc,this.Gc&&this.Zc>1){const{Dd:o}=this.Vd(Mn(i),this.Jc);o<5&&!this.ld&&this.zd(s,this.Ad.Ld),this.Od()}}},this.Nd=e,this.Ad=n,this.ys=r,this.Wd()}m(){this._d!==null&&(this._d(),this._d=null),this.ud!==null&&(this.ud(),this.ud=null),this.fd!==null&&(this.fd(),this.fd=null),this.pd!==null&&(this.pd(),this.pd=null),this.vd!==null&&(this.vd(),this.vd=null),this.dd!==null&&(this.dd(),this.dd=null),this.Fd(),this.Od()}Hd(e){this.fd&&this.fd();const n=this.Ud.bind(this);if(this.fd=()=>{this.Nd.removeEventListener("mousemove",n)},this.Nd.addEventListener("mousemove",n),this.Td(e))return;const r=this.Rd(e);this.zd(r,this.Ad.$d),this.Cd=!0}Od(){this.Gc!==null&&clearTimeout(this.Gc),this.Zc=0,this.Gc=null,this.Jc={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Ed(){this.td!==null&&clearTimeout(this.td),this.Qc=0,this.td=null,this.sd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Ud(e){if(this.bd||this.hd!==null||this.Td(e))return;const n=this.Rd(e);this.zd(n,this.Ad.qd),this.Cd=!0}Yd(e){const n=gh(e.changedTouches,F(this.xd));if(n===null||(this.Sd=ol(e),this.md!==null)||this.Md)return;this.gd=!0;const r=this.Vd(Mn(n),F(this.hd)),{jd:i,Kd:s,Dd:o}=r;if(this.ad||!(o<5)){if(!this.ad){const a=.5*i,l=s>=a&&!this.ys.Xd(),u=a>s&&!this.ys.Zd();l||u||(this.Md=!0),this.ad=!0,this.od=!0,this.Fd(),this.Ed()}if(!this.Md){const a=this.Rd(e,n);this.Id(a,this.Ad.Gd),Ii(e)}}}Jd(e){if(e.button!==0)return;const n=this.Vd(Mn(e),F(this.rd)),{Dd:r}=n;if(r>=5&&(this.ld=!0,this.Od()),this.ld){const i=this.Rd(e);this.zd(i,this.Ad.Qd)}}Vd(e,n){const r=Math.abs(n._t-e._t),i=Math.abs(n.ut-e.ut);return{jd:r,Kd:i,Dd:r+i}}tf(e){let n=gh(e.changedTouches,F(this.xd));if(n===null&&e.touches.length===0&&(n=e.changedTouches[0]),n===null)return;this.xd=null,this.Sd=ol(e),this.Fd(),this.hd=null,this.vd&&(this.vd(),this.vd=null);const r=this.Rd(e,n);if(this.Id(r,this.Ad.if),++this.Qc,this.td&&this.Qc>1){const{Dd:i}=this.Vd(Mn(n),this.sd);i<30&&!this.od&&this.Id(r,this.Ad.Bd),this.Ed()}else this.od||(this.Id(r,this.Ad.sf),this.Ad.sf&&Ii(e));this.Qc===0&&Ii(e),e.touches.length===0&&this.ed&&(this.ed=!1,Ii(e))}kd(e){if(e.button!==0)return;const n=this.Rd(e);if(this.rd=null,this.bd=!1,this.pd&&(this.pd(),this.pd=null),Pg()&&this.Nd.ownerDocument.documentElement.removeEventListener("mouseleave",this.yd),!this.Td(e))if(this.zd(n,this.Ad.nf),++this.Zc,this.Gc&&this.Zc>1){const{Dd:r}=this.Vd(Mn(e),this.Jc);r<5&&!this.ld&&this.zd(n,this.Ad.Ld),this.Od()}else this.ld||this.zd(n,this.Ad.ef)}Fd(){this.nd!==null&&(clearTimeout(this.nd),this.nd=null)}rf(e){if(this.xd!==null)return;const n=e.changedTouches[0];this.xd=n.identifier,this.Sd=ol(e);const r=this.Nd.ownerDocument.documentElement;this.od=!1,this.ad=!1,this.Md=!1,this.hd=Mn(n),this.vd&&(this.vd(),this.vd=null);{const s=this.Yd.bind(this),o=this.tf.bind(this);this.vd=()=>{r.removeEventListener("touchmove",s),r.removeEventListener("touchend",o)},r.addEventListener("touchmove",s,{passive:!1}),r.addEventListener("touchend",o,{passive:!1}),this.Fd(),this.nd=setTimeout(this.hf.bind(this,e),240)}const i=this.Rd(e,n);this.Id(i,this.Ad.af),this.td||(this.Qc=0,this.td=setTimeout(this.Ed.bind(this),500),this.sd=Mn(n))}lf(e){if(e.button!==0)return;const n=this.Nd.ownerDocument.documentElement;Pg()&&n.addEventListener("mouseleave",this.yd),this.ld=!1,this.rd=Mn(e),this.pd&&(this.pd(),this.pd=null);{const i=this.Jd.bind(this),s=this.kd.bind(this);this.pd=()=>{n.removeEventListener("mousemove",i),n.removeEventListener("mouseup",s)},n.addEventListener("mousemove",i),n.addEventListener("mouseup",s)}if(this.bd=!0,this.Td(e))return;const r=this.Rd(e);this.zd(r,this.Ad._f),this.Gc||(this.Zc=0,this.Gc=setTimeout(this.Od.bind(this),500),this.Jc=Mn(e))}Wd(){this.Nd.addEventListener("mouseenter",this.Hd.bind(this)),this.Nd.addEventListener("touchcancel",this.Fd.bind(this));{const e=this.Nd.ownerDocument,n=r=>{this.Ad.uf&&(r.composed&&this.Nd.contains(r.composedPath()[0])||r.target&&this.Nd.contains(r.target)||this.Ad.uf())};this.ud=()=>{e.removeEventListener("touchstart",n)},this._d=()=>{e.removeEventListener("mousedown",n)},e.addEventListener("mousedown",n),e.addEventListener("touchstart",n,{passive:!0})}vh()&&(this.dd=()=>{this.Nd.removeEventListener("dblclick",this.Pd)},this.Nd.addEventListener("dblclick",this.Pd)),this.Nd.addEventListener("mouseleave",this.cf.bind(this)),this.Nd.addEventListener("touchstart",this.rf.bind(this),{passive:!0}),nM(this.Nd),this.Nd.addEventListener("mousedown",this.lf.bind(this)),this.df(),this.Nd.addEventListener("touchmove",()=>{},{passive:!1})}df(){this.Ad.ff===void 0&&this.Ad.pf===void 0&&this.Ad.vf===void 0||(this.Nd.addEventListener("touchstart",e=>this.mf(e.touches),{passive:!0}),this.Nd.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.md!==null&&this.Ad.pf!==void 0){const n=Ng(e.touches[0],e.touches[1])/this.wd;this.Ad.pf(this.md,n),Ii(e)}},{passive:!1}),this.Nd.addEventListener("touchend",e=>{this.mf(e.touches)}))}mf(e){e.length===1&&(this.gd=!1),e.length!==2||this.gd||this.ed?this.wf():this.gf(e)}gf(e){const n=this.Nd.getBoundingClientRect()||{left:0,top:0};this.md={_t:(e[0].clientX-n.left+(e[1].clientX-n.left))/2,ut:(e[0].clientY-n.top+(e[1].clientY-n.top))/2},this.wd=Ng(e[0],e[1]),this.Ad.ff!==void 0&&this.Ad.ff(),this.Fd()}wf(){this.md!==null&&(this.md=null,this.Ad.vf!==void 0&&this.Ad.vf())}cf(e){if(this.fd&&this.fd(),this.Td(e)||!this.Cd)return;const n=this.Rd(e);this.zd(n,this.Ad.Mf),this.Cd=!vh()}hf(e){const n=gh(e.touches,F(this.xd));if(n===null)return;const r=this.Rd(e,n);this.Id(r,this.Ad.bf),this.od=!0,this.ed=!0}Td(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:ol(e)<this.Sd+500}Id(e,n){n&&n.call(this.Ad,e)}zd(e,n){n&&n.call(this.Ad,e)}Rd(e,n){const r=n||e,i=this.Nd.getBoundingClientRect()||{left:0,top:0};return{clientX:r.clientX,clientY:r.clientY,pageX:r.pageX,pageY:r.pageY,screenX:r.screenX,screenY:r.screenY,localX:r.clientX-i.left,localY:r.clientY-i.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Sf:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",xf:e.type,Cf:r.target,Qo:e.view,yf:()=>{e.type!=="touchstart"&&Ii(e)}}}}function Ng(t,e){const n=t.clientX-e.clientX,r=t.clientY-e.clientY;return Math.sqrt(n*n+r*r)}function Ii(t){t.cancelable&&t.preventDefault()}function Mn(t){return{_t:t.pageX,ut:t.pageY}}function ol(t){return t.timeStamp||performance.now()}function gh(t,e){for(let n=0;n<t.length;++n)if(t[n].identifier===e)return t[n];return null}class rM{constructor(e,n,r){this.kf=null,this.Pf=null,this.Tf=!0,this.Rf=null,this.Df=e,this.Vf=e.If()[n],this.Bf=e.If()[r],this.Af=document.createElement("tr"),this.Af.style.height="1px",this.Ef=document.createElement("td"),this.Ef.style.position="relative",this.Ef.style.padding="0",this.Ef.style.margin="0",this.Ef.setAttribute("colspan","3"),this.zf(),this.Af.appendChild(this.Ef),this.Tf=this.Df.N().layout.panes.enableResize,this.Tf?this.Lf():(this.kf=null,this.Pf=null)}m(){this.Pf!==null&&this.Pf.m()}Of(){return this.Af}Nf(){return Ae({width:this.Vf.Nf().width,height:1})}Wf(){return Ae({width:this.Vf.Wf().width,height:1*window.devicePixelRatio})}Ff(e,n,r){const i=this.Wf();e.fillStyle=this.Df.N().layout.panes.separatorColor,e.fillRect(n,r,i.width,i.height)}kt(){this.zf(),this.Df.N().layout.panes.enableResize!==this.Tf&&(this.Tf=this.Df.N().layout.panes.enableResize,this.Tf?this.Lf():(this.kf!==null&&(this.Ef.removeChild(this.kf.Hf),this.Ef.removeChild(this.kf.Uf),this.kf=null),this.Pf!==null&&(this.Pf.m(),this.Pf=null)))}Lf(){const e=document.createElement("div"),n=e.style;n.position="fixed",n.display="none",n.zIndex="49",n.top="0",n.left="0",n.width="100%",n.height="100%",n.cursor="row-resize",this.Ef.appendChild(e);const r=document.createElement("div"),i=r.style;i.position="absolute",i.zIndex="50",i.top="-4px",i.height="9px",i.width="100%",i.backgroundColor="",i.cursor="row-resize",this.Ef.appendChild(r);const s={$d:this.$f.bind(this),Mf:this.qf.bind(this),_f:this.Yf.bind(this),af:this.Yf.bind(this),Qd:this.jf.bind(this),Gd:this.jf.bind(this),nf:this.Kf.bind(this),if:this.Kf.bind(this)};this.Pf=new dc(r,s,{Xd:()=>!1,Zd:()=>!0}),this.kf={Uf:r,Hf:e}}zf(){this.Ef.style.background=this.Df.N().layout.panes.separatorColor}$f(e){this.kf!==null&&(this.kf.Uf.style.backgroundColor=this.Df.N().layout.panes.separatorHoverColor)}qf(e){this.kf!==null&&this.Rf===null&&(this.kf.Uf.style.backgroundColor="")}Yf(e){if(this.kf===null)return;const n=this.Vf.Xf().ko()+this.Bf.Xf().ko(),r=n/(this.Vf.Nf().height+this.Bf.Nf().height),i=30*r;n<=2*i||(this.Rf={Zf:e.pageY,Gf:this.Vf.Xf().ko(),Jf:n-i,Qf:n,tp:r,ip:i},this.kf.Hf.style.display="block")}jf(e){const n=this.Rf;if(n===null)return;const r=(e.pageY-n.Zf)*n.tp,i=Oo(n.Gf+r,n.ip,n.Jf);this.Vf.Xf().Po(i),this.Bf.Xf().Po(n.Qf-i),this.Df.Qt().Bh()}Kf(e){this.Rf!==null&&this.kf!==null&&(this.Rf=null,this.kf.Hf.style.display="none")}}function yh(t,e){return t.sp-e.sp}function wh(t,e,n){const r=(t.sp-e.sp)/(t.wt-e.wt);return Math.sign(r)*Math.min(Math.abs(r),n)}class iM{constructor(e,n,r,i){this.np=null,this.ep=null,this.rp=null,this.hp=null,this.ap=null,this.lp=0,this.op=0,this._p=e,this.up=n,this.cp=r,this.Mn=i}dp(e,n){if(this.np!==null){if(this.np.wt===n)return void(this.np.sp=e);if(Math.abs(this.np.sp-e)<this.Mn)return}this.hp=this.rp,this.rp=this.ep,this.ep=this.np,this.np={wt:n,sp:e}}le(e,n){if(this.np===null||this.ep===null||n-this.np.wt>50)return;let r=0;const i=wh(this.np,this.ep,this.up),s=yh(this.np,this.ep),o=[i],a=[s];if(r+=s,this.rp!==null){const u=wh(this.ep,this.rp,this.up);if(Math.sign(u)===Math.sign(i)){const c=yh(this.ep,this.rp);if(o.push(u),a.push(c),r+=c,this.hp!==null){const h=wh(this.rp,this.hp,this.up);if(Math.sign(h)===Math.sign(i)){const d=yh(this.rp,this.hp);o.push(h),a.push(d),r+=d}}}}let l=0;for(let u=0;u<o.length;++u)l+=a[u]/r*o[u];Math.abs(l)<this._p||(this.ap={sp:e,wt:n},this.op=l,this.lp=function(u,c){const h=Math.log(c);return Math.log(1*h/-u)/h}(Math.abs(l),this.cp))}bu(e){const n=F(this.ap),r=e-n.wt;return n.sp+this.op*(Math.pow(this.cp,r)-1)/Math.log(this.cp)}Mu(e){return this.ap===null||this.fp(e)===this.lp}fp(e){const n=e-F(this.ap).wt;return Math.min(n,this.lp)}}class sM{constructor(e,n){this.pp=void 0,this.vp=void 0,this.mp=void 0,this.ps=!1,this.wp=e,this.gp=n,this.Mp()}kt(){this.Mp()}bp(){this.pp&&this.wp.removeChild(this.pp),this.vp&&this.wp.removeChild(this.vp),this.pp=void 0,this.vp=void 0}Sp(){return this.ps!==this.xp()||this.mp!==this.Cp()}Cp(){return this.gp.Qt().Xi().J(this.gp.N().layout.textColor)>160?"dark":"light"}xp(){return this.gp.N().layout.attributionLogo}yp(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}Mp(){this.Sp()&&(this.bp(),this.ps=this.xp(),this.ps&&(this.mp=this.Cp(),this.vp=document.createElement("style"),this.vp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.pp=document.createElement("a"),this.pp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.yp()}`,this.pp.title="Charting by TradingView",this.pp.id="tv-attr-logo",this.pp.target="_blank",this.pp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.pp.toggleAttribute("data-dark",this.mp==="dark"),this.wp.appendChild(this.vp),this.wp.appendChild(this.pp)))}}function xi(t,e){const n=F(t.ownerDocument).createElement("canvas");t.appendChild(n);const r=HP(n,{type:"device-pixel-content-box",options:{allowResizeObserver:!0},transform:(i,s)=>({width:Math.max(i.width,s.width),height:Math.max(i.height,s.height)})});return r.resizeCanvasElement(e),r}function bi(t){var e;t.width=1,t.height=1,(e=t.getContext("2d"))==null||e.clearRect(0,0,1,1)}function Qd(t,e,n,r){t.ih&&t.ih(e,n,r)}function kl(t,e,n,r){t.nt(e,n,r)}function Kd(t,e,n,r){const i=t(n,r);for(const s of i){const o=s.Tt(r);o!==null&&e(o)}}function _h(t,e){return n=>{var r,i;return function(s){return s.Wt!==void 0}(n)?(((r=n.Wt())==null?void 0:r.wa())??"")!==e?[]:((i=n.ta)==null?void 0:i.call(n,t))??[]:[]}}function Mg(t,e,n,r){if(!t.length)return;let i=0;const s=t[0].$t(r,!0);let o=e===1?n/2-(t[0].Wi()-s/2):t[0].Wi()-s/2-n/2;o=Math.max(0,o);for(let a=1;a<t.length;a++){const l=t[a],u=t[a-1],c=u.$t(r,!1),h=l.Wi(),d=u.Wi();if(e===1?h>d-c:h<d+c){const f=d-c*e;l.Fi(f);const m=f-e*c/2;if((e===1?m<0:m>n)&&o>0){const v=e===1?-1-m:m-n,w=Math.min(v,o);for(let g=i;g<t.length;g++)t[g].Fi(t[g].Wi()+e*w);o-=w}}else i=a,o=e===1?d-c-h:h-(d+c)}}class Og{constructor(e,n,r,i){this.Yi=null,this.kp=null,this.Pp=!1,this.Tp=new Cu(200),this.Rp=null,this.Dp=0,this.Vp=!1,this.Ip=()=>{this.Vp||this.yt.Bp().Qt().ar()},this.Ap=()=>{this.Vp||this.yt.Bp().Qt().ar()},this.yt=e,this.ys=n,this.gl=n.layout,this.Uu=r,this.Ep=i==="left",this.zp=_h("normal",i),this.Lp=_h("top",i),this.Op=_h("bottom",i),this.Ef=document.createElement("div"),this.Ef.style.height="100%",this.Ef.style.overflow="hidden",this.Ef.style.width="25px",this.Ef.style.left="0",this.Ef.style.position="relative",this.Np=xi(this.Ef,Ae({width:16,height:16})),this.Np.subscribeSuggestedBitmapSizeChanged(this.Ip);const s=this.Np.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Wp=xi(this.Ef,Ae({width:16,height:16})),this.Wp.subscribeSuggestedBitmapSizeChanged(this.Ap);const o=this.Wp.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const a={_f:this.Yf.bind(this),af:this.Yf.bind(this),Qd:this.jf.bind(this),Gd:this.jf.bind(this),uf:this.Fp.bind(this),nf:this.Kf.bind(this),if:this.Kf.bind(this),Ld:this.Hp.bind(this),Bd:this.Hp.bind(this),$d:this.Up.bind(this),Mf:this.qf.bind(this)};this.Pf=new dc(this.Wp.canvasElement,a,{Xd:()=>!this.ys.handleScroll.vertTouchDrag,Zd:()=>!0})}m(){this.Pf.m(),this.Wp.unsubscribeSuggestedBitmapSizeChanged(this.Ap),bi(this.Wp.canvasElement),this.Wp.dispose(),this.Np.unsubscribeSuggestedBitmapSizeChanged(this.Ip),bi(this.Np.canvasElement),this.Np.dispose(),this.Yi!==null&&this.Yi.io().u(this),this.Yi=null}Of(){return this.Ef}k(){return this.gl.fontSize}$p(){const e=this.Uu.N();return this.Rp!==e.P&&(this.Tp.In(),this.Rp=e.P),e}qp(){if(this.Yi===null)return 0;let e=0;const n=this.$p(),r=F(this.Np.canvasElement.getContext("2d",{colorSpace:this.yt.Bp().N().layout.colorSpace}));r.save();const i=this.Yi.Va();r.font=this.Yp(),i.length>0&&(e=Math.max(this.Tp.Vi(r,i[0].Xa),this.Tp.Vi(r,i[i.length-1].Xa)));const s=this.jp();for(let u=s.length;u--;){const c=this.Tp.Vi(r,s[u].ri());c>e&&(e=c)}const o=this.Yi.zt();if(o!==null&&this.kp!==null&&(a=this.ys.crosshair).mode!==2&&a.horzLine.visible&&a.horzLine.labelVisible){const u=this.Yi.Ts(1,o),c=this.Yi.Ts(this.kp.height-2,o);e=Math.max(e,this.Tp.Vi(r,this.Yi.Zi(Math.floor(Math.min(u,c))+.11111111111111,o)),this.Tp.Vi(r,this.Yi.Zi(Math.ceil(Math.max(u,c))-.11111111111111,o)))}var a;r.restore();const l=e||34;return Yd(Math.ceil(n.S+n.C+n.I+n.B+5+l))}Kp(e){this.kp!==null&&hi(this.kp,e)||(this.kp=e,this.Vp=!0,this.Np.resizeCanvasElement(e),this.Wp.resizeCanvasElement(e),this.Vp=!1,this.Ef.style.width=`${e.width}px`,this.Ef.style.height=`${e.height}px`)}Xp(){return F(this.kp).width}_s(e){this.Yi!==e&&(this.Yi!==null&&this.Yi.io().u(this),this.Yi=e,e.io().i(this.ol.bind(this),this))}Wt(){return this.Yi}In(){const e=this.yt.Xf();this.yt.Bp().Qt().Ho(e,F(this.Wt()))}Zp(e){if(this.kp===null)return;const n={colorSpace:this.yt.Bp().N().layout.colorSpace};if(e!==1){this.Gp(),this.Np.applySuggestedBitmapSize();const i=_i(this.Np,n);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.Jp(s),this.Qp(s)}),this.yt.tv(i,this.Op),this.iv(i),this.yt.tv(i,this.zp),this.sv(i))}this.Wp.applySuggestedBitmapSize();const r=_i(this.Wp,n);r!==null&&(r.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.nv(r),this.yt.tv(r,this.Lp))}Wf(){return this.Np.bitmapSize}Ff(e,n,r){const i=this.Wf();i.width>0&&i.height>0&&e.drawImage(this.Np.canvasElement,n,r)}kt(){var e;(e=this.Yi)==null||e.Va()}Yf(e){if(this.Yi===null||this.Yi.Ki()||!this.ys.handleScale.axisPressedMouseMove.price)return;const n=this.yt.Bp().Qt(),r=this.yt.Xf();this.Pp=!0,n.Eo(r,this.Yi,e.localY)}jf(e){if(this.Yi===null||!this.ys.handleScale.axisPressedMouseMove.price)return;const n=this.yt.Bp().Qt(),r=this.yt.Xf(),i=this.Yi;n.zo(r,i,e.localY)}Fp(){if(this.Yi===null||!this.ys.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Bp().Qt(),n=this.yt.Xf(),r=this.Yi;this.Pp&&(this.Pp=!1,e.Lo(n,r))}Kf(e){if(this.Yi===null||!this.ys.handleScale.axisPressedMouseMove.price)return;const n=this.yt.Bp().Qt(),r=this.yt.Xf();this.Pp=!1,n.Lo(r,this.Yi)}Hp(e){this.ys.handleScale.axisDoubleClickReset.price&&this.In()}Up(e){this.Yi!==null&&(!this.yt.Bp().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Rl()||this.ev(1))}qf(e){this.ev(0)}jp(){const e=[],n=this.Yi===null?void 0:this.Yi;return(r=>{for(let i=0;i<r.length;++i){const s=r[i].Fs(this.yt.Xf(),n);for(let o=0;o<s.length;o++)e.push(s[o])}})(this.yt.Xf().Dt()),e}Jp({context:e,bitmapSize:n}){const{width:r,height:i}=n,s=this.yt.Xf().Qt(),o=s.$(),a=s.Vc();o===a?ac(e,0,0,r,i,o):lx(e,0,0,r,i,o,a)}Qp({context:e,bitmapSize:n,horizontalPixelRatio:r}){if(this.kp===null||this.Yi===null||!this.Yi.N().borderVisible)return;e.fillStyle=this.Yi.N().borderColor;const i=Math.max(1,Math.floor(this.$p().S*r));let s;s=this.Ep?n.width-i:0,e.fillRect(s,0,i,n.height)}iv(e){if(this.kp===null||this.Yi===null)return;const n=this.Yi.Va(),r=this.Yi.N(),i=this.$p(),s=this.Ep?this.kp.width-i.C:0;r.borderVisible&&r.ticksVisible&&e.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:a,verticalPixelRatio:l})=>{o.fillStyle=r.borderColor;const u=Math.max(1,Math.floor(l)),c=Math.floor(.5*l),h=Math.round(i.C*a);o.beginPath();for(const d of n)o.rect(Math.floor(s*a),Math.round(d.ka*l)-c,h,u);o.fill()}),e.useMediaCoordinateSpace(({context:o})=>{o.font=this.Yp(),o.fillStyle=r.textColor??this.gl.textColor,o.textAlign=this.Ep?"right":"left",o.textBaseline="middle";const a=this.Ep?Math.round(s-i.I):Math.round(s+i.C+i.I),l=n.map(u=>this.Tp.Di(o,u.Xa));for(let u=n.length;u--;){const c=n[u];o.fillText(c.Xa,a,c.ka+l[u])}})}Gp(){if(this.kp===null||this.Yi===null)return;let e=this.kp.height/2;const n=[],r=this.Yi.Dt().slice(),i=this.yt.Xf(),s=this.$p();this.Yi===i.$n()&&this.yt.Xf().Dt().forEach(l=>{i.Un(l)&&r.push(l)});const o=this.Yi.ba()[0],a=this.Yi;r.forEach(l=>{const u=l.Fs(i,a);u.forEach(c=>{c.Fi(null),c.Hi()&&n.push(c)}),o===l&&u.length>0&&(e=u[0].Bi())}),n.forEach(l=>l.Fi(l.Bi())),this.Yi.N().alignLabels&&this.rv(n,s,e)}rv(e,n,r){if(this.kp===null)return;const i=e.filter(o=>o.Bi()<=r),s=e.filter(o=>o.Bi()>r);i.sort((o,a)=>a.Bi()-o.Bi()),i.length&&s.length&&s.push(i[0]),s.sort((o,a)=>o.Bi()-a.Bi());for(const o of e){const a=Math.floor(o.$t(n)/2),l=o.Bi();l>-a&&l<a&&o.Fi(a),l>this.kp.height-a&&l<this.kp.height+a&&o.Fi(this.kp.height-a)}Mg(i,1,this.kp.height,n),Mg(s,-1,this.kp.height,n)}sv(e){if(this.kp===null)return;const n=this.jp(),r=this.$p(),i=this.Ep?"right":"left";n.forEach(s=>{s.Ui()&&s.Tt(F(this.Yi)).nt(e,r,this.Tp,i)})}nv(e){if(this.kp===null||this.Yi===null)return;const n=this.yt.Bp().Qt(),r=[],i=this.yt.Xf(),s=n.sc().Fs(i,this.Yi);s.length&&r.push(s);const o=this.$p(),a=this.Ep?"right":"left";r.forEach(l=>{l.forEach(u=>{u.Tt(F(this.Yi)).nt(e,o,this.Tp,a)})})}ev(e){this.Ef.style.cursor=e===1?"ns-resize":"default"}ol(){const e=this.qp();this.Dp<e&&this.yt.Bp().Qt().Bh(),this.Dp=e}Yp(){return Eu(this.gl.fontSize,this.gl.fontFamily)}}function oM(t,e){var n;return((n=t.Jh)==null?void 0:n.call(t,e))??[]}function Ag(t,e){var n;return((n=t.Ws)==null?void 0:n.call(t,e))??[]}function Lg(t,e){var n;return((n=t.us)==null?void 0:n.call(t,e))??[]}function aM(t,e){var n;return((n=t.Xh)==null?void 0:n.call(t,e))??[]}class Sp{constructor(e,n){this.kp=Ae({width:0,height:0}),this.hv=null,this.av=null,this.lv=null,this.ov=null,this._v=!1,this.uv=new qe,this.cv=new qe,this.dv=0,this.fv=!1,this.pv=null,this.vv=!1,this.mv=null,this.wv=null,this.Vp=!1,this.Ip=()=>{this.Vp||this.gv===null||this.ts().ar()},this.Ap=()=>{this.Vp||this.gv===null||this.ts().ar()},this.gp=e,this.gv=n,this.gv.Yo().i(this.Mv.bind(this),this,!0),this.bv=document.createElement("td"),this.bv.style.padding="0",this.bv.style.position="relative";const r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.position="relative",r.style.overflow="hidden",this.Sv=document.createElement("td"),this.Sv.style.padding="0",this.xv=document.createElement("td"),this.xv.style.padding="0",this.bv.appendChild(r),this.Np=xi(r,Ae({width:16,height:16})),this.Np.subscribeSuggestedBitmapSizeChanged(this.Ip);const i=this.Np.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Wp=xi(r,Ae({width:16,height:16})),this.Wp.subscribeSuggestedBitmapSizeChanged(this.Ap);const s=this.Wp.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.Af=document.createElement("tr"),this.Af.appendChild(this.Sv),this.Af.appendChild(this.bv),this.Af.appendChild(this.xv),this.Cv(),this.Pf=new dc(this.Wp.canvasElement,this,{Xd:()=>this.pv===null&&!this.gp.N().handleScroll.vertTouchDrag,Zd:()=>this.pv===null&&!this.gp.N().handleScroll.horzTouchDrag})}m(){this.hv!==null&&this.hv.m(),this.av!==null&&this.av.m(),this.lv=null,this.Wp.unsubscribeSuggestedBitmapSizeChanged(this.Ap),bi(this.Wp.canvasElement),this.Wp.dispose(),this.Np.unsubscribeSuggestedBitmapSizeChanged(this.Ip),bi(this.Np.canvasElement),this.Np.dispose(),this.gv!==null&&(this.gv.Yo().u(this),this.gv.m()),this.Pf.m()}Xf(){return F(this.gv)}yv(e){var n;this.gv!==null&&this.gv.Yo().u(this),this.gv=e,this.gv!==null&&this.gv.Yo().i(Sp.prototype.Mv.bind(this),this,!0),this.Cv(),this.gp.If().indexOf(this)===this.gp.If().length-1?(this.lv=this.lv??new sM(this.bv,this.gp),this.lv.kt()):((n=this.lv)==null||n.bp(),this.lv=null)}Bp(){return this.gp}Of(){return this.Af}Cv(){if(this.gv!==null&&(this.kv(),this.ts().js().length!==0)){if(this.hv!==null){const e=this.gv.Bo();this.hv._s(F(e))}if(this.av!==null){const e=this.gv.Ao();this.av._s(F(e))}}}Pv(){this.hv!==null&&this.hv.kt(),this.av!==null&&this.av.kt()}ko(){return this.gv!==null?this.gv.ko():0}Po(e){this.gv&&this.gv.Po(e)}$d(e){if(!this.gv)return;this.Tv();const n=e.localX,r=e.localY;this.Rv(n,r,e)}_f(e){this.Tv(),this.Dv(),this.Rv(e.localX,e.localY,e)}qd(e){if(!this.gv)return;this.Tv();const n=e.localX,r=e.localY;this.Rv(n,r,e)}ef(e){this.gv!==null&&(this.Tv(),this.Vv(e))}Ld(e){this.gv!==null&&this.Iv(this.cv,e)}Bd(e){this.Ld(e)}Qd(e){this.Tv(),this.Bv(e),this.Rv(e.localX,e.localY,e)}nf(e){this.gv!==null&&(this.Tv(),this.fv=!1,this.Av(e))}sf(e){this.gv!==null&&this.Vv(e)}bf(e){if(this.fv=!0,this.pv===null){const n={x:e.localX,y:e.localY};this.Ev(n,n,e)}}Mf(e){this.gv!==null&&(this.Tv(),this.gv.Qt().Ju(null),this.zv())}Lv(){return this.uv}Ov(){return this.cv}ff(){this.dv=1,this.ts().hn()}pf(e,n){if(!this.gp.N().handleScale.pinch)return;const r=5*(n-this.dv);this.dv=n,this.ts()._c(e._t,r)}af(e){this.fv=!1,this.vv=this.pv!==null,this.Dv();const n=this.ts().sc();this.pv!==null&&n.Vt()&&(this.mv={x:n.si(),y:n.ni()},this.pv={x:e.localX,y:e.localY})}Gd(e){if(this.gv===null)return;const n=e.localX,r=e.localY;if(this.pv===null)this.Bv(e);else{this.vv=!1;const i=F(this.mv),s=i.x+(n-this.pv.x),o=i.y+(r-this.pv.y);this.Rv(s,o,e)}}if(e){this.Bp().N().trackingMode.exitMode===0&&(this.vv=!0),this.Nv(),this.Av(e)}jn(e,n){const r=this.gv;return r===null?null:yx(r,e,n)}Wv(e,n){F(n==="left"?this.hv:this.av).Kp(Ae({width:e,height:this.kp.height}))}Nf(){return this.kp}Kp(e){hi(this.kp,e)||(this.kp=e,this.Vp=!0,this.Np.resizeCanvasElement(e),this.Wp.resizeCanvasElement(e),this.Vp=!1,this.bv.style.width=e.width+"px",this.bv.style.height=e.height+"px")}Fv(){const e=F(this.gv);e.Io(e.Bo()),e.Io(e.Ao());for(const n of e.ba())if(e.Un(n)){const r=n.Wt();r!==null&&e.Io(r),n.Ns()}for(const n of e.Ko())n.Ns()}Wf(){return this.Np.bitmapSize}Ff(e,n,r){const i=this.Wf();i.width>0&&i.height>0&&e.drawImage(this.Np.canvasElement,n,r)}Zp(e){if(e===0||this.gv===null)return;e>1&&this.Fv(),this.hv!==null&&this.hv.Zp(e),this.av!==null&&this.av.Zp(e);const n={colorSpace:this.gp.N().layout.colorSpace};if(e!==1){this.Np.applySuggestedBitmapSize();const i=_i(this.Np,n);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.Jp(s)}),this.gv&&(this.Hv(i,oM),this.Uv(i),this.Hv(i,Ag),this.Hv(i,Lg)))}this.Wp.applySuggestedBitmapSize();const r=_i(this.Wp,n);r!==null&&(r.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.$v(r),this.Hv(r,aM),this.Hv(r,Lg))}qv(){return this.hv}Yv(){return this.av}tv(e,n){this.Hv(e,n)}Mv(){this.gv!==null&&this.gv.Yo().u(this),this.gv=null}Vv(e){this.Iv(this.uv,e)}Iv(e,n){const r=n.localX,i=n.localY;e.v()&&e.p(this.ts().At().nu(r),{x:r,y:i},n)}Jp({context:e,bitmapSize:n}){const{width:r,height:i}=n,s=this.ts(),o=s.$(),a=s.Vc();o===a?ac(e,0,0,r,i,a):lx(e,0,0,r,i,o,a)}Uv(e){const n=F(this.gv),r=n.jo().lr().Tt(n);r!==null&&r.nt(e,!1)}$v(e){this.jv(e,Ag,kl,this.ts().sc())}Hv(e,n){const r=F(this.gv),i=r.Dt(),s=r.Ko();for(const o of s)this.jv(e,n,Qd,o);for(const o of i)this.jv(e,n,Qd,o);for(const o of s)this.jv(e,n,kl,o);for(const o of i)this.jv(e,n,kl,o)}jv(e,n,r,i){const s=F(this.gv),o=s.Qt().Gu(),a=o!==null&&o.Xo===i,l=o!==null&&a&&o.Zo!==void 0?o.Zo.Xn:void 0;Kd(n,u=>r(u,e,a,l),i,s)}kv(){if(this.gv===null)return;const e=this.gp,n=this.gv.Bo().N().visible,r=this.gv.Ao().N().visible;n||this.hv===null||(this.Sv.removeChild(this.hv.Of()),this.hv.m(),this.hv=null),r||this.av===null||(this.xv.removeChild(this.av.Of()),this.av.m(),this.av=null);const i=e.Qt().Sc();n&&this.hv===null&&(this.hv=new Og(this,e.N(),i,"left"),this.Sv.appendChild(this.hv.Of())),r&&this.av===null&&(this.av=new Og(this,e.N(),i,"right"),this.xv.appendChild(this.av.Of()))}Kv(e){return e.Sf&&this.fv||this.pv!==null}Xv(e){return Math.max(0,Math.min(e,this.kp.width-1))}Zv(e){return Math.max(0,Math.min(e,this.kp.height-1))}Rv(e,n,r){this.ts().wc(this.Xv(e),this.Zv(n),r,F(this.gv))}zv(){this.ts().Mc()}Nv(){this.vv&&(this.pv=null,this.zv())}Ev(e,n,r){this.pv=e,this.vv=!1,this.Rv(n.x,n.y,r);const i=this.ts().sc();this.mv={x:i.si(),y:i.ni()}}ts(){return this.gp.Qt()}Av(e){if(!this._v)return;const n=this.ts(),r=this.Xf();if(n.Wo(r,r.Ps()),this.ov=null,this._v=!1,n.fc(),this.wv!==null){const i=performance.now(),s=n.At();this.wv.le(s._u(),i),this.wv.Mu(i)||n._n(this.wv)}}Tv(){this.pv=null}Dv(){if(this.gv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)F(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.gv.Ps().Ki()&&this.ts().At().Ki()}}Bv(e){if(this.gv===null)return;const n=this.ts(),r=n.At();if(r.Ki())return;const i=this.gp.N(),s=i.handleScroll,o=i.kineticScroll;if((!s.pressedMouseMove||e.Sf)&&(!s.horzTouchDrag&&!s.vertTouchDrag||!e.Sf))return;const a=this.gv.Ps(),l=performance.now();if(this.ov!==null||this.Kv(e)||(this.ov={x:e.clientX,y:e.clientY,Yc:l,Gv:e.localX,Jv:e.localY}),this.ov!==null&&!this._v&&(this.ov.x!==e.clientX||this.ov.y!==e.clientY)){if(e.Sf&&o.touch||!e.Sf&&o.mouse){const u=r.lu();this.wv=new iM(.2/u,7/u,.997,15/u),this.wv.dp(r._u(),this.ov.Yc)}else this.wv=null;a.Ki()||n.Oo(this.gv,a,e.localY),n.cc(e.localX),this._v=!0}this._v&&(a.Ki()||n.No(this.gv,a,e.localY),n.dc(e.localX),this.wv!==null&&this.wv.dp(r._u(),l))}}class Dg{constructor(e,n,r,i,s){this.xt=!0,this.kp=Ae({width:0,height:0}),this.Ip=()=>this.Zp(3),this.Ep=e==="left",this.Uu=r.Sc,this.ys=n,this.Qv=i,this.tm=s,this.Ef=document.createElement("div"),this.Ef.style.width="25px",this.Ef.style.height="100%",this.Ef.style.overflow="hidden",this.Np=xi(this.Ef,Ae({width:16,height:16})),this.Np.subscribeSuggestedBitmapSizeChanged(this.Ip)}m(){this.Np.unsubscribeSuggestedBitmapSizeChanged(this.Ip),bi(this.Np.canvasElement),this.Np.dispose()}Of(){return this.Ef}Nf(){return this.kp}Kp(e){hi(this.kp,e)||(this.kp=e,this.Np.resizeCanvasElement(e),this.Ef.style.width=`${e.width}px`,this.Ef.style.height=`${e.height}px`,this.xt=!0)}Zp(e){if(e<3&&!this.xt||this.kp.width===0||this.kp.height===0)return;this.xt=!1,this.Np.applySuggestedBitmapSize();const n=_i(this.Np,{colorSpace:this.ys.layout.colorSpace});n!==null&&n.useBitmapCoordinateSpace(r=>{this.Jp(r),this.Qp(r)})}Wf(){return this.Np.bitmapSize}Ff(e,n,r){const i=this.Wf();i.width>0&&i.height>0&&e.drawImage(this.Np.canvasElement,n,r)}Qp({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(!this.Qv())return;e.fillStyle=this.ys.timeScale.borderColor;const s=Math.floor(this.Uu.N().S*r),o=Math.floor(this.Uu.N().S*i),a=this.Ep?n.width-s:0;e.fillRect(a,0,s,o)}Jp({context:e,bitmapSize:n}){ac(e,0,0,n.width,n.height,this.tm())}}function kp(t){return e=>{var n;return((n=e.ia)==null?void 0:n.call(e,t))??[]}}const lM=kp("normal"),uM=kp("top"),cM=kp("bottom");class hM{constructor(e,n){this.im=null,this.sm=null,this.M=null,this.nm=!1,this.kp=Ae({width:0,height:0}),this.rm=new qe,this.Tp=new Cu(5),this.Vp=!1,this.Ip=()=>{this.Vp||this.gp.Qt().ar()},this.Ap=()=>{this.Vp||this.gp.Qt().ar()},this.gp=e,this.i_=n,this.ys=e.N().layout,this.pp=document.createElement("tr"),this.hm=document.createElement("td"),this.hm.style.padding="0",this.am=document.createElement("td"),this.am.style.padding="0",this.Ef=document.createElement("td"),this.Ef.style.height="25px",this.Ef.style.padding="0",this.lm=document.createElement("div"),this.lm.style.width="100%",this.lm.style.height="100%",this.lm.style.position="relative",this.lm.style.overflow="hidden",this.Ef.appendChild(this.lm),this.Np=xi(this.lm,Ae({width:16,height:16})),this.Np.subscribeSuggestedBitmapSizeChanged(this.Ip);const r=this.Np.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Wp=xi(this.lm,Ae({width:16,height:16})),this.Wp.subscribeSuggestedBitmapSizeChanged(this.Ap);const i=this.Wp.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.pp.appendChild(this.hm),this.pp.appendChild(this.Ef),this.pp.appendChild(this.am),this.om(),this.gp.Qt().yo().i(this.om.bind(this),this),this.Pf=new dc(this.Wp.canvasElement,this,{Xd:()=>!0,Zd:()=>!this.gp.N().handleScroll.horzTouchDrag})}m(){this.Pf.m(),this.im!==null&&this.im.m(),this.sm!==null&&this.sm.m(),this.Wp.unsubscribeSuggestedBitmapSizeChanged(this.Ap),bi(this.Wp.canvasElement),this.Wp.dispose(),this.Np.unsubscribeSuggestedBitmapSizeChanged(this.Ip),bi(this.Np.canvasElement),this.Np.dispose()}Of(){return this.pp}_m(){return this.im}um(){return this.sm}_f(e){if(this.nm)return;this.nm=!0;const n=this.gp.Qt();!n.At().Ki()&&this.gp.N().handleScale.axisPressedMouseMove.time&&n.oc(e.localX)}af(e){this._f(e)}uf(){const e=this.gp.Qt();!e.At().Ki()&&this.nm&&(this.nm=!1,this.gp.N().handleScale.axisPressedMouseMove.time&&e.mc())}Qd(e){const n=this.gp.Qt();!n.At().Ki()&&this.gp.N().handleScale.axisPressedMouseMove.time&&n.vc(e.localX)}Gd(e){this.Qd(e)}nf(){this.nm=!1;const e=this.gp.Qt();e.At().Ki()&&!this.gp.N().handleScale.axisPressedMouseMove.time||e.mc()}if(){this.nf()}Ld(){this.gp.N().handleScale.axisDoubleClickReset.time&&this.gp.Qt().cn()}Bd(){this.Ld()}$d(){this.gp.Qt().N().handleScale.axisPressedMouseMove.time&&this.ev(1)}Mf(){this.ev(0)}Nf(){return this.kp}dm(){return this.rm}fm(e,n,r){hi(this.kp,e)||(this.kp=e,this.Vp=!0,this.Np.resizeCanvasElement(e),this.Wp.resizeCanvasElement(e),this.Vp=!1,this.Ef.style.width=`${e.width}px`,this.Ef.style.height=`${e.height}px`,this.rm.p(e)),this.im!==null&&this.im.Kp(Ae({width:n,height:e.height})),this.sm!==null&&this.sm.Kp(Ae({width:r,height:e.height}))}pm(){const e=this.vm();return Math.ceil(e.S+e.C+e.k+e.A+e.V+e.wm)}kt(){this.gp.Qt().At().Va()}Wf(){return this.Np.bitmapSize}Ff(e,n,r){const i=this.Wf();i.width>0&&i.height>0&&e.drawImage(this.Np.canvasElement,n,r)}Zp(e){if(e===0)return;const n={colorSpace:this.ys.colorSpace};if(e!==1){this.Np.applySuggestedBitmapSize();const i=_i(this.Np,n);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.Jp(s),this.Qp(s),this.gm(i,cM)}),this.iv(i),this.gm(i,lM)),this.im!==null&&this.im.Zp(e),this.sm!==null&&this.sm.Zp(e)}this.Wp.applySuggestedBitmapSize();const r=_i(this.Wp,n);r!==null&&(r.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.Mm([...this.gp.Qt().js(),this.gp.Qt().sc()],r),this.gm(r,uM))}gm(e,n){const r=this.gp.Qt().js();for(const i of r)Kd(n,s=>Qd(s,e,!1,void 0),i,void 0);for(const i of r)Kd(n,s=>kl(s,e,!1,void 0),i,void 0)}Jp({context:e,bitmapSize:n}){ac(e,0,0,n.width,n.height,this.gp.Qt().Vc())}Qp({context:e,bitmapSize:n,verticalPixelRatio:r}){if(this.gp.N().timeScale.borderVisible){e.fillStyle=this.bm();const i=Math.max(1,Math.floor(this.vm().S*r));e.fillRect(0,0,n.width,i)}}iv(e){const n=this.gp.Qt().At(),r=n.Va();if(!r||r.length===0)return;const i=this.i_.maxTickMarkWeight(r),s=this.vm(),o=n.N();o.borderVisible&&o.ticksVisible&&e.useBitmapCoordinateSpace(({context:a,horizontalPixelRatio:l,verticalPixelRatio:u})=>{a.strokeStyle=this.bm(),a.fillStyle=this.bm();const c=Math.max(1,Math.floor(l)),h=Math.floor(.5*l);a.beginPath();const d=Math.round(s.C*u);for(let f=r.length;f--;){const m=Math.round(r[f].coord*l);a.rect(m-h,0,c,d)}a.fill()}),e.useMediaCoordinateSpace(({context:a})=>{const l=s.S+s.C+s.A+s.k/2;a.textAlign="center",a.textBaseline="middle",a.fillStyle=this.H(),a.font=this.Yp();for(const u of r)if(u.weight<i){const c=u.needAlignCoordinate?this.Sm(a,u.coord,u.label):u.coord;a.fillText(u.label,c,l)}this.gp.N().timeScale.allowBoldLabels&&(a.font=this.xm());for(const u of r)if(u.weight>=i){const c=u.needAlignCoordinate?this.Sm(a,u.coord,u.label):u.coord;a.fillText(u.label,c,l)}})}Sm(e,n,r){const i=this.Tp.Vi(e,r),s=i/2,o=Math.floor(n-s)+.5;return o<0?n+=Math.abs(0-o):o+i>this.kp.width&&(n-=Math.abs(this.kp.width-(o+i))),n}Mm(e,n){const r=this.vm();for(const i of e)for(const s of i.cs())s.Tt().nt(n,r)}bm(){return this.gp.N().timeScale.borderColor}H(){return this.ys.textColor}W(){return this.ys.fontSize}Yp(){return Eu(this.W(),this.ys.fontFamily)}xm(){return Eu(this.W(),this.ys.fontFamily,"bold")}vm(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,k:NaN,P:"",Gi:new Cu,wm:0});const e=this.M,n=this.Yp();if(e.P!==n){const r=this.W();e.k=r,e.P=n,e.A=3*r/12,e.V=3*r/12,e.Ji=9*r/12,e.L=0,e.wm=4*r/12,e.Gi.In()}return this.M}ev(e){this.Ef.style.cursor=e===1?"ew-resize":"default"}om(){const e=this.gp.Qt(),n=e.N();n.leftPriceScale.visible||this.im===null||(this.hm.removeChild(this.im.Of()),this.im.m(),this.im=null),n.rightPriceScale.visible||this.sm===null||(this.am.removeChild(this.sm.Of()),this.sm.m(),this.sm=null);const r={Sc:this.gp.Qt().Sc()},i=()=>n.leftPriceScale.borderVisible&&e.At().N().borderVisible,s=()=>e.Vc();n.leftPriceScale.visible&&this.im===null&&(this.im=new Dg("left",n,r,i,s),this.hm.appendChild(this.im.Of())),n.rightPriceScale.visible&&this.sm===null&&(this.sm=new Dg("right",n,r,i,s),this.am.appendChild(this.sm.Of()))}}var Xg;const dM=!!Rs&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!Rs&&((Xg=navigator==null?void 0:navigator.userAgentData)!=null&&Xg.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class fM{constructor(e,n,r){var i;this.Cm=[],this.ym=[],this.km=0,this.tl=0,this.fo=0,this.Pm=0,this.Tm=0,this.Rm=null,this.Dm=!1,this.uv=new qe,this.cv=new qe,this.Wu=new qe,this.Vm=null,this.Im=null,this.wp=e,this.ys=n,this.i_=r,this.pp=document.createElement("div"),this.pp.classList.add("tv-lightweight-charts"),this.pp.style.overflow="hidden",this.pp.style.direction="ltr",this.pp.style.width="100%",this.pp.style.height="100%",(i=this.pp).style.userSelect="none",i.style.webkitUserSelect="none",i.style.msUserSelect="none",i.style.MozUserSelect="none",i.style.webkitTapHighlightColor="transparent",this.Bm=document.createElement("table"),this.Bm.setAttribute("cellspacing","0"),this.pp.appendChild(this.Bm),this.Am=this.Em.bind(this),xh(this.ys)&&this.zm(!0),this.ts=new XN(this.Hu.bind(this),this.ys,r),this.Qt().nc().i(this.Lm.bind(this),this),this.Om=new hM(this,this.i_),this.Bm.appendChild(this.Om.Of());const s=n.autoSize&&this.Nm();let o=this.ys.width,a=this.ys.height;if(s||o===0||a===0){const l=e.getBoundingClientRect();o=o||l.width,a=a||l.height}this.Wm(o,a),this.Fm(),e.appendChild(this.pp),this.Hm(),this.ts.At().Cu().i(this.ts.Bh.bind(this.ts),this),this.ts.yo().i(this.ts.Bh.bind(this.ts),this)}Qt(){return this.ts}N(){return this.ys}If(){return this.Cm}Um(){return this.Om}m(){this.zm(!1),this.km!==0&&window.cancelAnimationFrame(this.km),this.ts.nc().u(this),this.ts.At().Cu().u(this),this.ts.yo().u(this),this.ts.m();for(const e of this.Cm)this.Bm.removeChild(e.Of()),e.Lv().u(this),e.Ov().u(this),e.m();this.Cm=[];for(const e of this.ym)this.$m(e);this.ym=[],F(this.Om).m(),this.pp.parentElement!==null&&this.pp.parentElement.removeChild(this.pp),this.Wu.m(),this.uv.m(),this.cv.m(),this.qm()}Wm(e,n,r=!1){if(this.tl===n&&this.fo===e)return;const i=function(a){const l=Math.floor(a.width),u=Math.floor(a.height);return Ae({width:l-l%2,height:u-u%2})}(Ae({width:e,height:n}));this.tl=i.height,this.fo=i.width;const s=this.tl+"px",o=this.fo+"px";F(this.pp).style.height=s,F(this.pp).style.width=o,this.Bm.style.height=s,this.Bm.style.width=o,r?this.Ym(wt.gn(),performance.now()):this.ts.Bh()}Zp(e){e===void 0&&(e=wt.gn());for(let n=0;n<this.Cm.length;n++)this.Cm[n].Zp(e.en(n).tn);this.ys.timeScale.visible&&this.Om.Zp(e.nn())}hr(e){var i;const n=xh(this.ys);this.ts.hr(e);const r=xh(this.ys);r!==n&&this.zm(r),(i=e.layout)!=null&&i.panes&&this.jm(),this.Hm(),this.Km(e)}Lv(){return this.uv}Ov(){return this.cv}nc(){return this.Wu}Xm(){this.Rm!==null&&(this.Ym(this.Rm,performance.now()),this.Rm=null);const e=this.Zm(null),n=document.createElement("canvas");n.width=e.width,n.height=e.height;const r=F(n.getContext("2d"));return this.Zm(r),n}Gm(e){return e==="left"&&!this.Jm()||e==="right"&&!this.Qm()||this.Cm.length===0?0:F(e==="left"?this.Cm[0].qv():this.Cm[0].Yv()).Xp()}tw(){return this.ys.autoSize&&this.Vm!==null}Uf(){return this.pp}iw(e){this.Im=e,this.Im?this.Uf().style.setProperty("cursor",e):this.Uf().style.removeProperty("cursor")}sw(){return this.Im}nw(e){return Zt(this.Cm[e]).Nf()}jm(){this.ym.forEach(e=>{e.kt()})}Km(e){(e.autoSize!==void 0||!this.Vm||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.Vm&&this.Nm(),e.autoSize===!1&&this.Vm!==null&&this.qm(),e.autoSize||e.width===void 0&&e.height===void 0||this.Wm(e.width||this.fo,e.height||this.tl))}Zm(e){let n=0,r=0;const i=this.Cm[0],s=(a,l)=>{let u=0;for(let c=0;c<this.Cm.length;c++){const h=this.Cm[c],d=F(a==="left"?h.qv():h.Yv()),f=d.Wf();if(e!==null&&d.Ff(e,l,u),u+=f.height,c<this.Cm.length-1){const m=this.ym[c],v=m.Wf();e!==null&&m.Ff(e,l,u),u+=v.height}}};this.Jm()&&(s("left",0),n+=F(i.qv()).Wf().width);for(let a=0;a<this.Cm.length;a++){const l=this.Cm[a],u=l.Wf();if(e!==null&&l.Ff(e,n,r),r+=u.height,a<this.Cm.length-1){const c=this.ym[a],h=c.Wf();e!==null&&c.Ff(e,n,r),r+=h.height}}n+=i.Wf().width,this.Qm()&&(s("right",n),n+=F(i.Yv()).Wf().width);const o=(a,l,u)=>{F(a==="left"?this.Om._m():this.Om.um()).Ff(F(e),l,u)};if(this.ys.timeScale.visible){const a=this.Om.Wf();if(e!==null){let l=0;this.Jm()&&(o("left",l,r),l=F(i.qv()).Wf().width),this.Om.Ff(e,l,r),l+=a.width,this.Qm()&&o("right",l,r)}r+=a.height}return Ae({width:n,height:r})}ew(){let e=0,n=0,r=0;for(const w of this.Cm)this.Jm()&&(n=Math.max(n,F(w.qv()).qp(),this.ys.leftPriceScale.minimumWidth)),this.Qm()&&(r=Math.max(r,F(w.Yv()).qp(),this.ys.rightPriceScale.minimumWidth)),e+=w.ko();n=Yd(n),r=Yd(r);const i=this.fo,s=this.tl,o=Math.max(i-n-r,0),a=1*this.ym.length,l=this.ys.timeScale.visible;let u=l?Math.max(this.Om.pm(),this.ys.timeScale.minimumHeight):0;var c;u=(c=u)+c%2;const h=a+u,d=s<h?0:s-h,f=d/e;let m=0;const v=window.devicePixelRatio||1;for(let w=0;w<this.Cm.length;++w){const g=this.Cm[w];g.yv(this.ts.$s()[w]);let p=0,_=0;_=w===this.Cm.length-1?Math.ceil((d-m)*v)/v:Math.round(g.ko()*f*v)/v,p=Math.max(_,2),m+=p,g.Kp(Ae({width:o,height:p})),this.Jm()&&g.Wv(n,"left"),this.Qm()&&g.Wv(r,"right"),g.Xf()&&this.ts.ec(g.Xf(),p)}this.Om.fm(Ae({width:l?o:0,height:u}),l?n:0,l?r:0),this.ts.To(o),this.Pm!==n&&(this.Pm=n),this.Tm!==r&&(this.Tm=r)}zm(e){e?this.pp.addEventListener("wheel",this.Am,{passive:!1}):this.pp.removeEventListener("wheel",this.Am)}rw(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return dM?1/window.devicePixelRatio:1}Em(e){if(!(e.deltaX!==0&&this.ys.handleScroll.mouseWheel||e.deltaY!==0&&this.ys.handleScale.mouseWheel))return;const n=this.rw(e),r=n*e.deltaX/100,i=-n*e.deltaY/100;if(e.cancelable&&e.preventDefault(),i!==0&&this.ys.handleScale.mouseWheel){const s=Math.sign(i)*Math.min(1,Math.abs(i)),o=e.clientX-this.pp.getBoundingClientRect().left;this.Qt()._c(o,s)}r!==0&&this.ys.handleScroll.mouseWheel&&this.Qt().uc(-80*r)}Ym(e,n){var i;const r=e.nn();r===3&&this.hw(),r!==3&&r!==2||(this.aw(e),this.lw(e,n),this.Om.kt(),this.Cm.forEach(s=>{s.Pv()}),((i=this.Rm)==null?void 0:i.nn())===3&&(this.Rm.vn(e),this.hw(),this.aw(this.Rm),this.lw(this.Rm,n),e=this.Rm,this.Rm=null)),this.Zp(e)}lw(e,n){for(const r of e.pn())this.mn(r,n)}aw(e){const n=this.ts.$s();for(let r=0;r<n.length;r++)e.en(r).sn&&n[r].Uo()}mn(e,n){const r=this.ts.At();switch(e.an){case 0:r.ku();break;case 1:r.Pu(e.Ft);break;case 2:r.dn(e.Ft);break;case 3:r.fn(e.Ft);break;case 4:r.du();break;case 5:e.Ft.Mu(n)||r.fn(e.Ft.bu(n))}}Hu(e){this.Rm!==null?this.Rm.vn(e):this.Rm=e,this.Dm||(this.Dm=!0,this.km=window.requestAnimationFrame(n=>{if(this.Dm=!1,this.km=0,this.Rm!==null){const r=this.Rm;this.Rm=null,this.Ym(r,n);for(const i of r.pn())if(i.an===5&&!i.Ft.Mu(n)){this.Qt()._n(i.Ft);break}}}))}hw(){this.Fm()}$m(e){this.Bm.removeChild(e.Of()),e.m()}Fm(){const e=this.ts.$s(),n=e.length,r=this.Cm.length;for(let i=n;i<r;i++){const s=Zt(this.Cm.pop());this.Bm.removeChild(s.Of()),s.Lv().u(this),s.Ov().u(this),s.m();const o=this.ym.pop();o!==void 0&&this.$m(o)}for(let i=r;i<n;i++){const s=new Sp(this,e[i]);if(s.Lv().i(this.ow.bind(this,s),this),s.Ov().i(this._w.bind(this,s),this),this.Cm.push(s),i>0){const o=new rM(this,i-1,i);this.ym.push(o),this.Bm.insertBefore(o.Of(),this.Om.Of())}this.Bm.insertBefore(s.Of(),this.Om.Of())}for(let i=0;i<n;i++){const s=e[i],o=this.Cm[i];o.Xf()!==s?o.yv(s):o.Cv()}this.Hm(),this.ew()}uw(e,n,r,i){var h;const s=new Map;e!==null&&this.ts.js().forEach(d=>{const f=d.Xs().Wr(e);f!==null&&s.set(d,f)});let o;if(e!==null){const d=(h=this.ts.At().ss(e))==null?void 0:h.originalTime;d!==void 0&&(o=d)}const a=this.Qt().Gu(),l=a!==null&&a.Xo instanceof hc?a.Xo:void 0,u=a!==null&&a.Zo!==void 0?a.Zo.Kn:void 0,c=this.cw(i);return{dw:o,Re:e??void 0,fw:n??void 0,pw:c!==-1?c:void 0,mw:l,ww:s,gw:u,Mw:r??void 0}}cw(e){let n=-1;if(e)n=this.Cm.indexOf(e);else{const r=this.Qt().sc().Us();r!==null&&(n=this.Qt().$s().indexOf(r))}return n}ow(e,n,r,i){this.uv.p(()=>this.uw(n,r,i,e))}_w(e,n,r,i){this.cv.p(()=>this.uw(n,r,i,e))}Lm(e,n,r){var i;this.iw(((i=this.Qt().Gu())==null?void 0:i.Jo)??null),this.Wu.p(()=>this.uw(e,n,r))}Hm(){const e=this.ys.timeScale.visible?"":"none";this.Om.Of().style.display=e}Jm(){return this.Cm[0].Xf().Bo().N().visible}Qm(){return this.Cm[0].Xf().Ao().N().visible}Nm(){return"ResizeObserver"in window&&(this.Vm=new ResizeObserver(e=>{const n=e[e.length-1];n&&this.Wm(n.contentRect.width,n.contentRect.height)}),this.Vm.observe(this.wp,{box:"border-box"}),!0)}qm(){this.Vm!==null&&this.Vm.disconnect(),this.Vm=null}}function xh(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function pM(t){return t.open===void 0&&t.value===void 0}function mM(t){return function(e){return e.open!==void 0}(t)||function(e){return e.value!==void 0}(t)}function jg(t,e,n,r){const i=n.value,s={Re:e,wt:t,Ft:[i,i,i,i],dw:r};return n.color!==void 0&&(s.R=n.color),s}function vM(t,e,n,r){const i=n.value,s={Re:e,wt:t,Ft:[i,i,i,i],dw:r};return n.lineColor!==void 0&&(s.vt=n.lineColor),n.topColor!==void 0&&(s.mr=n.topColor),n.bottomColor!==void 0&&(s.wr=n.bottomColor),s}function gM(t,e,n,r){const i=n.value,s={Re:e,wt:t,Ft:[i,i,i,i],dw:r};return n.topLineColor!==void 0&&(s.gr=n.topLineColor),n.bottomLineColor!==void 0&&(s.Mr=n.bottomLineColor),n.topFillColor1!==void 0&&(s.br=n.topFillColor1),n.topFillColor2!==void 0&&(s.Sr=n.topFillColor2),n.bottomFillColor1!==void 0&&(s.Cr=n.bottomFillColor1),n.bottomFillColor2!==void 0&&(s.yr=n.bottomFillColor2),s}function yM(t,e,n,r){const i={Re:e,wt:t,Ft:[n.open,n.high,n.low,n.close],dw:r};return n.color!==void 0&&(i.R=n.color),i}function wM(t,e,n,r){const i={Re:e,wt:t,Ft:[n.open,n.high,n.low,n.close],dw:r};return n.color!==void 0&&(i.R=n.color),n.borderColor!==void 0&&(i.Ht=n.borderColor),n.wickColor!==void 0&&(i.vr=n.wickColor),i}function _M(t,e,n,r,i){const s=Zt(i)(n),o=Math.max(...s),a=Math.min(...s),l=s[s.length-1],u=[l,o,a,l],{time:c,color:h,...d}=n;return{Re:e,wt:t,Ft:u,dw:r,se:d,R:h}}function io(t){return t.Ft!==void 0}function Ig(t,e){return e.customValues!==void 0&&(t.bw=e.customValues),t}function Jr(t){return(e,n,r,i,s,o)=>function(a,l){return l?l(a):pM(a)}(r,o)?Ig({wt:e,Re:n,dw:i},r):Ig(t(e,n,r,i,s),r)}function zg(t){return{Candlestick:Jr(wM),Bar:Jr(yM),Area:Jr(vM),Baseline:Jr(gM),Histogram:Jr(jg),Line:Jr(jg),Custom:Jr(_M)}[t]}function $g(t){return{Re:0,Sw:new Map,Hh:t}}function Fg(t,e){if(t!==void 0&&t.length!==0)return{xw:e.key(t[0].wt),Cw:e.key(t[t.length-1].wt)}}function Vg(t){let e;return t.forEach(n=>{e===void 0&&(e=n.dw)}),Zt(e)}class xM{constructor(e){this.yw=new Map,this.kw=new Map,this.Pw=new Map,this.Tw=[],this.i_=e}m(){this.yw.clear(),this.kw.clear(),this.Pw.clear(),this.Tw=[]}Rw(e,n){let r=this.yw.size!==0,i=!1;const s=this.kw.get(e);if(s!==void 0)if(this.kw.size===1)r=!1,i=!0,this.yw.clear();else for(const l of this.Tw)l.pointData.Sw.delete(e)&&(i=!0);let o=[];if(n.length!==0){const l=n.map(f=>f.time),u=this.i_.createConverterToInternalObj(n),c=zg(e.Rr()),h=e.da(),d=e.pa();o=n.map((f,m)=>{const v=u(f.time),w=this.i_.key(v);let g=this.yw.get(w);g===void 0&&(g=$g(v),this.yw.set(w,g),i=!0);const p=c(v,g.Re,f,l[m],h,d);return g.Sw.set(e,p),p})}r&&this.Dw(),this.Vw(e,o);let a=-1;if(i){const l=[];this.yw.forEach(u=>{l.push({timeWeight:0,time:u.Hh,pointData:u,originalTime:Vg(u.Sw)})}),l.sort((u,c)=>this.i_.key(u.time)-this.i_.key(c.time)),a=this.Iw(l)}return this.Bw(e,a,function(l,u,c){const h=Fg(l,c),d=Fg(u,c);if(h!==void 0&&d!==void 0)return{Aw:!1,zh:h.Cw>=d.Cw&&h.xw>=d.xw}}(this.kw.get(e),s,this.i_))}yc(e){return this.Rw(e,[])}Ew(e,n,r){const i=n;(function(w){w.dw===void 0&&(w.dw=w.time)})(i),this.i_.preprocessData(n);const s=this.i_.createConverterToInternalObj([n])(n.time),o=this.Pw.get(e);if(!r&&o!==void 0&&this.i_.key(s)<this.i_.key(o))throw new Error(`Cannot update oldest data, last time=${o}, new time=${s}`);let a=this.yw.get(this.i_.key(s));if(r&&a===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const l=a===void 0;a===void 0&&(a=$g(s),this.yw.set(this.i_.key(s),a));const u=zg(e.Rr()),c=e.da(),h=e.pa(),d=u(s,a.Re,n,i.dw,c,h);a.Sw.set(e,d),r?this.zw(e,d,a.Re):this.Lw(e,d);const f={zh:io(d),Aw:r};if(!l)return this.Bw(e,-1,f);const m={timeWeight:0,time:a.Hh,pointData:a,originalTime:Vg(a.Sw)},v=Ts(this.Tw,this.i_.key(m.time),(w,g)=>this.i_.key(w.time)<g);this.Tw.splice(v,0,m);for(let w=v;w<this.Tw.length;++w)bh(this.Tw[w].pointData,w);return this.i_.fillWeightsForPoints(this.Tw,v),this.Bw(e,v,f)}Lw(e,n){let r=this.kw.get(e);r===void 0&&(r=[],this.kw.set(e,r));const i=r.length!==0?r[r.length-1]:null;i===null||this.i_.key(n.wt)>this.i_.key(i.wt)?io(n)&&r.push(n):io(n)?r[r.length-1]=n:r.splice(-1,1),this.Pw.set(e,n.wt)}zw(e,n,r){const i=this.kw.get(e);if(i===void 0)return;const s=Ts(i,r,(o,a)=>o.Re<a);io(n)?i[s]=n:i.splice(s,1)}Vw(e,n){n.length!==0?(this.kw.set(e,n.filter(io)),this.Pw.set(e,n[n.length-1].wt)):(this.kw.delete(e),this.Pw.delete(e))}Dw(){for(const e of this.Tw)e.pointData.Sw.size===0&&this.yw.delete(this.i_.key(e.time))}Iw(e){let n=-1;for(let r=0;r<this.Tw.length&&r<e.length;++r){const i=this.Tw[r],s=e[r];if(this.i_.key(i.time)!==this.i_.key(s.time)){n=r;break}s.timeWeight=i.timeWeight,bh(s.pointData,r)}if(n===-1&&this.Tw.length!==e.length&&(n=Math.min(this.Tw.length,e.length)),n===-1)return-1;for(let r=n;r<e.length;++r)bh(e[r].pointData,r);return this.i_.fillWeightsForPoints(e,n),this.Tw=e,n}Ow(){if(this.kw.size===0)return null;let e=0;return this.kw.forEach(n=>{n.length!==0&&(e=Math.max(e,n[n.length-1].Re))}),e}Bw(e,n,r){const i={Do:new Map,At:{iu:this.Ow()}};if(n!==-1)this.kw.forEach((s,o)=>{i.Do.set(o,{se:s,Nw:o===e?r:void 0})}),this.kw.has(e)||i.Do.set(e,{se:[],Nw:r}),i.At.Ww=this.Tw,i.At.Fw=n;else{const s=this.kw.get(e);i.Do.set(e,{se:s||[],Nw:r})}return i}}function bh(t,e){t.Re=e,t.Sw.forEach(n=>{n.Re=e})}function bM(t,e){return t.wt<e}function SM(t,e){return e<t.wt}function kM(t,e,n){const r=e.Uh(),i=e.bi(),s=Ts(t,r,bM),o=px(t,i,SM);if(!n)return{from:s,to:o};let a=s,l=o;return s>0&&s<t.length&&t[s].wt>=r&&(a=s-1),o>0&&o<t.length&&t[o-1].wt<=i&&(l=o+1),{from:a,to:l}}class xx{constructor(e,n,r){this.Hw=!0,this.Uw=!0,this.$w=!0,this.qw=[],this.Yw=null,this.Jn=e,this.Qn=n,this.jw=r}kt(e){this.Hw=!0,e==="data"&&(this.Uw=!0),e==="options"&&(this.$w=!0)}Tt(){return this.Jn.Vt()?(this.Kw(),this.Yw===null?null:this.Xw):null}Zw(){this.qw=this.qw.map(e=>({...e,...this.Jn.Rh().Dr(e.wt)}))}Gw(){this.Yw=null}Kw(){this.Uw&&(this.Jw(),this.Uw=!1),this.$w&&(this.Zw(),this.$w=!1),this.Hw&&(this.Qw(),this.Hw=!1)}Qw(){const e=this.Jn.Wt(),n=this.Qn.At();if(this.Gw(),n.Ki()||e.Ki())return;const r=n.ye();if(r===null||this.Jn.Xs().zr()===0)return;const i=this.Jn.zt();i!==null&&(this.Yw=kM(this.qw,r,this.jw),this.tg(e,n,i.Ft),this.ig())}}class EM{constructor(e,n){this.sg=e,this.Yi=n}nt(e,n,r){this.sg.draw(e,this.Yi,n,r)}}class CM extends xx{constructor(e,n,r){super(e,n,!1),this.sh=r,this.Xw=new EM(this.sh.renderer(),i=>{const s=e.zt();return s===null?null:e.Wt().Nt(i,s.Ft)})}fa(e){return this.sh.priceValueBuilder(e)}va(e){return this.sh.isWhitespace(e)}Jw(){const e=this.Jn.Rh();this.qw=this.Jn.Xs().Hr().map(n=>({wt:n.Re,_t:NaN,...e.Dr(n.Re),ng:n.se}))}tg(e,n){n.su(this.qw,Wd(this.Yw))}ig(){this.sh.update({bars:this.qw.map(TM),barSpacing:this.Qn.At().lu(),visibleRange:this.Yw},this.Jn.N())}}function TM(t){return{x:t._t,time:t.wt,originalData:t.ng,barColor:t.cr}}const RM={color:"#2196f3"},PM=(t,e,n)=>{const r=Mr(n);return new CM(t,e,r)};function Ep(t){const e={value:t.Ft[3],time:t.dw};return t.bw!==void 0&&(e.customValues=t.bw),e}function Ug(t){const e=Ep(t);return t.R!==void 0&&(e.color=t.R),e}function NM(t){const e=Ep(t);return t.vt!==void 0&&(e.lineColor=t.vt),t.mr!==void 0&&(e.topColor=t.mr),t.wr!==void 0&&(e.bottomColor=t.wr),e}function MM(t){const e=Ep(t);return t.gr!==void 0&&(e.topLineColor=t.gr),t.Mr!==void 0&&(e.bottomLineColor=t.Mr),t.br!==void 0&&(e.topFillColor1=t.br),t.Sr!==void 0&&(e.topFillColor2=t.Sr),t.Cr!==void 0&&(e.bottomFillColor1=t.Cr),t.yr!==void 0&&(e.bottomFillColor2=t.yr),e}function bx(t){const e={open:t.Ft[0],high:t.Ft[1],low:t.Ft[2],close:t.Ft[3],time:t.dw};return t.bw!==void 0&&(e.customValues=t.bw),e}function OM(t){const e=bx(t);return t.R!==void 0&&(e.color=t.R),e}function AM(t){const e=bx(t),{R:n,Ht:r,vr:i}=t;return n!==void 0&&(e.color=n),r!==void 0&&(e.borderColor=r),i!==void 0&&(e.wickColor=i),e}function Zd(t){return{Area:NM,Line:Ug,Baseline:MM,Histogram:Ug,Bar:OM,Candlestick:AM,Custom:LM}[t]}function LM(t){const e=t.dw;return{...t.se,time:e}}const DM={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},jM={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},IM={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:ax,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},Sh={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},zM={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function Bg(){return{width:0,height:0,autoSize:!1,layout:IM,crosshair:DM,grid:jM,overlayPriceScales:{...Sh},leftPriceScale:{...Sh,visible:!1},rightPriceScale:{...Sh,visible:!0},timeScale:zM,localization:{locale:Rs?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Sx{constructor(e,n,r){this.Df=e,this.eg=n,this.rg=r??0}applyOptions(e){this.Df.Qt().Qu(this.eg,e,this.rg)}options(){return this.Yi().N()}width(){return uc(this.eg)?this.Df.Gm(this.eg):0}setVisibleRange(e){this.setAutoScale(!1),this.Yi().Nl(new Lt(e.from,e.to))}getVisibleRange(){const e=this.Yi().Qe();return e===null?null:{from:e.$e(),to:e.qe()}}setAutoScale(e){this.applyOptions({autoScale:e})}Yi(){return F(this.Df.Qt().tc(this.eg,this.rg)).Wt}}class $M{constructor(e,n,r,i){this.Df=e,this.yt=r,this.hg=n,this.ag=i}getHeight(){return this.yt.$t()}setHeight(e){const n=this.Df.Qt(),r=n.Bc(this.yt);n.hc(r,e)}paneIndex(){return this.Df.Qt().Bc(this.yt)}moveTo(e){const n=this.paneIndex();n!==e&&(Ct(e>=0&&e<this.Df.If().length,"Invalid pane index"),this.Df.Qt().ac(n,e))}getSeries(){return this.yt.Do().map(e=>this.hg(e))??[]}getHTMLElement(){return this.Df.If()[this.paneIndex()].Of()}attachPrimitive(e){this.yt.ua(e),e.attached&&e.attached({chart:this.ag,requestUpdate:()=>this.yt.Qt().Bh()})}detachPrimitive(e){this.yt.ca(e)}priceScale(e){if(this.yt.Co(e)===null)throw new Error(`Cannot find price scale with id: ${e}`);return new Sx(this.Df,e,this.paneIndex())}}const FM={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Wg{constructor(e){this.ir=e}applyOptions(e){this.ir.hr(e)}options(){return this.ir.N()}lg(){return this.ir}}class VM{constructor(e,n,r,i,s,o){this.og=new qe,this.Jn=e,this._g=n,this.ug=r,this.i_=s,this.ag=i,this.cg=o}m(){this.og.m()}priceFormatter(){return this.Jn.ra()}priceToCoordinate(e){const n=this.Jn.zt();return n===null?null:this.Jn.Wt().Nt(e,n.Ft)}coordinateToPrice(e){const n=this.Jn.zt();return n===null?null:this.Jn.Wt().Ts(e,n.Ft)}barsInLogicalRange(e){if(e===null)return null;const n=new cs(new Do(e.from,e.to)).w_(),r=this.Jn.Xs();if(r.Ki())return null;const i=r.Wr(n.Uh(),1),s=r.Wr(n.bi(),-1),o=F(r.Lr()),a=F(r.Ks());if(i!==null&&s!==null&&i.Re>s.Re)return{barsBefore:e.from-o,barsAfter:a-e.to};const l={barsBefore:i===null||i.Re===o?e.from-o:i.Re-o,barsAfter:s===null||s.Re===a?a-e.to:a-s.Re};return i!==null&&s!==null&&(l.from=i.dw,l.to=s.dw),l}setData(e){this.i_,this.Jn.Rr(),this._g.dg(this.Jn,e),this.fg("full")}update(e,n=!1){this.Jn.Rr(),this._g.pg(this.Jn,e,n),this.fg("update")}dataByIndex(e,n){const r=this.Jn.Xs().Wr(e,n);return r===null?null:Zd(this.seriesType())(r)}data(){const e=Zd(this.seriesType());return this.Jn.Xs().Hr().map(n=>e(n))}subscribeDataChanged(e){this.og.i(e)}unsubscribeDataChanged(e){this.og._(e)}applyOptions(e){this.Jn.hr(e)}options(){return qn(this.Jn.N())}priceScale(){return this.ug.priceScale(this.Jn.Wt().wa(),this.getPane().paneIndex())}createPriceLine(e){const n=tn(qn(FM),e),r=this.Jn.Oh(n);return new Wg(r)}removePriceLine(e){this.Jn.Nh(e.lg())}priceLines(){return this.Jn.Wh().map(e=>new Wg(e))}seriesType(){return this.Jn.Rr()}attachPrimitive(e){this.Jn.ua(e),e.attached&&e.attached({chart:this.ag,series:this,requestUpdate:()=>this.Jn.Qt().Bh(),horzScaleBehavior:this.i_})}detachPrimitive(e){this.Jn.ca(e),e.detached&&e.detached(),this.Jn.Qt().Bh()}getPane(){const e=this.Jn,n=F(this.Jn.Qt().Hn(e));return this.cg(n)}moveToPane(e){this.Jn.Qt().Rc(this.Jn,e)}seriesOrder(){const e=this.Jn.Qt().Hn(this.Jn);return e===null?-1:e.Do().indexOf(this.Jn)}setSeriesOrder(e){const n=this.Jn.Qt().Hn(this.Jn);n!==null&&n.qo(this.Jn,e)}fg(e){this.og.v()&&this.og.p(e)}}class UM{constructor(e,n,r){this.vg=new qe,this.T_=new qe,this.rm=new qe,this.ts=e,this.uh=e.At(),this.Om=n,this.uh.Su().i(this.mg.bind(this)),this.uh.xu().i(this.wg.bind(this)),this.Om.dm().i(this.gg.bind(this)),this.i_=r}m(){this.uh.Su().u(this),this.uh.xu().u(this),this.Om.dm().u(this),this.vg.m(),this.T_.m(),this.rm.m()}scrollPosition(){return this.uh._u()}scrollToPosition(e,n){n?this.uh.gu(e,1e3):this.ts.fn(e)}scrollToRealTime(){this.uh.wu()}getVisibleRange(){const e=this.uh.K_();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const n={from:this.i_.convertHorzItemToInternal(e.from),to:this.i_.convertHorzItemToInternal(e.to)},r=this.uh.J_(n);this.ts.Pc(r)}getVisibleLogicalRange(){const e=this.uh.j_();return e===null?null:{from:e.Uh(),to:e.bi()}}setVisibleLogicalRange(e){Ct(e.from<=e.to,"The from index cannot be after the to index."),this.ts.Pc(e)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.ku()}logicalToCoordinate(e){const n=this.ts.At();return n.Ki()?null:n.qt(e)}coordinateToLogical(e){return this.uh.Ki()?null:this.uh.nu(e)}timeToIndex(e,n){const r=this.i_.convertHorzItemToInternal(e);return this.uh.U_(r,n)}timeToCoordinate(e){const n=this.timeToIndex(e,!1);return n===null?null:this.uh.qt(n)}coordinateToTime(e){const n=this.ts.At(),r=n.nu(e),i=n.ss(r);return i===null?null:i.originalTime}width(){return this.Om.Nf().width}height(){return this.Om.Nf().height}subscribeVisibleTimeRangeChange(e){this.vg.i(e)}unsubscribeVisibleTimeRangeChange(e){this.vg._(e)}subscribeVisibleLogicalRangeChange(e){this.T_.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.T_._(e)}subscribeSizeChange(e){this.rm.i(e)}unsubscribeSizeChange(e){this.rm._(e)}applyOptions(e){this.uh.hr(e)}options(){return{...qn(this.uh.N()),barSpacing:this.uh.lu()}}mg(){this.vg.v()&&this.vg.p(this.getVisibleRange())}wg(){this.T_.v()&&this.T_.p(this.getVisibleLogicalRange())}gg(e){this.rm.p(e.width,e.height)}}function BM(t){if(t===void 0||t.type==="custom")return;const e=t;e.minMove!==void 0&&e.precision===void 0&&(e.precision=function(n){if(n>=1)return 0;let r=0;for(;r<8;r++){const i=Math.round(n);if(Math.abs(i-n)<1e-8)return r;n*=10}return r}(e.minMove))}function Hg(t){return function(e){if(el(e.handleScale)){const r=e.handleScale;e.handleScale={axisDoubleClickReset:{time:r,price:r},axisPressedMouseMove:{time:r,price:r},mouseWheel:r,pinch:r}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:r,axisDoubleClickReset:i}=e.handleScale;el(r)&&(e.handleScale.axisPressedMouseMove={time:r,price:r}),el(i)&&(e.handleScale.axisDoubleClickReset={time:i,price:i})}const n=e.handleScroll;el(n)&&(e.handleScroll={horzTouchDrag:n,vertTouchDrag:n,mouseWheel:n,pressedMouseMove:n})}(t),t}class WM{constructor(e,n,r){this.Mg=new Map,this.bg=new Map,this.Sg=new qe,this.xg=new qe,this.Cg=new qe,this.zu=new WeakMap,this.yg=new xM(n);const i=r===void 0?qn(Bg()):tn(qn(Bg()),Hg(r));this.kg=n,this.Df=new fM(e,i,n),this.Df.Lv().i(o=>{this.Sg.v()&&this.Sg.p(this.Pg(o()))},this),this.Df.Ov().i(o=>{this.xg.v()&&this.xg.p(this.Pg(o()))},this),this.Df.nc().i(o=>{this.Cg.v()&&this.Cg.p(this.Pg(o()))},this);const s=this.Df.Qt();this.Tg=new UM(s,this.Df.Um(),this.kg)}remove(){this.Df.Lv().u(this),this.Df.Ov().u(this),this.Df.nc().u(this),this.Tg.m(),this.Df.m(),this.Mg.clear(),this.bg.clear(),this.Sg.m(),this.xg.m(),this.Cg.m(),this.yg.m()}resize(e,n,r){this.autoSizeActive()||this.Df.Wm(e,n,r)}addCustomSeries(e,n={},r=0){const i=(s=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...RM,...s.defaultOptions()},Rg:PM,Dg:s}))(Mr(e));return this.Vg(i,n,r)}addSeries(e,n={},r=0){return this.Vg(e,n,r)}removeSeries(e){const n=Zt(this.Mg.get(e)),r=this.yg.yc(n);this.Df.Qt().yc(n),this.Ig(r),this.Mg.delete(e),this.bg.delete(n)}dg(e,n){this.Ig(this.yg.Rw(e,n))}pg(e,n,r){this.Ig(this.yg.Ew(e,n,r))}subscribeClick(e){this.Sg.i(e)}unsubscribeClick(e){this.Sg._(e)}subscribeCrosshairMove(e){this.Cg.i(e)}unsubscribeCrosshairMove(e){this.Cg._(e)}subscribeDblClick(e){this.xg.i(e)}unsubscribeDblClick(e){this.xg._(e)}priceScale(e,n=0){return new Sx(this.Df,e,n)}timeScale(){return this.Tg}applyOptions(e){this.Df.hr(Hg(e))}options(){return this.Df.N()}takeScreenshot(){return this.Df.Xm()}removePane(e){this.Df.Qt().rc(e)}swapPanes(e,n){this.Df.Qt().ac(e,n)}autoSizeActive(){return this.Df.tw()}chartElement(){return this.Df.Uf()}panes(){return this.Df.Qt().$s().map(e=>this.Bg(e))}paneSize(e=0){const n=this.Df.nw(e);return{height:n.height,width:n.width}}setCrosshairPosition(e,n,r){const i=this.Mg.get(r);if(i===void 0)return;const s=this.Df.Qt().Hn(i);s!==null&&this.Df.Qt().gc(e,n,s)}clearCrosshairPosition(){this.Df.Qt().Mc(!0)}horzBehaviour(){return this.kg}Vg(e,n={},r=0){Ct(e.Rg!==void 0),BM(n.priceFormat),e.type==="Candlestick"&&function(l){l.borderColor!==void 0&&(l.borderUpColor=l.borderColor,l.borderDownColor=l.borderColor),l.wickColor!==void 0&&(l.wickUpColor=l.wickColor,l.wickDownColor=l.wickColor)}(n);const i=tn(qn(sx),qn(e.defaultOptions),n),s=e.Rg,o=new hc(this.Df.Qt(),e.type,i,s,e.Dg);this.Df.Qt().xc(o,r);const a=new VM(o,this,this,this,this.kg,l=>this.Bg(l));return this.Mg.set(a,o),this.bg.set(o,a),a}Ig(e){const n=this.Df.Qt();n.bc(e.At.iu,e.At.Ww,e.At.Fw),e.Do.forEach((r,i)=>i.ht(r.se,r.Nw)),n.At().O_(),n.au()}Ag(e){return Zt(this.bg.get(e))}Pg(e){const n=new Map;e.ww.forEach((i,s)=>{const o=s.Rr(),a=Zd(o)(i);if(o!=="Custom")Ct(mM(a));else{const l=s.pa();Ct(!l||l(a)===!1)}n.set(this.Ag(s),a)});const r=e.mw!==void 0&&this.bg.has(e.mw)?this.Ag(e.mw):void 0;return{time:e.dw,logical:e.Re,point:e.fw,paneIndex:e.pw,hoveredSeries:r,hoveredObjectId:e.gw,seriesData:n,sourceEvent:e.Mw}}Bg(e){let n=this.zu.get(e);return n||(n=new $M(this.Df,r=>this.Ag(r),e,this),this.zu.set(e,n)),n}}function HM(t){if(xa(t)){const e=document.getElementById(t);return Ct(e!==null,`Cannot find element in DOM with id=${t}`),e}return t}function YM(t,e,n){const r=HM(t),i=new WM(r,e,n);return e.setOptions(i.options()),i}function QM(t,e){return YM(t,new Rg,Rg.Xc(e))}class KM extends xx{constructor(e,n){super(e,n,!0)}tg(e,n,r){n.su(this.qw,Wd(this.Yw)),e.Hl(this.qw,r,Wd(this.Yw))}Eg(e,n){return{wt:e,gt:n,_t:NaN,ut:NaN}}Jw(){const e=this.Jn.Rh();this.qw=this.Jn.Xs().Hr().map(n=>{const r=n.Ft[3];return this.zg(n.Re,r,e)})}}function ZM(t,e,n,r,i,s,o){if(e.length===0||r.from>=e.length||r.to<=0)return;const{context:a,horizontalPixelRatio:l,verticalPixelRatio:u}=t,c=e[r.from];let h=s(t,c),d=c;if(r.to-r.from<2){const f=i/2;a.beginPath();const m={_t:c._t-f,ut:c.ut},v={_t:c._t+f,ut:c.ut};a.moveTo(m._t*l,m.ut*u),a.lineTo(v._t*l,v.ut*u),o(t,h,m,v)}else{const f=(v,w)=>{o(t,h,d,w),a.beginPath(),h=v,d=w};let m=d;a.beginPath(),a.moveTo(c._t*l,c.ut*u);for(let v=r.from+1;v<r.to;++v){m=e[v];const w=s(t,m);switch(n){case 0:a.lineTo(m._t*l,m.ut*u);break;case 1:a.lineTo(m._t*l,e[v-1].ut*u),w!==h&&(f(w,m),a.lineTo(m._t*l,e[v-1].ut*u)),a.lineTo(m._t*l,m.ut*u);break;case 2:{const[g,p]=JM(e,v-1,v);a.bezierCurveTo(g._t*l,g.ut*u,p._t*l,p.ut*u,m._t*l,m.ut*u);break}}n!==1&&w!==h&&(f(w,m),a.moveTo(m._t*l,m.ut*u))}(d!==m||d===m&&n===1)&&o(t,h,d,m)}}const Yg=6;function kh(t,e){return{_t:t._t-e._t,ut:t.ut-e.ut}}function Qg(t,e){return{_t:t._t/e,ut:t.ut/e}}function JM(t,e,n){const r=Math.max(0,e-1),i=Math.min(t.length-1,n+1);var s,o;return[(s=t[e],o=Qg(kh(t[n],t[r]),Yg),{_t:s._t+o._t,ut:s.ut+o.ut}),kh(t[n],Qg(kh(t[i],t[e]),Yg))]}function XM(t,e){const n=t.context;n.strokeStyle=e,n.stroke()}class GM extends js{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et(e){if(this.rt===null)return;const{ot:n,lt:r,Lg:i,Og:s,ct:o,Xt:a,Ng:l}=this.rt;if(r===null)return;const u=e.context;u.lineCap="butt",u.lineWidth=o*e.verticalPixelRatio,Es(u,a),u.lineJoin="round";const c=this.Wg.bind(this);s!==void 0&&ZM(e,n,s,r,i,c,XM),l&&function(h,d,f,m,v){if(m.to-m.from<=0)return;const{horizontalPixelRatio:w,verticalPixelRatio:g,context:p}=h;let _=null;const b=Math.max(1,Math.floor(w))%2/2,C=f*g+b;for(let A=m.to-1;A>=m.from;--A){const x=d[A];if(x){const P=v(h,x);P!==_&&(p.beginPath(),_!==null&&p.fill(),p.fillStyle=P,_=P);const L=Math.round(x._t*w)+b,O=x.ut*g;p.moveTo(L,O),p.arc(L,O,C,0,2*Math.PI)}}p.fill()}(e,n,l,r,c)}}class qM extends GM{Wg(e,n){return n.vt}}class eO extends KM{constructor(){super(...arguments),this.Xw=new qM}zg(e,n,r){return{...this.Eg(e,n),...r.Dr(e)}}ig(){const e=this.Jn.N(),n={ot:this.qw,Xt:e.lineStyle,Og:e.lineVisible?e.lineType:void 0,ct:e.lineWidth,Ng:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,lt:this.Yw,Lg:this.Qn.At().lu()};this.Xw.ht(n)}}const tO={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Rg:(t,e)=>new eO(t,e)};({...sx});const nO=[",  ?","     ?","    "],rO=({stockCode:t})=>{const e=y.useRef(null);return y.useEffect(()=>{if(!e.current)return;const n=QM(e.current,{width:300,height:200}),r=n.addSeries(tO),s=(a=>{const l=[];let u=1e4;const c=.02;for(let h=0;h<a;h++){const d=new Date;if(d.setDate(d.getDate()-(a-1-h)),d.getDay()===0||d.getDay()===6)continue;const f=u*(Math.random()*c*2-c);u=Math.max(u+f,u*.9),l.push({time:d.toISOString().split("T")[0],value:Math.round(u)})}return l})(40);r.setData(s);const o=()=>{e.current&&n.applyOptions({width:e.current.clientWidth})};return window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o),n.remove()}},[t]),E.jsx("div",{ref:e,className:"w-full h-[200px]"})};function iO(){const{logout:t,user:e}=ic(),{toast:n}=vp(),[r,i]=y.useState([{id:"1",text:"!  Newsystock ScreenerAI .      .",sender:"bot",timestamp:new Date}]),[s,o]=y.useState(""),[a,l]=y.useState(!1),u=y.useRef(null),c=y.useRef(null),[h,d]=y.useState(0);y.useEffect(()=>{var w,g;window.amplitude.track("chat-view-screener-poc"),"virtualKeyboard"in navigator&&(navigator.virtualKeyboard.overlaysContent=!0);const v=()=>{if(window.visualViewport){const p=window.innerHeight-window.visualViewport.height;d(p)}};return(w=window.visualViewport)==null||w.addEventListener("resize",v),(g=window.visualViewport)==null||g.addEventListener("scroll",v),()=>{var p,_;(p=window.visualViewport)==null||p.removeEventListener("resize",v),(_=window.visualViewport)==null||_.removeEventListener("scroll",v)}},[]),y.useEffect(()=>{var v;(v=u.current)==null||v.scrollIntoView({behavior:"smooth"})},[r]);const f=async(v=s)=>{var g;if(!v.trim())return;const w={id:Date.now().toString(),text:v,sender:"user",timestamp:new Date};i(p=>[...p,w]),o(""),l(!0);try{const{data:{session:p}}=await li.auth.getSession(),_=await li.functions.invoke("micro-reply",{headers:{Authorization:`Bearer ${p==null?void 0:p.access_token}`},body:{msg:v}});console.log("Category:",_.data.category);const b={id:(Date.now()+1).toString(),text:_.data.reply,sender:"bot",timestamp:new Date};i(L=>[...L,b]);const C=await li.functions.invoke("detail-reply",{headers:{Authorization:`Bearer ${p==null?void 0:p.access_token}`},body:{msg:v,category:_.data.category}}),A={id:(Date.now()+2).toString(),text:JSON.stringify(C.data.result,null,2),sender:"bot",timestamp:new Date};if(console.log("resultMessage",A),(g=C.data.result)==null?void 0:g.some(L=>L.stock_code)){const L=C.data.result.filter(O=>O.stock_code).map(O=>({id:(Date.now()+Math.random()).toString(),text:" ",sender:"bot",timestamp:new Date,stockInfo:{name:O.stock_name,code:O.stock_code}}));i(O=>[...O,...L])}else i(L=>[...L,A]);const P={id:(Date.now()+3).toString(),text:C.data.reply,sender:"bot",timestamp:new Date};i(L=>[...L,P])}catch(p){console.error("Error calling edge function:",p);const _={id:(Date.now()+1).toString(),text:".     .",sender:"bot",timestamp:new Date};i(b=>[...b,_])}finally{l(!1)}},m=async()=>{await t(),n({title:" ",description:" ."})};return E.jsxs("div",{className:"fixed inset-0 flex flex-col bg-background overflow-hidden",children:[E.jsx("header",{className:"flex-none border-b p-4 shadow-sm bg-card",children:E.jsxs("div",{className:"flex justify-between items-center max-w-3xl mx-auto",children:[E.jsx(U_,{showText:!0}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("span",{className:"text-sm text-muted-foreground hidden md:inline-block",children:e==null?void 0:e.email}),E.jsxs(ls,{variant:"outline",size:"sm",onClick:m,children:[E.jsx(rC,{className:"h-4 w-4 mr-2"}),""]})]})]})}),E.jsxs("div",{className:"flex-1 min-h-0 flex flex-col max-w-3xl w-full mx-auto overflow-hidden",children:[E.jsx(rx,{ref:c,className:"flex-1 px-4",children:E.jsxs("div",{className:"space-y-4 py-4",children:[r.map(v=>E.jsx("div",{className:`flex ${v.sender==="user"?"justify-end":"justify-start"}`,children:E.jsxs("div",{className:`max-w-[80%] md:max-w-[70%] rounded-lg p-3 ${v.sender==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[E.jsxs("div",{className:"whitespace-pre-line",children:[v.text,v.stockInfo&&E.jsxs("div",{className:"text-sm font-medium mt-2",children:[v.stockInfo.name," (",v.stockInfo.code,")"]})]}),v.text===" "&&v.stockInfo&&E.jsx("div",{className:"mt-4",children:E.jsx(rO,{stockCode:v.stockInfo.code})}),E.jsx("div",{className:`text-xs mt-1 ${v.sender==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:v.timestamp.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})})]})},v.id)),a&&E.jsx("div",{className:"flex justify-start",children:E.jsx("div",{className:"bg-muted rounded-lg p-3",children:E.jsxs("div",{className:"flex space-x-1",children:[E.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce"}),E.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce delay-75"}),E.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce delay-150"})]})})}),E.jsx("div",{ref:u})]})}),E.jsx("div",{className:"px-4 py-2",children:E.jsx(cp,{className:"p-3",children:E.jsxs("div",{className:"space-y-2",children:[E.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:" "}),E.jsx("div",{className:"flex flex-wrap gap-2",children:nO.map((v,w)=>E.jsx(ls,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>f(v),children:v},w))})]})})}),E.jsx("div",{className:"flex-none border-t bg-background px-4 py-4",style:{marginBottom:`env(keyboard-inset-height, ${h}px)`},children:E.jsxs("form",{onSubmit:v=>{v.preventDefault(),f()},className:"flex gap-2",children:[E.jsx(xu,{value:s,onChange:v=>o(v.target.value),placeholder:" ...",className:"flex-1"}),E.jsx(ls,{type:"submit",disabled:!s.trim()||a,children:E.jsx(iC,{className:"h-4 w-4"})})]})})]})]})}function sO({children:t,restricted:e=!1}){const{user:n,isLoading:r}=ic();return r?E.jsx("div",{className:"flex items-center justify-center h-screen",children:E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):e&&n?E.jsx(ql,{to:"/chat",replace:!0}):E.jsx(E.Fragment,{children:t})}function oO({children:t}){const{user:e,isLoading:n}=ic(),r=Yu();return n?E.jsx("div",{className:"flex items-center justify-center h-screen",children:E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):e?E.jsx(E.Fragment,{children:t}):E.jsx(ql,{to:"/login",state:{from:r},replace:!0})}const aO=Yk([{path:"/",element:E.jsx(ql,{to:"/chat",replace:!0})},{path:"/login",element:E.jsx(sO,{restricted:!0,children:E.jsx(_P,{})})},{path:"/chat",element:E.jsx(oO,{children:E.jsx(iO,{})})},{path:"*",element:E.jsx(ql,{to:"/chat",replace:!0})}]);function lO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var uO=["color"],cO=y.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=lO(t,uO);return y.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),y.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});function hO(t,e=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];function u(h){const{scope:d,children:f,...m}=h,v=(d==null?void 0:d[t][l])||a,w=y.useMemo(()=>m,Object.values(m));return E.jsx(v.Provider,{value:w,children:f})}function c(h,d){const f=(d==null?void 0:d[t][l])||a,m=y.useContext(f);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,c]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,dO(i,...e)]}function dO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function fO(t){const e=t+"CollectionProvider",[n,r]=hO(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:m,children:v}=f,w=be.useRef(null),g=be.useRef(new Map).current;return E.jsx(i,{scope:m,itemMap:g,collectionRef:w,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=be.forwardRef((f,m)=>{const{scope:v,children:w}=f,g=s(a,v),p=rn(m,g.collectionRef);return E.jsx(xs,{ref:p,children:w})});l.displayName=a;const u=t+"CollectionItemSlot",c="data-radix-collection-item",h=be.forwardRef((f,m)=>{const{scope:v,children:w,...g}=f,p=be.useRef(null),_=rn(m,p),b=s(u,v);return be.useEffect(()=>(b.itemMap.set(p,{ref:p,...g}),()=>void b.itemMap.delete(p))),E.jsx(xs,{[c]:"",ref:_,children:w})});h.displayName=u;function d(f){const m=s(t+"CollectionConsumer",f);return be.useCallback(()=>{const w=m.collectionRef.current;if(!w)return[];const g=Array.from(w.querySelectorAll(`[${c}]`));return Array.from(m.itemMap.values()).sort((b,C)=>g.indexOf(b.ref.current)-g.indexOf(C.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},d,r]}function pO(t,e=globalThis==null?void 0:globalThis.document){const n=Tt(t);y.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var mO="DismissableLayer",Jd="dismissableLayer.update",vO="dismissableLayer.pointerDownOutside",gO="dismissableLayer.focusOutside",Kg,kx=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ex=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=y.useContext(kx),[c,h]=y.useState(null),d=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=y.useState({}),m=rn(e,x=>h(x)),v=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=v.indexOf(w),p=c?v.indexOf(c):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,b=p>=g,C=wO(x=>{const P=x.target,L=[...u.branches].some(O=>O.contains(P));!b||L||(i==null||i(x),o==null||o(x),x.defaultPrevented||a==null||a())},d),A=_O(x=>{const P=x.target;[...u.branches].some(O=>O.contains(P))||(s==null||s(x),o==null||o(x),x.defaultPrevented||a==null||a())},d);return pO(x=>{p===u.layers.size-1&&(r==null||r(x),!x.defaultPrevented&&a&&(x.preventDefault(),a()))},d),y.useEffect(()=>{if(c)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Kg=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),Zg(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=Kg)}},[c,d,n,u]),y.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),Zg())},[c,u]),y.useEffect(()=>{const x=()=>f({});return document.addEventListener(Jd,x),()=>document.removeEventListener(Jd,x)},[]),E.jsx(Pt.div,{...l,ref:m,style:{pointerEvents:_?b?"auto":"none":void 0,...t.style},onFocusCapture:it(t.onFocusCapture,A.onFocusCapture),onBlurCapture:it(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:it(t.onPointerDownCapture,C.onPointerDownCapture)})});Ex.displayName=mO;var yO="DismissableLayerBranch",Cx=y.forwardRef((t,e)=>{const n=y.useContext(kx),r=y.useRef(null),i=rn(e,r);return y.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),E.jsx(Pt.div,{...t,ref:i})});Cx.displayName=yO;function wO(t,e=globalThis==null?void 0:globalThis.document){const n=Tt(t),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){Tx(vO,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function _O(t,e=globalThis==null?void 0:globalThis.document){const n=Tt(t),r=y.useRef(!1);return y.useEffect(()=>{const i=s=>{s.target&&!r.current&&Tx(gO,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Zg(){const t=new CustomEvent(Jd);document.dispatchEvent(t)}function Tx(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?h_(i,s):i.dispatchEvent(s)}var xO=Ex,bO=Cx,SO="Portal",Rx=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=y.useState(!1);sa(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?dw.createPortal(E.jsx(Pt.div,{...r,ref:e}),o):null});Rx.displayName=SO;function kO({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=EO({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Tt(n),l=y.useCallback(u=>{if(s){const h=typeof u=="function"?u(t):u;h!==t&&a(h)}else i(u)},[s,t,i,a]);return[o,l]}function EO({defaultProp:t,onChange:e}){const n=y.useState(t),[r]=n,i=y.useRef(r),s=Tt(e);return y.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var CO="VisuallyHidden",Cp=y.forwardRef((t,e)=>E.jsx(Pt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Cp.displayName=CO;var Tp="ToastProvider",[Rp,TO,RO]=fO("Toast"),[Px,lA]=B_("Toast",[RO]),[PO,fc]=Px(Tp),Nx=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=y.useState(null),[u,c]=y.useState(0),h=y.useRef(!1),d=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Tp}\`. Expected non-empty \`string\`.`),E.jsx(Rp.Provider,{scope:e,children:E.jsx(PO,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>c(f=>f+1),[]),onToastRemove:y.useCallback(()=>c(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:d,children:o})})};Nx.displayName=Tp;var Mx="ToastViewport",NO=["F8"],Xd="toast.viewportPause",Gd="toast.viewportResume",Ox=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=NO,label:i="Notifications ({hotkey})",...s}=t,o=fc(Mx,n),a=TO(n),l=y.useRef(null),u=y.useRef(null),c=y.useRef(null),h=y.useRef(null),d=rn(e,h,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;y.useEffect(()=>{const w=g=>{var _;r.length!==0&&r.every(b=>g[b]||g.code===b)&&((_=h.current)==null||_.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),y.useEffect(()=>{const w=l.current,g=h.current;if(m&&w&&g){const p=()=>{if(!o.isClosePausedRef.current){const A=new CustomEvent(Xd);g.dispatchEvent(A),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const A=new CustomEvent(Gd);g.dispatchEvent(A),o.isClosePausedRef.current=!1}},b=A=>{!w.contains(A.relatedTarget)&&_()},C=()=>{w.contains(document.activeElement)||_()};return w.addEventListener("focusin",p),w.addEventListener("focusout",b),w.addEventListener("pointermove",p),w.addEventListener("pointerleave",C),window.addEventListener("blur",p),window.addEventListener("focus",_),()=>{w.removeEventListener("focusin",p),w.removeEventListener("focusout",b),w.removeEventListener("pointermove",p),w.removeEventListener("pointerleave",C),window.removeEventListener("blur",p),window.removeEventListener("focus",_)}}},[m,o.isClosePausedRef]);const v=y.useCallback(({tabbingDirection:w})=>{const p=a().map(_=>{const b=_.ref.current,C=[b,...BO(b)];return w==="forwards"?C:C.reverse()});return(w==="forwards"?p.reverse():p).flat()},[a]);return y.useEffect(()=>{const w=h.current;if(w){const g=p=>{var C,A,x;const _=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!_){const P=document.activeElement,L=p.shiftKey;if(p.target===w&&L){(C=u.current)==null||C.focus();return}const j=v({tabbingDirection:L?"backwards":"forwards"}),q=j.findIndex(U=>U===P);Eh(j.slice(q+1))?p.preventDefault():L?(A=u.current)==null||A.focus():(x=c.current)==null||x.focus()}};return w.addEventListener("keydown",g),()=>w.removeEventListener("keydown",g)}},[a,v]),E.jsxs(bO,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&E.jsx(qd,{ref:u,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"forwards"});Eh(w)}}),E.jsx(Rp.Slot,{scope:n,children:E.jsx(Pt.ol,{tabIndex:-1,...s,ref:d})}),m&&E.jsx(qd,{ref:c,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"backwards"});Eh(w)}})]})});Ox.displayName=Mx;var Ax="ToastFocusProxy",qd=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=fc(Ax,n);return E.jsx(Cp,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});qd.displayName=Ax;var pc="Toast",MO="toast.swipeStart",OO="toast.swipeMove",AO="toast.swipeCancel",LO="toast.swipeEnd",Lx=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=kO({prop:r,defaultProp:i,onChange:s});return E.jsx(Ds,{present:n||a,children:E.jsx(IO,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Tt(t.onPause),onResume:Tt(t.onResume),onSwipeStart:it(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:it(t.onSwipeMove,u=>{const{x:c,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:it(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:it(t.onSwipeEnd,u=>{const{x:c,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});Lx.displayName=pc;var[DO,jO]=Px(pc,{onClose(){}}),IO=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:c,onSwipeMove:h,onSwipeCancel:d,onSwipeEnd:f,...m}=t,v=fc(pc,n),[w,g]=y.useState(null),p=rn(e,U=>g(U)),_=y.useRef(null),b=y.useRef(null),C=i||v.duration,A=y.useRef(0),x=y.useRef(C),P=y.useRef(0),{onToastAdd:L,onToastRemove:O}=v,oe=Tt(()=>{var ae;(w==null?void 0:w.contains(document.activeElement))&&((ae=v.viewport)==null||ae.focus()),o()}),j=y.useCallback(U=>{!U||U===1/0||(window.clearTimeout(P.current),A.current=new Date().getTime(),P.current=window.setTimeout(oe,U))},[oe]);y.useEffect(()=>{const U=v.viewport;if(U){const ae=()=>{j(x.current),u==null||u()},ve=()=>{const we=new Date().getTime()-A.current;x.current=x.current-we,window.clearTimeout(P.current),l==null||l()};return U.addEventListener(Xd,ve),U.addEventListener(Gd,ae),()=>{U.removeEventListener(Xd,ve),U.removeEventListener(Gd,ae)}}},[v.viewport,C,l,u,j]),y.useEffect(()=>{s&&!v.isClosePausedRef.current&&j(C)},[s,C,v.isClosePausedRef,j]),y.useEffect(()=>(L(),()=>O()),[L,O]);const q=y.useMemo(()=>w?Vx(w):null,[w]);return v.viewport?E.jsxs(E.Fragment,{children:[q&&E.jsx(zO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),E.jsx(DO,{scope:n,onClose:oe,children:da.createPortal(E.jsx(Rp.ItemSlot,{scope:n,children:E.jsx(xO,{asChild:!0,onEscapeKeyDown:it(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||oe(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:E.jsx(Pt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...m,ref:p,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:it(t.onKeyDown,U=>{U.key==="Escape"&&(a==null||a(U.nativeEvent),U.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,oe()))}),onPointerDown:it(t.onPointerDown,U=>{U.button===0&&(_.current={x:U.clientX,y:U.clientY})}),onPointerMove:it(t.onPointerMove,U=>{if(!_.current)return;const ae=U.clientX-_.current.x,ve=U.clientY-_.current.y,we=!!b.current,D=["left","right"].includes(v.swipeDirection),Z=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ne=D?Z(0,ae):0,he=D?0:Z(0,ve),ke=U.pointerType==="touch"?10:2,ht={x:ne,y:he},ot={originalEvent:U,delta:ht};we?(b.current=ht,al(OO,h,ot,{discrete:!1})):Jg(ht,v.swipeDirection,ke)?(b.current=ht,al(MO,c,ot,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(ae)>ke||Math.abs(ve)>ke)&&(_.current=null)}),onPointerUp:it(t.onPointerUp,U=>{const ae=b.current,ve=U.target;if(ve.hasPointerCapture(U.pointerId)&&ve.releasePointerCapture(U.pointerId),b.current=null,_.current=null,ae){const we=U.currentTarget,D={originalEvent:U,delta:ae};Jg(ae,v.swipeDirection,v.swipeThreshold)?al(LO,f,D,{discrete:!0}):al(AO,d,D,{discrete:!0}),we.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),zO=t=>{const{__scopeToast:e,children:n,...r}=t,i=fc(pc,e),[s,o]=y.useState(!1),[a,l]=y.useState(!1);return VO(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:E.jsx(Rx,{asChild:!0,children:E.jsx(Cp,{...r,children:s&&E.jsxs(E.Fragment,{children:[i.label," ",n]})})})},$O="ToastTitle",Dx=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return E.jsx(Pt.div,{...r,ref:e})});Dx.displayName=$O;var FO="ToastDescription",jx=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return E.jsx(Pt.div,{...r,ref:e})});jx.displayName=FO;var Ix="ToastAction",zx=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?E.jsx(Fx,{altText:n,asChild:!0,children:E.jsx(Pp,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ix}\`. Expected non-empty \`string\`.`),null)});zx.displayName=Ix;var $x="ToastClose",Pp=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=jO($x,n);return E.jsx(Fx,{asChild:!0,children:E.jsx(Pt.button,{type:"button",...r,ref:e,onClick:it(t.onClick,i.onClose)})})});Pp.displayName=$x;var Fx=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return E.jsx(Pt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Vx(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),UO(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Vx(r))}}),e}function al(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?h_(i,s):i.dispatchEvent(s)}var Jg=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function VO(t=()=>{}){const e=Tt(t);sa(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function UO(t){return t.nodeType===t.ELEMENT_NODE}function BO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Eh(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var WO=Nx,Ux=Ox,Bx=Lx,Wx=Dx,Hx=jx,Yx=zx,Qx=Pp;const HO=WO,Kx=y.forwardRef(({className:t,...e},n)=>E.jsx(Ux,{ref:n,className:et("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Kx.displayName=Ux.displayName;const YO=lp("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Zx=y.forwardRef(({className:t,variant:e,...n},r)=>E.jsx(Bx,{ref:r,className:et(YO({variant:e}),t),...n}));Zx.displayName=Bx.displayName;const QO=y.forwardRef(({className:t,...e},n)=>E.jsx(Yx,{ref:n,className:et("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));QO.displayName=Yx.displayName;const Jx=y.forwardRef(({className:t,...e},n)=>E.jsx(Qx,{ref:n,className:et("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:E.jsx(cO,{className:"h-4 w-4"})}));Jx.displayName=Qx.displayName;const Xx=y.forwardRef(({className:t,...e},n)=>E.jsx(Wx,{ref:n,className:et("text-sm font-semibold [&+div]:text-xs",t),...e}));Xx.displayName=Wx.displayName;const Gx=y.forwardRef(({className:t,...e},n)=>E.jsx(Hx,{ref:n,className:et("text-sm opacity-90",t),...e}));Gx.displayName=Hx.displayName;function KO(){const{toasts:t}=vp();return E.jsxs(HO,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return E.jsxs(Zx,{...s,children:[E.jsxs("div",{className:"grid gap-1",children:[n&&E.jsx(Xx,{children:n}),r&&E.jsx(Gx,{children:r})]}),i,E.jsx(Jx,{})]},e)}),E.jsx(Kx,{})]})}function ZO(){return E.jsx(sE,{attribute:"class",defaultTheme:"light",children:E.jsxs(fP,{children:[E.jsx(tE,{router:aO}),E.jsx(KO,{})]})})}fw(document.getElementById("root")).render(E.jsx(y.StrictMode,{children:E.jsx(ZO,{})}));export{qg as g};
