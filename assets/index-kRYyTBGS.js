import{r as y,a as Co,R as ct,c as Cf,b as $u,d as Xi,g as Wu,N as Qi,u as Ef,e as Tf,f as Nf,h as Rf}from"./vendor-CJtRYghK.js";import{C as Mf,E as Af,a as Pf,L as If,S as Df}from"./ui-BELxpkkB.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var Uu={exports:{}},Rr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf=y,Of=Symbol.for("react.element"),zf=Symbol.for("react.fragment"),Ff=Object.prototype.hasOwnProperty,jf=Lf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vf={key:!0,ref:!0,__self:!0,__source:!0};function Yu(n,t,e){var i,r={},s=null,o=null;e!==void 0&&(s=""+e),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)Ff.call(t,i)&&!Vf.hasOwnProperty(i)&&(r[i]=t[i]);if(n&&n.defaultProps)for(i in t=n.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:Of,type:n,key:s,ref:o,props:r,_owner:jf.current}}Rr.Fragment=zf;Rr.jsx=Yu;Rr.jsxs=Yu;Uu.exports=Rr;var m=Uu.exports,Hu,ml=Co;Hu=ml.createRoot,ml.hydrateRoot;var qi=["light","dark"],Eo="(prefers-color-scheme: dark)",Bf=typeof window>"u",Zu=y.createContext(void 0),$f=n=>y.useContext(Zu)?n.children:y.createElement(Uf,{...n}),Wf=["light","dark"],Uf=({forcedTheme:n,disableTransitionOnChange:t=!1,enableSystem:e=!0,enableColorScheme:i=!0,storageKey:r="theme",themes:s=Wf,defaultTheme:o=e?"system":"light",attribute:l="data-theme",value:a,children:u,nonce:h})=>{let[c,d]=y.useState(()=>gl(r,o)),[f,p]=y.useState(()=>gl(r)),g=a?Object.values(a):s,v=y.useCallback(M=>{let T=M;if(!T)return;M==="system"&&e&&(T=yl());let S=a?a[T]:T,R=t?Hf():null,O=document.documentElement;if(l==="class"?(O.classList.remove(...g),S&&O.classList.add(S)):S?O.setAttribute(l,S):O.removeAttribute(l),i){let j=qi.includes(o)?o:null,E=qi.includes(T)?T:j;O.style.colorScheme=E}R==null||R()},[]),b=y.useCallback(M=>{let T=typeof M=="function"?M(M):M;d(T);try{localStorage.setItem(r,T)}catch{}},[n]),w=y.useCallback(M=>{let T=yl(M);p(T),c==="system"&&e&&!n&&v("system")},[c,n]);y.useEffect(()=>{let M=window.matchMedia(Eo);return M.addListener(w),w(M),()=>M.removeListener(w)},[w]),y.useEffect(()=>{let M=T=>{if(T.key!==r)return;let S=T.newValue||o;b(S)};return window.addEventListener("storage",M),()=>window.removeEventListener("storage",M)},[b]),y.useEffect(()=>{v(n??c)},[n,c]);let C=y.useMemo(()=>({theme:c,setTheme:b,forcedTheme:n,resolvedTheme:c==="system"?f:c,themes:e?[...s,"system"]:s,systemTheme:e?f:void 0}),[c,b,n,f,e,s]);return y.createElement(Zu.Provider,{value:C},y.createElement(Yf,{forcedTheme:n,disableTransitionOnChange:t,enableSystem:e,enableColorScheme:i,storageKey:r,themes:s,defaultTheme:o,attribute:l,value:a,children:u,attrs:g,nonce:h}),u)},Yf=y.memo(({forcedTheme:n,storageKey:t,attribute:e,enableSystem:i,enableColorScheme:r,defaultTheme:s,value:o,attrs:l,nonce:a})=>{let u=s==="system",h=e==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${e}',s='setAttribute';`,c=r?qi.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(p,g=!1,v=!0)=>{let b=o?o[p]:p,w=g?p+"|| ''":`'${b}'`,C="";return r&&v&&!g&&qi.includes(p)&&(C+=`d.style.colorScheme = '${p}';`),e==="class"?g||b?C+=`c.add(${w})`:C+="null":b&&(C+=`d[s](n,${w})`),C},f=n?`!function(){${h}${d(n)}}()`:i?`!function(){try{${h}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Eo}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}${u?"":"else{"+d(s,!1,!1)+"}"}${c}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}else{${d(s,!1,!1)};}${c}}catch(t){}}();`;return y.createElement("script",{nonce:a,dangerouslySetInnerHTML:{__html:f}})}),gl=(n,t)=>{if(Bf)return;let e;try{e=localStorage.getItem(n)||void 0}catch{}return e||t},Hf=()=>{let n=document.createElement("style");return n.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(n),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(n)},1)}},yl=n=>(n||(n=window.matchMedia(Eo)),n.matches?"dark":"light"),xi=n=>n.type==="checkbox",wn=n=>n instanceof Date,Xt=n=>n==null;const Xu=n=>typeof n=="object";var Ft=n=>!Xt(n)&&!Array.isArray(n)&&Xu(n)&&!wn(n),Qu=n=>Ft(n)&&n.target?xi(n.target)?n.target.checked:n.target.value:n,Zf=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,qu=(n,t)=>n.has(Zf(t)),Xf=n=>{const t=n.constructor&&n.constructor.prototype;return Ft(t)&&t.hasOwnProperty("isPrototypeOf")},To=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Jt(n){let t;const e=Array.isArray(n);if(n instanceof Date)t=new Date(n);else if(n instanceof Set)t=new Set(n);else if(!(To&&(n instanceof Blob||n instanceof FileList))&&(e||Ft(n)))if(t=e?[]:{},!e&&!Xf(n))t=n;else for(const i in n)n.hasOwnProperty(i)&&(t[i]=Jt(n[i]));else return n;return t}var Mr=n=>Array.isArray(n)?n.filter(Boolean):[],It=n=>n===void 0,Z=(n,t,e)=>{if(!t||!Ft(n))return e;const i=Mr(t.split(/[,[\].]+?/)).reduce((r,s)=>Xt(r)?r:r[s],n);return It(i)||i===n?It(n[t])?e:n[t]:i},he=n=>typeof n=="boolean",No=n=>/^\w*$/.test(n),Gu=n=>Mr(n.replace(/["|']|\]/g,"").split(/\.|\[/)),kt=(n,t,e)=>{let i=-1;const r=No(t)?[t]:Gu(t),s=r.length,o=s-1;for(;++i<s;){const l=r[i];let a=e;if(i!==o){const u=n[l];a=Ft(u)||Array.isArray(u)?u:isNaN(+r[i+1])?{}:[]}if(l==="__proto__")return;n[l]=a,n=n[l]}return n};const Gi={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ve={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ne={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ku=ct.createContext(null),Ar=()=>ct.useContext(Ku),Qf=n=>{const{children:t,...e}=n;return ct.createElement(Ku.Provider,{value:e},t)};var Ju=(n,t,e,i=!0)=>{const r={defaultValues:t._defaultValues};for(const s in n)Object.defineProperty(r,s,{get:()=>{const o=s;return t._proxyFormState[o]!==ve.all&&(t._proxyFormState[o]=!i||ve.all),e&&(e[o]=!0),n[o]}});return r},te=n=>Ft(n)&&!Object.keys(n).length,tc=(n,t,e,i)=>{e(n);const{name:r,...s}=n;return te(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!i||ve.all))},ni=n=>Array.isArray(n)?n:[n],ec=(n,t,e)=>!n||!t||n===t||ni(n).some(i=>i&&(e?i===t:i.startsWith(t)||t.startsWith(i)));function Ro(n){const t=ct.useRef(n);t.current=n,ct.useEffect(()=>{const e=!n.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{e&&e.unsubscribe()}},[n.disabled])}function qf(n){const t=Ar(),{control:e=t.control,disabled:i,name:r,exact:s}=n||{},[o,l]=ct.useState(e._formState),a=ct.useRef(!0),u=ct.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),h=ct.useRef(r);return h.current=r,Ro({disabled:i,next:c=>a.current&&ec(h.current,c.name,s)&&tc(c,u.current,e._updateFormState)&&l({...e._formState,...c}),subject:e._subjects.state}),ct.useEffect(()=>(a.current=!0,u.current.isValid&&e._updateValid(!0),()=>{a.current=!1}),[e]),Ju(o,e,u.current,!1)}var _e=n=>typeof n=="string",nc=(n,t,e,i,r)=>_e(n)?(i&&t.watch.add(n),Z(e,n,r)):Array.isArray(n)?n.map(s=>(i&&t.watch.add(s),Z(e,s))):(i&&(t.watchAll=!0),e);function Gf(n){const t=Ar(),{control:e=t.control,name:i,defaultValue:r,disabled:s,exact:o}=n||{},l=ct.useRef(i);l.current=i,Ro({disabled:s,subject:e._subjects.values,next:h=>{ec(l.current,h.name,o)&&u(Jt(nc(l.current,e._names,h.values||e._formValues,!1,r)))}});const[a,u]=ct.useState(e._getWatch(i,r));return ct.useEffect(()=>e._removeUnmounted()),a}function Kf(n){const t=Ar(),{name:e,disabled:i,control:r=t.control,shouldUnregister:s}=n,o=qu(r._names.array,e),l=Gf({control:r,name:e,defaultValue:Z(r._formValues,e,Z(r._defaultValues,e,n.defaultValue)),exact:!0}),a=qf({control:r,name:e,exact:!0}),u=ct.useRef(r.register(e,{...n.rules,value:l,...he(n.disabled)?{disabled:n.disabled}:{}}));return ct.useEffect(()=>{const h=r._options.shouldUnregister||s,c=(d,f)=>{const p=Z(r._fields,d);p&&p._f&&(p._f.mount=f)};if(c(e,!0),h){const d=Jt(Z(r._options.defaultValues,e));kt(r._defaultValues,e,d),It(Z(r._formValues,e))&&kt(r._formValues,e,d)}return()=>{(o?h&&!r._state.action:h)?r.unregister(e):c(e,!1)}},[e,r,o,s]),ct.useEffect(()=>{Z(r._fields,e)&&r._updateDisabledField({disabled:i,fields:r._fields,name:e,value:Z(r._fields,e)._f.value})},[i,e,r]),{field:{name:e,value:l,...he(i)||a.disabled?{disabled:a.disabled||i}:{},onChange:ct.useCallback(h=>u.current.onChange({target:{value:Qu(h),name:e},type:Gi.CHANGE}),[e]),onBlur:ct.useCallback(()=>u.current.onBlur({target:{value:Z(r._formValues,e),name:e},type:Gi.BLUR}),[e,r]),ref:ct.useCallback(h=>{const c=Z(r._fields,e);c&&h&&(c._f.ref={focus:()=>h.focus(),select:()=>h.select(),setCustomValidity:d=>h.setCustomValidity(d),reportValidity:()=>h.reportValidity()})},[r._fields,e])},formState:a,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Z(a.errors,e)},isDirty:{enumerable:!0,get:()=>!!Z(a.dirtyFields,e)},isTouched:{enumerable:!0,get:()=>!!Z(a.touchedFields,e)},isValidating:{enumerable:!0,get:()=>!!Z(a.validatingFields,e)},error:{enumerable:!0,get:()=>Z(a.errors,e)}})}}const Jf=n=>n.render(Kf(n));var ic=(n,t,e,i,r)=>t?{...e[n],types:{...e[n]&&e[n].types?e[n].types:{},[i]:r||!0}}:{},vl=n=>({isOnSubmit:!n||n===ve.onSubmit,isOnBlur:n===ve.onBlur,isOnChange:n===ve.onChange,isOnAll:n===ve.all,isOnTouch:n===ve.onTouched}),bl=(n,t,e)=>!e&&(t.watchAll||t.watch.has(n)||[...t.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const ii=(n,t,e,i)=>{for(const r of e||Object.keys(n)){const s=Z(n,r);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],r)&&!i)return!0;if(o.ref&&t(o.ref,o.name)&&!i)return!0;if(ii(l,t))break}else if(Ft(l)&&ii(l,t))break}}};var tp=(n,t,e)=>{const i=ni(Z(n,e));return kt(i,"root",t[e]),kt(n,e,i),n},Mo=n=>n.type==="file",Ae=n=>typeof n=="function",Ki=n=>{if(!To)return!1;const t=n?n.ownerDocument:0;return n instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},$i=n=>_e(n),Ao=n=>n.type==="radio",Ji=n=>n instanceof RegExp;const xl={value:!1,isValid:!1},wl={value:!0,isValid:!0};var rc=n=>{if(Array.isArray(n)){if(n.length>1){const t=n.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!It(n[0].attributes.value)?It(n[0].value)||n[0].value===""?wl:{value:n[0].value,isValid:!0}:wl:xl}return xl};const kl={isValid:!1,value:null};var sc=n=>Array.isArray(n)?n.reduce((t,e)=>e&&e.checked&&!e.disabled?{isValid:!0,value:e.value}:t,kl):kl;function _l(n,t,e="validate"){if($i(n)||Array.isArray(n)&&n.every($i)||he(n)&&!n)return{type:e,message:$i(n)?n:"",ref:t}}var gn=n=>Ft(n)&&!Ji(n)?n:{value:n,message:""},Sl=async(n,t,e,i,r)=>{const{ref:s,refs:o,required:l,maxLength:a,minLength:u,min:h,max:c,pattern:d,validate:f,name:p,valueAsNumber:g,mount:v,disabled:b}=n._f,w=Z(t,p);if(!v||b)return{};const C=o?o[0]:s,M=I=>{i&&C.reportValidity&&(C.setCustomValidity(he(I)?"":I||""),C.reportValidity())},T={},S=Ao(s),R=xi(s),O=S||R,j=(g||Mo(s))&&It(s.value)&&It(w)||Ki(s)&&s.value===""||w===""||Array.isArray(w)&&!w.length,E=ic.bind(null,p,e,T),z=(I,X,N,V=Ne.maxLength,Y=Ne.minLength)=>{const q=I?X:N;T[p]={type:I?V:Y,message:q,ref:s,...E(I?V:Y,q)}};if(r?!Array.isArray(w)||!w.length:l&&(!O&&(j||Xt(w))||he(w)&&!w||R&&!rc(o).isValid||S&&!sc(o).isValid)){const{value:I,message:X}=$i(l)?{value:!!l,message:l}:gn(l);if(I&&(T[p]={type:Ne.required,message:X,ref:C,...E(Ne.required,X)},!e))return M(X),T}if(!j&&(!Xt(h)||!Xt(c))){let I,X;const N=gn(c),V=gn(h);if(!Xt(w)&&!isNaN(w)){const Y=s.valueAsNumber||w&&+w;Xt(N.value)||(I=Y>N.value),Xt(V.value)||(X=Y<V.value)}else{const Y=s.valueAsDate||new Date(w),q=x=>new Date(new Date().toDateString()+" "+x),J=s.type=="time",rt=s.type=="week";_e(N.value)&&w&&(I=J?q(w)>q(N.value):rt?w>N.value:Y>new Date(N.value)),_e(V.value)&&w&&(X=J?q(w)<q(V.value):rt?w<V.value:Y<new Date(V.value))}if((I||X)&&(z(!!I,N.message,V.message,Ne.max,Ne.min),!e))return M(T[p].message),T}if((a||u)&&!j&&(_e(w)||r&&Array.isArray(w))){const I=gn(a),X=gn(u),N=!Xt(I.value)&&w.length>+I.value,V=!Xt(X.value)&&w.length<+X.value;if((N||V)&&(z(N,I.message,X.message),!e))return M(T[p].message),T}if(d&&!j&&_e(w)){const{value:I,message:X}=gn(d);if(Ji(I)&&!w.match(I)&&(T[p]={type:Ne.pattern,message:X,ref:s,...E(Ne.pattern,X)},!e))return M(X),T}if(f){if(Ae(f)){const I=await f(w,t),X=_l(I,C);if(X&&(T[p]={...X,...E(Ne.validate,X.message)},!e))return M(X.message),T}else if(Ft(f)){let I={};for(const X in f){if(!te(I)&&!e)break;const N=_l(await f[X](w,t),C,X);N&&(I={...N,...E(X,N.message)},M(N.message),e&&(T[p]=I))}if(!te(I)&&(T[p]={ref:C,...I},!e))return T}}return M(!0),T};function ep(n,t){const e=t.slice(0,-1).length;let i=0;for(;i<e;)n=It(n)?i++:n[t[i++]];return n}function np(n){for(const t in n)if(n.hasOwnProperty(t)&&!It(n[t]))return!1;return!0}function jt(n,t){const e=Array.isArray(t)?t:No(t)?[t]:Gu(t),i=e.length===1?n:ep(n,e),r=e.length-1,s=e[r];return i&&delete i[s],r!==0&&(Ft(i)&&te(i)||Array.isArray(i)&&np(i))&&jt(n,e.slice(0,-1)),n}var Kr=()=>{let n=[];return{get observers(){return n},next:r=>{for(const s of n)s.next&&s.next(r)},subscribe:r=>(n.push(r),{unsubscribe:()=>{n=n.filter(s=>s!==r)}}),unsubscribe:()=>{n=[]}}},tr=n=>Xt(n)||!Xu(n);function Ye(n,t){if(tr(n)||tr(t))return n===t;if(wn(n)&&wn(t))return n.getTime()===t.getTime();const e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;for(const r of e){const s=n[r];if(!i.includes(r))return!1;if(r!=="ref"){const o=t[r];if(wn(s)&&wn(o)||Ft(s)&&Ft(o)||Array.isArray(s)&&Array.isArray(o)?!Ye(s,o):s!==o)return!1}}return!0}var oc=n=>n.type==="select-multiple",ip=n=>Ao(n)||xi(n),Jr=n=>Ki(n)&&n.isConnected,lc=n=>{for(const t in n)if(Ae(n[t]))return!0;return!1};function er(n,t={}){const e=Array.isArray(n);if(Ft(n)||e)for(const i in n)Array.isArray(n[i])||Ft(n[i])&&!lc(n[i])?(t[i]=Array.isArray(n[i])?[]:{},er(n[i],t[i])):Xt(n[i])||(t[i]=!0);return t}function ac(n,t,e){const i=Array.isArray(n);if(Ft(n)||i)for(const r in n)Array.isArray(n[r])||Ft(n[r])&&!lc(n[r])?It(t)||tr(e[r])?e[r]=Array.isArray(n[r])?er(n[r],[]):{...er(n[r])}:ac(n[r],Xt(t)?{}:t[r],e[r]):e[r]=!Ye(n[r],t[r]);return e}var Ti=(n,t)=>ac(n,t,er(t)),uc=(n,{valueAsNumber:t,valueAsDate:e,setValueAs:i})=>It(n)?n:t?n===""?NaN:n&&+n:e&&_e(n)?new Date(n):i?i(n):n;function ts(n){const t=n.ref;if(!(n.refs?n.refs.every(e=>e.disabled):t.disabled))return Mo(t)?t.files:Ao(t)?sc(n.refs).value:oc(t)?[...t.selectedOptions].map(({value:e})=>e):xi(t)?rc(n.refs).value:uc(It(t.value)?n.ref.value:t.value,n)}var rp=(n,t,e,i)=>{const r={};for(const s of n){const o=Z(t,s);o&&kt(r,s,o._f)}return{criteriaMode:e,names:[...n],fields:r,shouldUseNativeValidation:i}},Un=n=>It(n)?n:Ji(n)?n.source:Ft(n)?Ji(n.value)?n.value.source:n.value:n;const Cl="AsyncFunction";var sp=n=>(!n||!n.validate)&&!!(Ae(n.validate)&&n.validate.constructor.name===Cl||Ft(n.validate)&&Object.values(n.validate).find(t=>t.constructor.name===Cl)),op=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function El(n,t,e){const i=Z(n,e);if(i||No(e))return{error:i,name:e};const r=e.split(".");for(;r.length;){const s=r.join("."),o=Z(t,s),l=Z(n,s);if(o&&!Array.isArray(o)&&e!==s)return{name:e};if(l&&l.type)return{name:s,error:l};r.pop()}return{name:e}}var lp=(n,t,e,i,r)=>r.isOnAll?!1:!e&&r.isOnTouch?!(t||n):(e?i.isOnBlur:r.isOnBlur)?!n:(e?i.isOnChange:r.isOnChange)?n:!0,ap=(n,t)=>!Mr(Z(n,t)).length&&jt(n,t);const up={mode:ve.onSubmit,reValidateMode:ve.onChange,shouldFocusError:!0};function cp(n={}){let t={...up,...n},e={submitCount:0,isDirty:!1,isLoading:Ae(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},i={},r=Ft(t.defaultValues)||Ft(t.values)?Jt(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:Jt(r),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},a,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},c={values:Kr(),array:Kr(),state:Kr()},d=vl(t.mode),f=vl(t.reValidateMode),p=t.criteriaMode===ve.all,g=_=>A=>{clearTimeout(u),u=setTimeout(_,A)},v=async _=>{if(h.isValid||_){const A=t.resolver?te((await O()).errors):await E(i,!0);A!==e.isValid&&c.state.next({isValid:A})}},b=(_,A)=>{(h.isValidating||h.validatingFields)&&((_||Array.from(l.mount)).forEach(L=>{L&&(A?kt(e.validatingFields,L,A):jt(e.validatingFields,L))}),c.state.next({validatingFields:e.validatingFields,isValidating:!te(e.validatingFields)}))},w=(_,A=[],L,Q,H=!0,U=!0)=>{if(Q&&L){if(o.action=!0,U&&Array.isArray(Z(i,_))){const tt=L(Z(i,_),Q.argA,Q.argB);H&&kt(i,_,tt)}if(U&&Array.isArray(Z(e.errors,_))){const tt=L(Z(e.errors,_),Q.argA,Q.argB);H&&kt(e.errors,_,tt),ap(e.errors,_)}if(h.touchedFields&&U&&Array.isArray(Z(e.touchedFields,_))){const tt=L(Z(e.touchedFields,_),Q.argA,Q.argB);H&&kt(e.touchedFields,_,tt)}h.dirtyFields&&(e.dirtyFields=Ti(r,s)),c.state.next({name:_,isDirty:I(_,A),dirtyFields:e.dirtyFields,errors:e.errors,isValid:e.isValid})}else kt(s,_,A)},C=(_,A)=>{kt(e.errors,_,A),c.state.next({errors:e.errors})},M=_=>{e.errors=_,c.state.next({errors:e.errors,isValid:!1})},T=(_,A,L,Q)=>{const H=Z(i,_);if(H){const U=Z(s,_,It(L)?Z(r,_):L);It(U)||Q&&Q.defaultChecked||A?kt(s,_,A?U:ts(H._f)):V(_,U),o.mount&&v()}},S=(_,A,L,Q,H)=>{let U=!1,tt=!1;const vt={name:_},P=!!(Z(i,_)&&Z(i,_)._f&&Z(i,_)._f.disabled);if(!L||Q){h.isDirty&&(tt=e.isDirty,e.isDirty=vt.isDirty=I(),U=tt!==vt.isDirty);const F=P||Ye(Z(r,_),A);tt=!!(!P&&Z(e.dirtyFields,_)),F||P?jt(e.dirtyFields,_):kt(e.dirtyFields,_,!0),vt.dirtyFields=e.dirtyFields,U=U||h.dirtyFields&&tt!==!F}if(L){const F=Z(e.touchedFields,_);F||(kt(e.touchedFields,_,L),vt.touchedFields=e.touchedFields,U=U||h.touchedFields&&F!==L)}return U&&H&&c.state.next(vt),U?vt:{}},R=(_,A,L,Q)=>{const H=Z(e.errors,_),U=h.isValid&&he(A)&&e.isValid!==A;if(n.delayError&&L?(a=g(()=>C(_,L)),a(n.delayError)):(clearTimeout(u),a=null,L?kt(e.errors,_,L):jt(e.errors,_)),(L?!Ye(H,L):H)||!te(Q)||U){const tt={...Q,...U&&he(A)?{isValid:A}:{},errors:e.errors,name:_};e={...e,...tt},c.state.next(tt)}},O=async _=>{b(_,!0);const A=await t.resolver(s,t.context,rp(_||l.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return b(_),A},j=async _=>{const{errors:A}=await O(_);if(_)for(const L of _){const Q=Z(A,L);Q?kt(e.errors,L,Q):jt(e.errors,L)}else e.errors=A;return A},E=async(_,A,L={valid:!0})=>{for(const Q in _){const H=_[Q];if(H){const{_f:U,...tt}=H;if(U){const vt=l.array.has(U.name),P=H._f&&sp(H._f);P&&h.validatingFields&&b([Q],!0);const F=await Sl(H,s,p,t.shouldUseNativeValidation&&!A,vt);if(P&&h.validatingFields&&b([Q]),F[U.name]&&(L.valid=!1,A))break;!A&&(Z(F,U.name)?vt?tp(e.errors,F,U.name):kt(e.errors,U.name,F[U.name]):jt(e.errors,U.name))}!te(tt)&&await E(tt,A,L)}}return L.valid},z=()=>{for(const _ of l.unMount){const A=Z(i,_);A&&(A._f.refs?A._f.refs.every(L=>!Jr(L)):!Jr(A._f.ref))&&Tt(_)}l.unMount=new Set},I=(_,A)=>(_&&A&&kt(s,_,A),!Ye(dt(),r)),X=(_,A,L)=>nc(_,l,{...o.mount?s:It(A)?r:_e(_)?{[_]:A}:A},L,A),N=_=>Mr(Z(o.mount?s:r,_,n.shouldUnregister?Z(r,_,[]):[])),V=(_,A,L={})=>{const Q=Z(i,_);let H=A;if(Q){const U=Q._f;U&&(!U.disabled&&kt(s,_,uc(A,U)),H=Ki(U.ref)&&Xt(A)?"":A,oc(U.ref)?[...U.ref.options].forEach(tt=>tt.selected=H.includes(tt.value)):U.refs?xi(U.ref)?U.refs.length>1?U.refs.forEach(tt=>(!tt.defaultChecked||!tt.disabled)&&(tt.checked=Array.isArray(H)?!!H.find(vt=>vt===tt.value):H===tt.value)):U.refs[0]&&(U.refs[0].checked=!!H):U.refs.forEach(tt=>tt.checked=tt.value===H):Mo(U.ref)?U.ref.value="":(U.ref.value=H,U.ref.type||c.values.next({name:_,values:{...s}})))}(L.shouldDirty||L.shouldTouch)&&S(_,H,L.shouldTouch,L.shouldDirty,!0),L.shouldValidate&&x(_)},Y=(_,A,L)=>{for(const Q in A){const H=A[Q],U=`${_}.${Q}`,tt=Z(i,U);(l.array.has(_)||!tr(H)||tt&&!tt._f)&&!wn(H)?Y(U,H,L):V(U,H,L)}},q=(_,A,L={})=>{const Q=Z(i,_),H=l.array.has(_),U=Jt(A);kt(s,_,U),H?(c.array.next({name:_,values:{...s}}),(h.isDirty||h.dirtyFields)&&L.shouldDirty&&c.state.next({name:_,dirtyFields:Ti(r,s),isDirty:I(_,U)})):Q&&!Q._f&&!Xt(U)?Y(_,U,L):V(_,U,L),bl(_,l)&&c.state.next({...e}),c.values.next({name:o.mount?_:void 0,values:{...s}})},J=async _=>{o.mount=!0;const A=_.target;let L=A.name,Q=!0;const H=Z(i,L),U=()=>A.type?ts(H._f):Qu(_),tt=vt=>{Q=Number.isNaN(vt)||Ye(vt,Z(s,L,vt))};if(H){let vt,P;const F=U(),D=_.type===Gi.BLUR||_.type===Gi.FOCUS_OUT,at=!op(H._f)&&!t.resolver&&!Z(e.errors,L)&&!H._f.deps||lp(D,Z(e.touchedFields,L),e.isSubmitted,f,d),wt=bl(L,l,D);kt(s,L,F),D?(H._f.onBlur&&H._f.onBlur(_),a&&a(0)):H._f.onChange&&H._f.onChange(_);const it=S(L,F,D,!1),ot=!te(it)||wt;if(!D&&c.values.next({name:L,type:_.type,values:{...s}}),at)return h.isValid&&(n.mode==="onBlur"?D&&v():v()),ot&&c.state.next({name:L,...wt?{}:it});if(!D&&wt&&c.state.next({...e}),t.resolver){const{errors:et}=await O([L]);if(tt(F),Q){const Mt=El(e.errors,i,L),mt=El(et,i,Mt.name||L);vt=mt.error,L=mt.name,P=te(et)}}else b([L],!0),vt=(await Sl(H,s,p,t.shouldUseNativeValidation))[L],b([L]),tt(F),Q&&(vt?P=!1:h.isValid&&(P=await E(i,!0)));Q&&(H._f.deps&&x(H._f.deps),R(L,P,vt,it))}},rt=(_,A)=>{if(Z(e.errors,A)&&_.focus)return _.focus(),1},x=async(_,A={})=>{let L,Q;const H=ni(_);if(t.resolver){const U=await j(It(_)?_:H);L=te(U),Q=_?!H.some(tt=>Z(U,tt)):L}else _?(Q=(await Promise.all(H.map(async U=>{const tt=Z(i,U);return await E(tt&&tt._f?{[U]:tt}:tt)}))).every(Boolean),!(!Q&&!e.isValid)&&v()):Q=L=await E(i);return c.state.next({...!_e(_)||h.isValid&&L!==e.isValid?{}:{name:_},...t.resolver||!_?{isValid:L}:{},errors:e.errors}),A.shouldFocus&&!Q&&ii(i,rt,_?H:l.mount),Q},dt=_=>{const A={...o.mount?s:r};return It(_)?A:_e(_)?Z(A,_):_.map(L=>Z(A,L))},Rt=(_,A)=>({invalid:!!Z((A||e).errors,_),isDirty:!!Z((A||e).dirtyFields,_),error:Z((A||e).errors,_),isValidating:!!Z(e.validatingFields,_),isTouched:!!Z((A||e).touchedFields,_)}),k=_=>{_&&ni(_).forEach(A=>jt(e.errors,A)),c.state.next({errors:_?e.errors:{}})},Lt=(_,A,L)=>{const Q=(Z(i,_,{_f:{}})._f||{}).ref,H=Z(e.errors,_)||{},{ref:U,message:tt,type:vt,...P}=H;kt(e.errors,_,{...P,...A,ref:Q}),c.state.next({name:_,errors:e.errors,isValid:!1}),L&&L.shouldFocus&&Q&&Q.focus&&Q.focus()},ue=(_,A)=>Ae(_)?c.values.subscribe({next:L=>_(X(void 0,A),L)}):X(_,A,!0),Tt=(_,A={})=>{for(const L of _?ni(_):l.mount)l.mount.delete(L),l.array.delete(L),A.keepValue||(jt(i,L),jt(s,L)),!A.keepError&&jt(e.errors,L),!A.keepDirty&&jt(e.dirtyFields,L),!A.keepTouched&&jt(e.touchedFields,L),!A.keepIsValidating&&jt(e.validatingFields,L),!t.shouldUnregister&&!A.keepDefaultValue&&jt(r,L);c.values.next({values:{...s}}),c.state.next({...e,...A.keepDirty?{isDirty:I()}:{}}),!A.keepIsValid&&v()},me=({disabled:_,name:A,field:L,fields:Q,value:H})=>{if(he(_)&&o.mount||_){const U=_?void 0:It(H)?ts(L?L._f:Z(Q,A)._f):H;kt(s,A,U),S(A,U,!1,!1,!0)}},Zt=(_,A={})=>{let L=Z(i,_);const Q=he(A.disabled)||he(n.disabled);return kt(i,_,{...L||{},_f:{...L&&L._f?L._f:{ref:{name:_}},name:_,mount:!0,...A}}),l.mount.add(_),L?me({field:L,disabled:he(A.disabled)?A.disabled:n.disabled,name:_,value:A.value}):T(_,!0,A.value),{...Q?{disabled:A.disabled||n.disabled}:{},...t.progressive?{required:!!A.required,min:Un(A.min),max:Un(A.max),minLength:Un(A.minLength),maxLength:Un(A.maxLength),pattern:Un(A.pattern)}:{},name:_,onChange:J,onBlur:J,ref:H=>{if(H){Zt(_,A),L=Z(i,_);const U=It(H.value)&&H.querySelectorAll&&H.querySelectorAll("input,select,textarea")[0]||H,tt=ip(U),vt=L._f.refs||[];if(tt?vt.find(P=>P===U):U===L._f.ref)return;kt(i,_,{_f:{...L._f,...tt?{refs:[...vt.filter(Jr),U,...Array.isArray(Z(r,_))?[{}]:[]],ref:{type:U.type,name:_}}:{ref:U}}}),T(_,!1,void 0,U)}else L=Z(i,_,{}),L._f&&(L._f.mount=!1),(t.shouldUnregister||A.shouldUnregister)&&!(qu(l.array,_)&&o.action)&&l.unMount.add(_)}}},ce=()=>t.shouldFocusError&&ii(i,rt,l.mount),ge=_=>{he(_)&&(c.state.next({disabled:_}),ii(i,(A,L)=>{const Q=Z(i,L);Q&&(A.disabled=Q._f.disabled||_,Array.isArray(Q._f.refs)&&Q._f.refs.forEach(H=>{H.disabled=Q._f.disabled||_}))},0,!1))},xe=(_,A)=>async L=>{let Q;L&&(L.preventDefault&&L.preventDefault(),L.persist&&L.persist());let H=Jt(s);if(c.state.next({isSubmitting:!0}),t.resolver){const{errors:U,values:tt}=await O();e.errors=U,H=tt}else await E(i);if(jt(e.errors,"root"),te(e.errors)){c.state.next({errors:{}});try{await _(H,L)}catch(U){Q=U}}else A&&await A({...e.errors},L),ce(),setTimeout(ce);if(c.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:te(e.errors)&&!Q,submitCount:e.submitCount+1,errors:e.errors}),Q)throw Q},dn=(_,A={})=>{Z(i,_)&&(It(A.defaultValue)?q(_,Jt(Z(r,_))):(q(_,A.defaultValue),kt(r,_,Jt(A.defaultValue))),A.keepTouched||jt(e.touchedFields,_),A.keepDirty||(jt(e.dirtyFields,_),e.isDirty=A.defaultValue?I(_,Jt(Z(r,_))):I()),A.keepError||(jt(e.errors,_),h.isValid&&v()),c.state.next({...e}))},qe=(_,A={})=>{const L=_?Jt(_):r,Q=Jt(L),H=te(_),U=H?r:Q;if(A.keepDefaultValues||(r=L),!A.keepValues){if(A.keepDirtyValues)for(const tt of l.mount)Z(e.dirtyFields,tt)?kt(U,tt,Z(s,tt)):q(tt,Z(U,tt));else{if(To&&It(_))for(const tt of l.mount){const vt=Z(i,tt);if(vt&&vt._f){const P=Array.isArray(vt._f.refs)?vt._f.refs[0]:vt._f.ref;if(Ki(P)){const F=P.closest("form");if(F){F.reset();break}}}}i={}}s=n.shouldUnregister?A.keepDefaultValues?Jt(r):{}:Jt(U),c.array.next({values:{...U}}),c.values.next({values:{...U}})}l={mount:A.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!A.keepIsValid||!!A.keepDirtyValues,o.watch=!!n.shouldUnregister,c.state.next({submitCount:A.keepSubmitCount?e.submitCount:0,isDirty:H?!1:A.keepDirty?e.isDirty:!!(A.keepDefaultValues&&!Ye(_,r)),isSubmitted:A.keepIsSubmitted?e.isSubmitted:!1,dirtyFields:H?{}:A.keepDirtyValues?A.keepDefaultValues&&s?Ti(r,s):e.dirtyFields:A.keepDefaultValues&&_?Ti(r,_):A.keepDirty?e.dirtyFields:{},touchedFields:A.keepTouched?e.touchedFields:{},errors:A.keepErrors?e.errors:{},isSubmitSuccessful:A.keepIsSubmitSuccessful?e.isSubmitSuccessful:!1,isSubmitting:!1})},Ge=(_,A)=>qe(Ae(_)?_(s):_,A);return{control:{register:Zt,unregister:Tt,getFieldState:Rt,handleSubmit:xe,setError:Lt,_executeSchema:O,_getWatch:X,_getDirty:I,_updateValid:v,_removeUnmounted:z,_updateFieldArray:w,_updateDisabledField:me,_getFieldArray:N,_reset:qe,_resetDefaultValues:()=>Ae(t.defaultValues)&&t.defaultValues().then(_=>{Ge(_,t.resetOptions),c.state.next({isLoading:!1})}),_updateFormState:_=>{e={...e,..._}},_disableForm:ge,_subjects:c,_proxyFormState:h,_setErrors:M,get _fields(){return i},get _formValues(){return s},get _state(){return o},set _state(_){o=_},get _defaultValues(){return r},get _names(){return l},set _names(_){l=_},get _formState(){return e},set _formState(_){e=_},get _options(){return t},set _options(_){t={...t,..._}}},trigger:x,register:Zt,handleSubmit:xe,watch:ue,setValue:q,getValues:dt,reset:Ge,resetField:dn,clearErrors:k,unregister:Tt,setError:Lt,setFocus:(_,A={})=>{const L=Z(i,_),Q=L&&L._f;if(Q){const H=Q.refs?Q.refs[0]:Q.ref;H.focus&&(H.focus(),A.shouldSelect&&H.select())}},getFieldState:Rt}}function hp(n={}){const t=ct.useRef(),e=ct.useRef(),[i,r]=ct.useState({isDirty:!1,isValidating:!1,isLoading:Ae(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:Ae(n.defaultValues)?void 0:n.defaultValues});t.current||(t.current={...cp(n),formState:i});const s=t.current.control;return s._options=n,Ro({subject:s._subjects.state,next:o=>{tc(o,s._proxyFormState,s._updateFormState,!0)&&r({...s._formState})}}),ct.useEffect(()=>s._disableForm(n.disabled),[s,n.disabled]),ct.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==i.isDirty&&s._subjects.state.next({isDirty:o})}},[s,i.isDirty]),ct.useEffect(()=>{n.values&&!Ye(n.values,e.current)?(s._reset(n.values,s._options.resetOptions),e.current=n.values,r(o=>({...o}))):s._resetDefaultValues()},[n.values,s]),ct.useEffect(()=>{n.errors&&s._setErrors(n.errors)},[n.errors,s]),ct.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),ct.useEffect(()=>{n.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[n.shouldUnregister,s]),t.current.formState=Ju(i,s),t.current}const Tl=(n,t,e)=>{if(n&&"reportValidity"in n){const i=Z(e,t);n.setCustomValidity(i&&i.message||""),n.reportValidity()}},cc=(n,t)=>{for(const e in t.fields){const i=t.fields[e];i&&i.ref&&"reportValidity"in i.ref?Tl(i.ref,e,n):i.refs&&i.refs.forEach(r=>Tl(r,e,n))}},dp=(n,t)=>{t.shouldUseNativeValidation&&cc(n,t);const e={};for(const i in n){const r=Z(t.fields,i),s=Object.assign(n[i]||{},{ref:r&&r.ref});if(fp(t.names||Object.keys(n),i)){const o=Object.assign({},Z(e,i));kt(o,"root",s),kt(e,i,o)}else kt(e,i,s)}return e},fp=(n,t)=>n.some(e=>e.startsWith(t+"."));var pp=function(n,t){for(var e={};n.length;){var i=n[0],r=i.code,s=i.message,o=i.path.join(".");if(!e[o])if("unionErrors"in i){var l=i.unionErrors[0].errors[0];e[o]={message:l.message,type:l.code}}else e[o]={message:s,type:r};if("unionErrors"in i&&i.unionErrors.forEach(function(h){return h.errors.forEach(function(c){return n.push(c)})}),t){var a=e[o].types,u=a&&a[i.code];e[o]=ic(o,t,e,r,u?[].concat(u,i.message):i.message)}n.shift()}return e},mp=function(n,t,e){return e===void 0&&(e={}),function(i,r,s){try{return Promise.resolve(function(o,l){try{var a=Promise.resolve(n[e.mode==="sync"?"parse":"parseAsync"](i,t)).then(function(u){return s.shouldUseNativeValidation&&cc({},s),{errors:{},values:e.raw?i:u}})}catch(u){return l(u)}return a&&a.then?a.then(void 0,l):a}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:dp(pp(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},xt;(function(n){n.assertEqual=r=>r;function t(r){}n.assertIs=t;function e(r){throw new Error}n.assertNever=e,n.arrayToEnum=r=>{const s={};for(const o of r)s[o]=o;return s},n.getValidEnumValues=r=>{const s=n.objectKeys(r).filter(l=>typeof r[r[l]]!="number"),o={};for(const l of s)o[l]=r[l];return n.objectValues(o)},n.objectValues=r=>n.objectKeys(r).map(function(s){return r[s]}),n.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const s=[];for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&s.push(o);return s},n.find=(r,s)=>{for(const o of r)if(s(o))return o},n.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function i(r,s=" | "){return r.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}n.joinValues=i,n.jsonStringifyReplacer=(r,s)=>typeof s=="bigint"?s.toString():s})(xt||(xt={}));var Nl;(function(n){n.mergeShapes=(t,e)=>({...t,...e})})(Nl||(Nl={}));const K=xt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),en=n=>{switch(typeof n){case"undefined":return K.undefined;case"string":return K.string;case"number":return isNaN(n)?K.nan:K.number;case"boolean":return K.boolean;case"function":return K.function;case"bigint":return K.bigint;case"symbol":return K.symbol;case"object":return Array.isArray(n)?K.array:n===null?K.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?K.promise:typeof Map<"u"&&n instanceof Map?K.map:typeof Set<"u"&&n instanceof Set?K.set:typeof Date<"u"&&n instanceof Date?K.date:K.object;default:return K.unknown}},$=xt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class fe extends Error{constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const e=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,e):this.__proto__=e,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const e=t||function(s){return s.message},i={_errors:[]},r=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(r);else if(o.code==="invalid_return_type")r(o.returnTypeError);else if(o.code==="invalid_arguments")r(o.argumentsError);else if(o.path.length===0)i._errors.push(e(o));else{let l=i,a=0;for(;a<o.path.length;){const u=o.path[a];a===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(e(o))):l[u]=l[u]||{_errors:[]},l=l[u],a++}}};return r(this),i}static assert(t){if(!(t instanceof fe))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,xt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=e=>e.message){const e={},i=[];for(const r of this.issues)r.path.length>0?(e[r.path[0]]=e[r.path[0]]||[],e[r.path[0]].push(t(r))):i.push(t(r));return{formErrors:i,fieldErrors:e}}get formErrors(){return this.flatten()}}fe.create=n=>new fe(n);const fi=(n,t)=>{let e;switch(n.code){case $.invalid_type:n.received===K.undefined?e="Required":e=`Expected ${n.expected}, received ${n.received}`;break;case $.invalid_literal:e=`Invalid literal value, expected ${JSON.stringify(n.expected,xt.jsonStringifyReplacer)}`;break;case $.unrecognized_keys:e=`Unrecognized key(s) in object: ${xt.joinValues(n.keys,", ")}`;break;case $.invalid_union:e="Invalid input";break;case $.invalid_union_discriminator:e=`Invalid discriminator value. Expected ${xt.joinValues(n.options)}`;break;case $.invalid_enum_value:e=`Invalid enum value. Expected ${xt.joinValues(n.options)}, received '${n.received}'`;break;case $.invalid_arguments:e="Invalid function arguments";break;case $.invalid_return_type:e="Invalid function return type";break;case $.invalid_date:e="Invalid date";break;case $.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(e=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(e=`${e} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?e=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?e=`Invalid input: must end with "${n.validation.endsWith}"`:xt.assertNever(n.validation):n.validation!=="regex"?e=`Invalid ${n.validation}`:e="Invalid";break;case $.too_small:n.type==="array"?e=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?e=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?e=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?e=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:e="Invalid input";break;case $.too_big:n.type==="array"?e=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?e=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?e=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?e=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?e=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:e="Invalid input";break;case $.custom:e="Invalid input";break;case $.invalid_intersection_types:e="Intersection results could not be merged";break;case $.not_multiple_of:e=`Number must be a multiple of ${n.multipleOf}`;break;case $.not_finite:e="Number must be finite";break;default:e=t.defaultError,xt.assertNever(n)}return{message:e}};let gp=fi;function js(){return gp}const Vs=n=>{const{data:t,path:e,errorMaps:i,issueData:r}=n,s=[...e,...r.path||[]],o={...r,path:s};if(r.message!==void 0)return{...r,path:s,message:r.message};let l="";const a=i.filter(u=>!!u).slice().reverse();for(const u of a)l=u(o,{data:t,defaultError:l}).message;return{...r,path:s,message:l}};function G(n,t){const e=js(),i=Vs({issueData:t,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,e,e===fi?void 0:fi].filter(r=>!!r)});n.common.issues.push(i)}class Gt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,e){const i=[];for(const r of e){if(r.status==="aborted")return ut;r.status==="dirty"&&t.dirty(),i.push(r.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,e){const i=[];for(const r of e){const s=await r.key,o=await r.value;i.push({key:s,value:o})}return Gt.mergeObjectSync(t,i)}static mergeObjectSync(t,e){const i={};for(const r of e){const{key:s,value:o}=r;if(s.status==="aborted"||o.status==="aborted")return ut;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||r.alwaysSet)&&(i[s.value]=o.value)}return{status:t.value,value:i}}}const ut=Object.freeze({status:"aborted"}),Gn=n=>({status:"dirty",value:n}),ee=n=>({status:"valid",value:n}),Rl=n=>n.status==="aborted",Ml=n=>n.status==="dirty",nr=n=>n.status==="valid",ir=n=>typeof Promise<"u"&&n instanceof Promise;function rr(n,t,e,i){if(typeof t=="function"?n!==t||!i:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(n)}function hc(n,t,e,i,r){if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(n,e),e}var nt;(function(n){n.errToObj=t=>typeof t=="string"?{message:t}:t||{},n.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(nt||(nt={}));var Kn,Jn;class Ce{constructor(t,e,i,r){this._cachedPath=[],this.parent=t,this.data=e,this._path=i,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Al=(n,t)=>{if(nr(t))return{success:!0,data:t.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const e=new fe(n.common.issues);return this._error=e,this._error}}};function ht(n){if(!n)return{};const{errorMap:t,invalid_type_error:e,required_error:i,description:r}=n;if(t&&(e||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:r}:{errorMap:(o,l)=>{var a,u;const{message:h}=n;return o.code==="invalid_enum_value"?{message:h??l.defaultError}:typeof l.data>"u"?{message:(a=h??i)!==null&&a!==void 0?a:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=h??e)!==null&&u!==void 0?u:l.defaultError}},description:r}}class yt{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return en(t.data)}_getOrReturnCtx(t,e){return e||{common:t.parent.common,data:t.data,parsedType:en(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Gt,ctx:{common:t.parent.common,data:t.data,parsedType:en(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const e=this._parse(t);if(ir(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(t){const e=this._parse(t);return Promise.resolve(e)}parse(t,e){const i=this.safeParse(t,e);if(i.success)return i.data;throw i.error}safeParse(t,e){var i;const r={common:{issues:[],async:(i=e==null?void 0:e.async)!==null&&i!==void 0?i:!1,contextualErrorMap:e==null?void 0:e.errorMap},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:en(t)},s=this._parseSync({data:t,path:r.path,parent:r});return Al(r,s)}async parseAsync(t,e){const i=await this.safeParseAsync(t,e);if(i.success)return i.data;throw i.error}async safeParseAsync(t,e){const i={common:{issues:[],contextualErrorMap:e==null?void 0:e.errorMap,async:!0},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:en(t)},r=this._parse({data:t,path:i.path,parent:i}),s=await(ir(r)?r:Promise.resolve(r));return Al(i,s)}refine(t,e){const i=r=>typeof e=="string"||typeof e>"u"?{message:e}:typeof e=="function"?e(r):e;return this._refinement((r,s)=>{const o=t(r),l=()=>s.addIssue({code:$.custom,...i(r)});return typeof Promise<"u"&&o instanceof Promise?o.then(a=>a?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,e){return this._refinement((i,r)=>t(i)?!0:(r.addIssue(typeof e=="function"?e(i,r):e),!1))}_refinement(t){return new Fe({schema:this,typeName:lt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Le.create(this,this._def)}nullable(){return on.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Se.create(this,this._def)}promise(){return mi.create(this,this._def)}or(t){return lr.create([this,t],this._def)}and(t){return ar.create(this,t,this._def)}transform(t){return new Fe({...ht(this._def),schema:this,typeName:lt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const e=typeof t=="function"?t:()=>t;return new fr({...ht(this._def),innerType:this,defaultValue:e,typeName:lt.ZodDefault})}brand(){return new mc({typeName:lt.ZodBranded,type:this,...ht(this._def)})}catch(t){const e=typeof t=="function"?t:()=>t;return new pr({...ht(this._def),innerType:this,catchValue:e,typeName:lt.ZodCatch})}describe(t){const e=this.constructor;return new e({...this._def,description:t})}pipe(t){return Pr.create(this,t)}readonly(){return mr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const yp=/^c[^\s-]{8,}$/i,vp=/^[0-9a-z]+$/,bp=/^[0-9A-HJKMNP-TV-Z]{26}$/,xp=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,wp=/^[a-z0-9_-]{21}$/i,kp=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,_p=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Sp="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let es;const Cp=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ep=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Tp=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dc="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Np=new RegExp(`^${dc}$`);function fc(n){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?t=`${t}\\.\\d{${n.precision}}`:n.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Rp(n){return new RegExp(`^${fc(n)}$`)}function Mp(n){let t=`${dc}T${fc(n)}`;const e=[];return e.push(n.local?"Z?":"Z"),n.offset&&e.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${e.join("|")})`,new RegExp(`^${t}$`)}function Ap(n,t){return!!((t==="v4"||!t)&&Cp.test(n)||(t==="v6"||!t)&&Ep.test(n))}class Pe extends yt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==K.string){const s=this._getOrReturnCtx(t);return G(s,{code:$.invalid_type,expected:K.string,received:s.parsedType}),ut}const i=new Gt;let r;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(r=this._getOrReturnCtx(t,r),G(r,{code:$.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="max")t.data.length>s.value&&(r=this._getOrReturnCtx(t,r),G(r,{code:$.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,l=t.data.length<s.value;(o||l)&&(r=this._getOrReturnCtx(t,r),o?G(r,{code:$.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&G(r,{code:$.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),i.dirty())}else if(s.kind==="email")_p.test(t.data)||(r=this._getOrReturnCtx(t,r),G(r,{validation:"email",code:$.invalid_string,message:s.message}),i.dirty());else if(s.kind==="emoji")es||(es=new RegExp(Sp,"u")),es.test(t.data)||(r=this._getOrReturnCtx(t,r),G(r,{validation:"emoji",code:$.invalid_string,message:s.message}),i.dirty());else if(s.kind==="uuid")xp.test(t.data)||(r=this._getOrReturnCtx(t,r),G(r,{validation:"uuid",code:$.invalid_string,message:s.message}),i.dirty());else if(s.kind==="nanoid")wp.test(t.data)||(r=this._getOrReturnCtx(t,r),G(r,{validation:"nanoid",code:$.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid")yp.test(t.data)||(r=this._getOrReturnCtx(t,r),G(r,{validation:"cuid",code:$.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid2")vp.test(t.data)||(r=this._getOrReturnCtx(t,r),G(r,{validation:"cuid2",code:$.invalid_string,message:s.message}),i.dirty());else if(s.kind==="ulid")bp.test(t.data)||(r=this._getOrReturnCtx(t,r),G(r,{validation:"ulid",code:$.invalid_string,message:s.message}),i.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{r=this._getOrReturnCtx(t,r),G(r,{validation:"url",code:$.invalid_string,message:s.message}),i.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(r=this._getOrReturnCtx(t,r),G(r,{validation:"regex",code:$.invalid_string,message:s.message}),i.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(r=this._getOrReturnCtx(t,r),G(r,{code:$.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),i.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(r=this._getOrReturnCtx(t,r),G(r,{code:$.invalid_string,validation:{startsWith:s.value},message:s.message}),i.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(r=this._getOrReturnCtx(t,r),G(r,{code:$.invalid_string,validation:{endsWith:s.value},message:s.message}),i.dirty()):s.kind==="datetime"?Mp(s).test(t.data)||(r=this._getOrReturnCtx(t,r),G(r,{code:$.invalid_string,validation:"datetime",message:s.message}),i.dirty()):s.kind==="date"?Np.test(t.data)||(r=this._getOrReturnCtx(t,r),G(r,{code:$.invalid_string,validation:"date",message:s.message}),i.dirty()):s.kind==="time"?Rp(s).test(t.data)||(r=this._getOrReturnCtx(t,r),G(r,{code:$.invalid_string,validation:"time",message:s.message}),i.dirty()):s.kind==="duration"?kp.test(t.data)||(r=this._getOrReturnCtx(t,r),G(r,{validation:"duration",code:$.invalid_string,message:s.message}),i.dirty()):s.kind==="ip"?Ap(t.data,s.version)||(r=this._getOrReturnCtx(t,r),G(r,{validation:"ip",code:$.invalid_string,message:s.message}),i.dirty()):s.kind==="base64"?Tp.test(t.data)||(r=this._getOrReturnCtx(t,r),G(r,{validation:"base64",code:$.invalid_string,message:s.message}),i.dirty()):xt.assertNever(s);return{status:i.value,value:t.data}}_regex(t,e,i){return this.refinement(r=>t.test(r),{validation:e,code:$.invalid_string,...nt.errToObj(i)})}_addCheck(t){return new Pe({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...nt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...nt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...nt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...nt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...nt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...nt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...nt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...nt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...nt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...nt.errToObj(t)})}datetime(t){var e,i;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(e=t==null?void 0:t.offset)!==null&&e!==void 0?e:!1,local:(i=t==null?void 0:t.local)!==null&&i!==void 0?i:!1,...nt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...nt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...nt.errToObj(t)})}regex(t,e){return this._addCheck({kind:"regex",regex:t,...nt.errToObj(e)})}includes(t,e){return this._addCheck({kind:"includes",value:t,position:e==null?void 0:e.position,...nt.errToObj(e==null?void 0:e.message)})}startsWith(t,e){return this._addCheck({kind:"startsWith",value:t,...nt.errToObj(e)})}endsWith(t,e){return this._addCheck({kind:"endsWith",value:t,...nt.errToObj(e)})}min(t,e){return this._addCheck({kind:"min",value:t,...nt.errToObj(e)})}max(t,e){return this._addCheck({kind:"max",value:t,...nt.errToObj(e)})}length(t,e){return this._addCheck({kind:"length",value:t,...nt.errToObj(e)})}nonempty(t){return this.min(1,nt.errToObj(t))}trim(){return new Pe({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Pe({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Pe({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t}get maxLength(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t}}Pe.create=n=>{var t;return new Pe({checks:[],typeName:lt.ZodString,coerce:(t=n==null?void 0:n.coerce)!==null&&t!==void 0?t:!1,...ht(n)})};function Pp(n,t){const e=(n.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,r=e>i?e:i,s=parseInt(n.toFixed(r).replace(".","")),o=parseInt(t.toFixed(r).replace(".",""));return s%o/Math.pow(10,r)}class Nn extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==K.number){const s=this._getOrReturnCtx(t);return G(s,{code:$.invalid_type,expected:K.number,received:s.parsedType}),ut}let i;const r=new Gt;for(const s of this._def.checks)s.kind==="int"?xt.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),G(i,{code:$.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(i=this._getOrReturnCtx(t,i),G(i,{code:$.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(i=this._getOrReturnCtx(t,i),G(i,{code:$.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="multipleOf"?Pp(t.data,s.value)!==0&&(i=this._getOrReturnCtx(t,i),G(i,{code:$.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),G(i,{code:$.not_finite,message:s.message}),r.dirty()):xt.assertNever(s);return{status:r.value,value:t.data}}gte(t,e){return this.setLimit("min",t,!0,nt.toString(e))}gt(t,e){return this.setLimit("min",t,!1,nt.toString(e))}lte(t,e){return this.setLimit("max",t,!0,nt.toString(e))}lt(t,e){return this.setLimit("max",t,!1,nt.toString(e))}setLimit(t,e,i,r){return new Nn({...this._def,checks:[...this._def.checks,{kind:t,value:e,inclusive:i,message:nt.toString(r)}]})}_addCheck(t){return new Nn({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:nt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:nt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:nt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:nt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:nt.toString(t)})}multipleOf(t,e){return this._addCheck({kind:"multipleOf",value:t,message:nt.toString(e)})}finite(t){return this._addCheck({kind:"finite",message:nt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:nt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:nt.toString(t)})}get minValue(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t}get maxValue(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&xt.isInteger(t.value))}get isFinite(){let t=null,e=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(e===null||i.value>e)&&(e=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(e)&&Number.isFinite(t)}}Nn.create=n=>new Nn({checks:[],typeName:lt.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...ht(n)});class Rn extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==K.bigint){const s=this._getOrReturnCtx(t);return G(s,{code:$.invalid_type,expected:K.bigint,received:s.parsedType}),ut}let i;const r=new Gt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(i=this._getOrReturnCtx(t,i),G(i,{code:$.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(i=this._getOrReturnCtx(t,i),G(i,{code:$.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),G(i,{code:$.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):xt.assertNever(s);return{status:r.value,value:t.data}}gte(t,e){return this.setLimit("min",t,!0,nt.toString(e))}gt(t,e){return this.setLimit("min",t,!1,nt.toString(e))}lte(t,e){return this.setLimit("max",t,!0,nt.toString(e))}lt(t,e){return this.setLimit("max",t,!1,nt.toString(e))}setLimit(t,e,i,r){return new Rn({...this._def,checks:[...this._def.checks,{kind:t,value:e,inclusive:i,message:nt.toString(r)}]})}_addCheck(t){return new Rn({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:nt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:nt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:nt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:nt.toString(t)})}multipleOf(t,e){return this._addCheck({kind:"multipleOf",value:t,message:nt.toString(e)})}get minValue(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t}get maxValue(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t}}Rn.create=n=>{var t;return new Rn({checks:[],typeName:lt.ZodBigInt,coerce:(t=n==null?void 0:n.coerce)!==null&&t!==void 0?t:!1,...ht(n)})};class Bs extends yt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==K.boolean){const i=this._getOrReturnCtx(t);return G(i,{code:$.invalid_type,expected:K.boolean,received:i.parsedType}),ut}return ee(t.data)}}Bs.create=n=>new Bs({typeName:lt.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...ht(n)});class pi extends yt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==K.date){const s=this._getOrReturnCtx(t);return G(s,{code:$.invalid_type,expected:K.date,received:s.parsedType}),ut}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return G(s,{code:$.invalid_date}),ut}const i=new Gt;let r;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(r=this._getOrReturnCtx(t,r),G(r,{code:$.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),i.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(r=this._getOrReturnCtx(t,r),G(r,{code:$.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),i.dirty()):xt.assertNever(s);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new pi({...this._def,checks:[...this._def.checks,t]})}min(t,e){return this._addCheck({kind:"min",value:t.getTime(),message:nt.toString(e)})}max(t,e){return this._addCheck({kind:"max",value:t.getTime(),message:nt.toString(e)})}get minDate(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t!=null?new Date(t):null}}pi.create=n=>new pi({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:lt.ZodDate,...ht(n)});class $s extends yt{_parse(t){if(this._getType(t)!==K.symbol){const i=this._getOrReturnCtx(t);return G(i,{code:$.invalid_type,expected:K.symbol,received:i.parsedType}),ut}return ee(t.data)}}$s.create=n=>new $s({typeName:lt.ZodSymbol,...ht(n)});class sr extends yt{_parse(t){if(this._getType(t)!==K.undefined){const i=this._getOrReturnCtx(t);return G(i,{code:$.invalid_type,expected:K.undefined,received:i.parsedType}),ut}return ee(t.data)}}sr.create=n=>new sr({typeName:lt.ZodUndefined,...ht(n)});class or extends yt{_parse(t){if(this._getType(t)!==K.null){const i=this._getOrReturnCtx(t);return G(i,{code:$.invalid_type,expected:K.null,received:i.parsedType}),ut}return ee(t.data)}}or.create=n=>new or({typeName:lt.ZodNull,...ht(n)});class Ws extends yt{constructor(){super(...arguments),this._any=!0}_parse(t){return ee(t.data)}}Ws.create=n=>new Ws({typeName:lt.ZodAny,...ht(n)});class _n extends yt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ee(t.data)}}_n.create=n=>new _n({typeName:lt.ZodUnknown,...ht(n)});class Xe extends yt{_parse(t){const e=this._getOrReturnCtx(t);return G(e,{code:$.invalid_type,expected:K.never,received:e.parsedType}),ut}}Xe.create=n=>new Xe({typeName:lt.ZodNever,...ht(n)});class Us extends yt{_parse(t){if(this._getType(t)!==K.undefined){const i=this._getOrReturnCtx(t);return G(i,{code:$.invalid_type,expected:K.void,received:i.parsedType}),ut}return ee(t.data)}}Us.create=n=>new Us({typeName:lt.ZodVoid,...ht(n)});class Se extends yt{_parse(t){const{ctx:e,status:i}=this._processInputParams(t),r=this._def;if(e.parsedType!==K.array)return G(e,{code:$.invalid_type,expected:K.array,received:e.parsedType}),ut;if(r.exactLength!==null){const o=e.data.length>r.exactLength.value,l=e.data.length<r.exactLength.value;(o||l)&&(G(e,{code:o?$.too_big:$.too_small,minimum:l?r.exactLength.value:void 0,maximum:o?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),i.dirty())}if(r.minLength!==null&&e.data.length<r.minLength.value&&(G(e,{code:$.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),i.dirty()),r.maxLength!==null&&e.data.length>r.maxLength.value&&(G(e,{code:$.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),i.dirty()),e.common.async)return Promise.all([...e.data].map((o,l)=>r.type._parseAsync(new Ce(e,o,e.path,l)))).then(o=>Gt.mergeArray(i,o));const s=[...e.data].map((o,l)=>r.type._parseSync(new Ce(e,o,e.path,l)));return Gt.mergeArray(i,s)}get element(){return this._def.type}min(t,e){return new Se({...this._def,minLength:{value:t,message:nt.toString(e)}})}max(t,e){return new Se({...this._def,maxLength:{value:t,message:nt.toString(e)}})}length(t,e){return new Se({...this._def,exactLength:{value:t,message:nt.toString(e)}})}nonempty(t){return this.min(1,t)}}Se.create=(n,t)=>new Se({type:n,minLength:null,maxLength:null,exactLength:null,typeName:lt.ZodArray,...ht(t)});function bn(n){if(n instanceof Pt){const t={};for(const e in n.shape){const i=n.shape[e];t[e]=Le.create(bn(i))}return new Pt({...n._def,shape:()=>t})}else return n instanceof Se?new Se({...n._def,type:bn(n.element)}):n instanceof Le?Le.create(bn(n.unwrap())):n instanceof on?on.create(bn(n.unwrap())):n instanceof ze?ze.create(n.items.map(t=>bn(t))):n}class Pt extends yt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),e=xt.objectKeys(t);return this._cached={shape:t,keys:e}}_parse(t){if(this._getType(t)!==K.object){const u=this._getOrReturnCtx(t);return G(u,{code:$.invalid_type,expected:K.object,received:u.parsedType}),ut}const{status:i,ctx:r}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Xe&&this._def.unknownKeys==="strip"))for(const u in r.data)o.includes(u)||l.push(u);const a=[];for(const u of o){const h=s[u],c=r.data[u];a.push({key:{status:"valid",value:u},value:h._parse(new Ce(r,c,r.path,u)),alwaysSet:u in r.data})}if(this._def.catchall instanceof Xe){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of l)a.push({key:{status:"valid",value:h},value:{status:"valid",value:r.data[h]}});else if(u==="strict")l.length>0&&(G(r,{code:$.unrecognized_keys,keys:l}),i.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of l){const c=r.data[h];a.push({key:{status:"valid",value:h},value:u._parse(new Ce(r,c,r.path,h)),alwaysSet:h in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of a){const c=await h.key,d=await h.value;u.push({key:c,value:d,alwaysSet:h.alwaysSet})}return u}).then(u=>Gt.mergeObjectSync(i,u)):Gt.mergeObjectSync(i,a)}get shape(){return this._def.shape()}strict(t){return nt.errToObj,new Pt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(e,i)=>{var r,s,o,l;const a=(o=(s=(r=this._def).errorMap)===null||s===void 0?void 0:s.call(r,e,i).message)!==null&&o!==void 0?o:i.defaultError;return e.code==="unrecognized_keys"?{message:(l=nt.errToObj(t).message)!==null&&l!==void 0?l:a}:{message:a}}}:{}})}strip(){return new Pt({...this._def,unknownKeys:"strip"})}passthrough(){return new Pt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Pt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Pt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:lt.ZodObject})}setKey(t,e){return this.augment({[t]:e})}catchall(t){return new Pt({...this._def,catchall:t})}pick(t){const e={};return xt.objectKeys(t).forEach(i=>{t[i]&&this.shape[i]&&(e[i]=this.shape[i])}),new Pt({...this._def,shape:()=>e})}omit(t){const e={};return xt.objectKeys(this.shape).forEach(i=>{t[i]||(e[i]=this.shape[i])}),new Pt({...this._def,shape:()=>e})}deepPartial(){return bn(this)}partial(t){const e={};return xt.objectKeys(this.shape).forEach(i=>{const r=this.shape[i];t&&!t[i]?e[i]=r:e[i]=r.optional()}),new Pt({...this._def,shape:()=>e})}required(t){const e={};return xt.objectKeys(this.shape).forEach(i=>{if(t&&!t[i])e[i]=this.shape[i];else{let s=this.shape[i];for(;s instanceof Le;)s=s._def.innerType;e[i]=s}}),new Pt({...this._def,shape:()=>e})}keyof(){return pc(xt.objectKeys(this.shape))}}Pt.create=(n,t)=>new Pt({shape:()=>n,unknownKeys:"strip",catchall:Xe.create(),typeName:lt.ZodObject,...ht(t)});Pt.strictCreate=(n,t)=>new Pt({shape:()=>n,unknownKeys:"strict",catchall:Xe.create(),typeName:lt.ZodObject,...ht(t)});Pt.lazycreate=(n,t)=>new Pt({shape:n,unknownKeys:"strip",catchall:Xe.create(),typeName:lt.ZodObject,...ht(t)});class lr extends yt{_parse(t){const{ctx:e}=this._processInputParams(t),i=this._def.options;function r(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return e.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new fe(l.ctx.common.issues));return G(e,{code:$.invalid_union,unionErrors:o}),ut}if(e.common.async)return Promise.all(i.map(async s=>{const o={...e,common:{...e.common,issues:[]},parent:null};return{result:await s._parseAsync({data:e.data,path:e.path,parent:o}),ctx:o}})).then(r);{let s;const o=[];for(const a of i){const u={...e,common:{...e.common,issues:[]},parent:null},h=a._parseSync({data:e.data,path:e.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return e.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(a=>new fe(a));return G(e,{code:$.invalid_union,unionErrors:l}),ut}}get options(){return this._def.options}}lr.create=(n,t)=>new lr({options:n,typeName:lt.ZodUnion,...ht(t)});const Me=n=>n instanceof cr?Me(n.schema):n instanceof Fe?Me(n.innerType()):n instanceof hr?[n.value]:n instanceof sn?n.options:n instanceof dr?xt.objectValues(n.enum):n instanceof fr?Me(n._def.innerType):n instanceof sr?[void 0]:n instanceof or?[null]:n instanceof Le?[void 0,...Me(n.unwrap())]:n instanceof on?[null,...Me(n.unwrap())]:n instanceof mc||n instanceof mr?Me(n.unwrap()):n instanceof pr?Me(n._def.innerType):[];class Po extends yt{_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==K.object)return G(e,{code:$.invalid_type,expected:K.object,received:e.parsedType}),ut;const i=this.discriminator,r=e.data[i],s=this.optionsMap.get(r);return s?e.common.async?s._parseAsync({data:e.data,path:e.path,parent:e}):s._parseSync({data:e.data,path:e.path,parent:e}):(G(e,{code:$.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),ut)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,e,i){const r=new Map;for(const s of e){const o=Me(s.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(r.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);r.set(l,s)}}return new Po({typeName:lt.ZodDiscriminatedUnion,discriminator:t,options:e,optionsMap:r,...ht(i)})}}function Ys(n,t){const e=en(n),i=en(t);if(n===t)return{valid:!0,data:n};if(e===K.object&&i===K.object){const r=xt.objectKeys(t),s=xt.objectKeys(n).filter(l=>r.indexOf(l)!==-1),o={...n,...t};for(const l of s){const a=Ys(n[l],t[l]);if(!a.valid)return{valid:!1};o[l]=a.data}return{valid:!0,data:o}}else if(e===K.array&&i===K.array){if(n.length!==t.length)return{valid:!1};const r=[];for(let s=0;s<n.length;s++){const o=n[s],l=t[s],a=Ys(o,l);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}else return e===K.date&&i===K.date&&+n==+t?{valid:!0,data:n}:{valid:!1}}class ar extends yt{_parse(t){const{status:e,ctx:i}=this._processInputParams(t),r=(s,o)=>{if(Rl(s)||Rl(o))return ut;const l=Ys(s.value,o.value);return l.valid?((Ml(s)||Ml(o))&&e.dirty(),{status:e.value,value:l.data}):(G(i,{code:$.invalid_intersection_types}),ut)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([s,o])=>r(s,o)):r(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}ar.create=(n,t,e)=>new ar({left:n,right:t,typeName:lt.ZodIntersection,...ht(e)});class ze extends yt{_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==K.array)return G(i,{code:$.invalid_type,expected:K.array,received:i.parsedType}),ut;if(i.data.length<this._def.items.length)return G(i,{code:$.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ut;!this._def.rest&&i.data.length>this._def.items.length&&(G(i,{code:$.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),e.dirty());const s=[...i.data].map((o,l)=>{const a=this._def.items[l]||this._def.rest;return a?a._parse(new Ce(i,o,i.path,l)):null}).filter(o=>!!o);return i.common.async?Promise.all(s).then(o=>Gt.mergeArray(e,o)):Gt.mergeArray(e,s)}get items(){return this._def.items}rest(t){return new ze({...this._def,rest:t})}}ze.create=(n,t)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ze({items:n,typeName:lt.ZodTuple,rest:null,...ht(t)})};class ur extends yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==K.object)return G(i,{code:$.invalid_type,expected:K.object,received:i.parsedType}),ut;const r=[],s=this._def.keyType,o=this._def.valueType;for(const l in i.data)r.push({key:s._parse(new Ce(i,l,i.path,l)),value:o._parse(new Ce(i,i.data[l],i.path,l)),alwaysSet:l in i.data});return i.common.async?Gt.mergeObjectAsync(e,r):Gt.mergeObjectSync(e,r)}get element(){return this._def.valueType}static create(t,e,i){return e instanceof yt?new ur({keyType:t,valueType:e,typeName:lt.ZodRecord,...ht(i)}):new ur({keyType:Pe.create(),valueType:t,typeName:lt.ZodRecord,...ht(e)})}}class Hs extends yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==K.map)return G(i,{code:$.invalid_type,expected:K.map,received:i.parsedType}),ut;const r=this._def.keyType,s=this._def.valueType,o=[...i.data.entries()].map(([l,a],u)=>({key:r._parse(new Ce(i,l,i.path,[u,"key"])),value:s._parse(new Ce(i,a,i.path,[u,"value"]))}));if(i.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const a of o){const u=await a.key,h=await a.value;if(u.status==="aborted"||h.status==="aborted")return ut;(u.status==="dirty"||h.status==="dirty")&&e.dirty(),l.set(u.value,h.value)}return{status:e.value,value:l}})}else{const l=new Map;for(const a of o){const u=a.key,h=a.value;if(u.status==="aborted"||h.status==="aborted")return ut;(u.status==="dirty"||h.status==="dirty")&&e.dirty(),l.set(u.value,h.value)}return{status:e.value,value:l}}}}Hs.create=(n,t,e)=>new Hs({valueType:t,keyType:n,typeName:lt.ZodMap,...ht(e)});class Mn extends yt{_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==K.set)return G(i,{code:$.invalid_type,expected:K.set,received:i.parsedType}),ut;const r=this._def;r.minSize!==null&&i.data.size<r.minSize.value&&(G(i,{code:$.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),e.dirty()),r.maxSize!==null&&i.data.size>r.maxSize.value&&(G(i,{code:$.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),e.dirty());const s=this._def.valueType;function o(a){const u=new Set;for(const h of a){if(h.status==="aborted")return ut;h.status==="dirty"&&e.dirty(),u.add(h.value)}return{status:e.value,value:u}}const l=[...i.data.values()].map((a,u)=>s._parse(new Ce(i,a,i.path,u)));return i.common.async?Promise.all(l).then(a=>o(a)):o(l)}min(t,e){return new Mn({...this._def,minSize:{value:t,message:nt.toString(e)}})}max(t,e){return new Mn({...this._def,maxSize:{value:t,message:nt.toString(e)}})}size(t,e){return this.min(t,e).max(t,e)}nonempty(t){return this.min(1,t)}}Mn.create=(n,t)=>new Mn({valueType:n,minSize:null,maxSize:null,typeName:lt.ZodSet,...ht(t)});class ri extends yt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==K.function)return G(e,{code:$.invalid_type,expected:K.function,received:e.parsedType}),ut;function i(l,a){return Vs({data:l,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,js(),fi].filter(u=>!!u),issueData:{code:$.invalid_arguments,argumentsError:a}})}function r(l,a){return Vs({data:l,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,js(),fi].filter(u=>!!u),issueData:{code:$.invalid_return_type,returnTypeError:a}})}const s={errorMap:e.common.contextualErrorMap},o=e.data;if(this._def.returns instanceof mi){const l=this;return ee(async function(...a){const u=new fe([]),h=await l._def.args.parseAsync(a,s).catch(f=>{throw u.addIssue(i(a,f)),u}),c=await Reflect.apply(o,this,h);return await l._def.returns._def.type.parseAsync(c,s).catch(f=>{throw u.addIssue(r(c,f)),u})})}else{const l=this;return ee(function(...a){const u=l._def.args.safeParse(a,s);if(!u.success)throw new fe([i(a,u.error)]);const h=Reflect.apply(o,this,u.data),c=l._def.returns.safeParse(h,s);if(!c.success)throw new fe([r(h,c.error)]);return c.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ri({...this._def,args:ze.create(t).rest(_n.create())})}returns(t){return new ri({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,e,i){return new ri({args:t||ze.create([]).rest(_n.create()),returns:e||_n.create(),typeName:lt.ZodFunction,...ht(i)})}}class cr extends yt{get schema(){return this._def.getter()}_parse(t){const{ctx:e}=this._processInputParams(t);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}}cr.create=(n,t)=>new cr({getter:n,typeName:lt.ZodLazy,...ht(t)});class hr extends yt{_parse(t){if(t.data!==this._def.value){const e=this._getOrReturnCtx(t);return G(e,{received:e.data,code:$.invalid_literal,expected:this._def.value}),ut}return{status:"valid",value:t.data}}get value(){return this._def.value}}hr.create=(n,t)=>new hr({value:n,typeName:lt.ZodLiteral,...ht(t)});function pc(n,t){return new sn({values:n,typeName:lt.ZodEnum,...ht(t)})}class sn extends yt{constructor(){super(...arguments),Kn.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const e=this._getOrReturnCtx(t),i=this._def.values;return G(e,{expected:xt.joinValues(i),received:e.parsedType,code:$.invalid_type}),ut}if(rr(this,Kn)||hc(this,Kn,new Set(this._def.values)),!rr(this,Kn).has(t.data)){const e=this._getOrReturnCtx(t),i=this._def.values;return G(e,{received:e.data,code:$.invalid_enum_value,options:i}),ut}return ee(t.data)}get options(){return this._def.values}get enum(){const t={};for(const e of this._def.values)t[e]=e;return t}get Values(){const t={};for(const e of this._def.values)t[e]=e;return t}get Enum(){const t={};for(const e of this._def.values)t[e]=e;return t}extract(t,e=this._def){return sn.create(t,{...this._def,...e})}exclude(t,e=this._def){return sn.create(this.options.filter(i=>!t.includes(i)),{...this._def,...e})}}Kn=new WeakMap;sn.create=pc;class dr extends yt{constructor(){super(...arguments),Jn.set(this,void 0)}_parse(t){const e=xt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==K.string&&i.parsedType!==K.number){const r=xt.objectValues(e);return G(i,{expected:xt.joinValues(r),received:i.parsedType,code:$.invalid_type}),ut}if(rr(this,Jn)||hc(this,Jn,new Set(xt.getValidEnumValues(this._def.values))),!rr(this,Jn).has(t.data)){const r=xt.objectValues(e);return G(i,{received:i.data,code:$.invalid_enum_value,options:r}),ut}return ee(t.data)}get enum(){return this._def.values}}Jn=new WeakMap;dr.create=(n,t)=>new dr({values:n,typeName:lt.ZodNativeEnum,...ht(t)});class mi extends yt{unwrap(){return this._def.type}_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==K.promise&&e.common.async===!1)return G(e,{code:$.invalid_type,expected:K.promise,received:e.parsedType}),ut;const i=e.parsedType===K.promise?e.data:Promise.resolve(e.data);return ee(i.then(r=>this._def.type.parseAsync(r,{path:e.path,errorMap:e.common.contextualErrorMap})))}}mi.create=(n,t)=>new mi({type:n,typeName:lt.ZodPromise,...ht(t)});class Fe extends yt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===lt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:e,ctx:i}=this._processInputParams(t),r=this._def.effect||null,s={addIssue:o=>{G(i,o),o.fatal?e.abort():e.dirty()},get path(){return i.path}};if(s.addIssue=s.addIssue.bind(s),r.type==="preprocess"){const o=r.transform(i.data,s);if(i.common.async)return Promise.resolve(o).then(async l=>{if(e.value==="aborted")return ut;const a=await this._def.schema._parseAsync({data:l,path:i.path,parent:i});return a.status==="aborted"?ut:a.status==="dirty"||e.value==="dirty"?Gn(a.value):a});{if(e.value==="aborted")return ut;const l=this._def.schema._parseSync({data:o,path:i.path,parent:i});return l.status==="aborted"?ut:l.status==="dirty"||e.value==="dirty"?Gn(l.value):l}}if(r.type==="refinement"){const o=l=>{const a=r.refinement(l,s);if(i.common.async)return Promise.resolve(a);if(a instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(i.common.async===!1){const l=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?ut:(l.status==="dirty"&&e.dirty(),o(l.value),{status:e.value,value:l.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(l=>l.status==="aborted"?ut:(l.status==="dirty"&&e.dirty(),o(l.value).then(()=>({status:e.value,value:l.value}))))}if(r.type==="transform")if(i.common.async===!1){const o=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!nr(o))return o;const l=r.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:l}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(o=>nr(o)?Promise.resolve(r.transform(o.value,s)).then(l=>({status:e.value,value:l})):o);xt.assertNever(r)}}Fe.create=(n,t,e)=>new Fe({schema:n,typeName:lt.ZodEffects,effect:t,...ht(e)});Fe.createWithPreprocess=(n,t,e)=>new Fe({schema:t,effect:{type:"preprocess",transform:n},typeName:lt.ZodEffects,...ht(e)});class Le extends yt{_parse(t){return this._getType(t)===K.undefined?ee(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Le.create=(n,t)=>new Le({innerType:n,typeName:lt.ZodOptional,...ht(t)});class on extends yt{_parse(t){return this._getType(t)===K.null?ee(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}on.create=(n,t)=>new on({innerType:n,typeName:lt.ZodNullable,...ht(t)});class fr extends yt{_parse(t){const{ctx:e}=this._processInputParams(t);let i=e.data;return e.parsedType===K.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:e.path,parent:e})}removeDefault(){return this._def.innerType}}fr.create=(n,t)=>new fr({innerType:n,typeName:lt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ht(t)});class pr extends yt{_parse(t){const{ctx:e}=this._processInputParams(t),i={...e,common:{...e.common,issues:[]}},r=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return ir(r)?r.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new fe(i.common.issues)},input:i.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new fe(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}pr.create=(n,t)=>new pr({innerType:n,typeName:lt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ht(t)});class Zs extends yt{_parse(t){if(this._getType(t)!==K.nan){const i=this._getOrReturnCtx(t);return G(i,{code:$.invalid_type,expected:K.nan,received:i.parsedType}),ut}return{status:"valid",value:t.data}}}Zs.create=n=>new Zs({typeName:lt.ZodNaN,...ht(n)});class mc extends yt{_parse(t){const{ctx:e}=this._processInputParams(t),i=e.data;return this._def.type._parse({data:i,path:e.path,parent:e})}unwrap(){return this._def.type}}class Pr extends yt{_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?ut:s.status==="dirty"?(e.dirty(),Gn(s.value)):this._def.out._parseAsync({data:s.value,path:i.path,parent:i})})();{const r=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return r.status==="aborted"?ut:r.status==="dirty"?(e.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:i.path,parent:i})}}static create(t,e){return new Pr({in:t,out:e,typeName:lt.ZodPipeline})}}class mr extends yt{_parse(t){const e=this._def.innerType._parse(t),i=r=>(nr(r)&&(r.value=Object.freeze(r.value)),r);return ir(e)?e.then(r=>i(r)):i(e)}unwrap(){return this._def.innerType}}mr.create=(n,t)=>new mr({innerType:n,typeName:lt.ZodReadonly,...ht(t)});Pt.lazycreate;var lt;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(lt||(lt={}));const Pl=Pe.create;Nn.create;Zs.create;Rn.create;Bs.create;pi.create;$s.create;sr.create;or.create;Ws.create;_n.create;Xe.create;Us.create;Se.create;const Ip=Pt.create;Pt.strictCreate;lr.create;Po.create;ar.create;ze.create;ur.create;Hs.create;Mn.create;ri.create;cr.create;hr.create;sn.create;dr.create;mi.create;Fe.create;Le.create;on.create;Fe.createWithPreprocess;Pr.create;function Dp(n,t){typeof n=="function"?n(t):n!=null&&(n.current=t)}function gc(...n){return t=>n.forEach(e=>Dp(e,t))}function ae(...n){return y.useCallback(gc(...n),n)}var An=y.forwardRef((n,t)=>{const{children:e,...i}=n,r=y.Children.toArray(e),s=r.find(Op);if(s){const o=s.props.children,l=r.map(a=>a===s?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:a);return m.jsx(Xs,{...i,ref:t,children:y.isValidElement(o)?y.cloneElement(o,void 0,l):null})}return m.jsx(Xs,{...i,ref:t,children:e})});An.displayName="Slot";var Xs=y.forwardRef((n,t)=>{const{children:e,...i}=n;if(y.isValidElement(e)){const r=Fp(e);return y.cloneElement(e,{...zp(i,e.props),ref:t?gc(t,r):r})}return y.Children.count(e)>1?y.Children.only(null):null});Xs.displayName="SlotClone";var Lp=({children:n})=>m.jsx(m.Fragment,{children:n});function Op(n){return y.isValidElement(n)&&n.type===Lp}function zp(n,t){const e={...t};for(const i in t){const r=n[i],s=t[i];/^on[A-Z]/.test(i)?r&&s?e[i]=(...l)=>{s(...l),r(...l)}:r&&(e[i]=r):i==="style"?e[i]={...r,...s}:i==="className"&&(e[i]=[r,s].filter(Boolean).join(" "))}return{...n,...e}}function Fp(n){var i,r;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}function yc(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n))for(t=0;t<n.length;t++)n[t]&&(e=yc(n[t]))&&(i&&(i+=" "),i+=e);else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function jp(){for(var n,t,e=0,i="";e<arguments.length;)(n=arguments[e++])&&(t=yc(n))&&(i&&(i+=" "),i+=t);return i}const Il=n=>typeof n=="boolean"?"".concat(n):n===0?"0":n,Dl=jp,Io=(n,t)=>e=>{var i;if((t==null?void 0:t.variants)==null)return Dl(n,e==null?void 0:e.class,e==null?void 0:e.className);const{variants:r,defaultVariants:s}=t,o=Object.keys(r).map(u=>{const h=e==null?void 0:e[u],c=s==null?void 0:s[u];if(h===null)return null;const d=Il(h)||Il(c);return r[u][d]}),l=e&&Object.entries(e).reduce((u,h)=>{let[c,d]=h;return d===void 0||(u[c]=d),u},{}),a=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((u,h)=>{let{class:c,className:d,...f}=h;return Object.entries(f).every(p=>{let[g,v]=p;return Array.isArray(v)?v.includes({...s,...l}[g]):{...s,...l}[g]===v})?[...u,c,d]:u},[]);return Dl(n,o,a,e==null?void 0:e.class,e==null?void 0:e.className)};function vc(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(t=0;t<r;t++)n[t]&&(e=vc(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function Vp(){for(var n,t,e=0,i="",r=arguments.length;e<r;e++)(n=arguments[e])&&(t=vc(n))&&(i&&(i+=" "),i+=t);return i}const Do="-",Bp=n=>{const t=Wp(n),{conflictingClassGroups:e,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:o=>{const l=o.split(Do);return l[0]===""&&l.length!==1&&l.shift(),bc(l,t)||$p(o)},getConflictingClassGroupIds:(o,l)=>{const a=e[o]||[];return l&&i[o]?[...a,...i[o]]:a}}},bc=(n,t)=>{var o;if(n.length===0)return t.classGroupId;const e=n[0],i=t.nextPart.get(e),r=i?bc(n.slice(1),i):void 0;if(r)return r;if(t.validators.length===0)return;const s=n.join(Do);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},Ll=/^\[(.+)\]$/,$p=n=>{if(Ll.test(n)){const t=Ll.exec(n)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},Wp=n=>{const{theme:t,prefix:e}=n,i={nextPart:new Map,validators:[]};return Yp(Object.entries(n.classGroups),e).forEach(([s,o])=>{Qs(o,i,s,t)}),i},Qs=(n,t,e,i)=>{n.forEach(r=>{if(typeof r=="string"){const s=r===""?t:Ol(t,r);s.classGroupId=e;return}if(typeof r=="function"){if(Up(r)){Qs(r(i),t,e,i);return}t.validators.push({validator:r,classGroupId:e});return}Object.entries(r).forEach(([s,o])=>{Qs(o,Ol(t,s),e,i)})})},Ol=(n,t)=>{let e=n;return t.split(Do).forEach(i=>{e.nextPart.has(i)||e.nextPart.set(i,{nextPart:new Map,validators:[]}),e=e.nextPart.get(i)}),e},Up=n=>n.isThemeGetter,Yp=(n,t)=>t?n.map(([e,i])=>{const r=i.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[e,r]}):n,Hp=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,i=new Map;const r=(s,o)=>{e.set(s,o),t++,t>n&&(t=0,i=e,e=new Map)};return{get(s){let o=e.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return r(s,o),o},set(s,o){e.has(s)?e.set(s,o):r(s,o)}}},xc="!",Zp=n=>{const{separator:t,experimentalParseClassName:e}=n,i=t.length===1,r=t[0],s=t.length,o=l=>{const a=[];let u=0,h=0,c;for(let v=0;v<l.length;v++){let b=l[v];if(u===0){if(b===r&&(i||l.slice(v,v+s)===t)){a.push(l.slice(h,v)),h=v+s;continue}if(b==="/"){c=v;continue}}b==="["?u++:b==="]"&&u--}const d=a.length===0?l:l.substring(h),f=d.startsWith(xc),p=f?d.substring(1):d,g=c&&c>h?c-h:void 0;return{modifiers:a,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}};return e?l=>e({className:l,parseClassName:o}):o},Xp=n=>{if(n.length<=1)return n;const t=[];let e=[];return n.forEach(i=>{i[0]==="["?(t.push(...e.sort(),i),e=[]):e.push(i)}),t.push(...e.sort()),t},Qp=n=>({cache:Hp(n.cacheSize),parseClassName:Zp(n),...Bp(n)}),qp=/\s+/,Gp=(n,t)=>{const{parseClassName:e,getClassGroupId:i,getConflictingClassGroupIds:r}=t,s=[],o=n.trim().split(qp);let l="";for(let a=o.length-1;a>=0;a-=1){const u=o[a],{modifiers:h,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:f}=e(u);let p=!!f,g=i(p?d.substring(0,f):d);if(!g){if(!p){l=u+(l.length>0?" "+l:l);continue}if(g=i(d),!g){l=u+(l.length>0?" "+l:l);continue}p=!1}const v=Xp(h).join(":"),b=c?v+xc:v,w=b+g;if(s.includes(w))continue;s.push(w);const C=r(g,p);for(let M=0;M<C.length;++M){const T=C[M];s.push(b+T)}l=u+(l.length>0?" "+l:l)}return l};function Kp(){let n=0,t,e,i="";for(;n<arguments.length;)(t=arguments[n++])&&(e=wc(t))&&(i&&(i+=" "),i+=e);return i}const wc=n=>{if(typeof n=="string")return n;let t,e="";for(let i=0;i<n.length;i++)n[i]&&(t=wc(n[i]))&&(e&&(e+=" "),e+=t);return e};function Jp(n,...t){let e,i,r,s=o;function o(a){const u=t.reduce((h,c)=>c(h),n());return e=Qp(u),i=e.cache.get,r=e.cache.set,s=l,l(a)}function l(a){const u=i(a);if(u)return u;const h=Gp(a,e);return r(a,h),h}return function(){return s(Kp.apply(null,arguments))}}const Et=n=>{const t=e=>e[n]||[];return t.isThemeGetter=!0,t},kc=/^\[(?:([a-z-]+):)?(.+)\]$/i,tm=/^\d+\/\d+$/,em=new Set(["px","full","screen"]),nm=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,im=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sm=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,om=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Re=n=>Sn(n)||em.has(n)||tm.test(n),Be=n=>Fn(n,"length",pm),Sn=n=>!!n&&!Number.isNaN(Number(n)),ns=n=>Fn(n,"number",Sn),Yn=n=>!!n&&Number.isInteger(Number(n)),lm=n=>n.endsWith("%")&&Sn(n.slice(0,-1)),ft=n=>kc.test(n),$e=n=>nm.test(n),am=new Set(["length","size","percentage"]),um=n=>Fn(n,am,_c),cm=n=>Fn(n,"position",_c),hm=new Set(["image","url"]),dm=n=>Fn(n,hm,gm),fm=n=>Fn(n,"",mm),Hn=()=>!0,Fn=(n,t,e)=>{const i=kc.exec(n);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):e(i[2]):!1},pm=n=>im.test(n)&&!rm.test(n),_c=()=>!1,mm=n=>sm.test(n),gm=n=>om.test(n),ym=()=>{const n=Et("colors"),t=Et("spacing"),e=Et("blur"),i=Et("brightness"),r=Et("borderColor"),s=Et("borderRadius"),o=Et("borderSpacing"),l=Et("borderWidth"),a=Et("contrast"),u=Et("grayscale"),h=Et("hueRotate"),c=Et("invert"),d=Et("gap"),f=Et("gradientColorStops"),p=Et("gradientColorStopPositions"),g=Et("inset"),v=Et("margin"),b=Et("opacity"),w=Et("padding"),C=Et("saturate"),M=Et("scale"),T=Et("sepia"),S=Et("skew"),R=Et("space"),O=Et("translate"),j=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",ft,t],I=()=>[ft,t],X=()=>["",Re,Be],N=()=>["auto",Sn,ft],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],rt=()=>["","0",ft],x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],dt=()=>[Sn,ft];return{cacheSize:500,separator:":",theme:{colors:[Hn],spacing:[Re,Be],blur:["none","",$e,ft],brightness:dt(),borderColor:[n],borderRadius:["none","","full",$e,ft],borderSpacing:I(),borderWidth:X(),contrast:dt(),grayscale:rt(),hueRotate:dt(),invert:rt(),gap:I(),gradientColorStops:[n],gradientColorStopPositions:[lm,Be],inset:z(),margin:z(),opacity:dt(),padding:I(),saturate:dt(),scale:dt(),sepia:rt(),skew:dt(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",ft]}],container:["container"],columns:[{columns:[$e]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),ft]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yn,ft]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ft]}],grow:[{grow:rt()}],shrink:[{shrink:rt()}],order:[{order:["first","last","none",Yn,ft]}],"grid-cols":[{"grid-cols":[Hn]}],"col-start-end":[{col:["auto",{span:["full",Yn,ft]},ft]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[Hn]}],"row-start-end":[{row:["auto",{span:[Yn,ft]},ft]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ft]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ft,t]}],"min-w":[{"min-w":[ft,t,"min","max","fit"]}],"max-w":[{"max-w":[ft,t,"none","full","min","max","fit","prose",{screen:[$e]},$e]}],h:[{h:[ft,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ft,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ft,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ft,t,"auto","min","max","fit"]}],"font-size":[{text:["base",$e,Be]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ns]}],"font-family":[{font:[Hn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ft]}],"line-clamp":[{"line-clamp":["none",Sn,ns]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Re,ft]}],"list-image":[{"list-image":["none",ft]}],"list-style-type":[{list:["none","disc","decimal",ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Re,Be]}],"underline-offset":[{"underline-offset":["auto",Re,ft]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),cm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",um]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dm]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:Y()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[Re,ft]}],"outline-w":[{outline:[Re,Be]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Re,Be]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",$e,fm]}],"shadow-color":[{shadow:[Hn]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[e]}],brightness:[{brightness:[i]}],contrast:[{contrast:[a]}],"drop-shadow":[{"drop-shadow":["","none",$e,ft]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[c]}],saturate:[{saturate:[C]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[e]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[a]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ft]}],duration:[{duration:dt()}],ease:[{ease:["linear","in","out","in-out",ft]}],delay:[{delay:dt()}],animate:[{animate:["none","spin","ping","pulse","bounce",ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[Yn,ft]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ft]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Re,Be,ns]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vm=Jp(ym);function Nt(...n){return vm(Vp(n))}const bm=Io("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),se=y.forwardRef(({className:n,variant:t,size:e,asChild:i=!1,...r},s)=>{const o=i?An:"button";return m.jsx(o,{className:Nt(bm({variant:t,size:e,className:n})),ref:s,...r})});se.displayName="Button";const gr=y.forwardRef(({className:n,type:t,...e},i)=>m.jsx("input",{type:t,className:Nt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n),ref:i,...e}));gr.displayName="Input";const Cn=y.forwardRef(({className:n,...t},e)=>m.jsx("div",{ref:e,className:Nt("rounded-xl border bg-card text-card-foreground shadow",n),...t}));Cn.displayName="Card";const Sc=y.forwardRef(({className:n,...t},e)=>m.jsx("div",{ref:e,className:Nt("flex flex-col space-y-1.5 p-6",n),...t}));Sc.displayName="CardHeader";const Cc=y.forwardRef(({className:n,...t},e)=>m.jsx("h3",{ref:e,className:Nt("font-semibold leading-none tracking-tight",n),...t}));Cc.displayName="CardTitle";const Ec=y.forwardRef(({className:n,...t},e)=>m.jsx("p",{ref:e,className:Nt("text-sm text-muted-foreground",n),...t}));Ec.displayName="CardDescription";const Tc=y.forwardRef(({className:n,...t},e)=>m.jsx("div",{ref:e,className:Nt("p-6 pt-0",n),...t}));Tc.displayName="CardContent";const Nc=y.forwardRef(({className:n,...t},e)=>m.jsx("div",{ref:e,className:Nt("flex items-center p-6 pt-0",n),...t}));Nc.displayName="CardFooter";var xm=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Yt=xm.reduce((n,t)=>{const e=y.forwardRef((i,r)=>{const{asChild:s,...o}=i,l=s?An:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(l,{...o,ref:r})});return e.displayName=`Primitive.${t}`,{...n,[t]:e}},{});function Rc(n,t){n&&Co.flushSync(()=>n.dispatchEvent(t))}var wm="Label",Mc=y.forwardRef((n,t)=>m.jsx(Yt.label,{...n,ref:t,onMouseDown:e=>{var r;e.target.closest("button, input, select, textarea")||((r=n.onMouseDown)==null||r.call(n,e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));Mc.displayName=wm;var Ac=Mc;const km=Io("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pc=y.forwardRef(({className:n,...t},e)=>m.jsx(Ac,{ref:e,className:Nt(km(),n),...t}));Pc.displayName=Ac.displayName;const _m=Qf,Ic=y.createContext({}),zl=({...n})=>m.jsx(Ic.Provider,{value:{name:n.name},children:m.jsx(Jf,{...n})}),Ir=()=>{const n=y.useContext(Ic),t=y.useContext(Dc),{getFieldState:e,formState:i}=Ar(),r=e(n.name,i);if(!n)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:n.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...r}},Dc=y.createContext({}),qs=y.forwardRef(({className:n,...t},e)=>{const i=y.useId();return m.jsx(Dc.Provider,{value:{id:i},children:m.jsx("div",{ref:e,className:Nt("space-y-2",n),...t})})});qs.displayName="FormItem";const Gs=y.forwardRef(({className:n,...t},e)=>{const{error:i,formItemId:r}=Ir();return m.jsx(Pc,{ref:e,className:Nt(i&&"text-destructive",n),htmlFor:r,...t})});Gs.displayName="FormLabel";const Ks=y.forwardRef(({...n},t)=>{const{error:e,formItemId:i,formDescriptionId:r,formMessageId:s}=Ir();return m.jsx(An,{ref:t,id:i,"aria-describedby":e?`${r} ${s}`:`${r}`,"aria-invalid":!!e,...n})});Ks.displayName="FormControl";const Sm=y.forwardRef(({className:n,...t},e)=>{const{formDescriptionId:i}=Ir();return m.jsx("p",{ref:e,id:i,className:Nt("text-[0.8rem] text-muted-foreground",n),...t})});Sm.displayName="FormDescription";const Js=y.forwardRef(({className:n,children:t,...e},i)=>{const{error:r,formMessageId:s}=Ir(),o=r?String(r==null?void 0:r.message):t;return o?m.jsx("p",{ref:i,id:s,className:Nt("text-[0.8rem] font-medium text-destructive",n),...e,children:o}):null});Js.displayName="FormMessage";const Cm="https://gwkirrnjlrcwaejjlokn.supabase.co",Em="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd3a2lycm5qbHJjd2Flampsb2tuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcyMDMzMzQsImV4cCI6MjA2Mjc3OTMzNH0.yzLOtjHvM38Q63Qyca6sFK_tM01Nh1HaLNiQ5tMhyKM",He=Cf(Cm,Em),Lc=y.createContext(void 0);function Tm({children:n}){const[t,e]=y.useState({user:null,session:null,isLoading:!0,error:null});y.useEffect(()=>{He.auth.getSession().then(({data:{session:l}})=>{e(a=>({...a,session:l,user:(l==null?void 0:l.user)??null,isLoading:!1}))});const{data:{subscription:o}}=He.auth.onAuthStateChange((l,a)=>{e(u=>({...u,session:a,user:(a==null?void 0:a.user)??null,isLoading:!1}))});return()=>{o.unsubscribe()}},[]);const s={...t,login:async({email:o,password:l})=>{try{const{error:a}=await He.auth.signInWithPassword({email:o,password:l});return a?(e(u=>({...u,error:a.message})),{error:a}):{error:null}}catch(a){return e(u=>({...u,error:a.message})),{error:a}}},logout:async()=>{try{await He.auth.signOut(),e(o=>({...o,user:null,session:null}))}catch(o){e(l=>({...l,error:o.message}))}}};return m.jsx(Lc.Provider,{value:s,children:n})}function Dr(){const n=y.useContext(Lc);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}function Oc({size:n=32,className:t="",showText:e=!1}){return m.jsxs("div",{className:`flex items-center gap-2 ${t}`,children:[m.jsx("div",{className:"relative",children:m.jsx(Mf,{size:n,className:"text-primary"})}),e&&m.jsx("span",{className:"font-bold text-lg text-primary select-none",children:"Screener AI"})]})}const Nm=1,Rm=1e6;let is=0;function Mm(){return is=(is+1)%Number.MAX_SAFE_INTEGER,is.toString()}const rs=new Map,Fl=n=>{if(rs.has(n))return;const t=setTimeout(()=>{rs.delete(n),si({type:"REMOVE_TOAST",toastId:n})},Rm);rs.set(n,t)},Am=(n,t)=>{switch(t.type){case"ADD_TOAST":return{...n,toasts:[t.toast,...n.toasts].slice(0,Nm)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:e}=t;return e?Fl(e):n.toasts.forEach(i=>{Fl(i.id)}),{...n,toasts:n.toasts.map(i=>i.id===e||e===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(e=>e.id!==t.toastId)}}},Wi=[];let Ui={toasts:[]};function si(n){Ui=Am(Ui,n),Wi.forEach(t=>{t(Ui)})}function Pm({...n}){const t=Mm(),e=r=>si({type:"UPDATE_TOAST",toast:{...r,id:t}}),i=()=>si({type:"DISMISS_TOAST",toastId:t});return si({type:"ADD_TOAST",toast:{...n,id:t,open:!0,onOpenChange:r=>{r||i()}}}),{id:t,dismiss:i,update:e}}function wi(){const[n,t]=y.useState(Ui);return y.useEffect(()=>(Wi.push(t),()=>{const e=Wi.indexOf(t);e>-1&&Wi.splice(e,1)}),[n]),{...n,toast:Pm,dismiss:e=>si({type:"DISMISS_TOAST",toastId:e})}}const Im=Ip({email:Pl().email("유효한 이메일 주소를 입력해주세요."),password:Pl().min(6,"비밀번호는 최소 6자 이상이어야 합니다.")});function Dm(){const{login:n,error:t}=Dr(),{toast:e}=wi(),[i,r]=y.useState(!1),[s,o]=y.useState(!1);y.useEffect(()=>{window.amplitude.track("login-view-screener-poc")},[]);const l=hp({resolver:mp(Im),defaultValues:{email:"",password:""}}),a=async u=>{r(!0);try{const{error:h}=await n({email:u.email,password:u.password});h&&e({variant:"destructive",title:"로그인 실패",description:h.message||"이메일 또는 비밀번호를 확인해주세요."})}catch{e({variant:"destructive",title:"로그인 실패",description:"서버 오류가 발생했습니다. 잠시 후 다시 시도해주세요."})}finally{r(!1)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:m.jsx("div",{className:"w-full max-w-md px-4",children:m.jsxs(Cn,{children:[m.jsxs(Sc,{className:"space-y-2 items-center text-center",children:[m.jsx(Oc,{size:48,className:"mb-2"}),m.jsx(Cc,{className:"text-2xl font-bold",children:"Screener AI by Newsystock"}),m.jsx(Ec,{children:"계정에 로그인하여 주식 분석 AI를 이용해보세요."})]}),m.jsx(Tc,{children:m.jsx(_m,{...l,children:m.jsxs("form",{onSubmit:l.handleSubmit(a),className:"space-y-4",children:[m.jsx(zl,{control:l.control,name:"email",render:({field:u})=>m.jsxs(qs,{children:[m.jsx(Gs,{children:"이메일"}),m.jsx(Ks,{children:m.jsx(gr,{placeholder:"name@example.com",type:"email",autoComplete:"email",...u})}),m.jsx(Js,{})]})}),m.jsx(zl,{control:l.control,name:"password",render:({field:u})=>m.jsxs(qs,{children:[m.jsx(Gs,{children:"비밀번호"}),m.jsxs("div",{className:"relative",children:[m.jsx(Ks,{children:m.jsx(gr,{placeholder:"비밀번호를 입력하세요",type:s?"text":"password",autoComplete:"current-password",...u})}),m.jsx(se,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>o(!s),children:s?m.jsx(Af,{className:"h-4 w-4"}):m.jsx(Pf,{className:"h-4 w-4"})})]}),m.jsx(Js,{})]})}),t&&m.jsx("div",{className:"text-destructive text-sm mt-2",children:t}),m.jsx(se,{type:"submit",className:"w-full",disabled:i,children:i?"로그인 중...":"로그인"})]})})}),m.jsx(Nc,{className:"flex flex-col",children:m.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"로그인하면 Newsystock의 이용약관 및 개인정보처리방침에 동의하게 됩니다."})})]})})})}var gi=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{};function Lm(n,t){return y.useReducer((e,i)=>t[e][i]??e,n)}var jn=n=>{const{present:t,children:e}=n,i=Om(t),r=typeof e=="function"?e({present:i.isPresent}):y.Children.only(e),s=ae(i.ref,zm(r));return typeof e=="function"||i.isPresent?y.cloneElement(r,{ref:s}):null};jn.displayName="Presence";function Om(n){const[t,e]=y.useState(),i=y.useRef({}),r=y.useRef(n),s=y.useRef("none"),o=n?"mounted":"unmounted",[l,a]=Lm(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Ni(i.current);s.current=l==="mounted"?u:"none"},[l]),gi(()=>{const u=i.current,h=r.current;if(h!==n){const d=s.current,f=Ni(u);n?a("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?a("UNMOUNT"):a(h&&d!==f?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,a]),gi(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,c=f=>{const g=Ni(i.current).includes(f.animationName);if(f.target===t&&g&&(a("ANIMATION_END"),!r.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},d=f=>{f.target===t&&(s.current=Ni(i.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else a("ANIMATION_END")},[t,a]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{u&&(i.current=getComputedStyle(u)),e(u)},[])}}function Ni(n){return(n==null?void 0:n.animationName)||"none"}function zm(n){var i,r;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}function zc(n,t=[]){let e=[];function i(s,o){const l=y.createContext(o),a=e.length;e=[...e,o];const u=c=>{var b;const{scope:d,children:f,...p}=c,g=((b=d==null?void 0:d[n])==null?void 0:b[a])||l,v=y.useMemo(()=>p,Object.values(p));return m.jsx(g.Provider,{value:v,children:f})};u.displayName=s+"Provider";function h(c,d){var g;const f=((g=d==null?void 0:d[n])==null?void 0:g[a])||l,p=y.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${c}\` must be used within \`${s}\``)}return[u,h]}const r=()=>{const s=e.map(o=>y.createContext(o));return function(l){const a=(l==null?void 0:l[n])||s;return y.useMemo(()=>({[`__scope${n}`]:{...l,[n]:a}}),[l,a])}};return r.scopeName=n,[i,Fm(r,...t)]}function Fm(...n){const t=n[0];if(n.length===1)return t;const e=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((l,{useScope:a,scopeName:u})=>{const c=a(s)[`__scope${u}`];return{...l,...c}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return e.scopeName=t.scopeName,e}function Wt(n){const t=y.useRef(n);return y.useEffect(()=>{t.current=n}),y.useMemo(()=>(...e)=>{var i;return(i=t.current)==null?void 0:i.call(t,...e)},[])}var jm=y.createContext(void 0);function Vm(n){const t=y.useContext(jm);return n||t||"ltr"}function Bm(n,[t,e]){return Math.min(e,Math.max(t,n))}function zt(n,t,{checkForDefaultPrevented:e=!0}={}){return function(r){if(n==null||n(r),e===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function $m(n,t){return y.useReducer((e,i)=>t[e][i]??e,n)}var Lo="ScrollArea",[Fc,VS]=zc(Lo),[Wm,pe]=Fc(Lo),jc=y.forwardRef((n,t)=>{const{__scopeScrollArea:e,type:i="hover",dir:r,scrollHideDelay:s=600,...o}=n,[l,a]=y.useState(null),[u,h]=y.useState(null),[c,d]=y.useState(null),[f,p]=y.useState(null),[g,v]=y.useState(null),[b,w]=y.useState(0),[C,M]=y.useState(0),[T,S]=y.useState(!1),[R,O]=y.useState(!1),j=ae(t,z=>a(z)),E=Vm(r);return m.jsx(Wm,{scope:e,type:i,dir:E,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:h,content:c,onContentChange:d,scrollbarX:f,onScrollbarXChange:p,scrollbarXEnabled:T,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:R,onScrollbarYEnabledChange:O,onCornerWidthChange:w,onCornerHeightChange:M,children:m.jsx(Yt.div,{dir:E,...o,ref:j,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":C+"px",...n.style}})})});jc.displayName=Lo;var Vc="ScrollAreaViewport",Bc=y.forwardRef((n,t)=>{const{__scopeScrollArea:e,children:i,asChild:r,nonce:s,...o}=n,l=pe(Vc,e),a=y.useRef(null),u=ae(t,a,l.onViewportChange);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),m.jsx(Yt.div,{"data-radix-scroll-area-viewport":"",...o,asChild:r,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...n.style},children:Jm({asChild:r,children:i},h=>m.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:h}))})]})});Bc.displayName=Vc;var Ee="ScrollAreaScrollbar",Oo=y.forwardRef((n,t)=>{const{forceMount:e,...i}=n,r=pe(Ee,n.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=r,l=n.orientation==="horizontal";return y.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),r.type==="hover"?m.jsx(Um,{...i,ref:t,forceMount:e}):r.type==="scroll"?m.jsx(Ym,{...i,ref:t,forceMount:e}):r.type==="auto"?m.jsx($c,{...i,ref:t,forceMount:e}):r.type==="always"?m.jsx(zo,{...i,ref:t}):null});Oo.displayName=Ee;var Um=y.forwardRef((n,t)=>{const{forceMount:e,...i}=n,r=pe(Ee,n.__scopeScrollArea),[s,o]=y.useState(!1);return y.useEffect(()=>{const l=r.scrollArea;let a=0;if(l){const u=()=>{window.clearTimeout(a),o(!0)},h=()=>{a=window.setTimeout(()=>o(!1),r.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(a),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[r.scrollArea,r.scrollHideDelay]),m.jsx(jn,{present:e||s,children:m.jsx($c,{"data-state":s?"visible":"hidden",...i,ref:t})})}),Ym=y.forwardRef((n,t)=>{const{forceMount:e,...i}=n,r=pe(Ee,n.__scopeScrollArea),s=n.orientation==="horizontal",o=Or(()=>a("SCROLL_END"),100),[l,a]=$m("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>a("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,r.scrollHideDelay,a]),y.useEffect(()=>{const u=r.viewport,h=s?"scrollLeft":"scrollTop";if(u){let c=u[h];const d=()=>{const f=u[h];c!==f&&(a("SCROLL"),o()),c=f};return u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[r.viewport,s,a,o]),m.jsx(jn,{present:e||l!=="hidden",children:m.jsx(zo,{"data-state":l==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:zt(n.onPointerEnter,()=>a("POINTER_ENTER")),onPointerLeave:zt(n.onPointerLeave,()=>a("POINTER_LEAVE"))})})}),$c=y.forwardRef((n,t)=>{const e=pe(Ee,n.__scopeScrollArea),{forceMount:i,...r}=n,[s,o]=y.useState(!1),l=n.orientation==="horizontal",a=Or(()=>{if(e.viewport){const u=e.viewport.offsetWidth<e.viewport.scrollWidth,h=e.viewport.offsetHeight<e.viewport.scrollHeight;o(l?u:h)}},10);return Pn(e.viewport,a),Pn(e.content,a),m.jsx(jn,{present:i||s,children:m.jsx(zo,{"data-state":s?"visible":"hidden",...r,ref:t})})}),zo=y.forwardRef((n,t)=>{const{orientation:e="vertical",...i}=n,r=pe(Ee,n.__scopeScrollArea),s=y.useRef(null),o=y.useRef(0),[l,a]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Zc(l.viewport,l.content),h={...i,sizes:l,onSizesChange:a,hasThumb:u>0&&u<1,onThumbChange:d=>s.current=d,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:d=>o.current=d};function c(d,f){return Gm(d,o.current,l,f)}return e==="horizontal"?m.jsx(Hm,{...h,ref:t,onThumbPositionChange:()=>{if(r.viewport&&s.current){const d=r.viewport.scrollLeft,f=jl(d,l,r.dir);s.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:d=>{r.viewport&&(r.viewport.scrollLeft=d)},onDragScroll:d=>{r.viewport&&(r.viewport.scrollLeft=c(d,r.dir))}}):e==="vertical"?m.jsx(Zm,{...h,ref:t,onThumbPositionChange:()=>{if(r.viewport&&s.current){const d=r.viewport.scrollTop,f=jl(d,l);s.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:d=>{r.viewport&&(r.viewport.scrollTop=d)},onDragScroll:d=>{r.viewport&&(r.viewport.scrollTop=c(d))}}):null}),Hm=y.forwardRef((n,t)=>{const{sizes:e,onSizesChange:i,...r}=n,s=pe(Ee,n.__scopeScrollArea),[o,l]=y.useState(),a=y.useRef(null),u=ae(t,a,s.onScrollbarXChange);return y.useEffect(()=>{a.current&&l(getComputedStyle(a.current))},[a]),m.jsx(Uc,{"data-orientation":"horizontal",...r,ref:u,sizes:e,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Lr(e)+"px",...n.style},onThumbPointerDown:h=>n.onThumbPointerDown(h.x),onDragScroll:h=>n.onDragScroll(h.x),onWheelScroll:(h,c)=>{if(s.viewport){const d=s.viewport.scrollLeft+h.deltaX;n.onWheelScroll(d),Qc(d,c)&&h.preventDefault()}},onResize:()=>{a.current&&s.viewport&&o&&i({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:a.current.clientWidth,paddingStart:vr(o.paddingLeft),paddingEnd:vr(o.paddingRight)}})}})}),Zm=y.forwardRef((n,t)=>{const{sizes:e,onSizesChange:i,...r}=n,s=pe(Ee,n.__scopeScrollArea),[o,l]=y.useState(),a=y.useRef(null),u=ae(t,a,s.onScrollbarYChange);return y.useEffect(()=>{a.current&&l(getComputedStyle(a.current))},[a]),m.jsx(Uc,{"data-orientation":"vertical",...r,ref:u,sizes:e,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Lr(e)+"px",...n.style},onThumbPointerDown:h=>n.onThumbPointerDown(h.y),onDragScroll:h=>n.onDragScroll(h.y),onWheelScroll:(h,c)=>{if(s.viewport){const d=s.viewport.scrollTop+h.deltaY;n.onWheelScroll(d),Qc(d,c)&&h.preventDefault()}},onResize:()=>{a.current&&s.viewport&&o&&i({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:a.current.clientHeight,paddingStart:vr(o.paddingTop),paddingEnd:vr(o.paddingBottom)}})}})}),[Xm,Wc]=Fc(Ee),Uc=y.forwardRef((n,t)=>{const{__scopeScrollArea:e,sizes:i,hasThumb:r,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:a,onDragScroll:u,onWheelScroll:h,onResize:c,...d}=n,f=pe(Ee,e),[p,g]=y.useState(null),v=ae(t,j=>g(j)),b=y.useRef(null),w=y.useRef(""),C=f.viewport,M=i.content-i.viewport,T=Wt(h),S=Wt(a),R=Or(c,10);function O(j){if(b.current){const E=j.clientX-b.current.left,z=j.clientY-b.current.top;u({x:E,y:z})}}return y.useEffect(()=>{const j=E=>{const z=E.target;(p==null?void 0:p.contains(z))&&T(E,M)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[C,p,M,T]),y.useEffect(S,[i,S]),Pn(p,R),Pn(f.content,R),m.jsx(Xm,{scope:e,scrollbar:p,hasThumb:r,onThumbChange:Wt(s),onThumbPointerUp:Wt(o),onThumbPositionChange:S,onThumbPointerDown:Wt(l),children:m.jsx(Yt.div,{...d,ref:v,style:{position:"absolute",...d.style},onPointerDown:zt(n.onPointerDown,j=>{j.button===0&&(j.target.setPointerCapture(j.pointerId),b.current=p.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),O(j))}),onPointerMove:zt(n.onPointerMove,O),onPointerUp:zt(n.onPointerUp,j=>{const E=j.target;E.hasPointerCapture(j.pointerId)&&E.releasePointerCapture(j.pointerId),document.body.style.webkitUserSelect=w.current,f.viewport&&(f.viewport.style.scrollBehavior=""),b.current=null})})})}),yr="ScrollAreaThumb",Yc=y.forwardRef((n,t)=>{const{forceMount:e,...i}=n,r=Wc(yr,n.__scopeScrollArea);return m.jsx(jn,{present:e||r.hasThumb,children:m.jsx(Qm,{ref:t,...i})})}),Qm=y.forwardRef((n,t)=>{const{__scopeScrollArea:e,style:i,...r}=n,s=pe(yr,e),o=Wc(yr,e),{onThumbPositionChange:l}=o,a=ae(t,c=>o.onThumbChange(c)),u=y.useRef(),h=Or(()=>{u.current&&(u.current(),u.current=void 0)},100);return y.useEffect(()=>{const c=s.viewport;if(c){const d=()=>{if(h(),!u.current){const f=Km(c,l);u.current=f,l()}};return l(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[s.viewport,h,l]),m.jsx(Yt.div,{"data-state":o.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:zt(n.onPointerDownCapture,c=>{const f=c.target.getBoundingClientRect(),p=c.clientX-f.left,g=c.clientY-f.top;o.onThumbPointerDown({x:p,y:g})}),onPointerUp:zt(n.onPointerUp,o.onThumbPointerUp)})});Yc.displayName=yr;var Fo="ScrollAreaCorner",Hc=y.forwardRef((n,t)=>{const e=pe(Fo,n.__scopeScrollArea),i=!!(e.scrollbarX&&e.scrollbarY);return e.type!=="scroll"&&i?m.jsx(qm,{...n,ref:t}):null});Hc.displayName=Fo;var qm=y.forwardRef((n,t)=>{const{__scopeScrollArea:e,...i}=n,r=pe(Fo,e),[s,o]=y.useState(0),[l,a]=y.useState(0),u=!!(s&&l);return Pn(r.scrollbarX,()=>{var c;const h=((c=r.scrollbarX)==null?void 0:c.offsetHeight)||0;r.onCornerHeightChange(h),a(h)}),Pn(r.scrollbarY,()=>{var c;const h=((c=r.scrollbarY)==null?void 0:c.offsetWidth)||0;r.onCornerWidthChange(h),o(h)}),u?m.jsx(Yt.div,{...i,ref:t,style:{width:s,height:l,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function vr(n){return n?parseInt(n,10):0}function Zc(n,t){const e=n/t;return isNaN(e)?0:e}function Lr(n){const t=Zc(n.viewport,n.content),e=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,i=(n.scrollbar.size-e)*t;return Math.max(i,18)}function Gm(n,t,e,i="ltr"){const r=Lr(e),s=r/2,o=t||s,l=r-o,a=e.scrollbar.paddingStart+o,u=e.scrollbar.size-e.scrollbar.paddingEnd-l,h=e.content-e.viewport,c=i==="ltr"?[0,h]:[h*-1,0];return Xc([a,u],c)(n)}function jl(n,t,e="ltr"){const i=Lr(t),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-r,o=t.content-t.viewport,l=s-i,a=e==="ltr"?[0,o]:[o*-1,0],u=Bm(n,a);return Xc([0,o],[0,l])(u)}function Xc(n,t){return e=>{if(n[0]===n[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(n[1]-n[0]);return t[0]+i*(e-n[0])}}function Qc(n,t){return n>0&&n<t}var Km=(n,t=()=>{})=>{let e={left:n.scrollLeft,top:n.scrollTop},i=0;return function r(){const s={left:n.scrollLeft,top:n.scrollTop},o=e.left!==s.left,l=e.top!==s.top;(o||l)&&t(),e=s,i=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(i)};function Or(n,t){const e=Wt(n),i=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(i.current),[]),y.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(e,t)},[e,t])}function Pn(n,t){const e=Wt(t);gi(()=>{let i=0;if(n){const r=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(e)});return r.observe(n),()=>{window.cancelAnimationFrame(i),r.unobserve(n)}}},[n,e])}function Jm(n,t){const{asChild:e,children:i}=n;if(!e)return typeof t=="function"?t(i):t;const r=y.Children.only(i);return y.cloneElement(r,{children:typeof t=="function"?t(r.props.children):t})}var qc=jc,tg=Bc,eg=Hc;const Gc=y.forwardRef(({className:n,children:t,...e},i)=>m.jsxs(qc,{ref:i,className:Nt("relative overflow-hidden",n),...e,children:[m.jsx(tg,{className:"h-full w-full rounded-[inherit]",children:t}),m.jsx(Kc,{}),m.jsx(eg,{})]}));Gc.displayName=qc.displayName;const Kc=y.forwardRef(({className:n,orientation:t="vertical",...e},i)=>m.jsx(Oo,{ref:i,orientation:t,className:Nt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...e,children:m.jsx(Yc,{className:"relative flex-1 rounded-full bg-border"})}));Kc.displayName=Oo.displayName;function Oe(n,t,{checkForDefaultPrevented:e=!0}={}){return function(r){if(n==null||n(r),e===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function jo(n,t=[]){let e=[];function i(s,o){const l=y.createContext(o),a=e.length;e=[...e,o];const u=c=>{var b;const{scope:d,children:f,...p}=c,g=((b=d==null?void 0:d[n])==null?void 0:b[a])||l,v=y.useMemo(()=>p,Object.values(p));return m.jsx(g.Provider,{value:v,children:f})};u.displayName=s+"Provider";function h(c,d){var g;const f=((g=d==null?void 0:d[n])==null?void 0:g[a])||l,p=y.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${c}\` must be used within \`${s}\``)}return[u,h]}const r=()=>{const s=e.map(o=>y.createContext(o));return function(l){const a=(l==null?void 0:l[n])||s;return y.useMemo(()=>({[`__scope${n}`]:{...l,[n]:a}}),[l,a])}};return r.scopeName=n,[i,ng(r,...t)]}function ng(...n){const t=n[0];if(n.length===1)return t;const e=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((l,{useScope:a,scopeName:u})=>{const c=a(s)[`__scope${u}`];return{...l,...c}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return e.scopeName=t.scopeName,e}function Vl(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function Jc(...n){return t=>{let e=!1;const i=n.map(r=>{const s=Vl(r,t);return!e&&typeof s=="function"&&(e=!0),s});if(e)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():Vl(n[r],null)}}}}function br(...n){return y.useCallback(Jc(...n),n)}function to(n){const t=ig(n),e=y.forwardRef((i,r)=>{const{children:s,...o}=i,l=y.Children.toArray(s),a=l.find(sg);if(a){const u=a.props.children,h=l.map(c=>c===a?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:c);return m.jsx(t,{...o,ref:r,children:y.isValidElement(u)?y.cloneElement(u,void 0,h):null})}return m.jsx(t,{...o,ref:r,children:s})});return e.displayName=`${n}.Slot`,e}function ig(n){const t=y.forwardRef((e,i)=>{const{children:r,...s}=e;if(y.isValidElement(r)){const o=lg(r),l=og(s,r.props);return r.type!==y.Fragment&&(l.ref=i?Jc(i,o):o),y.cloneElement(r,l)}return y.Children.count(r)>1?y.Children.only(null):null});return t.displayName=`${n}.SlotClone`,t}var rg=Symbol("radix.slottable");function sg(n){return y.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===rg}function og(n,t){const e={...t};for(const i in t){const r=n[i],s=t[i];/^on[A-Z]/.test(i)?r&&s?e[i]=(...l)=>{const a=s(...l);return r(...l),a}:r&&(e[i]=r):i==="style"?e[i]={...r,...s}:i==="className"&&(e[i]=[r,s].filter(Boolean).join(" "))}return{...n,...e}}function lg(n){var i,r;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}function ag(n){const t=n+"CollectionProvider",[e,i]=jo(t),[r,s]=e(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:b}=g,w=ct.useRef(null),C=ct.useRef(new Map).current;return m.jsx(r,{scope:v,itemMap:C,collectionRef:w,children:b})};o.displayName=t;const l=n+"CollectionSlot",a=to(l),u=ct.forwardRef((g,v)=>{const{scope:b,children:w}=g,C=s(l,b),M=br(v,C.collectionRef);return m.jsx(a,{ref:M,children:w})});u.displayName=l;const h=n+"CollectionItemSlot",c="data-radix-collection-item",d=to(h),f=ct.forwardRef((g,v)=>{const{scope:b,children:w,...C}=g,M=ct.useRef(null),T=br(v,M),S=s(h,b);return ct.useEffect(()=>(S.itemMap.set(M,{ref:M,...C}),()=>void S.itemMap.delete(M))),m.jsx(d,{[c]:"",ref:T,children:w})});f.displayName=h;function p(g){const v=s(n+"CollectionConsumer",g);return ct.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const C=Array.from(w.querySelectorAll(`[${c}]`));return Array.from(v.itemMap.values()).sort((S,R)=>C.indexOf(S.ref.current)-C.indexOf(R.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:f},p,i]}var xr=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},ug=$u[" useId ".trim().toString()]||(()=>{}),cg=0;function th(n){const[t,e]=y.useState(ug());return xr(()=>{n||e(i=>i??String(cg++))},[n]),n||(t?`radix-${t}`:"")}var hg=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vn=hg.reduce((n,t)=>{const e=to(`Primitive.${t}`),i=y.forwardRef((r,s)=>{const{asChild:o,...l}=r,a=o?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(a,{...l,ref:s})});return i.displayName=`Primitive.${t}`,{...n,[t]:i}},{});function dg(n){const t=y.useRef(n);return y.useEffect(()=>{t.current=n}),y.useMemo(()=>(...e)=>{var i;return(i=t.current)==null?void 0:i.call(t,...e)},[])}var fg=$u[" useInsertionEffect ".trim().toString()]||xr;function eh({prop:n,defaultProp:t,onChange:e=()=>{},caller:i}){const[r,s,o]=pg({defaultProp:t,onChange:e}),l=n!==void 0,a=l?n:r;{const h=y.useRef(n!==void 0);y.useEffect(()=>{const c=h.current;c!==l&&console.warn(`${i} is changing from ${c?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,i])}const u=y.useCallback(h=>{var c;if(l){const d=mg(h)?h(n):h;d!==n&&((c=o.current)==null||c.call(o,d))}else s(h)},[l,n,s,o]);return[a,u]}function pg({defaultProp:n,onChange:t}){const[e,i]=y.useState(n),r=y.useRef(e),s=y.useRef(t);return fg(()=>{s.current=t},[t]),y.useEffect(()=>{var o;r.current!==e&&((o=s.current)==null||o.call(s,e),r.current=e)},[e,r]),[e,i,s]}function mg(n){return typeof n=="function"}var gg=y.createContext(void 0);function nh(n){const t=y.useContext(gg);return n||t||"ltr"}var ss="rovingFocusGroup.onEntryFocus",yg={bubbles:!1,cancelable:!0},ki="RovingFocusGroup",[eo,ih,vg]=ag(ki),[bg,rh]=jo(ki,[vg]),[xg,wg]=bg(ki),sh=y.forwardRef((n,t)=>m.jsx(eo.Provider,{scope:n.__scopeRovingFocusGroup,children:m.jsx(eo.Slot,{scope:n.__scopeRovingFocusGroup,children:m.jsx(kg,{...n,ref:t})})}));sh.displayName=ki;var kg=y.forwardRef((n,t)=>{const{__scopeRovingFocusGroup:e,orientation:i,loop:r=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:a,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...c}=n,d=y.useRef(null),f=br(t,d),p=nh(s),[g,v]=eh({prop:o,defaultProp:l??null,onChange:a,caller:ki}),[b,w]=y.useState(!1),C=dg(u),M=ih(e),T=y.useRef(!1),[S,R]=y.useState(0);return y.useEffect(()=>{const O=d.current;if(O)return O.addEventListener(ss,C),()=>O.removeEventListener(ss,C)},[C]),m.jsx(xg,{scope:e,orientation:i,dir:p,loop:r,currentTabStopId:g,onItemFocus:y.useCallback(O=>v(O),[v]),onItemShiftTab:y.useCallback(()=>w(!0),[]),onFocusableItemAdd:y.useCallback(()=>R(O=>O+1),[]),onFocusableItemRemove:y.useCallback(()=>R(O=>O-1),[]),children:m.jsx(Vn.div,{tabIndex:b||S===0?-1:0,"data-orientation":i,...c,ref:f,style:{outline:"none",...n.style},onMouseDown:Oe(n.onMouseDown,()=>{T.current=!0}),onFocus:Oe(n.onFocus,O=>{const j=!T.current;if(O.target===O.currentTarget&&j&&!b){const E=new CustomEvent(ss,yg);if(O.currentTarget.dispatchEvent(E),!E.defaultPrevented){const z=M().filter(Y=>Y.focusable),I=z.find(Y=>Y.active),X=z.find(Y=>Y.id===g),V=[I,X,...z].filter(Boolean).map(Y=>Y.ref.current);ah(V,h)}}T.current=!1}),onBlur:Oe(n.onBlur,()=>w(!1))})})}),oh="RovingFocusGroupItem",lh=y.forwardRef((n,t)=>{const{__scopeRovingFocusGroup:e,focusable:i=!0,active:r=!1,tabStopId:s,children:o,...l}=n,a=th(),u=s||a,h=wg(oh,e),c=h.currentTabStopId===u,d=ih(e),{onFocusableItemAdd:f,onFocusableItemRemove:p,currentTabStopId:g}=h;return y.useEffect(()=>{if(i)return f(),()=>p()},[i,f,p]),m.jsx(eo.ItemSlot,{scope:e,id:u,focusable:i,active:r,children:m.jsx(Vn.span,{tabIndex:c?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:Oe(n.onMouseDown,v=>{i?h.onItemFocus(u):v.preventDefault()}),onFocus:Oe(n.onFocus,()=>h.onItemFocus(u)),onKeyDown:Oe(n.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){h.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=Cg(v,h.orientation,h.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let C=d().filter(M=>M.focusable).map(M=>M.ref.current);if(b==="last")C.reverse();else if(b==="prev"||b==="next"){b==="prev"&&C.reverse();const M=C.indexOf(v.currentTarget);C=h.loop?Eg(C,M+1):C.slice(M+1)}setTimeout(()=>ah(C))}}),children:typeof o=="function"?o({isCurrentTabStop:c,hasTabStop:g!=null}):o})})});lh.displayName=oh;var _g={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Sg(n,t){return t!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function Cg(n,t,e){const i=Sg(n.key,e);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return _g[i]}function ah(n,t=!1){const e=document.activeElement;for(const i of n)if(i===e||(i.focus({preventScroll:t}),document.activeElement!==e))return}function Eg(n,t){return n.map((e,i)=>n[(t+i)%n.length])}var Tg=sh,Ng=lh;function Rg(n,t){return y.useReducer((e,i)=>t[e][i]??e,n)}var uh=n=>{const{present:t,children:e}=n,i=Mg(t),r=typeof e=="function"?e({present:i.isPresent}):y.Children.only(e),s=br(i.ref,Ag(r));return typeof e=="function"||i.isPresent?y.cloneElement(r,{ref:s}):null};uh.displayName="Presence";function Mg(n){const[t,e]=y.useState(),i=y.useRef(null),r=y.useRef(n),s=y.useRef("none"),o=n?"mounted":"unmounted",[l,a]=Rg(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Ri(i.current);s.current=l==="mounted"?u:"none"},[l]),xr(()=>{const u=i.current,h=r.current;if(h!==n){const d=s.current,f=Ri(u);n?a("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?a("UNMOUNT"):a(h&&d!==f?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,a]),xr(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,c=f=>{const g=Ri(i.current).includes(f.animationName);if(f.target===t&&g&&(a("ANIMATION_END"),!r.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},d=f=>{f.target===t&&(s.current=Ri(i.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else a("ANIMATION_END")},[t,a]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{i.current=u?getComputedStyle(u):null,e(u)},[])}}function Ri(n){return(n==null?void 0:n.animationName)||"none"}function Ag(n){var i,r;let t=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}var zr="Tabs",[Pg,BS]=jo(zr,[rh]),ch=rh(),[Ig,Vo]=Pg(zr),hh=y.forwardRef((n,t)=>{const{__scopeTabs:e,value:i,onValueChange:r,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:a="automatic",...u}=n,h=nh(l),[c,d]=eh({prop:i,onChange:r,defaultProp:s??"",caller:zr});return m.jsx(Ig,{scope:e,baseId:th(),value:c,onValueChange:d,orientation:o,dir:h,activationMode:a,children:m.jsx(Vn.div,{dir:h,"data-orientation":o,...u,ref:t})})});hh.displayName=zr;var dh="TabsList",fh=y.forwardRef((n,t)=>{const{__scopeTabs:e,loop:i=!0,...r}=n,s=Vo(dh,e),o=ch(e);return m.jsx(Tg,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:i,children:m.jsx(Vn.div,{role:"tablist","aria-orientation":s.orientation,...r,ref:t})})});fh.displayName=dh;var ph="TabsTrigger",mh=y.forwardRef((n,t)=>{const{__scopeTabs:e,value:i,disabled:r=!1,...s}=n,o=Vo(ph,e),l=ch(e),a=vh(o.baseId,i),u=bh(o.baseId,i),h=i===o.value;return m.jsx(Ng,{asChild:!0,...l,focusable:!r,active:h,children:m.jsx(Vn.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:a,...s,ref:t,onMouseDown:Oe(n.onMouseDown,c=>{!r&&c.button===0&&c.ctrlKey===!1?o.onValueChange(i):c.preventDefault()}),onKeyDown:Oe(n.onKeyDown,c=>{[" ","Enter"].includes(c.key)&&o.onValueChange(i)}),onFocus:Oe(n.onFocus,()=>{const c=o.activationMode!=="manual";!h&&!r&&c&&o.onValueChange(i)})})})});mh.displayName=ph;var gh="TabsContent",yh=y.forwardRef((n,t)=>{const{__scopeTabs:e,value:i,forceMount:r,children:s,...o}=n,l=Vo(gh,e),a=vh(l.baseId,i),u=bh(l.baseId,i),h=i===l.value,c=y.useRef(h);return y.useEffect(()=>{const d=requestAnimationFrame(()=>c.current=!1);return()=>cancelAnimationFrame(d)},[]),m.jsx(uh,{present:r||h,children:({present:d})=>m.jsx(Vn.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":a,hidden:!d,id:u,tabIndex:0,...o,ref:t,style:{...n.style,animationDuration:c.current?"0s":void 0},children:d&&s})})});yh.displayName=gh;function vh(n,t){return`${n}-trigger-${t}`}function bh(n,t){return`${n}-content-${t}`}var Dg=hh,xh=fh,wh=mh,kh=yh;const Lg=Dg,_h=y.forwardRef(({className:n,...t},e)=>m.jsx(xh,{ref:e,className:Nt("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",n),...t}));_h.displayName=xh.displayName;const ti=y.forwardRef(({className:n,...t},e)=>m.jsx(wh,{ref:e,className:Nt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",n),...t}));ti.displayName=wh.displayName;const Og=y.forwardRef(({className:n,...t},e)=>m.jsx(kh,{ref:e,className:Nt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...t}));Og.displayName=kh.displayName;function _t(n){var t=n.width,e=n.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(e<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:e}}function rn(n,t){return n.width===t.width&&n.height===t.height}var zg=function(){function n(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return n.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(n.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),n.prototype.subscribe=function(t){var e=this,i={next:t};return this._observers.push(i),{unsubscribe:function(){e._observers=e._observers.filter(function(r){return r!==i})}}},n.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},n.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},n.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},n.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},n}();function Fg(n){return new zg(n)}var jg=function(){function n(t,e,i){var r;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=_t({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=e??function(s){return s},this._allowResizeObserver=(r=i==null?void 0:i.allowResizeObserver)!==null&&r!==void 0?r:!0,this._chooseAndInitObserver()}return n.prototype.dispose=function(){var t,e;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(e=this._devicePixelRatioObservable)===null||e===void 0||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(n.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bitmapSize",{get:function(){return _t({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),n.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=_t(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},n.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},n.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(n.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),n.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},n.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},n.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},n.prototype._resizeBitmap=function(t){var e=this.bitmapSize;rn(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},n.prototype._emitBitmapSizeChanged=function(t,e){var i=this;this._bitmapSizeChangedListeners.forEach(function(r){return r.call(i,t,e)})},n.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,i=_t(this._transformBitmapSize(t,this._canvasElementClientSize)),r=rn(this.bitmapSize,i)?null:i;e===null&&r===null||e!==null&&r!==null&&rn(e,r)||(this._suggestedBitmapSize=r,this._emitSuggestedBitmapSizeChanged(e,r))},n.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var i=this;this._suggestedBitmapSizeChangedListeners.forEach(function(r){return r.call(i,t,e)})},n.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}Bg().then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})},n.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var e=Bl(this._canvasElement);if(e===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=Fg(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},n.prototype._invalidateBitmapSize=function(){var t,e;if(this._canvasElement!==null){var i=Bl(this._canvasElement);if(i!==null){var r=(e=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&e!==void 0?e:i.devicePixelRatio,s=this._canvasElement.getClientRects(),o=s[0]!==void 0?$g(s[0],r):_t({width:this._canvasElementClientSize.width*r,height:this._canvasElementClientSize.height*r});this._suggestNewBitmapSize(o)}}},n.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var i=e.find(function(o){return o.target===t._canvasElement});if(!(!i||!i.devicePixelContentBoxSize||!i.devicePixelContentBoxSize[0])){var r=i.devicePixelContentBoxSize[0],s=_t({width:r.inlineSize,height:r.blockSize});t._suggestNewBitmapSize(s)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},n}();function Vg(n,t){if(t.type==="device-pixel-content-box")return new jg(n,t.transform,t.options);throw new Error("Unsupported binding target")}function Bl(n){return n.ownerDocument.defaultView}function Bg(){return new Promise(function(n){var t=new ResizeObserver(function(e){n(e.every(function(i){return"devicePixelContentBoxSize"in i})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function $g(n,t){return _t({width:Math.round(n.left*t+n.width*t)-Math.round(n.left*t),height:Math.round(n.top*t+n.height*t)-Math.round(n.top*t)})}var Wg=function(){function n(t,e,i){if(e.width===0||e.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,i.width===0||i.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=t}return n.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},n.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(n.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),n}();function ln(n,t){var e=n.canvasElementClientSize;if(e.width===0||e.height===0)return null;var i=n.bitmapSize;if(i.width===0||i.height===0)return null;var r=n.canvasElement.getContext("2d",t);return r===null?null:new Wg(r,e,i)}/*!
 * @license
 * TradingView Lightweight Charts™ v5.0.7
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const Sh={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var $l,Wl;function In(n,t){const e={0:[],1:[n.lineWidth,n.lineWidth],2:[2*n.lineWidth,2*n.lineWidth],3:[6*n.lineWidth,6*n.lineWidth],4:[n.lineWidth,4*n.lineWidth]}[t];n.setLineDash(e)}function Ch(n,t,e,i){n.beginPath();const r=n.lineWidth%2?.5:0;n.moveTo(e,t+r),n.lineTo(i,t+r),n.stroke()}function $t(n,t){if(!n)throw new Error("Assertion failed"+(t?": "+t:""))}function ne(n){if(n===void 0)throw new Error("Value is undefined");return n}function W(n){if(n===null)throw new Error("Value is null");return n}function Ze(n){return W(ne(n))}(function(n){n[n.Simple=0]="Simple",n[n.WithSteps=1]="WithSteps",n[n.Curved=2]="Curved"})($l||($l={})),function(n){n[n.Solid=0]="Solid",n[n.Dotted=1]="Dotted",n[n.Dashed=2]="Dashed",n[n.LargeDashed=3]="LargeDashed",n[n.SparseDotted=4]="SparseDotted"}(Wl||(Wl={}));class Dt{constructor(){this.t=[]}i(t,e,i){const r={h:t,l:e,o:i===!0};this.t.push(r)}_(t){const e=this.t.findIndex(i=>t===i.h);e>-1&&this.t.splice(e,1)}u(t){this.t=this.t.filter(e=>e.l!==t)}p(t,e,i){const r=[...this.t];this.t=this.t.filter(s=>!s.o),r.forEach(s=>s.h(t,e,i))}v(){return this.t.length>0}m(){this.t=[]}}function oe(n,...t){for(const e of t)for(const i in e)e[i]!==void 0&&Object.prototype.hasOwnProperty.call(e,i)&&!["__proto__","constructor","prototype"].includes(i)&&(typeof e[i]!="object"||n[i]===void 0||Array.isArray(e[i])?n[i]=e[i]:oe(n[i],e[i]));return n}function Dn(n){return typeof n=="number"&&isFinite(n)}function yi(n){return typeof n=="number"&&n%1==0}function _i(n){return typeof n=="string"}function Mi(n){return typeof n=="boolean"}function Ie(n){const t=n;if(!t||typeof t!="object")return t;let e,i,r;for(i in e=Array.isArray(t)?[]:{},t)t.hasOwnProperty(i)&&(r=t[i],e[i]=r&&typeof r=="object"?Ie(r):r);return e}function Ug(n){return n!==null}function no(n){return n===null?void 0:n}const Eh="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function wr(n,t,e){return t===void 0&&(t=Eh),`${e=e!==void 0?`${e} `:""}${n}px ${t}`}class Yg{constructor(t){this.M={S:1,C:5,k:NaN,P:"",T:"",R:"",D:"",V:0,I:0,B:0,A:0,L:0},this.O=t}N(){const t=this.M,e=this.W(),i=this.F();return t.k===e&&t.T===i||(t.k=e,t.T=i,t.P=wr(e,i),t.A=2.5/12*e,t.V=t.A,t.I=e/12*t.C,t.B=e/12*t.C,t.L=0),t.R=this.H(),t.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}W(){return this.O.N().layout.fontSize}F(){return this.O.N().layout.fontFamily}}function os(n){return n<0?0:n>255?255:Math.round(n)||0}function Ul(n){return .199*n[0]+.687*n[1]+.114*n[2]}class Hg{constructor(t,e){this.q=new Map,this.Y=t,e&&(this.q=e)}j(t,e){if(t==="transparent")return t;const i=this.K(t),r=i[3];return`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${e*r})`}X(t){const e=this.K(t);return{Z:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,G:Ul(e)>160?"black":"white"}}J(t){return Ul(this.K(t))}tt(t,e,i){const[r,s,o,l]=this.K(t),[a,u,h,c]=this.K(e),d=[os(r+i*(a-r)),os(s+i*(u-s)),os(o+i*(h-o)),(f=l+i*(c-l),f<=0||f>1?Math.min(Math.max(f,0),1):Math.round(1e4*f)/1e4)];var f;return`rgba(${d[0]}, ${d[1]}, ${d[2]}, ${d[3]})`}K(t){const e=this.q.get(t);if(e)return e;const i=function(o){const l=document.createElement("div");l.style.display="none",document.body.appendChild(l),l.style.color=o;const a=window.getComputedStyle(l).color;return document.body.removeChild(l),a}(t),r=i.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!r){if(this.Y.length)for(const o of this.Y){const l=o(t);if(l)return this.q.set(t,l),l}throw new Error(`Failed to parse color: ${t}`)}const s=[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),r[4]?parseFloat(r[4]):1];return this.q.set(t,s),s}}class Zg{constructor(){this.it=[]}st(t){this.it=t}nt(t,e,i){this.it.forEach(r=>{r.nt(t,e,i)})}}class Bn{nt(t,e,i){t.useBitmapCoordinateSpace(r=>this.et(r,e,i))}}class Xg extends Bn{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){if(this.rt===null||this.rt.lt===null)return;const r=this.rt.lt,s=this.rt,o=Math.max(1,Math.floor(e))%2/2,l=a=>{t.beginPath();for(let u=r.to-1;u>=r.from;--u){const h=s.ot[u],c=Math.round(h._t*e)+o,d=h.ut*i,f=a*i+o;t.moveTo(c,d),t.arc(c,d,f,0,2*Math.PI)}t.fill()};s.ct>0&&(t.fillStyle=s.dt,l(s.ft+s.ct)),t.fillStyle=s.vt,l(s.ft)}}function Qg(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const qg={from:0,to:1};class Gg{constructor(t,e,i){this.Mt=new Zg,this.bt=[],this.St=[],this.xt=!0,this.O=t,this.Ct=e,this.yt=i,this.Mt.st(this.bt)}kt(t){this.Pt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}Pt(){const t=this.yt.Dt();t.length!==this.bt.length&&(this.St=t.map(Qg),this.bt=this.St.map(e=>{const i=new Xg;return i.ht(e),i}),this.Mt.st(this.bt))}Rt(){const t=this.Ct.N().mode===2||!this.Ct.Vt(),e=this.yt.It(),i=this.Ct.Bt(),r=this.O.At();this.Pt(),e.forEach((s,o)=>{const l=this.St[o],a=s.Et(i),u=s.zt();!t&&a!==null&&s.Vt()&&u!==null?(l.vt=a.Lt,l.ft=a.ft,l.ct=a.Ot,l.ot[0].gt=a.gt,l.ot[0].ut=s.Wt().Nt(a.gt,u.Ft),l.dt=a.Ht??this.O.Ut(l.ot[0].ut/s.Wt().$t()),l.ot[0].wt=i,l.ot[0]._t=r.qt(i),l.lt=qg):l.lt=null})}}class Kg extends Bn{constructor(t){super(),this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(this.Yt===null)return;const s=this.Yt.jt.Vt,o=this.Yt.Kt.Vt;if(!s&&!o)return;const l=Math.round(this.Yt._t*i),a=Math.round(this.Yt.ut*r);t.lineCap="butt",s&&l>=0&&(t.lineWidth=Math.floor(this.Yt.jt.ct*i),t.strokeStyle=this.Yt.jt.R,t.fillStyle=this.Yt.jt.R,In(t,this.Yt.jt.Xt),function(u,h,c,d){u.beginPath();const f=u.lineWidth%2?.5:0;u.moveTo(h+f,c),u.lineTo(h+f,d),u.stroke()}(t,l,0,e.height)),o&&a>=0&&(t.lineWidth=Math.floor(this.Yt.Kt.ct*r),t.strokeStyle=this.Yt.Kt.R,t.fillStyle=this.Yt.Kt.R,In(t,this.Yt.Kt.Xt),Ch(t,a,0,e.width))}}class Jg{constructor(t,e){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new Kg(this.Zt),this.Jt=t,this.yt=e}kt(){this.xt=!0}Tt(t){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){const t=this.Jt.Vt(),e=this.yt.Qt().N().crosshair,i=this.Zt;if(e.mode===2)return i.Kt.Vt=!1,void(i.jt.Vt=!1);i.Kt.Vt=t&&this.Jt.ti(this.yt),i.jt.Vt=t&&this.Jt.ii(),i.Kt.ct=e.horzLine.width,i.Kt.Xt=e.horzLine.style,i.Kt.R=e.horzLine.color,i.jt.ct=e.vertLine.width,i.jt.Xt=e.vertLine.style,i.jt.R=e.vertLine.color,i._t=this.Jt.si(),i.ut=this.Jt.ni()}}function Fr(n,t,e,i,r,s){n.save(),n.globalCompositeOperation="copy",n.fillStyle=s,n.fillRect(t,e,i,r),n.restore()}function Yl(n,t,e,i,r,s){n.beginPath(),n.roundRect?n.roundRect(t,e,i,r,s):(n.lineTo(t+i-s[1],e),s[1]!==0&&n.arcTo(t+i,e,t+i,e+s[1],s[1]),n.lineTo(t+i,e+r-s[2]),s[2]!==0&&n.arcTo(t+i,e+r,t+i-s[2],e+r,s[2]),n.lineTo(t+s[3],e+r),s[3]!==0&&n.arcTo(t,e+r,t,e+r-s[3],s[3]),n.lineTo(t,e+s[0]),s[0]!==0&&n.arcTo(t,e,t+s[0],e,s[0]))}function Hl(n,t,e,i,r,s,o=0,l=[0,0,0,0],a=""){if(n.save(),!o||!a||a===s)return Yl(n,t,e,i,r,l),n.fillStyle=s,n.fill(),void n.restore();const u=o/2;var h;Yl(n,t+u,e+u,i-o,r-o,(h=-u,l.map(c=>c===0?c:c+h))),s!=="transparent"&&(n.fillStyle=s,n.fill()),a!=="transparent"&&(n.lineWidth=o,n.strokeStyle=a,n.closePath(),n.stroke()),n.restore()}function Th(n,t,e,i,r,s,o){n.save(),n.globalCompositeOperation="copy";const l=n.createLinearGradient(0,0,0,r);l.addColorStop(0,s),l.addColorStop(1,o),n.fillStyle=l,n.fillRect(t,e,i,r),n.restore()}class Zl{constructor(t,e){this.ht(t,e)}ht(t,e){this.Yt=t,this.ei=e}$t(t,e){return this.Yt.Vt?t.k+t.A+t.V:0}nt(t,e,i,r){if(!this.Yt.Vt||this.Yt.ri.length===0)return;const s=this.Yt.R,o=this.ei.Z,l=t.useBitmapCoordinateSpace(a=>{const u=a.context;u.font=e.P;const h=this.hi(a,e,i,r),c=h.ai;return h.li?Hl(u,c.oi,c._i,c.ui,c.ci,o,c.di,[c.ft,0,0,c.ft],o):Hl(u,c.fi,c._i,c.ui,c.ci,o,c.di,[0,c.ft,c.ft,0],o),this.Yt.pi&&(u.fillStyle=s,u.fillRect(c.fi,c.mi,c.wi-c.fi,c.gi)),this.Yt.Mi&&(u.fillStyle=e.D,u.fillRect(h.li?c.bi-c.di:0,c._i,c.di,c.Si-c._i)),h});t.useMediaCoordinateSpace(({context:a})=>{const u=l.xi;a.font=e.P,a.textAlign=l.li?"right":"left",a.textBaseline="middle",a.fillStyle=s,a.fillText(this.Yt.ri,u.Ci,(u._i+u.Si)/2+u.yi)})}hi(t,e,i,r){const{context:s,bitmapSize:o,mediaSize:l,horizontalPixelRatio:a,verticalPixelRatio:u}=t,h=this.Yt.pi||!this.Yt.ki?e.C:0,c=this.Yt.Pi?e.S:0,d=e.A+this.ei.Ti,f=e.V+this.ei.Ri,p=e.I,g=e.B,v=this.Yt.ri,b=e.k,w=i.Di(s,v),C=Math.ceil(i.Vi(s,v)),M=b+d+f,T=e.S+p+g+C+h,S=Math.max(1,Math.floor(u));let R=Math.round(M*u);R%2!=S%2&&(R+=1);const O=c>0?Math.max(1,Math.floor(c*a)):0,j=Math.round(T*a),E=Math.round(h*a),z=this.ei.Ii??this.ei.Bi,I=Math.round(z*u)-Math.floor(.5*u),X=Math.floor(I+S/2-R/2),N=X+R,V=r==="right",Y=V?l.width-c:c,q=V?o.width-O:O;let J,rt,x;return V?(J=q-j,rt=q-E,x=Y-h-p-c):(J=q+j,rt=q+E,x=Y+h+p),{li:V,ai:{_i:X,mi:I,Si:N,ui:j,ci:R,ft:2*a,di:O,oi:J,fi:q,wi:rt,gi:S,bi:o.width},xi:{_i:X/u,Si:N/u,Ci:x,yi:w}}}}class jr{constructor(t){this.Ai={Bi:0,Z:"#000",Ri:0,Ti:0},this.Ei={ri:"",Vt:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,Pi:!1},this.zi={ri:"",Vt:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,Pi:!0},this.xt=!0,this.Li=new(t||Zl)(this.Ei,this.Ai),this.Oi=new(t||Zl)(this.zi,this.Ai)}ri(){return this.Ni(),this.Ei.ri}Bi(){return this.Ni(),this.Ai.Bi}kt(){this.xt=!0}$t(t,e=!1){return Math.max(this.Li.$t(t,e),this.Oi.$t(t,e))}Wi(){return this.Ai.Ii||0}Fi(t){this.Ai.Ii=t}Hi(){return this.Ni(),this.Ei.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ei.Vt}Tt(t){return this.Ni(),this.Ei.pi=this.Ei.pi&&t.N().ticksVisible,this.zi.pi=this.zi.pi&&t.N().ticksVisible,this.Li.ht(this.Ei,this.Ai),this.Oi.ht(this.zi,this.Ai),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ei,this.Ai),this.Oi.ht(this.zi,this.Ai),this.Oi}Ni(){this.xt&&(this.Ei.pi=!0,this.zi.pi=!1,this.qi(this.Ei,this.zi,this.Ai))}}class ty extends jr{constructor(t,e,i){super(),this.Jt=t,this.Yi=e,this.ji=i}qi(t,e,i){if(t.Vt=!1,this.Jt.N().mode===2)return;const r=this.Jt.N().horzLine;if(!r.labelVisible)return;const s=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||s===null)return;const o=this.Yi.Xi().X(r.labelBackgroundColor);i.Z=o.Z,t.R=o.G;const l=2/12*this.Yi.k();i.Ti=l,i.Ri=l;const a=this.ji(this.Yi);i.Bi=a.Bi,t.ri=this.Yi.Zi(a.gt,s),t.Vt=!0}}const ey=/[1-9]/g;class Nh{constructor(){this.Yt=null}ht(t){this.Yt=t}nt(t,e){if(this.Yt===null||this.Yt.Vt===!1||this.Yt.ri.length===0)return;const i=t.useMediaCoordinateSpace(({context:d})=>(d.font=e.P,Math.round(e.Gi.Vi(d,W(this.Yt).ri,ey))));if(i<=0)return;const r=e.Ji,s=i+2*r,o=s/2,l=this.Yt.Qi;let a=this.Yt.Bi,u=Math.floor(a-o)+.5;u<0?(a+=Math.abs(0-u),u=Math.floor(a-o)+.5):u+s>l&&(a-=Math.abs(l-(u+s)),u=Math.floor(a-o)+.5);const h=u+s,c=Math.ceil(0+e.S+e.C+e.A+e.k+e.V);t.useBitmapCoordinateSpace(({context:d,horizontalPixelRatio:f,verticalPixelRatio:p})=>{const g=W(this.Yt);d.fillStyle=g.Z;const v=Math.round(u*f),b=Math.round(0*p),w=Math.round(h*f),C=Math.round(c*p),M=Math.round(2*f);if(d.beginPath(),d.moveTo(v,b),d.lineTo(v,C-M),d.arcTo(v,C,v+M,C,M),d.lineTo(w-M,C),d.arcTo(w,C,w,C-M,M),d.lineTo(w,b),d.fill(),g.pi){const T=Math.round(g.Bi*f),S=b,R=Math.round((S+e.C)*p);d.fillStyle=g.R;const O=Math.max(1,Math.floor(f)),j=Math.floor(.5*f);d.fillRect(T-j,S,O,R-S)}}),t.useMediaCoordinateSpace(({context:d})=>{const f=W(this.Yt),p=0+e.S+e.C+e.A+e.k/2;d.font=e.P,d.textAlign="left",d.textBaseline="middle",d.fillStyle=f.R;const g=e.Gi.Di(d,"Apr0");d.translate(u+r,p+g),d.fillText(f.ri,0,0)})}}class ny{constructor(t,e,i){this.xt=!0,this.Gt=new Nh,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Bi:NaN,pi:!0},this.Ct=t,this.ts=e,this.ji=i}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const t=this.Zt;if(t.Vt=!1,this.Ct.N().mode===2)return;const e=this.Ct.N().vertLine;if(!e.labelVisible)return;const i=this.ts.At();if(i.Ki())return;t.Qi=i.Qi();const r=this.ji();if(r===null)return;t.Bi=r.Bi;const s=i.ss(this.Ct.Bt());t.ri=i.ns(W(s)),t.Vt=!0;const o=this.ts.Xi().X(e.labelBackgroundColor);t.Z=o.Z,t.R=o.G,t.pi=i.N().ticksVisible}}class Rh{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(t){this.rs=t}Wt(){return this.es}_s(t){this.es=t}us(t){return[]}cs(){return[]}Vt(){return!0}}var Xl;(function(n){n[n.Normal=0]="Normal",n[n.Magnet=1]="Magnet",n[n.Hidden=2]="Hidden",n[n.MagnetOHLC=3]="MagnetOHLC"})(Xl||(Xl={}));class iy extends Rh{constructor(t,e){super(),this.yt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=t,this.ys=e,this.ks=((r,s)=>o=>{const l=s(),a=r();if(o===W(this.yt).Ps())return{gt:a,Bi:l};{const u=W(o.zt());return{gt:o.Ts(l,u),Bi:l}}})(()=>this.ds,()=>this.Ss);const i=((r,s)=>()=>{const o=this.ts.At().Rs(r()),l=s();return o&&Number.isFinite(l)?{wt:o,Bi:l}:null})(()=>this.fs,()=>this.si());this.Ds=new ny(this,t,i)}N(){return this.ys}Vs(t,e){this.xs=t,this.Cs=e}Is(){this.xs=NaN,this.Cs=NaN}Bs(){return this.xs}As(){return this.Cs}Es(t,e,i){this.ws||(this.ws=!0),this.ps=!0,this.zs(t,e,i)}Bt(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.yt=null,this.Is(),this.Ns()}Ws(t){let e=this.gs.get(t);e||(e=new Jg(this,t),this.gs.set(t,e));let i=this.Ms.get(t);return i||(i=new Gg(this.ts,this,t),this.Ms.set(t,i)),[e,i]}ti(t){return t===this.yt&&this.ys.horzLine.visible}ii(){return this.ys.vertLine.visible}Fs(t,e){this.ps&&this.yt===t||this.vs.clear();const i=[];return this.yt===t&&i.push(this.Hs(this.vs,e,this.ks)),i}cs(){return this.ps?[this.Ds]:[]}Us(){return this.yt}Ns(){this.ts.$s().forEach(t=>{var e,i;(e=this.gs.get(t))==null||e.kt(),(i=this.Ms.get(t))==null||i.kt()}),this.vs.forEach(t=>t.kt()),this.Ds.kt()}qs(t){return t&&!t.Ps().Ki()?t.Ps():null}zs(t,e,i){this.Ys(t,e,i)&&this.Ns()}Ys(t,e,i){const r=this.bs,s=this.Ss,o=this.ds,l=this.fs,a=this.yt,u=this.qs(i);this.fs=t,this.bs=isNaN(t)?NaN:this.ts.At().qt(t),this.yt=i;const h=u!==null?u.zt():null;return u!==null&&h!==null?(this.ds=e,this.Ss=u.Nt(e,h)):(this.ds=NaN,this.Ss=NaN),r!==this.bs||s!==this.Ss||l!==this.fs||o!==this.ds||a!==this.yt}Os(){const t=this.ts.js().map(i=>i.Xs().Ks()).filter(Ug),e=t.length===0?null:Math.max(...t);this.fs=e!==null?e:NaN}Hs(t,e,i){let r=t.get(e);return r===void 0&&(r=new ty(this,e,i),t.set(e,r)),r}}function Vr(n){return n==="left"||n==="right"}class Vt{constructor(t){this.Zs=new Map,this.Gs=[],this.Js=t}Qs(t,e){const i=function(r,s){return r===void 0?s:{tn:Math.max(r.tn,s.tn),sn:r.sn||s.sn}}(this.Zs.get(t),e);this.Zs.set(t,i)}nn(){return this.Js}en(t){const e=this.Zs.get(t);return e===void 0?{tn:this.Js}:{tn:Math.max(this.Js,e.tn),sn:e.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(t){this.hn(),this.Gs=[{an:1,Ft:t}]}_n(t){this.un(),this.Gs.push({an:5,Ft:t})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(t){this.hn(),this.Gs.push({an:2,Ft:t})}fn(t){this.hn(),this.Gs.push({an:3,Ft:t})}pn(){return this.Gs}vn(t){for(const e of t.Gs)this.mn(e);this.Js=Math.max(this.Js,t.Js),t.Zs.forEach((e,i)=>{this.Qs(i,e)})}static wn(){return new Vt(2)}static gn(){return new Vt(3)}mn(t){switch(t.an){case 0:this.rn();break;case 1:this.ln(t.Ft);break;case 2:this.dn(t.Ft);break;case 3:this.fn(t.Ft);break;case 4:this.cn();break;case 5:this._n(t.Ft);break;case 6:this.un()}}un(){const t=this.Gs.findIndex(e=>e.an===5);t!==-1&&this.Gs.splice(t,1)}}const Ql=".";function De(n,t){if(!Dn(n))return"n/a";if(!yi(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?n.toString():("0000000000000000"+n.toString()).slice(-t)}class Br{constructor(t,e){if(e||(e=1),Dn(t)&&yi(t)||(t=100),t<0)throw new TypeError("invalid base");this.Yi=t,this.Mn=e,this.bn()}format(t){const e=t<0?"−":"";return t=Math.abs(t),e+this.Sn(t)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let t=this.Yi;for(;t>1;)t/=10,this.xn++}}Sn(t){const e=this.Yi/this.Mn;let i=Math.floor(t),r="";const s=this.xn!==void 0?this.xn:NaN;if(e>1){let o=+(Math.round(t*e)-i*e).toFixed(this.xn);o>=e&&(o-=e,i+=1),r=Ql+De(+o.toFixed(this.xn)*this.Mn,s)}else i=Math.round(i*e)/e,s>0&&(r=Ql+De(0,s));return i.toFixed(0)+r}}class Mh extends Br{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class ry{constructor(t){this.Cn=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.yn(t):t<999995?e+this.yn(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.yn(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.yn(t/1e9)+"B")}yn(t){let e;const i=Math.pow(10,this.Cn);return e=(t=Math.round(t*i)/i)>=1e-15&&t<1?t.toFixed(this.Cn).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,(r,s)=>s)}}const sy=/[2-9]/g;class kr{constructor(t=50){this.kn=0,this.Pn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=t}In(){this.kn=0,this.Dn.clear(),this.Pn=1,this.Tn=1,this.Rn={}}Vi(t,e,i){return this.Bn(t,e,i).width}Di(t,e,i){const r=this.Bn(t,e,i);return((r.actualBoundingBoxAscent||0)-(r.actualBoundingBoxDescent||0))/2}Bn(t,e,i){const r=i||sy,s=String(e).replace(r,"0");if(this.Dn.has(s))return ne(this.Dn.get(s)).An;if(this.kn===this.Vn){const l=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(l),this.Tn++,this.kn--}t.save(),t.textBaseline="middle";const o=t.measureText(s);return t.restore(),o.width===0&&e.length||(this.Dn.set(s,{An:o,En:this.Pn}),this.Rn[this.Pn]=s,this.kn++,this.Pn++),o}}class oy{constructor(t){this.zn=null,this.M=null,this.Ln="right",this.On=t}Nn(t,e,i){this.zn=t,this.M=e,this.Ln=i}nt(t){this.M!==null&&this.zn!==null&&this.zn.nt(t,this.M,this.On,this.Ln)}}class Ah{constructor(t,e,i){this.Wn=t,this.On=new kr(50),this.Fn=e,this.O=i,this.W=-1,this.Gt=new oy(this.On)}Tt(){const t=this.O.Hn(this.Fn);if(t===null)return null;const e=t.Un(this.Fn)?t.$n():this.Fn.Wt();if(e===null)return null;const i=t.qn(e);if(i==="overlay")return null;const r=this.O.Yn();return r.k!==this.W&&(this.W=r.k,this.On.In()),this.Gt.Nn(this.Wn.$i(),r,i),this.Gt}}class ly extends Bn{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}jn(t,e){var o;if(!((o=this.Yt)!=null&&o.Vt))return null;const{ut:i,ct:r,Kn:s}=this.Yt;return e>=i-r-7&&e<=i+r+7?{Xn:this.Yt,Kn:s}:null}et({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(this.Yt===null||this.Yt.Vt===!1)return;const s=Math.round(this.Yt.ut*r);s<0||s>e.height||(t.lineCap="butt",t.strokeStyle=this.Yt.R,t.lineWidth=Math.floor(this.Yt.ct*i),In(t,this.Yt.Xt),Ch(t,s,0,e.width))}}class Bo{constructor(t){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new ly,this.xt=!0,this.Jn=t,this.Qn=t.Qt(),this.Gn.ht(this.Zn)}kt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class ay extends Bo{constructor(t){super(t)}te(){this.Zn.Vt=!1;const t=this.Jn.Wt(),e=t.ie().ie;if(e!==2&&e!==3)return;const i=this.Jn.N();if(!i.baseLineVisible||!this.Jn.Vt())return;const r=this.Jn.zt();r!==null&&(this.Zn.Vt=!0,this.Zn.ut=t.Nt(r.Ft,r.Ft),this.Zn.R=i.baseLineColor,this.Zn.ct=i.baseLineWidth,this.Zn.Xt=i.baseLineStyle)}}class uy extends Bn{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}se(){return this.Yt}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){const r=this.Yt;if(r===null)return;const s=Math.max(1,Math.floor(e)),o=s%2/2,l=Math.round(r.ne.x*e)+o,a=r.ne.y*i;t.fillStyle=r.ee,t.beginPath();const u=Math.max(2,1.5*r.re)*e;t.arc(l,a,u,0,2*Math.PI,!1),t.fill(),t.fillStyle=r.he,t.beginPath(),t.arc(l,a,r.ft*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=s,t.strokeStyle=r.ae,t.beginPath(),t.arc(l,a,r.ft*e+s/2,0,2*Math.PI,!1),t.stroke()}}const cy=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class hy{constructor(t){this.Gt=new uy,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=t}Me(){this.we=this.me-1,this.kt()}be(){if(this.kt(),this.ge.N().lastPriceAnimation===2){const t=performance.now(),e=this.we-t;if(e>0)return void(e<650&&(this.we+=2600));this.me=t,this.we=t+2600}}kt(){this.xt=!0}Se(){this.ve=!0}Vt(){return this.ge.N().lastPriceAnimation!==0}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const t=this.ge.Qt().At(),e=t.ye(),i=this.ge.zt();if(e===null||i===null)return;const r=this.ge.ke(!0);if(r.Pe||!e.Te(r.Re))return;const s={x:t.qt(r.Re),y:this.ge.Wt().Nt(r.gt,i.Ft)},o=r.R,l=this.ge.N().lineWidth,a=this.De(this.Ve(),o);this.Gt.ht({ee:o,re:l,he:a.he,ae:a.ae,ft:a.ft,ne:s})}Ce(){const t=this.Gt.se();if(t!==null){const e=this.De(this.Ve(),t.ee);t.he=e.he,t.ae=e.ae,t.ft=e.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Ie(t,e,i,r){const s=i+(r-i)*e;return this.ge.Qt().Xi().j(t,s)}De(t,e){const i=t%2600/2600;let r;for(const u of cy)if(i>=u.le&&i<=u.oe){r=u;break}$t(r!==void 0,"Last price animation internal logic error");const s=(i-r.le)/(r.oe-r.le);return{he:this.Ie(e,s,r.ce,r.de),ae:this.Ie(e,s,r.fe,r.pe),ft:(o=s,l=r._e,a=r.ue,l+(a-l)*o)};var o,l,a}}class dy extends Bo{constructor(t){super(t)}te(){const t=this.Zn;t.Vt=!1;const e=this.Jn.N();if(!e.priceLineVisible||!this.Jn.Vt())return;const i=this.Jn.ke(e.priceLineSource===0);i.Pe||(t.Vt=!0,t.ut=i.Bi,t.R=this.Jn.Be(i.R),t.ct=e.priceLineWidth,t.Xt=e.priceLineStyle)}}class fy extends jr{constructor(t){super(),this.Jt=t}qi(t,e,i){t.Vt=!1,e.Vt=!1;const r=this.Jt;if(!r.Vt())return;const s=r.N(),o=s.lastValueVisible,l=r.Ae()!=="",a=s.seriesLastValueMode===0,u=r.ke(!1);if(u.Pe)return;o&&(t.ri=this.Ee(u,o,a),t.Vt=t.ri.length!==0),(l||a)&&(e.ri=this.ze(u,o,l,a),e.Vt=e.ri.length>0);const h=r.Be(u.R),c=this.Jt.Qt().Xi().X(h);i.Z=c.Z,i.Bi=u.Bi,e.Ht=r.Qt().Ut(u.Bi/r.Wt().$t()),t.Ht=h,t.R=c.G,e.R=c.G}ze(t,e,i,r){let s="";const o=this.Jt.Ae();return i&&o.length!==0&&(s+=`${o} `),e&&r&&(s+=this.Jt.Wt().Le()?t.Oe:t.Ne),s.trim()}Ee(t,e,i){return e?i?this.Jt.Wt().Le()?t.Ne:t.Oe:t.ri:""}}function ql(n,t,e,i){const r=Number.isFinite(t),s=Number.isFinite(e);return r&&s?n(t,e):r||s?r?t:e:i}class qt{constructor(t,e){this.We=t,this.Fe=e}He(t){return t!==null&&this.We===t.We&&this.Fe===t.Fe}Ue(){return new qt(this.We,this.Fe)}$e(){return this.We}qe(){return this.Fe}Ye(){return this.Fe-this.We}Ki(){return this.Fe===this.We||Number.isNaN(this.Fe)||Number.isNaN(this.We)}vn(t){return t===null?this:new qt(ql(Math.min,this.$e(),t.$e(),-1/0),ql(Math.max,this.qe(),t.qe(),1/0))}je(t){if(!Dn(t)||this.Fe-this.We===0)return;const e=.5*(this.Fe+this.We);let i=this.Fe-e,r=this.We-e;i*=t,r*=t,this.Fe=e+i,this.We=e+r}Ke(t){Dn(t)&&(this.Fe+=t,this.We+=t)}Xe(){return{minValue:this.We,maxValue:this.Fe}}static Ze(t){return t===null?null:new qt(t.minValue,t.maxValue)}}class _r{constructor(t,e){this.Ge=t,this.Je=e||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:this.Ge===null?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(t){return t===null?null:new _r(qt.Ze(t.priceRange),t.margins)}}class py extends Bo{constructor(t,e){super(t),this.ir=e}te(){const t=this.Zn;t.Vt=!1;const e=this.ir.N();if(!this.Jn.Vt()||!e.lineVisible)return;const i=this.ir.sr();i!==null&&(t.Vt=!0,t.ut=i,t.R=e.color,t.ct=e.lineWidth,t.Xt=e.lineStyle,t.Kn=this.ir.N().id)}}class my extends jr{constructor(t,e){super(),this.ge=t,this.ir=e}qi(t,e,i){t.Vt=!1,e.Vt=!1;const r=this.ir.N(),s=r.axisLabelVisible,o=r.title!=="",l=this.ge;if(!s||!l.Vt())return;const a=this.ir.sr();if(a===null)return;o&&(e.ri=r.title,e.Vt=!0),e.Ht=l.Qt().Ut(a/l.Wt().$t()),t.ri=this.nr(r.price),t.Vt=!0;const u=this.ge.Qt().Xi().X(r.axisLabelColor||r.color);i.Z=u.Z;const h=r.axisLabelTextColor||u.G;t.R=h,e.R=h,i.Bi=a}nr(t){const e=this.ge.zt();return e===null?"":this.ge.Wt().Zi(t,e.Ft)}}class gy{constructor(t,e){this.ge=t,this.ys=e,this.er=new py(t,this),this.Wn=new my(t,this),this.rr=new Ah(this.Wn,t,t.Qt())}hr(t){oe(this.ys,t),this.kt(),this.ge.Qt().ar()}N(){return this.ys}lr(){return this.er}_r(){return this.rr}ur(){return this.Wn}kt(){this.er.kt(),this.Wn.kt()}sr(){const t=this.ge,e=t.Wt();if(t.Qt().At().Ki()||e.Ki())return null;const i=t.zt();return i===null?null:e.Nt(this.ys.price,i.Ft)}}class yy extends Rh{constructor(t){super(),this.ts=t}Qt(){return this.ts}}const vy={Bar:(n,t,e,i)=>{const r=t.upColor,s=t.downColor,o=W(n(e,i)),l=Ze(o.Ft[0])<=Ze(o.Ft[3]);return{cr:o.R??(l?r:s)}},Candlestick:(n,t,e,i)=>{const r=t.upColor,s=t.downColor,o=t.borderUpColor,l=t.borderDownColor,a=t.wickUpColor,u=t.wickDownColor,h=W(n(e,i)),c=Ze(h.Ft[0])<=Ze(h.Ft[3]);return{cr:h.R??(c?r:s),dr:h.Ht??(c?o:l),pr:h.vr??(c?a:u)}},Custom:(n,t,e,i)=>({cr:W(n(e,i)).R??t.color}),Area:(n,t,e,i)=>{const r=W(n(e,i));return{cr:r.vt??t.lineColor,vt:r.vt??t.lineColor,mr:r.mr??t.topColor,wr:r.wr??t.bottomColor}},Baseline:(n,t,e,i)=>{const r=W(n(e,i));return{cr:r.Ft[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,gr:r.gr??t.topLineColor,Mr:r.Mr??t.bottomLineColor,br:r.br??t.topFillColor1,Sr:r.Sr??t.topFillColor2,Cr:r.Cr??t.bottomFillColor1,yr:r.yr??t.bottomFillColor2}},Line:(n,t,e,i)=>{const r=W(n(e,i));return{cr:r.R??t.color,vt:r.R??t.color}},Histogram:(n,t,e,i)=>({cr:W(n(e,i)).R??t.color})};class by{constructor(t){this.kr=(e,i)=>i!==void 0?i.Ft:this.ge.Xs().Pr(e),this.ge=t,this.Tr=vy[t.Rr()]}Dr(t,e){return this.Tr(this.kr,this.ge.N(),t,e)}}function Ph(n,t,e,i,r=0,s=t.length){let o=s-r;for(;0<o;){const l=o>>1,a=r+l;i(t[a],e)===n?(r=a+1,o-=l+1):o=l}return r}const Ln=Ph.bind(null,!0),Ih=Ph.bind(null,!1);var Gl;(function(n){n[n.NearestLeft=-1]="NearestLeft",n[n.None=0]="None",n[n.NearestRight=1]="NearestRight"})(Gl||(Gl={}));const We=30;class xy{constructor(){this.Vr=[],this.Ir=new Map,this.Br=new Map,this.Ar=[]}Er(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return this.zr()===0}Te(t){return this.Nr(t,0)!==null}Pr(t){return this.Wr(t)}Wr(t,e=0){const i=this.Nr(t,e);return i===null?null:{...this.Fr(i),Re:this.Or(i)}}Hr(){return this.Vr}Ur(t,e,i){if(this.Ki())return null;let r=null;for(const s of i)r=Ai(r,this.$r(t,e,s));return r}ht(t){this.Br.clear(),this.Ir.clear(),this.Vr=t,this.Ar=t.map(e=>e.Re)}qr(){return this.Ar}Or(t){return this.Vr[t].Re}Fr(t){return this.Vr[t]}Nr(t,e){const i=this.Yr(t);if(i===null&&e!==0)switch(e){case-1:return this.jr(t);case 1:return this.Kr(t);default:throw new TypeError("Unknown search mode")}return i}jr(t){let e=this.Xr(t);return e>0&&(e-=1),e!==this.Vr.length&&this.Or(e)<t?e:null}Kr(t){const e=this.Zr(t);return e!==this.Vr.length&&t<this.Or(e)?e:null}Yr(t){const e=this.Xr(t);return e===this.Vr.length||t<this.Vr[e].Re?null:e}Xr(t){return Ln(this.Vr,t,(e,i)=>e.Re<i)}Zr(t){return Ih(this.Vr,t,(e,i)=>e.Re>i)}Gr(t,e,i){let r=null;for(let s=t;s<e;s++){const o=this.Vr[s].Ft[i];Number.isNaN(o)||(r===null?r={Jr:o,Qr:o}:(o<r.Jr&&(r.Jr=o),o>r.Qr&&(r.Qr=o)))}return r}$r(t,e,i){if(this.Ki())return null;let r=null;const s=W(this.Lr()),o=W(this.Ks()),l=Math.max(t,s),a=Math.min(e,o),u=Math.ceil(l/We)*We,h=Math.max(u,Math.floor(a/We)*We);{const d=this.Xr(l),f=this.Zr(Math.min(a,u,e));r=Ai(r,this.Gr(d,f,i))}let c=this.Ir.get(i);c===void 0&&(c=new Map,this.Ir.set(i,c));for(let d=Math.max(u+1,l);d<h;d+=We){const f=Math.floor(d/We);let p=c.get(f);if(p===void 0){const g=this.Xr(f*We),v=this.Zr((f+1)*We-1);p=this.Gr(g,v,i),c.set(f,p)}r=Ai(r,p)}{const d=this.Xr(h),f=this.Zr(a);r=Ai(r,this.Gr(d,f,i))}return r}}function Ai(n,t){return n===null?t:t===null?n:{Jr:Math.min(n.Jr,t.Jr),Qr:Math.max(n.Qr,t.Qr)}}class wy{constructor(t){this.th=t}nt(t,e,i){this.th.draw(t)}ih(t,e,i){var r,s;(s=(r=this.th).drawBackground)==null||s.call(r,t)}}class ky{constructor(t){this.Dn=null,this.sh=t}Tt(){var i;const t=this.sh.renderer();if(t===null)return null;if(((i=this.Dn)==null?void 0:i.nh)===t)return this.Dn.eh;const e=new wy(t);return this.Dn={nh:t,eh:e},e}rh(){var t,e;return((e=(t=this.sh).zOrder)==null?void 0:e.call(t))??"normal"}}class Dh{constructor(t){this.hh=null,this.ah=t}oh(){return this.ah}Ns(){var t,e;(e=(t=this.ah).updateAllViews)==null||e.call(t)}Ws(){var i,r,s;const t=((r=(i=this.ah).paneViews)==null?void 0:r.call(i))??[];if(((s=this.hh)==null?void 0:s.nh)===t)return this.hh.eh;const e=t.map(o=>new ky(o));return this.hh={nh:t,eh:e},e}jn(t,e){var i,r;return((r=(i=this.ah).hitTest)==null?void 0:r.call(i,t,e))??null}}let _y=class extends Dh{us(){return[]}};class Sy{constructor(t){this.th=t}nt(t,e,i){this.th.draw(t)}ih(t,e,i){var r,s;(s=(r=this.th).drawBackground)==null||s.call(r,t)}}class Kl{constructor(t){this.Dn=null,this.sh=t}Tt(){var i;const t=this.sh.renderer();if(t===null)return null;if(((i=this.Dn)==null?void 0:i.nh)===t)return this.Dn.eh;const e=new Sy(t);return this.Dn={nh:t,eh:e},e}rh(){var t,e;return((e=(t=this.sh).zOrder)==null?void 0:e.call(t))??"normal"}}function Lh(n){var t,e,i;return{ri:n.text(),Bi:n.coordinate(),Ii:(t=n.fixedCoordinate)==null?void 0:t.call(n),R:n.textColor(),Z:n.backColor(),Vt:((e=n.visible)==null?void 0:e.call(n))??!0,pi:((i=n.tickVisible)==null?void 0:i.call(n))??!0}}class Cy{constructor(t,e){this.Gt=new Nh,this._h=t,this.uh=e}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...Lh(this._h)}),this.Gt}}class Ey extends jr{constructor(t,e){super(),this._h=t,this.Yi=e}qi(t,e,i){const r=Lh(this._h);i.Z=r.Z,t.R=r.R;const s=2/12*this.Yi.k();i.Ti=s,i.Ri=s,i.Bi=r.Bi,i.Ii=r.Ii,t.ri=r.ri,t.Vt=r.Vt,t.pi=r.pi}}class Ty extends Dh{constructor(t,e){super(t),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=e}cs(){var r,s,o;const t=((s=(r=this.ah).timeAxisViews)==null?void 0:s.call(r))??[];if(((o=this.dh)==null?void 0:o.nh)===t)return this.dh.eh;const e=this.ge.Qt().At(),i=t.map(l=>new Cy(l,e));return this.dh={nh:t,eh:i},i}Fs(){var r,s,o;const t=((s=(r=this.ah).priceAxisViews)==null?void 0:s.call(r))??[];if(((o=this.fh)==null?void 0:o.nh)===t)return this.fh.eh;const e=this.ge.Wt(),i=t.map(l=>new Ey(l,e));return this.fh={nh:t,eh:i},i}wh(){var i,r,s;const t=((r=(i=this.ah).priceAxisPaneViews)==null?void 0:r.call(i))??[];if(((s=this.ph)==null?void 0:s.nh)===t)return this.ph.eh;const e=t.map(o=>new Kl(o));return this.ph={nh:t,eh:e},e}gh(){var i,r,s;const t=((r=(i=this.ah).timeAxisPaneViews)==null?void 0:r.call(i))??[];if(((s=this.mh)==null?void 0:s.nh)===t)return this.mh.eh;const e=t.map(o=>new Kl(o));return this.mh={nh:t,eh:e},e}Mh(t,e){var i,r;return((r=(i=this.ah).autoscaleInfo)==null?void 0:r.call(i,t,e))??null}}function ls(n,t,e,i){n.forEach(r=>{t(r).forEach(s=>{s.rh()===e&&i.push(s)})})}function as(n){return n.Ws()}function Ny(n){return n.wh()}function Ry(n){return n.gh()}const My=["Area","Line","Baseline"];class $r extends yy{constructor(t,e,i,r,s){super(t),this.Yt=new xy,this.er=new dy(this),this.bh=[],this.Sh=new ay(this),this.xh=null,this.Ch=null,this.yh=null,this.kh=[],this.ys=i,this.Ph=e;const o=new fy(this);this.vs=[o],this.rr=new Ah(o,this,t),My.includes(this.Ph)&&(this.xh=new hy(this)),this.Th(),this.sh=r(this,this.Qt(),s)}m(){this.yh!==null&&clearTimeout(this.yh)}Be(t){return this.ys.priceLineColor||t}ke(t){const e={Pe:!0},i=this.Wt();if(this.Qt().At().Ki()||i.Ki()||this.Yt.Ki())return e;const r=this.Qt().At().ye(),s=this.zt();if(r===null||s===null)return e;let o,l;if(t){const c=this.Yt.Er();if(c===null)return e;o=c,l=c.Re}else{const c=this.Yt.Wr(r.bi(),-1);if(c===null||(o=this.Yt.Pr(c.Re),o===null))return e;l=c.Re}const a=o.Ft[3],u=this.Rh().Dr(l,{Ft:o}),h=i.Nt(a,s.Ft);return{Pe:!1,gt:a,ri:i.Zi(a,s.Ft),Oe:i.Dh(a),Ne:i.Vh(a,s.Ft),R:u.cr,Bi:h,Re:l}}Rh(){return this.Ch!==null||(this.Ch=new by(this)),this.Ch}N(){return this.ys}hr(t){const e=t.priceScaleId;e!==void 0&&e!==this.ys.priceScaleId&&this.Qt().Ih(this,e),oe(this.ys,t),t.priceFormat!==void 0&&(this.Th(),this.Qt().Bh()),this.Qt().Ah(this),this.Qt().Eh(),this.sh.kt("options")}ht(t,e){this.Yt.ht(t),this.sh.kt("data"),this.xh!==null&&(e&&e.zh?this.xh.be():t.length===0&&this.xh.Me());const i=this.Qt().Hn(this);this.Qt().Lh(i),this.Qt().Ah(this),this.Qt().Eh(),this.Qt().ar()}Oh(t){const e=new gy(this,t);return this.bh.push(e),this.Qt().Ah(this),e}Nh(t){const e=this.bh.indexOf(t);e!==-1&&this.bh.splice(e,1),this.Qt().Ah(this)}Wh(){return this.bh}Rr(){return this.Ph}zt(){const t=this.Fh();return t===null?null:{Ft:t.Ft[3],Hh:t.wt}}Fh(){const t=this.Qt().At().ye();if(t===null)return null;const e=t.Uh();return this.Yt.Wr(e,1)}Xs(){return this.Yt}$h(t){const e=this.Yt.Pr(t);return e===null?null:this.Ph==="Bar"||this.Ph==="Candlestick"||this.Ph==="Custom"?{qh:e.Ft[0],Yh:e.Ft[1],jh:e.Ft[2],Kh:e.Ft[3]}:e.Ft[3]}Xh(t){const e=[];ls(this.kh,as,"top",e);const i=this.xh;return i!==null&&i.Vt()&&(this.yh===null&&i.xe()&&(this.yh=setTimeout(()=>{this.yh=null,this.Qt().Zh()},0)),i.Se(),e.unshift(i)),e}Ws(){const t=[];this.Gh()||t.push(this.Sh),t.push(this.sh,this.er);const e=this.bh.map(i=>i.lr());return t.push(...e),ls(this.kh,as,"normal",t),t}Jh(){return this.Qh(as,"bottom")}ta(t){return this.Qh(Ny,t)}ia(t){return this.Qh(Ry,t)}sa(t,e){return this.kh.map(i=>i.jn(t,e)).filter(i=>i!==null)}us(){return[this.rr,...this.bh.map(t=>t._r())]}Fs(t,e){if(e!==this.es&&!this.Gh())return[];const i=[...this.vs];for(const r of this.bh)i.push(r.ur());return this.kh.forEach(r=>{i.push(...r.Fs())}),i}cs(){const t=[];return this.kh.forEach(e=>{t.push(...e.cs())}),t}Mh(t,e){if(this.ys.autoscaleInfoProvider!==void 0){const i=this.ys.autoscaleInfoProvider(()=>{const r=this.na(t,e);return r===null?null:r.Xe()});return _r.Ze(i)}return this.na(t,e)}ea(){return this.ys.priceFormat.minMove}ra(){return this.ha}Ns(){var t;this.sh.kt();for(const e of this.vs)e.kt();for(const e of this.bh)e.kt();this.er.kt(),this.Sh.kt(),(t=this.xh)==null||t.kt(),this.kh.forEach(e=>e.Ns())}Wt(){return W(super.Wt())}Et(t){if(!((this.Ph==="Line"||this.Ph==="Area"||this.Ph==="Baseline")&&this.ys.crosshairMarkerVisible))return null;const e=this.Yt.Pr(t);return e===null?null:{gt:e.Ft[3],ft:this.aa(),Ht:this.la(),Ot:this.oa(),Lt:this._a(t)}}Ae(){return this.ys.title}Vt(){return this.ys.visible}ua(t){this.kh.push(new Ty(t,this))}ca(t){this.kh=this.kh.filter(e=>e.oh()!==t)}da(){if(this.Ph==="Custom")return t=>this.sh.fa(t)}pa(){if(this.Ph==="Custom")return t=>this.sh.va(t)}ma(){return this.Yt.qr()}Gh(){return!Vr(this.Wt().wa())}na(t,e){if(!yi(t)||!yi(e)||this.Yt.Ki())return null;const i=this.Ph==="Line"||this.Ph==="Area"||this.Ph==="Baseline"||this.Ph==="Histogram"?[3]:[2,1],r=this.Yt.Ur(t,e,i);let s=r!==null?new qt(r.Jr,r.Qr):null,o=null;if(this.Rr()==="Histogram"){const l=this.ys.base,a=new qt(l,l);s=s!==null?s.vn(a):a}return this.kh.forEach(l=>{const a=l.Mh(t,e);if(a!=null&&a.priceRange){const u=new qt(a.priceRange.minValue,a.priceRange.maxValue);s=s!==null?s.vn(u):u}a!=null&&a.margins&&(o=a.margins)}),new _r(s,o)}aa(){switch(this.Ph){case"Line":case"Area":case"Baseline":return this.ys.crosshairMarkerRadius}return 0}la(){switch(this.Ph){case"Line":case"Area":case"Baseline":{const t=this.ys.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}oa(){switch(this.Ph){case"Line":case"Area":case"Baseline":return this.ys.crosshairMarkerBorderWidth}return 0}_a(t){switch(this.Ph){case"Line":case"Area":case"Baseline":{const e=this.ys.crosshairMarkerBackgroundColor;if(e.length!==0)return e}}return this.Rh().Dr(t).cr}Th(){switch(this.ys.priceFormat.type){case"custom":this.ha={format:this.ys.priceFormat.formatter};break;case"volume":this.ha=new ry(this.ys.priceFormat.precision);break;case"percent":this.ha=new Mh(this.ys.priceFormat.precision);break;default:{const t=Math.pow(10,this.ys.priceFormat.precision);this.ha=new Br(t,this.ys.priceFormat.minMove*t)}}this.es!==null&&this.es.ga()}Qh(t,e){const i=[];return ls(this.kh,t,e,i),i}}const Ay=[3],Py=[0,1,2,3];class Iy{constructor(t){this.ys=t}Ma(t,e,i){let r=t;if(this.ys.mode===0)return r;const s=i.Ps(),o=s.zt();if(o===null)return r;const l=s.Nt(t,o),a=i.ba().filter(h=>h instanceof $r).reduce((h,c)=>{if(i.Un(c)||!c.Vt())return h;const d=c.Wt(),f=c.Xs();if(d.Ki()||!f.Te(e))return h;const p=f.Pr(e);if(p===null)return h;const g=Ze(c.zt()),v=this.ys.mode===3?Py:Ay;return h.concat(v.map(b=>d.Nt(p.Ft[b],g.Ft)))},[]);if(a.length===0)return r;a.sort((h,c)=>Math.abs(h-l)-Math.abs(c-l));const u=a[0];return r=s.Ts(u,o),r}}function oi(n,t,e){return Math.min(Math.max(n,t),e)}function Pi(n,t,e){return t-n<=e}class Dy extends Bn{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(this.Yt===null)return;const s=Math.max(1,Math.floor(i));t.lineWidth=s,function(o,l){o.save(),o.lineWidth%2&&o.translate(.5,.5),l(),o.restore()}(t,()=>{const o=W(this.Yt);if(o.Sa){t.strokeStyle=o.xa,In(t,o.Ca),t.beginPath();for(const l of o.ya){const a=Math.round(l.ka*i);t.moveTo(a,-s),t.lineTo(a,e.height+s)}t.stroke()}if(o.Pa){t.strokeStyle=o.Ta,In(t,o.Ra),t.beginPath();for(const l of o.Da){const a=Math.round(l.ka*r);t.moveTo(-s,a),t.lineTo(e.width+s,a)}t.stroke()}})}}class Ly{constructor(t){this.Gt=new Dy,this.xt=!0,this.yt=t}kt(){this.xt=!0}Tt(){if(this.xt){const t=this.yt.Qt().N().grid,e={Pa:t.horzLines.visible,Sa:t.vertLines.visible,Ta:t.horzLines.color,xa:t.vertLines.color,Ra:t.horzLines.style,Ca:t.vertLines.style,Da:this.yt.Ps().Va(),ya:(this.yt.Qt().At().Va()||[]).map(i=>({ka:i.coord}))};this.Gt.ht(e),this.xt=!1}return this.Gt}}class Oy{constructor(t){this.sh=new Ly(t)}lr(){return this.sh}}const us={Ia:4,Ba:1e-4};function kn(n,t){const e=100*(n-t)/t;return t<0?-e:e}function zy(n,t){const e=kn(n.$e(),t),i=kn(n.qe(),t);return new qt(e,i)}function li(n,t){const e=100*(n-t)/t+100;return t<0?-e:e}function Fy(n,t){const e=li(n.$e(),t),i=li(n.qe(),t);return new qt(e,i)}function Sr(n,t){const e=Math.abs(n);if(e<1e-15)return 0;const i=Math.log10(e+t.Ba)+t.Ia;return n<0?-i:i}function ai(n,t){const e=Math.abs(n);if(e<1e-15)return 0;const i=Math.pow(10,e-t.Ia)-t.Ba;return n<0?-i:i}function Zn(n,t){if(n===null)return null;const e=Sr(n.$e(),t),i=Sr(n.qe(),t);return new qt(e,i)}function ei(n,t){if(n===null)return null;const e=ai(n.$e(),t),i=ai(n.qe(),t);return new qt(e,i)}function cs(n){if(n===null)return us;const t=Math.abs(n.qe()-n.$e());if(t>=1||t<1e-15)return us;const e=Math.ceil(Math.abs(Math.log10(t))),i=us.Ia+e;return{Ia:i,Ba:1/Math.pow(10,i)}}class hs{constructor(t,e){if(this.Aa=t,this.Ea=e,function(i){if(i<0)return!1;for(let r=i;r>1;r/=10)if(r%10!=0)return!1;return!0}(this.Aa))this.za=[2,2.5,2];else{this.za=[];for(let i=this.Aa;i!==1;){if(i%2==0)this.za.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this.za.push(2,2.5),i/=5}if(this.za.length>100)throw new Error("something wrong with base")}}}La(t,e,i){const r=this.Aa===0?0:1/this.Aa;let s=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),o=0,l=this.Ea[0];for(;;){const c=Pi(s,r,1e-14)&&s>r+1e-14,d=Pi(s,i*l,1e-14),f=Pi(s,1,1e-14);if(!(c&&d&&f))break;s/=l,l=this.Ea[++o%this.Ea.length]}if(s<=r+1e-14&&(s=r),s=Math.max(1,s),this.za.length>0&&(a=s,u=1,h=1e-14,Math.abs(a-u)<h))for(o=0,l=this.za[0];Pi(s,i*l,1e-14)&&s>r+1e-14;)s/=l,l=this.za[++o%this.za.length];var a,u,h;return s}}class Jl{constructor(t,e,i,r){this.Oa=[],this.Yi=t,this.Aa=e,this.Na=i,this.Wa=r}La(t,e){if(t<e)throw new Error("high < low");const i=this.Yi.$t(),r=(t-e)*this.Fa()/i,s=new hs(this.Aa,[2,2.5,2]),o=new hs(this.Aa,[2,2,2.5]),l=new hs(this.Aa,[2.5,2,2]),a=[];return a.push(s.La(t,e,r),o.La(t,e,r),l.La(t,e,r)),function(u){if(u.length<1)throw Error("array is empty");let h=u[0];for(let c=1;c<u.length;++c)u[c]<h&&(h=u[c]);return h}(a)}Ha(){const t=this.Yi,e=t.zt();if(e===null)return void(this.Oa=[]);const i=t.$t(),r=this.Na(i-1,e),s=this.Na(0,e),o=this.Yi.N().entireTextOnly?this.Ua()/2:0,l=o,a=i-1-o,u=Math.max(r,s),h=Math.min(r,s);if(u===h)return void(this.Oa=[]);const c=this.La(u,h);if(this.$a(e,c,u,h,l,a),t.qa()&&this.Ya(c,h,u)){const d=this.Yi.ja();this.Ka(e,c,l,a,d,2*d)}}Va(){return this.Oa}Ua(){return this.Yi.k()}Fa(){return Math.ceil(2.5*this.Ua())}$a(t,e,i,r,s,o){const l=this.Oa,a=this.Yi;let u=i%e;u+=u<0?e:0;const h=i>=r?1:-1;let c=null,d=0;for(let f=i-u;f>r;f-=e){const p=this.Wa(f,t,!0);c!==null&&Math.abs(p-c)<this.Fa()||p<s||p>o||(d<l.length?(l[d].ka=p,l[d].Xa=a.Za(f)):l.push({ka:p,Xa:a.Za(f)}),d++,c=p,a.Ga()&&(e=this.La(f*h,r)))}l.length=d}Ka(t,e,i,r,s,o){const l=this.Oa,a=this.Ja(t,i,s,o),u=this.Ja(t,r,-o,-s),h=this.Wa(0,t,!0)-this.Wa(e,t,!0);l.length>0&&l[0].ka-a.ka<h/2&&l.shift(),l.length>0&&u.ka-l[l.length-1].ka<h/2&&l.pop(),l.unshift(a),l.push(u)}Ja(t,e,i,r){const s=(i+r)/2,o=this.Na(e+i,t),l=this.Na(e+r,t),a=Math.min(o,l),u=Math.max(o,l),h=Math.max(.1,this.La(u,a)),c=this.Na(e+s,t),d=c-c%h,f=this.Wa(d,t,!0);return{Xa:this.Yi.Za(d),ka:f}}Ya(t,e,i){let r=Ze(this.Yi.Qe());return this.Yi.Ga()&&(r=ei(r,this.Yi.Qa())),r.$e()-e<t&&i-r.qe()<t}}function Oh(n){return n.slice().sort((t,e)=>W(t.hs())-W(e.hs()))}var ta;(function(n){n[n.Normal=0]="Normal",n[n.Logarithmic=1]="Logarithmic",n[n.Percentage=2]="Percentage",n[n.IndexedTo100=3]="IndexedTo100"})(ta||(ta={}));const ea=new Mh,na=new Br(100,1);class jy{constructor(t,e,i,r,s){this.tl=0,this.il=null,this.Ge=null,this.sl=null,this.nl={el:!1,rl:null},this.hl=!1,this.al=0,this.ll=0,this.ol=new Dt,this._l=new Dt,this.ul=[],this.cl=null,this.dl=null,this.fl=null,this.pl=null,this.vl=null,this.ha=na,this.ml=cs(null),this.wl=t,this.ys=e,this.gl=i,this.Ml=r,this.bl=s,this.Sl=new Jl(this,100,this.xl.bind(this),this.Cl.bind(this))}wa(){return this.wl}N(){return this.ys}hr(t){if(oe(this.ys,t),this.ga(),t.mode!==void 0&&this.yl({ie:t.mode}),t.scaleMargins!==void 0){const e=ne(t.scaleMargins.top),i=ne(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(i<0||i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(e+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+i}`);this.kl(),this.fl=null}}Pl(){return this.ys.autoScale}Tl(){return this.hl}Ga(){return this.ys.mode===1}Le(){return this.ys.mode===2}Rl(){return this.ys.mode===3}Qa(){return this.ml}ie(){return{sn:this.ys.autoScale,Dl:this.ys.invertScale,ie:this.ys.mode}}yl(t){const e=this.ie();let i=null;t.sn!==void 0&&(this.ys.autoScale=t.sn),t.ie!==void 0&&(this.ys.mode=t.ie,t.ie!==2&&t.ie!==3||(this.ys.autoScale=!0),this.nl.el=!1),e.ie===1&&t.ie!==e.ie&&(function(s,o){if(s===null)return!1;const l=ai(s.$e(),o),a=ai(s.qe(),o);return isFinite(l)&&isFinite(a)}(this.Ge,this.ml)?(i=ei(this.Ge,this.ml),i!==null&&this.Vl(i)):this.ys.autoScale=!0),t.ie===1&&t.ie!==e.ie&&(i=Zn(this.Ge,this.ml),i!==null&&this.Vl(i));const r=e.ie!==this.ys.mode;r&&(e.ie===2||this.Le())&&this.ga(),r&&(e.ie===3||this.Rl())&&this.ga(),t.Dl!==void 0&&e.Dl!==t.Dl&&(this.ys.invertScale=t.Dl,this.Il()),this._l.p(e,this.ie())}Bl(){return this._l}k(){return this.gl.fontSize}$t(){return this.tl}Al(t){this.tl!==t&&(this.tl=t,this.kl(),this.fl=null)}El(){if(this.il)return this.il;const t=this.$t()-this.zl()-this.Ll();return this.il=t,t}Qe(){return this.Ol(),this.Ge}Vl(t,e){const i=this.Ge;(e||i===null&&t!==null||i!==null&&!i.He(t))&&(this.fl=null,this.Ge=t)}Nl(t){this.Vl(t),this.Wl(t!==null)}Ki(){return this.Ol(),this.tl===0||!this.Ge||this.Ge.Ki()}Fl(t){return this.Dl()?t:this.$t()-1-t}Nt(t,e){return this.Le()?t=kn(t,e):this.Rl()&&(t=li(t,e)),this.Cl(t,e)}Hl(t,e,i){this.Ol();const r=this.Ll(),s=W(this.Qe()),o=s.$e(),l=s.qe(),a=this.El()-1,u=this.Dl(),h=a/(l-o),c=i===void 0?0:i.from,d=i===void 0?t.length:i.to,f=this.Ul();for(let p=c;p<d;p++){const g=t[p],v=g.gt;if(isNaN(v))continue;let b=v;f!==null&&(b=f(g.gt,e));const w=r+h*(b-o),C=u?w:this.tl-1-w;g.ut=C}}$l(t,e,i){this.Ol();const r=this.Ll(),s=W(this.Qe()),o=s.$e(),l=s.qe(),a=this.El()-1,u=this.Dl(),h=a/(l-o),c=i===void 0?0:i.from,d=i===void 0?t.length:i.to,f=this.Ul();for(let p=c;p<d;p++){const g=t[p];let v=g.qh,b=g.Yh,w=g.jh,C=g.Kh;f!==null&&(v=f(g.qh,e),b=f(g.Yh,e),w=f(g.jh,e),C=f(g.Kh,e));let M=r+h*(v-o),T=u?M:this.tl-1-M;g.ql=T,M=r+h*(b-o),T=u?M:this.tl-1-M,g.Yl=T,M=r+h*(w-o),T=u?M:this.tl-1-M,g.jl=T,M=r+h*(C-o),T=u?M:this.tl-1-M,g.Kl=T}}Ts(t,e){const i=this.xl(t,e);return this.Xl(i,e)}Xl(t,e){let i=t;return this.Le()?i=function(r,s){return s<0&&(r=-r),r/100*s+s}(i,e):this.Rl()&&(i=function(r,s){return r-=100,s<0&&(r=-r),r/100*s+s}(i,e)),i}ba(){return this.ul}Dt(){return this.dl||(this.dl=Oh(this.ul)),this.dl}Zl(t){this.ul.indexOf(t)===-1&&(this.ul.push(t),this.ga(),this.Gl())}Jl(t){const e=this.ul.indexOf(t);if(e===-1)throw new Error("source is not attached to scale");this.ul.splice(e,1),this.ul.length===0&&(this.yl({sn:!0}),this.Vl(null)),this.ga(),this.Gl()}zt(){let t=null;for(const e of this.ul){const i=e.zt();i!==null&&(t===null||i.Hh<t.Hh)&&(t=i)}return t===null?null:t.Ft}Dl(){return this.ys.invertScale}Va(){const t=this.zt()===null;if(this.fl!==null&&(t||this.fl.Ql===t))return this.fl.Va;this.Sl.Ha();const e=this.Sl.Va();return this.fl={Va:e,Ql:t},this.ol.p(),e}io(){return this.ol}so(t){this.Le()||this.Rl()||this.pl===null&&this.sl===null&&(this.Ki()||(this.pl=this.tl-t,this.sl=W(this.Qe()).Ue()))}no(t){if(this.Le()||this.Rl()||this.pl===null)return;this.yl({sn:!1}),(t=this.tl-t)<0&&(t=0);let e=(this.pl+.2*(this.tl-1))/(t+.2*(this.tl-1));const i=W(this.sl).Ue();e=Math.max(e,.1),i.je(e),this.Vl(i)}eo(){this.Le()||this.Rl()||(this.pl=null,this.sl=null)}ro(t){this.Pl()||this.vl===null&&this.sl===null&&(this.Ki()||(this.vl=t,this.sl=W(this.Qe()).Ue()))}ho(t){if(this.Pl()||this.vl===null)return;const e=W(this.Qe()).Ye()/(this.El()-1);let i=t-this.vl;this.Dl()&&(i*=-1);const r=i*e,s=W(this.sl).Ue();s.Ke(r),this.Vl(s,!0),this.fl=null}ao(){this.Pl()||this.vl!==null&&(this.vl=null,this.sl=null)}ra(){return this.ha||this.ga(),this.ha}Zi(t,e){switch(this.ys.mode){case 2:return this.lo(kn(t,e));case 3:return this.ra().format(li(t,e));default:return this.nr(t)}}Za(t){switch(this.ys.mode){case 2:return this.lo(t);case 3:return this.ra().format(t);default:return this.nr(t)}}Dh(t){return this.nr(t,W(this.cl).ra())}Vh(t,e){return t=kn(t,e),this.lo(t,ea)}oo(){return this.ul}_o(t){this.nl={rl:t,el:!1}}Ns(){this.ul.forEach(t=>t.Ns())}qa(){return this.ys.ensureEdgeTickMarksVisible&&this.Pl()}ja(){return this.k()/2}ga(){this.fl=null;let t=1/0;this.cl=null;for(const i of this.ul)i.hs()<t&&(t=i.hs(),this.cl=i);let e=100;this.cl!==null&&(e=Math.round(1/this.cl.ea())),this.ha=na,this.Le()?(this.ha=ea,e=100):this.Rl()?(this.ha=new Br(100,1),e=100):this.cl!==null&&(this.ha=this.cl.ra()),this.Sl=new Jl(this,e,this.xl.bind(this),this.Cl.bind(this)),this.Sl.Ha()}Gl(){this.dl=null}Xi(){return this.bl}Wl(t){this.hl=t}zl(){return this.Dl()?this.ys.scaleMargins.bottom*this.$t()+this.ll:this.ys.scaleMargins.top*this.$t()+this.al}Ll(){return this.Dl()?this.ys.scaleMargins.top*this.$t()+this.al:this.ys.scaleMargins.bottom*this.$t()+this.ll}Ol(){this.nl.el||(this.nl.el=!0,this.uo())}kl(){this.il=null}Cl(t,e){if(this.Ol(),this.Ki())return 0;t=this.Ga()&&t?Sr(t,this.ml):t;const i=W(this.Qe()),r=this.Ll()+(this.El()-1)*(t-i.$e())/i.Ye();return this.Fl(r)}xl(t,e){if(this.Ol(),this.Ki())return 0;const i=this.Fl(t),r=W(this.Qe()),s=r.$e()+r.Ye()*((i-this.Ll())/(this.El()-1));return this.Ga()?ai(s,this.ml):s}Il(){this.fl=null,this.Sl.Ha()}uo(){if(this.Tl()&&!this.Pl())return;const t=this.nl.rl;if(t===null)return;let e=null;const i=this.oo();let r=0,s=0;for(const a of i){if(!a.Vt())continue;const u=a.zt();if(u===null)continue;const h=a.Mh(t.Uh(),t.bi());let c=h&&h.Qe();if(c!==null){switch(this.ys.mode){case 1:c=Zn(c,this.ml);break;case 2:c=zy(c,u.Ft);break;case 3:c=Fy(c,u.Ft)}if(e=e===null?c:e.vn(W(c)),h!==null){const d=h.tr();d!==null&&(r=Math.max(r,d.above),s=Math.max(s,d.below))}}}if(this.qa()&&(r=Math.max(r,this.ja()),s=Math.max(s,this.ja())),r===this.al&&s===this.ll||(this.al=r,this.ll=s,this.fl=null,this.kl()),e!==null){if(e.$e()===e.qe()){const a=this.cl,u=5*(a===null||this.Le()||this.Rl()?1:a.ea());this.Ga()&&(e=ei(e,this.ml)),e=new qt(e.$e()-u,e.qe()+u),this.Ga()&&(e=Zn(e,this.ml))}if(this.Ga()){const a=ei(e,this.ml),u=cs(a);if(o=u,l=this.ml,o.Ia!==l.Ia||o.Ba!==l.Ba){const h=this.sl!==null?ei(this.sl,this.ml):null;this.ml=u,e=Zn(a,u),h!==null&&(this.sl=Zn(h,u))}}this.Vl(e)}else this.Ge===null&&(this.Vl(new qt(-.5,.5)),this.ml=cs(null));var o,l}Ul(){return this.Le()?kn:this.Rl()?li:this.Ga()?t=>Sr(t,this.ml):null}co(t,e,i){return e===void 0?(i===void 0&&(i=this.ra()),i.format(t)):e(t)}nr(t,e){return this.co(t,this.Ml.priceFormatter,e)}lo(t,e){return this.co(t,this.Ml.percentageFormatter,e)}}function ia(n){return n instanceof $r}class ra{constructor(t,e){this.ul=[],this.do=new Map,this.tl=0,this.fo=0,this.po=1e3,this.dl=null,this.vo=new Dt,this.kh=[],this.uh=t,this.ts=e,this.mo=new Oy(this);const i=e.N();this.wo=this.Mo("left",i.leftPriceScale),this.bo=this.Mo("right",i.rightPriceScale),this.wo.Bl().i(this.So.bind(this,this.wo),this),this.bo.Bl().i(this.So.bind(this,this.bo),this),this.xo(i)}xo(t){if(t.leftPriceScale&&this.wo.hr(t.leftPriceScale),t.rightPriceScale&&this.bo.hr(t.rightPriceScale),t.localization&&(this.wo.ga(),this.bo.ga()),t.overlayPriceScales){const e=Array.from(this.do.values());for(const i of e){const r=W(i[0].Wt());r.hr(t.overlayPriceScales),t.localization&&r.ga()}}}Co(t){switch(t){case"left":return this.wo;case"right":return this.bo}return this.do.has(t)?ne(this.do.get(t))[0].Wt():null}m(){this.Qt().yo().u(this),this.wo.Bl().u(this),this.bo.Bl().u(this),this.ul.forEach(t=>{t.m&&t.m()}),this.kh=this.kh.filter(t=>{const e=t.oh();return e.detached&&e.detached(),!1}),this.vo.p()}ko(){return this.po}Po(t){this.po=t}Qt(){return this.ts}Qi(){return this.fo}$t(){return this.tl}To(t){this.fo=t,this.Ro()}Al(t){this.tl=t,this.wo.Al(t),this.bo.Al(t),this.ul.forEach(e=>{if(this.Un(e)){const i=e.Wt();i!==null&&i.Al(t)}}),this.Ro()}Do(){return this.ul.filter(ia)}ba(){return this.ul}Un(t){const e=t.Wt();return e===null||this.wo!==e&&this.bo!==e}Zl(t,e,i){this.Vo(t,e,i?t.hs():this.ul.length)}Jl(t,e){const i=this.ul.indexOf(t);$t(i!==-1,"removeDataSource: invalid data source"),this.ul.splice(i,1),e||this.ul.forEach((o,l)=>o.ls(l));const r=W(t.Wt()).wa();if(this.do.has(r)){const o=ne(this.do.get(r)),l=o.indexOf(t);l!==-1&&(o.splice(l,1),o.length===0&&this.do.delete(r))}const s=t.Wt();s&&s.ba().indexOf(t)>=0&&(s.Jl(t),this.Io(s)),this.dl=null}qn(t){return t===this.wo?"left":t===this.bo?"right":"overlay"}Bo(){return this.wo}Ao(){return this.bo}Eo(t,e){t.so(e)}zo(t,e){t.no(e),this.Ro()}Lo(t){t.eo()}Oo(t,e){t.ro(e)}No(t,e){t.ho(e),this.Ro()}Wo(t){t.ao()}Ro(){this.ul.forEach(t=>{t.Ns()})}Ps(){let t=null;return this.ts.N().rightPriceScale.visible&&this.bo.ba().length!==0?t=this.bo:this.ts.N().leftPriceScale.visible&&this.wo.ba().length!==0?t=this.wo:this.ul.length!==0&&(t=this.ul[0].Wt()),t===null&&(t=this.bo),t}$n(){let t=null;return this.ts.N().rightPriceScale.visible?t=this.bo:this.ts.N().leftPriceScale.visible&&(t=this.wo),t}Io(t){t!==null&&t.Pl()&&this.Fo(t)}Ho(t){const e=this.uh.ye();t.yl({sn:!0}),e!==null&&t._o(e),this.Ro()}Uo(){this.Fo(this.wo),this.Fo(this.bo)}$o(){this.Io(this.wo),this.Io(this.bo),this.ul.forEach(t=>{this.Un(t)&&this.Io(t.Wt())}),this.Ro(),this.ts.ar()}Dt(){return this.dl===null&&(this.dl=Oh(this.ul)),this.dl}qo(t,e){e=oi(e,0,this.ul.length-1);const i=this.ul.indexOf(t);$t(i!==-1,"setSeriesOrder: invalid data source"),this.ul.splice(i,1),this.ul.splice(e,0,t),this.ul.forEach((r,s)=>r.ls(s)),this.dl=null;for(const r of[this.wo,this.bo])r.Gl(),r.ga();this.ts.ar()}It(){return this.Dt().filter(ia)}Yo(){return this.vo}jo(){return this.mo}ua(t){this.kh.push(new _y(t))}ca(t){this.kh=this.kh.filter(e=>e.oh()!==t),t.detached&&t.detached(),this.ts.ar()}Ko(){return this.kh}sa(t,e){return this.kh.map(i=>i.jn(t,e)).filter(i=>i!==null)}Fo(t){const e=t.oo();if(e&&e.length>0&&!this.uh.Ki()){const i=this.uh.ye();i!==null&&t._o(i)}t.Ns()}Vo(t,e,i){let r=this.Co(e);if(r===null&&(r=this.Mo(e,this.ts.N().overlayPriceScales)),this.ul.splice(i,0,t),!Vr(e)){const s=this.do.get(e)||[];s.push(t),this.do.set(e,s)}t.ls(i),r.Zl(t),t._s(r),this.Io(r),this.dl=null}So(t,e,i){e.ie!==i.ie&&this.Fo(t)}Mo(t,e){const i={visible:!0,autoScale:!0,...Ie(e)},r=new jy(t,i,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return r.Al(this.$t()),r}}function Ii(n){return{Xo:n.Xo,Zo:{Kn:n.Go.externalId},Jo:n.Go.cursorStyle}}function Vy(n,t,e,i){for(const r of n){const s=r.Tt(i);if(s!==null&&s.jn){const o=s.jn(t,e);if(o!==null)return{Qo:r,Zo:o}}}return null}function By(n){return n.Ws!==void 0}function zh(n,t,e){const i=[n,...n.Dt()],r=function(s,o,l){var d;let a,u;for(const f of s){const p=((d=f.sa)==null?void 0:d.call(f,o,l))??[];for(const g of p)h=g.zOrder,c=a==null?void 0:a.zOrder,(!c||h==="top"&&c!=="top"||h==="normal"&&c==="bottom")&&(a=g,u=f)}var h,c;return a&&u?{Go:a,Xo:u}:null}(i,t,e);if((r==null?void 0:r.Go.zOrder)==="top")return Ii(r);for(const s of i){if(r&&r.Xo===s&&r.Go.zOrder!=="bottom"&&!r.Go.isBackground)return Ii(r);if(By(s)){const o=Vy(s.Ws(n),t,e,n);if(o!==null)return{Xo:s,Qo:o.Qo,Zo:o.Zo}}if(r&&r.Xo===s&&r.Go.zOrder!=="bottom"&&r.Go.isBackground)return Ii(r)}return r!=null&&r.Go?Ii(r):null}class $y{constructor(t,e,i=50){this.kn=0,this.Pn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.t_=t,this.i_=e,this.Vn=i}s_(t){const e=t.time,i=this.i_.cacheKey(e),r=this.Dn.get(i);if(r!==void 0)return r.n_;if(this.kn===this.Vn){const o=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(ne(o)),this.Tn++,this.kn--}const s=this.t_(t);return this.Dn.set(i,{n_:s,En:this.Pn}),this.Rn.set(this.Pn,i),this.kn++,this.Pn++,s}}class ui{constructor(t,e){$t(t<=e,"right should be >= left"),this.e_=t,this.r_=e}Uh(){return this.e_}bi(){return this.r_}h_(){return this.r_-this.e_+1}Te(t){return this.e_<=t&&t<=this.r_}He(t){return this.e_===t.Uh()&&this.r_===t.bi()}}function sa(n,t){return n===null||t===null?n===t:n.He(t)}class Wy{constructor(){this.a_=new Map,this.Dn=null,this.l_=!1}o_(t){this.l_=t,this.Dn=null}__(t,e){this.u_(e),this.Dn=null;for(let i=e;i<t.length;++i){const r=t[i];let s=this.a_.get(r.timeWeight);s===void 0&&(s=[],this.a_.set(r.timeWeight,s)),s.push({index:i,time:r.time,weight:r.timeWeight,originalTime:r.originalTime})}}c_(t,e,i,r,s){const o=Math.ceil(e/t);return this.Dn!==null&&this.Dn.d_===o&&s===this.Dn.f_&&i===this.Dn.p_||(this.Dn={f_:s,p_:i,Va:this.v_(o,i,r),d_:o}),this.Dn.Va}u_(t){if(t===0)return void this.a_.clear();const e=[];this.a_.forEach((i,r)=>{t<=i[0].index?e.push(r):i.splice(Ln(i,t,s=>s.index<t),1/0)});for(const i of e)this.a_.delete(i)}v_(t,e,i){let r=[];const s=o=>!e||i.has(o.index);for(const o of Array.from(this.a_.keys()).sort((l,a)=>a-l)){if(!this.a_.get(o))continue;const l=r;r=[];const a=l.length;let u=0;const h=ne(this.a_.get(o)),c=h.length;let d=1/0,f=-1/0;for(let p=0;p<c;p++){const g=h[p],v=g.index;for(;u<a;){const b=l[u],w=b.index;if(!(w<v&&s(b))){d=w;break}u++,r.push(b),f=w,d=1/0}if(d-v>=t&&v-f>=t&&s(g))r.push(g),f=v;else if(this.l_)return l}for(;u<a;u++)s(l[u])&&r.push(l[u])}return r}}class En{constructor(t){this.m_=t}w_(){return this.m_===null?null:new ui(Math.floor(this.m_.Uh()),Math.ceil(this.m_.bi()))}g_(){return this.m_}static M_(){return new En(null)}}function Uy(n,t){return n.weight>t.weight?n:t}class Yy{constructor(t,e,i,r){this.fo=0,this.b_=null,this.S_=[],this.vl=null,this.pl=null,this.x_=new Wy,this.C_=new Map,this.y_=En.M_(),this.k_=!0,this.P_=new Dt,this.T_=new Dt,this.R_=new Dt,this.D_=null,this.V_=null,this.I_=new Map,this.B_=-1,this.A_=[],this.ys=e,this.Ml=i,this.E_=e.rightOffset,this.z_=e.barSpacing,this.ts=t,this.i_=r,this.L_(),this.x_.o_(e.uniformDistribution),this.O_()}N(){return this.ys}N_(t){oe(this.Ml,t),this.W_(),this.L_()}hr(t,e){oe(this.ys,t),this.ys.fixLeftEdge&&this.F_(),this.ys.fixRightEdge&&this.H_(),t.barSpacing!==void 0&&this.ts.dn(t.barSpacing),t.rightOffset!==void 0&&this.ts.fn(t.rightOffset),t.minBarSpacing===void 0&&t.maxBarSpacing===void 0||this.ts.dn(t.barSpacing??this.z_),t.ignoreWhitespaceIndices!==void 0&&t.ignoreWhitespaceIndices!==this.ys.ignoreWhitespaceIndices&&this.O_(),this.W_(),this.L_(),this.R_.p()}Rs(t){var e;return((e=this.S_[t])==null?void 0:e.time)??null}ss(t){return this.S_[t]??null}U_(t,e){if(this.S_.length<1)return null;if(this.i_.key(t)>this.i_.key(this.S_[this.S_.length-1].time))return e?this.S_.length-1:null;const i=Ln(this.S_,this.i_.key(t),(r,s)=>this.i_.key(r.time)<s);return this.i_.key(t)<this.i_.key(this.S_[i].time)?e?i:null:i}Ki(){return this.fo===0||this.S_.length===0||this.b_===null}q_(){return this.S_.length>0}ye(){return this.Y_(),this.y_.w_()}j_(){return this.Y_(),this.y_.g_()}K_(){const t=this.ye();if(t===null)return null;const e={from:t.Uh(),to:t.bi()};return this.X_(e)}X_(t){const e=Math.round(t.from),i=Math.round(t.to),r=W(this.Z_()),s=W(this.G_());return{from:W(this.ss(Math.max(r,e))),to:W(this.ss(Math.min(s,i)))}}J_(t){return{from:W(this.U_(t.from,!0)),to:W(this.U_(t.to,!0))}}Qi(){return this.fo}To(t){if(!isFinite(t)||t<=0||this.fo===t)return;const e=this.j_(),i=this.fo;if(this.fo=t,this.k_=!0,this.ys.lockVisibleTimeRangeOnResize&&i!==0){const r=this.z_*t/i;this.z_=r}if(this.ys.fixLeftEdge&&e!==null&&e.Uh()<=0){const r=i-t;this.E_-=Math.round(r/this.z_)+1,this.k_=!0}this.Q_(),this.tu()}qt(t){if(this.Ki()||!yi(t))return 0;const e=this.iu()+this.E_-t;return this.fo-(e+.5)*this.z_-1}su(t,e){const i=this.iu(),r=e===void 0?0:e.from,s=e===void 0?t.length:e.to;for(let o=r;o<s;o++){const l=t[o].wt,a=i+this.E_-l,u=this.fo-(a+.5)*this.z_-1;t[o]._t=u}}nu(t,e){const i=Math.ceil(this.eu(t));return e&&this.ys.ignoreWhitespaceIndices&&!this.ru(i)?this.hu(i):i}fn(t){this.k_=!0,this.E_=t,this.tu(),this.ts.au(),this.ts.ar()}lu(){return this.z_}dn(t){this.ou(t),this.tu(),this.ts.au(),this.ts.ar()}_u(){return this.E_}Va(){if(this.Ki())return null;if(this.V_!==null)return this.V_;const t=this.z_,e=5*(this.ts.N().layout.fontSize+4)/8*(this.ys.tickMarkMaxCharacterLength||8),i=Math.round(e/t),r=W(this.ye()),s=Math.max(r.Uh(),r.Uh()-i),o=Math.max(r.bi(),r.bi()-i),l=this.x_.c_(t,e,this.ys.ignoreWhitespaceIndices,this.I_,this.B_),a=this.Z_()+i,u=this.G_()-i,h=this.uu(),c=this.ys.fixLeftEdge||h,d=this.ys.fixRightEdge||h;let f=0;for(const p of l){if(!(s<=p.index&&p.index<=o))continue;let g;f<this.A_.length?(g=this.A_[f],g.coord=this.qt(p.index),g.label=this.cu(p),g.weight=p.weight):(g={needAlignCoordinate:!1,coord:this.qt(p.index),label:this.cu(p),weight:p.weight},this.A_.push(g)),this.z_>e/2&&!h?g.needAlignCoordinate=!1:g.needAlignCoordinate=c&&p.index<=a||d&&p.index>=u,f++}return this.A_.length=f,this.V_=this.A_,this.A_}du(){this.k_=!0,this.dn(this.ys.barSpacing),this.fn(this.ys.rightOffset)}fu(t){this.k_=!0,this.b_=t,this.tu(),this.F_()}pu(t,e){const i=this.eu(t),r=this.lu(),s=r+e*(r/10);this.dn(s),this.ys.rightBarStaysOnScroll||this.fn(this._u()+(i-this.eu(t)))}so(t){this.vl&&this.ao(),this.pl===null&&this.D_===null&&(this.Ki()||(this.pl=t,this.vu()))}no(t){if(this.D_===null)return;const e=oi(this.fo-t,0,this.fo),i=oi(this.fo-W(this.pl),0,this.fo);e!==0&&i!==0&&this.dn(this.D_.lu*e/i)}eo(){this.pl!==null&&(this.pl=null,this.mu())}ro(t){this.vl===null&&this.D_===null&&(this.Ki()||(this.vl=t,this.vu()))}ho(t){if(this.vl===null)return;const e=(this.vl-t)/this.lu();this.E_=W(this.D_)._u+e,this.k_=!0,this.tu()}ao(){this.vl!==null&&(this.vl=null,this.mu())}wu(){this.gu(this.ys.rightOffset)}gu(t,e=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.E_,r=performance.now();this.ts._n({Mu:s=>(s-r)/e>=1,bu:s=>{const o=(s-r)/e;return o>=1?t:i+(t-i)*o}})}kt(t,e){this.k_=!0,this.S_=t,this.x_.__(t,e),this.tu()}Su(){return this.P_}xu(){return this.T_}Cu(){return this.R_}iu(){return this.b_||0}yu(t){const e=t.h_();this.ou(this.fo/e),this.E_=t.bi()-this.iu(),this.tu(),this.k_=!0,this.ts.au(),this.ts.ar()}ku(){const t=this.Z_(),e=this.G_();t!==null&&e!==null&&this.yu(new ui(t,e+this.ys.rightOffset))}Pu(t){const e=new ui(t.from,t.to);this.yu(e)}ns(t){return this.Ml.timeFormatter!==void 0?this.Ml.timeFormatter(t.originalTime):this.i_.formatHorzItem(t.time)}O_(){if(!this.ys.ignoreWhitespaceIndices)return;this.I_.clear();const t=this.ts.js();for(const e of t)for(const i of e.ma())this.I_.set(i,!0);this.B_++}uu(){const t=this.ts.N().handleScroll,e=this.ts.N().handleScale;return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}Z_(){return this.S_.length===0?null:0}G_(){return this.S_.length===0?null:this.S_.length-1}Tu(t){return(this.fo-1-t)/this.z_}eu(t){const e=this.Tu(t),i=this.iu()+this.E_-e;return Math.round(1e6*i)/1e6}ou(t){const e=this.z_;this.z_=t,this.Q_(),e!==this.z_&&(this.k_=!0,this.Ru())}Y_(){if(!this.k_)return;if(this.k_=!1,this.Ki())return void this.Du(En.M_());const t=this.iu(),e=this.fo/this.z_,i=this.E_+t,r=new ui(i-e+1,i);this.Du(new En(r))}Q_(){const t=oi(this.z_,this.Vu(),this.Iu());this.z_!==t&&(this.z_=t,this.k_=!0)}Iu(){return this.ys.maxBarSpacing>0?this.ys.maxBarSpacing:.5*this.fo}Vu(){return this.ys.fixLeftEdge&&this.ys.fixRightEdge&&this.S_.length!==0?this.fo/this.S_.length:this.ys.minBarSpacing}tu(){const t=this.Bu();t!==null&&this.E_<t&&(this.E_=t,this.k_=!0);const e=this.Au();this.E_>e&&(this.E_=e,this.k_=!0)}Bu(){const t=this.Z_(),e=this.b_;return t===null||e===null?null:t-e-1+(this.ys.fixLeftEdge?this.fo/this.z_:Math.min(2,this.S_.length))}Au(){return this.ys.fixRightEdge?0:this.fo/this.z_-Math.min(2,this.S_.length)}vu(){this.D_={lu:this.lu(),_u:this._u()}}mu(){this.D_=null}cu(t){let e=this.C_.get(t.weight);return e===void 0&&(e=new $y(i=>this.Eu(i),this.i_),this.C_.set(t.weight,e)),e.s_(t)}Eu(t){return this.i_.formatTickmark(t,this.Ml)}Du(t){const e=this.y_;this.y_=t,sa(e.w_(),this.y_.w_())||this.P_.p(),sa(e.g_(),this.y_.g_())||this.T_.p(),this.Ru()}Ru(){this.V_=null}W_(){this.Ru(),this.C_.clear()}L_(){this.i_.updateFormatter(this.Ml)}F_(){if(!this.ys.fixLeftEdge)return;const t=this.Z_();if(t===null)return;const e=this.ye();if(e===null)return;const i=e.Uh()-t;if(i<0){const r=this.E_-i-1;this.fn(r)}this.Q_()}H_(){this.tu(),this.Q_()}ru(t){return!this.ys.ignoreWhitespaceIndices||this.I_.get(t)||!1}hu(t){const e=function*(r){const s=Math.round(r),o=s<r;let l=1;for(;;)o?(yield s+l,yield s-l):(yield s-l,yield s+l),l++}(t),i=this.G_();for(;i;){const r=e.next().value;if(this.I_.get(r))return r;if(r<0||r>i)break}return t}}var oa,la,aa,ua,ca;(function(n){n[n.OnTouchEnd=0]="OnTouchEnd",n[n.OnNextTap=1]="OnNextTap"})(oa||(oa={}));class Hy{constructor(t,e,i){this.zu=[],this.Lu=[],this.fo=0,this.Ou=null,this.Nu=new Dt,this.Wu=new Dt,this.Fu=null,this.Hu=t,this.ys=e,this.i_=i,this.bl=new Hg(this.ys.layout.colorParsers),this.Uu=new Yg(this),this.uh=new Yy(this,e.timeScale,this.ys.localization,i),this.Ct=new iy(this,e.crosshair),this.$u=new Iy(e.crosshair),this.qu(0),this.zu[0].Po(2e3),this.Yu=this.ju(0),this.Ku=this.ju(1)}Bh(){this.Xu(Vt.gn())}ar(){this.Xu(Vt.wn())}Zh(){this.Xu(new Vt(1))}Ah(t){const e=this.Zu(t);this.Xu(e)}Gu(){return this.Ou}Ju(t){var i,r,s,o;if(((i=this.Ou)==null?void 0:i.Xo)===(t==null?void 0:t.Xo)&&((s=(r=this.Ou)==null?void 0:r.Zo)==null?void 0:s.Kn)===((o=t==null?void 0:t.Zo)==null?void 0:o.Kn))return;const e=this.Ou;this.Ou=t,e!==null&&this.Ah(e.Xo),t!==null&&t.Xo!==(e==null?void 0:e.Xo)&&this.Ah(t.Xo)}N(){return this.ys}hr(t){oe(this.ys,t),this.zu.forEach(e=>e.xo(t)),t.timeScale!==void 0&&this.uh.hr(t.timeScale),t.localization!==void 0&&this.uh.N_(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Nu.p(),this.Yu=this.ju(0),this.Ku=this.ju(1),this.Bh()}Qu(t,e,i=0){const r=this.zu[i];if(r===void 0)return;if(t==="left")return oe(this.ys,{leftPriceScale:e}),r.xo({leftPriceScale:e}),this.Nu.p(),void this.Bh();if(t==="right")return oe(this.ys,{rightPriceScale:e}),r.xo({rightPriceScale:e}),this.Nu.p(),void this.Bh();const s=this.tc(t,i);s!==null&&(s.Wt.hr(e),this.Nu.p())}tc(t,e){const i=this.zu[e];if(i===void 0)return null;const r=i.Co(t);return r!==null?{Us:i,Wt:r}:null}At(){return this.uh}$s(){return this.zu}sc(){return this.Ct}nc(){return this.Wu}ec(t,e){t.Al(e),this.au()}To(t){this.fo=t,this.uh.To(this.fo),this.zu.forEach(e=>e.To(t)),this.au()}rc(t){this.zu.length!==1&&($t(t>=0&&t<this.zu.length,"Invalid pane index"),this.zu.splice(t,1),this.Bh())}hc(t,e){if(this.zu.length<2)return;$t(t>=0&&t<this.zu.length,"Invalid pane index");const i=this.zu[t],r=this.zu.reduce((c,d)=>c+d.ko(),0),s=this.zu.reduce((c,d)=>c+d.$t(),0),o=s-30*(this.zu.length-1);e=Math.min(o,Math.max(30,e));const l=r/s,a=i.$t();i.Po(e*l);let u=e-a,h=this.zu.length-1;for(const c of this.zu)if(c!==i){const d=Math.min(o,Math.max(30,c.$t()-u/h));u-=c.$t()-d,h-=1;const f=d*l;c.Po(f)}this.Bh()}ac(t,e){$t(t>=0&&t<this.zu.length&&e>=0&&e<this.zu.length,"Invalid pane index");const i=this.zu[t],r=this.zu[e];this.zu[t]=r,this.zu[e]=i,this.Bh()}Eo(t,e,i){t.Eo(e,i)}zo(t,e,i){t.zo(e,i),this.Eh(),this.Xu(this.lc(t,2))}Lo(t,e){t.Lo(e),this.Xu(this.lc(t,2))}Oo(t,e,i){e.Pl()||t.Oo(e,i)}No(t,e,i){e.Pl()||(t.No(e,i),this.Eh(),this.Xu(this.lc(t,2)))}Wo(t,e){e.Pl()||(t.Wo(e),this.Xu(this.lc(t,2)))}Ho(t,e){t.Ho(e),this.Xu(this.lc(t,2))}oc(t){this.uh.so(t)}_c(t,e){const i=this.At();if(i.Ki()||e===0)return;const r=i.Qi();t=Math.max(1,Math.min(t,r)),i.pu(t,e),this.au()}uc(t){this.cc(0),this.dc(t),this.fc()}vc(t){this.uh.no(t),this.au()}mc(){this.uh.eo(),this.ar()}cc(t){this.uh.ro(t)}dc(t){this.uh.ho(t),this.au()}fc(){this.uh.ao(),this.ar()}js(){return this.Lu}wc(t,e,i,r,s){this.Ct.Vs(t,e);let o=NaN,l=this.uh.nu(t,!0);const a=this.uh.ye();a!==null&&(l=Math.min(Math.max(a.Uh(),l),a.bi()));const u=r.Ps(),h=u.zt();if(h!==null&&(o=u.Ts(e,h)),o=this.$u.Ma(o,l,r),this.Ct.Es(l,o,r),this.Zh(),!s){const c=zh(r,t,e);this.Ju(c&&{Xo:c.Xo,Zo:c.Zo,Jo:c.Jo||null}),this.Wu.p(this.Ct.Bt(),{x:t,y:e},i)}}gc(t,e,i){const r=i.Ps(),s=r.zt(),o=r.Nt(t,W(s)),l=this.uh.U_(e,!0),a=this.uh.qt(W(l));this.wc(a,o,null,i,!0)}Mc(t){this.sc().Ls(),this.Zh(),t||this.Wu.p(null,null,null)}Eh(){const t=this.Ct.Us();if(t!==null){const e=this.Ct.Bs(),i=this.Ct.As();this.wc(e,i,null,t)}this.Ct.Ns()}bc(t,e,i){const r=this.uh.Rs(0);e!==void 0&&i!==void 0&&this.uh.kt(e,i);const s=this.uh.Rs(0),o=this.uh.iu(),l=this.uh.ye();if(l!==null&&r!==null&&s!==null){const a=l.Te(o),u=this.i_.key(r)>this.i_.key(s),h=t!==null&&t>o&&!u,c=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,d=a&&(i!==void 0||c)&&this.uh.N().shiftVisibleRangeOnNewBar;if(h&&!d){const f=t-o;this.uh.fn(this.uh._u()-f)}}this.uh.fu(t)}Lh(t){t!==null&&t.$o()}Hn(t){if(function(i){return i instanceof ra}(t))return t;const e=this.zu.find(i=>i.Dt().includes(t));return e===void 0?null:e}au(){this.zu.forEach(t=>t.$o()),this.Eh()}m(){this.zu.forEach(t=>t.m()),this.zu.length=0,this.ys.localization.priceFormatter=void 0,this.ys.localization.percentageFormatter=void 0,this.ys.localization.timeFormatter=void 0}Sc(){return this.Uu}Yn(){return this.Uu.N()}yo(){return this.Nu}xc(t,e){const i=this.qu(e);this.Cc(t,i),this.Lu.push(t),this.Lu.length===1?this.Bh():this.ar()}yc(t){const e=this.Hn(t),i=this.Lu.indexOf(t);$t(i!==-1,"Series not found");const r=W(e);this.Lu.splice(i,1),r.Jl(t),t.m&&t.m(),this.uh.O_(),this.kc(r)}Ih(t,e){const i=W(this.Hn(t));i.Jl(t,!0),i.Zl(t,e,!0)}ku(){const t=Vt.wn();t.rn(),this.Xu(t)}Pc(t){const e=Vt.wn();e.ln(t),this.Xu(e)}cn(){const t=Vt.wn();t.cn(),this.Xu(t)}dn(t){const e=Vt.wn();e.dn(t),this.Xu(e)}fn(t){const e=Vt.wn();e.fn(t),this.Xu(e)}_n(t){const e=Vt.wn();e._n(t),this.Xu(e)}hn(){const t=Vt.wn();t.hn(),this.Xu(t)}Tc(){return this.ys.rightPriceScale.visible?"right":"left"}Rc(t,e){if($t(e>=0,"Index should be greater or equal to 0"),e===this.Dc(t))return;const i=W(this.Hn(t));i.Jl(t);const r=this.qu(e);this.Cc(t,r),i.ba().length===0&&this.kc(i)}Vc(){return this.Ku}$(){return this.Yu}Ut(t){const e=this.Ku,i=this.Yu;if(e===i)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.Fu===null||this.Fu.mr!==i||this.Fu.wr!==e)this.Fu={mr:i,wr:e,Ic:new Map};else{const s=this.Fu.Ic.get(t);if(s!==void 0)return s}const r=this.bl.tt(i,e,t/100);return this.Fu.Ic.set(t,r),r}Bc(t){return this.zu.indexOf(t)}Xi(){return this.bl}qu(t){if($t(t>=0,"Index should be greater or equal to 0"),(t=Math.min(this.zu.length,t))<this.zu.length)return this.zu[t];const e=new ra(this.uh,this);this.zu.push(e);const i=Vt.gn();return i.Qs(t,{tn:0,sn:!0}),this.Xu(i),e}Dc(t){return this.zu.findIndex(e=>e.Do().includes(t))}lc(t,e){const i=new Vt(e);if(t!==null){const r=this.zu.indexOf(t);i.Qs(r,{tn:e})}return i}Zu(t,e){return e===void 0&&(e=2),this.lc(this.Hn(t),e)}Xu(t){this.Hu&&this.Hu(t),this.zu.forEach(e=>e.jo().lr().kt())}Cc(t,e){const i=t.N().priceScaleId,r=i!==void 0?i:this.Tc();e.Zl(t,r),Vr(r)||t.hr(t.N())}ju(t){const e=this.ys.layout;return e.background.type==="gradient"?t===0?e.background.topColor:e.background.bottomColor:e.background.color}kc(t){t.ba().length===0&&this.zu.length>1&&(this.zu.splice(this.Bc(t),1),this.Bh())}}function io(n){return!Dn(n)&&!_i(n)}function Fh(n){return Dn(n)}(function(n){n[n.Disabled=0]="Disabled",n[n.Continuous=1]="Continuous",n[n.OnDataUpdate=2]="OnDataUpdate"})(la||(la={})),function(n){n[n.LastBar=0]="LastBar",n[n.LastVisible=1]="LastVisible"}(aa||(aa={})),function(n){n.Solid="solid",n.VerticalGradient="gradient"}(ua||(ua={})),function(n){n[n.Year=0]="Year",n[n.Month=1]="Month",n[n.DayOfMonth=2]="DayOfMonth",n[n.Time=3]="Time",n[n.TimeWithSeconds=4]="TimeWithSeconds"}(ca||(ca={}));const ha=n=>n.getUTCFullYear();function Zy(n,t,e){return t.replace(/yyyy/g,(i=>De(ha(i),4))(n)).replace(/yy/g,(i=>De(ha(i)%100,2))(n)).replace(/MMMM/g,((i,r)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(r,{month:"long"}))(n,e)).replace(/MMM/g,((i,r)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(r,{month:"short"}))(n,e)).replace(/MM/g,(i=>De((r=>r.getUTCMonth()+1)(i),2))(n)).replace(/dd/g,(i=>De((r=>r.getUTCDate())(i),2))(n))}class jh{constructor(t="yyyy-MM-dd",e="default"){this.Ac=t,this.Ec=e}s_(t){return Zy(t,this.Ac,this.Ec)}}class Xy{constructor(t){this.zc=t||"%h:%m:%s"}s_(t){return this.zc.replace("%h",De(t.getUTCHours(),2)).replace("%m",De(t.getUTCMinutes(),2)).replace("%s",De(t.getUTCSeconds(),2))}}const Qy={Lc:"yyyy-MM-dd",Oc:"%h:%m:%s",Nc:" ",Wc:"default"};class qy{constructor(t={}){const e={...Qy,...t};this.Fc=new jh(e.Lc,e.Wc),this.Hc=new Xy(e.Oc),this.Uc=e.Nc}s_(t){return`${this.Fc.s_(t)}${this.Uc}${this.Hc.s_(t)}`}}function Di(n){return 60*n*60*1e3}function ds(n){return 60*n*1e3}const Li=[{$c:(da=1,1e3*da),qc:10},{$c:ds(1),qc:20},{$c:ds(5),qc:21},{$c:ds(30),qc:22},{$c:Di(1),qc:30},{$c:Di(3),qc:31},{$c:Di(6),qc:32},{$c:Di(12),qc:33}];var da;function fa(n,t){if(n.getUTCFullYear()!==t.getUTCFullYear())return 70;if(n.getUTCMonth()!==t.getUTCMonth())return 60;if(n.getUTCDate()!==t.getUTCDate())return 50;for(let e=Li.length-1;e>=0;--e)if(Math.floor(t.getTime()/Li[e].$c)!==Math.floor(n.getTime()/Li[e].$c))return Li[e].qc;return 0}function fs(n){let t=n;if(_i(n)&&(t=$o(n)),!io(t))throw new Error("time must be of type BusinessDay");const e=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{Yc:Math.round(e.getTime()/1e3),jc:t}}function pa(n){if(!Fh(n))throw new Error("time must be of type isUTCTimestamp");return{Yc:n}}function $o(n){const t=new Date(n);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${n}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function ma(n){_i(n.time)&&(n.time=$o(n.time))}class ga{options(){return this.ys}setOptions(t){this.ys=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(e){e.forEach(ma)}(t):ma(t)}createConverterToInternalObj(t){return W(function(e){return e.length===0?null:io(e[0].time)||_i(e[0].time)?fs:pa}(t))}key(t){return typeof t=="object"&&"Yc"in t?t.Yc:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return e.jc===void 0?new Date(1e3*e.Yc).getTime():new Date(Date.UTC(e.jc.year,e.jc.month-1,e.jc.day)).getTime()}convertHorzItemToInternal(t){return Fh(e=t)?pa(e):io(e)?fs(e):fs($o(e));var e}updateFormatter(t){if(!this.ys)return;const e=t.dateFormat;this.ys.timeScale.timeVisible?this.Kc=new qy({Lc:e,Oc:this.ys.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Nc:"   ",Wc:t.locale}):this.Kc=new jh(e,t.locale)}formatHorzItem(t){const e=t;return this.Kc.s_(new Date(1e3*e.Yc))}formatTickmark(t,e){const i=function(s,o,l){switch(s){case 0:case 10:return o?l?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.ys.timeScale.timeVisible,this.ys.timeScale.secondsVisible),r=this.ys.timeScale;if(r.tickMarkFormatter!==void 0){const s=r.tickMarkFormatter(t.originalTime,i,e.locale);if(s!==null)return s}return function(s,o,l){const a={};switch(o){case 0:a.year="numeric";break;case 1:a.month="short";break;case 2:a.day="numeric";break;case 3:a.hour12=!1,a.hour="2-digit",a.minute="2-digit";break;case 4:a.hour12=!1,a.hour="2-digit",a.minute="2-digit",a.second="2-digit"}const u=s.jc===void 0?new Date(1e3*s.Yc):new Date(Date.UTC(s.jc.year,s.jc.month-1,s.jc.day));return new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()).toLocaleString(l,a)}(t.time,i,e.locale)}maxTickMarkWeight(t){let e=t.reduce(Uy,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){(function(i,r=0){if(i.length===0)return;let s=r===0?null:i[r-1].time.Yc,o=s!==null?new Date(1e3*s):null,l=0;for(let a=r;a<i.length;++a){const u=i[a],h=new Date(1e3*u.time.Yc);o!==null&&(u.timeWeight=fa(h,o)),l+=u.time.Yc-(s||u.time.Yc),s=u.time.Yc,o=h}if(r===0&&i.length>1){const a=Math.ceil(l/(i.length-1)),u=new Date(1e3*(i[0].time.Yc-a));i[0].timeWeight=fa(new Date(1e3*i[0].time.Yc),u)}})(t,e)}static Xc(t){return oe({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const On=typeof window<"u";function ya(){return!!On&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function ps(){return!!On&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function ro(n){return n+n%2}function Gy(n){On&&window.chrome!==void 0&&n.addEventListener("mousedown",t=>{if(t.button===1)return t.preventDefault(),!1})}class Wr{constructor(t,e,i){this.Zc=0,this.Gc=null,this.Jc={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.Qc=0,this.td=null,this.sd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.nd=null,this.ed=!1,this.rd=null,this.hd=null,this.ad=!1,this.ld=!1,this.od=!1,this._d=null,this.ud=null,this.dd=null,this.fd=null,this.pd=null,this.vd=null,this.md=null,this.wd=0,this.gd=!1,this.Md=!1,this.bd=!1,this.Sd=0,this.xd=null,this.Cd=!ps(),this.yd=r=>{this.kd(r)},this.Pd=r=>{if(this.Td(r)){const s=this.Rd(r);if(++this.Qc,this.td&&this.Qc>1){const{Dd:o}=this.Vd(we(r),this.sd);o<30&&!this.od&&this.Id(s,this.Ad.Bd),this.Ed()}}else{const s=this.Rd(r);if(++this.Zc,this.Gc&&this.Zc>1){const{Dd:o}=this.Vd(we(r),this.Jc);o<5&&!this.ld&&this.zd(s,this.Ad.Ld),this.Od()}}},this.Nd=t,this.Ad=e,this.ys=i,this.Wd()}m(){this._d!==null&&(this._d(),this._d=null),this.ud!==null&&(this.ud(),this.ud=null),this.fd!==null&&(this.fd(),this.fd=null),this.pd!==null&&(this.pd(),this.pd=null),this.vd!==null&&(this.vd(),this.vd=null),this.dd!==null&&(this.dd(),this.dd=null),this.Fd(),this.Od()}Hd(t){this.fd&&this.fd();const e=this.Ud.bind(this);if(this.fd=()=>{this.Nd.removeEventListener("mousemove",e)},this.Nd.addEventListener("mousemove",e),this.Td(t))return;const i=this.Rd(t);this.zd(i,this.Ad.$d),this.Cd=!0}Od(){this.Gc!==null&&clearTimeout(this.Gc),this.Zc=0,this.Gc=null,this.Jc={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Ed(){this.td!==null&&clearTimeout(this.td),this.Qc=0,this.td=null,this.sd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Ud(t){if(this.bd||this.hd!==null||this.Td(t))return;const e=this.Rd(t);this.zd(e,this.Ad.qd),this.Cd=!0}Yd(t){const e=ms(t.changedTouches,W(this.xd));if(e===null||(this.Sd=Oi(t),this.md!==null)||this.Md)return;this.gd=!0;const i=this.Vd(we(e),W(this.hd)),{jd:r,Kd:s,Dd:o}=i;if(this.ad||!(o<5)){if(!this.ad){const l=.5*r,a=s>=l&&!this.ys.Xd(),u=l>s&&!this.ys.Zd();a||u||(this.Md=!0),this.ad=!0,this.od=!0,this.Fd(),this.Ed()}if(!this.Md){const l=this.Rd(t,e);this.Id(l,this.Ad.Gd),yn(t)}}}Jd(t){if(t.button!==0)return;const e=this.Vd(we(t),W(this.rd)),{Dd:i}=e;if(i>=5&&(this.ld=!0,this.Od()),this.ld){const r=this.Rd(t);this.zd(r,this.Ad.Qd)}}Vd(t,e){const i=Math.abs(e._t-t._t),r=Math.abs(e.ut-t.ut);return{jd:i,Kd:r,Dd:i+r}}tf(t){let e=ms(t.changedTouches,W(this.xd));if(e===null&&t.touches.length===0&&(e=t.changedTouches[0]),e===null)return;this.xd=null,this.Sd=Oi(t),this.Fd(),this.hd=null,this.vd&&(this.vd(),this.vd=null);const i=this.Rd(t,e);if(this.Id(i,this.Ad.if),++this.Qc,this.td&&this.Qc>1){const{Dd:r}=this.Vd(we(e),this.sd);r<30&&!this.od&&this.Id(i,this.Ad.Bd),this.Ed()}else this.od||(this.Id(i,this.Ad.sf),this.Ad.sf&&yn(t));this.Qc===0&&yn(t),t.touches.length===0&&this.ed&&(this.ed=!1,yn(t))}kd(t){if(t.button!==0)return;const e=this.Rd(t);if(this.rd=null,this.bd=!1,this.pd&&(this.pd(),this.pd=null),ya()&&this.Nd.ownerDocument.documentElement.removeEventListener("mouseleave",this.yd),!this.Td(t))if(this.zd(e,this.Ad.nf),++this.Zc,this.Gc&&this.Zc>1){const{Dd:i}=this.Vd(we(t),this.Jc);i<5&&!this.ld&&this.zd(e,this.Ad.Ld),this.Od()}else this.ld||this.zd(e,this.Ad.ef)}Fd(){this.nd!==null&&(clearTimeout(this.nd),this.nd=null)}rf(t){if(this.xd!==null)return;const e=t.changedTouches[0];this.xd=e.identifier,this.Sd=Oi(t);const i=this.Nd.ownerDocument.documentElement;this.od=!1,this.ad=!1,this.Md=!1,this.hd=we(e),this.vd&&(this.vd(),this.vd=null);{const s=this.Yd.bind(this),o=this.tf.bind(this);this.vd=()=>{i.removeEventListener("touchmove",s),i.removeEventListener("touchend",o)},i.addEventListener("touchmove",s,{passive:!1}),i.addEventListener("touchend",o,{passive:!1}),this.Fd(),this.nd=setTimeout(this.hf.bind(this,t),240)}const r=this.Rd(t,e);this.Id(r,this.Ad.af),this.td||(this.Qc=0,this.td=setTimeout(this.Ed.bind(this),500),this.sd=we(e))}lf(t){if(t.button!==0)return;const e=this.Nd.ownerDocument.documentElement;ya()&&e.addEventListener("mouseleave",this.yd),this.ld=!1,this.rd=we(t),this.pd&&(this.pd(),this.pd=null);{const r=this.Jd.bind(this),s=this.kd.bind(this);this.pd=()=>{e.removeEventListener("mousemove",r),e.removeEventListener("mouseup",s)},e.addEventListener("mousemove",r),e.addEventListener("mouseup",s)}if(this.bd=!0,this.Td(t))return;const i=this.Rd(t);this.zd(i,this.Ad._f),this.Gc||(this.Zc=0,this.Gc=setTimeout(this.Od.bind(this),500),this.Jc=we(t))}Wd(){this.Nd.addEventListener("mouseenter",this.Hd.bind(this)),this.Nd.addEventListener("touchcancel",this.Fd.bind(this));{const t=this.Nd.ownerDocument,e=i=>{this.Ad.uf&&(i.composed&&this.Nd.contains(i.composedPath()[0])||i.target&&this.Nd.contains(i.target)||this.Ad.uf())};this.ud=()=>{t.removeEventListener("touchstart",e)},this._d=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}ps()&&(this.dd=()=>{this.Nd.removeEventListener("dblclick",this.Pd)},this.Nd.addEventListener("dblclick",this.Pd)),this.Nd.addEventListener("mouseleave",this.cf.bind(this)),this.Nd.addEventListener("touchstart",this.rf.bind(this),{passive:!0}),Gy(this.Nd),this.Nd.addEventListener("mousedown",this.lf.bind(this)),this.df(),this.Nd.addEventListener("touchmove",()=>{},{passive:!1})}df(){this.Ad.ff===void 0&&this.Ad.pf===void 0&&this.Ad.vf===void 0||(this.Nd.addEventListener("touchstart",t=>this.mf(t.touches),{passive:!0}),this.Nd.addEventListener("touchmove",t=>{if(t.touches.length===2&&this.md!==null&&this.Ad.pf!==void 0){const e=va(t.touches[0],t.touches[1])/this.wd;this.Ad.pf(this.md,e),yn(t)}},{passive:!1}),this.Nd.addEventListener("touchend",t=>{this.mf(t.touches)}))}mf(t){t.length===1&&(this.gd=!1),t.length!==2||this.gd||this.ed?this.wf():this.gf(t)}gf(t){const e=this.Nd.getBoundingClientRect()||{left:0,top:0};this.md={_t:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,ut:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.wd=va(t[0],t[1]),this.Ad.ff!==void 0&&this.Ad.ff(),this.Fd()}wf(){this.md!==null&&(this.md=null,this.Ad.vf!==void 0&&this.Ad.vf())}cf(t){if(this.fd&&this.fd(),this.Td(t)||!this.Cd)return;const e=this.Rd(t);this.zd(e,this.Ad.Mf),this.Cd=!ps()}hf(t){const e=ms(t.touches,W(this.xd));if(e===null)return;const i=this.Rd(t,e);this.Id(i,this.Ad.bf),this.od=!0,this.ed=!0}Td(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:Oi(t)<this.Sd+500}Id(t,e){e&&e.call(this.Ad,t)}zd(t,e){e&&e.call(this.Ad,t)}Rd(t,e){const i=e||t,r=this.Nd.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-r.left,localY:i.clientY-r.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Sf:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",xf:t.type,Cf:i.target,Qo:t.view,yf:()=>{t.type!=="touchstart"&&yn(t)}}}}function va(n,t){const e=n.clientX-t.clientX,i=n.clientY-t.clientY;return Math.sqrt(e*e+i*i)}function yn(n){n.cancelable&&n.preventDefault()}function we(n){return{_t:n.pageX,ut:n.pageY}}function Oi(n){return n.timeStamp||performance.now()}function ms(n,t){for(let e=0;e<n.length;++e)if(n[e].identifier===t)return n[e];return null}class Ky{constructor(t,e,i){this.kf=null,this.Pf=null,this.Tf=!0,this.Rf=null,this.Df=t,this.Vf=t.If()[e],this.Bf=t.If()[i],this.Af=document.createElement("tr"),this.Af.style.height="1px",this.Ef=document.createElement("td"),this.Ef.style.position="relative",this.Ef.style.padding="0",this.Ef.style.margin="0",this.Ef.setAttribute("colspan","3"),this.zf(),this.Af.appendChild(this.Ef),this.Tf=this.Df.N().layout.panes.enableResize,this.Tf?this.Lf():(this.kf=null,this.Pf=null)}m(){this.Pf!==null&&this.Pf.m()}Of(){return this.Af}Nf(){return _t({width:this.Vf.Nf().width,height:1})}Wf(){return _t({width:this.Vf.Wf().width,height:1*window.devicePixelRatio})}Ff(t,e,i){const r=this.Wf();t.fillStyle=this.Df.N().layout.panes.separatorColor,t.fillRect(e,i,r.width,r.height)}kt(){this.zf(),this.Df.N().layout.panes.enableResize!==this.Tf&&(this.Tf=this.Df.N().layout.panes.enableResize,this.Tf?this.Lf():(this.kf!==null&&(this.Ef.removeChild(this.kf.Hf),this.Ef.removeChild(this.kf.Uf),this.kf=null),this.Pf!==null&&(this.Pf.m(),this.Pf=null)))}Lf(){const t=document.createElement("div"),e=t.style;e.position="fixed",e.display="none",e.zIndex="49",e.top="0",e.left="0",e.width="100%",e.height="100%",e.cursor="row-resize",this.Ef.appendChild(t);const i=document.createElement("div"),r=i.style;r.position="absolute",r.zIndex="50",r.top="-4px",r.height="9px",r.width="100%",r.backgroundColor="",r.cursor="row-resize",this.Ef.appendChild(i);const s={$d:this.$f.bind(this),Mf:this.qf.bind(this),_f:this.Yf.bind(this),af:this.Yf.bind(this),Qd:this.jf.bind(this),Gd:this.jf.bind(this),nf:this.Kf.bind(this),if:this.Kf.bind(this)};this.Pf=new Wr(i,s,{Xd:()=>!1,Zd:()=>!0}),this.kf={Uf:i,Hf:t}}zf(){this.Ef.style.background=this.Df.N().layout.panes.separatorColor}$f(t){this.kf!==null&&(this.kf.Uf.style.backgroundColor=this.Df.N().layout.panes.separatorHoverColor)}qf(t){this.kf!==null&&this.Rf===null&&(this.kf.Uf.style.backgroundColor="")}Yf(t){if(this.kf===null)return;const e=this.Vf.Xf().ko()+this.Bf.Xf().ko(),i=e/(this.Vf.Nf().height+this.Bf.Nf().height),r=30*i;e<=2*r||(this.Rf={Zf:t.pageY,Gf:this.Vf.Xf().ko(),Jf:e-r,Qf:e,tp:i,ip:r},this.kf.Hf.style.display="block")}jf(t){const e=this.Rf;if(e===null)return;const i=(t.pageY-e.Zf)*e.tp,r=oi(e.Gf+i,e.ip,e.Jf);this.Vf.Xf().Po(r),this.Bf.Xf().Po(e.Qf-r),this.Df.Qt().Bh()}Kf(t){this.Rf!==null&&this.kf!==null&&(this.Rf=null,this.kf.Hf.style.display="none")}}function gs(n,t){return n.sp-t.sp}function ys(n,t,e){const i=(n.sp-t.sp)/(n.wt-t.wt);return Math.sign(i)*Math.min(Math.abs(i),e)}class Jy{constructor(t,e,i,r){this.np=null,this.ep=null,this.rp=null,this.hp=null,this.ap=null,this.lp=0,this.op=0,this._p=t,this.up=e,this.cp=i,this.Mn=r}dp(t,e){if(this.np!==null){if(this.np.wt===e)return void(this.np.sp=t);if(Math.abs(this.np.sp-t)<this.Mn)return}this.hp=this.rp,this.rp=this.ep,this.ep=this.np,this.np={wt:e,sp:t}}le(t,e){if(this.np===null||this.ep===null||e-this.np.wt>50)return;let i=0;const r=ys(this.np,this.ep,this.up),s=gs(this.np,this.ep),o=[r],l=[s];if(i+=s,this.rp!==null){const u=ys(this.ep,this.rp,this.up);if(Math.sign(u)===Math.sign(r)){const h=gs(this.ep,this.rp);if(o.push(u),l.push(h),i+=h,this.hp!==null){const c=ys(this.rp,this.hp,this.up);if(Math.sign(c)===Math.sign(r)){const d=gs(this.rp,this.hp);o.push(c),l.push(d),i+=d}}}}let a=0;for(let u=0;u<o.length;++u)a+=l[u]/i*o[u];Math.abs(a)<this._p||(this.ap={sp:t,wt:e},this.op=a,this.lp=function(u,h){const c=Math.log(h);return Math.log(1*c/-u)/c}(Math.abs(a),this.cp))}bu(t){const e=W(this.ap),i=t-e.wt;return e.sp+this.op*(Math.pow(this.cp,i)-1)/Math.log(this.cp)}Mu(t){return this.ap===null||this.fp(t)===this.lp}fp(t){const e=t-W(this.ap).wt;return Math.min(e,this.lp)}}class tv{constructor(t,e){this.pp=void 0,this.vp=void 0,this.mp=void 0,this.ps=!1,this.wp=t,this.gp=e,this.Mp()}kt(){this.Mp()}bp(){this.pp&&this.wp.removeChild(this.pp),this.vp&&this.wp.removeChild(this.vp),this.pp=void 0,this.vp=void 0}Sp(){return this.ps!==this.xp()||this.mp!==this.Cp()}Cp(){return this.gp.Qt().Xi().J(this.gp.N().layout.textColor)>160?"dark":"light"}xp(){return this.gp.N().layout.attributionLogo}yp(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}Mp(){this.Sp()&&(this.bp(),this.ps=this.xp(),this.ps&&(this.mp=this.Cp(),this.vp=document.createElement("style"),this.vp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.pp=document.createElement("a"),this.pp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.yp()}`,this.pp.title="Charting by TradingView",this.pp.id="tv-attr-logo",this.pp.target="_blank",this.pp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.pp.toggleAttribute("data-dark",this.mp==="dark"),this.wp.appendChild(this.vp),this.wp.appendChild(this.pp)))}}function an(n,t){const e=W(n.ownerDocument).createElement("canvas");n.appendChild(e);const i=Vg(e,{type:"device-pixel-content-box",options:{allowResizeObserver:!0},transform:(r,s)=>({width:Math.max(r.width,s.width),height:Math.max(r.height,s.height)})});return i.resizeCanvasElement(t),i}function un(n){var t;n.width=1,n.height=1,(t=n.getContext("2d"))==null||t.clearRect(0,0,1,1)}function so(n,t,e,i){n.ih&&n.ih(t,e,i)}function Yi(n,t,e,i){n.nt(t,e,i)}function oo(n,t,e,i){const r=n(e,i);for(const s of r){const o=s.Tt(i);o!==null&&t(o)}}function vs(n,t){return e=>{var i,r;return function(s){return s.Wt!==void 0}(e)?(((i=e.Wt())==null?void 0:i.wa())??"")!==t?[]:((r=e.ta)==null?void 0:r.call(e,n))??[]:[]}}function ba(n,t,e,i){if(!n.length)return;let r=0;const s=n[0].$t(i,!0);let o=t===1?e/2-(n[0].Wi()-s/2):n[0].Wi()-s/2-e/2;o=Math.max(0,o);for(let l=1;l<n.length;l++){const a=n[l],u=n[l-1],h=u.$t(i,!1),c=a.Wi(),d=u.Wi();if(t===1?c>d-h:c<d+h){const f=d-h*t;a.Fi(f);const p=f-t*h/2;if((t===1?p<0:p>e)&&o>0){const g=t===1?-1-p:p-e,v=Math.min(g,o);for(let b=r;b<n.length;b++)n[b].Fi(n[b].Wi()+t*v);o-=v}}else r=l,o=t===1?d-h-c:c-(d+h)}}class xa{constructor(t,e,i,r){this.Yi=null,this.kp=null,this.Pp=!1,this.Tp=new kr(200),this.Rp=null,this.Dp=0,this.Vp=!1,this.Ip=()=>{this.Vp||this.yt.Bp().Qt().ar()},this.Ap=()=>{this.Vp||this.yt.Bp().Qt().ar()},this.yt=t,this.ys=e,this.gl=e.layout,this.Uu=i,this.Ep=r==="left",this.zp=vs("normal",r),this.Lp=vs("top",r),this.Op=vs("bottom",r),this.Ef=document.createElement("div"),this.Ef.style.height="100%",this.Ef.style.overflow="hidden",this.Ef.style.width="25px",this.Ef.style.left="0",this.Ef.style.position="relative",this.Np=an(this.Ef,_t({width:16,height:16})),this.Np.subscribeSuggestedBitmapSizeChanged(this.Ip);const s=this.Np.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Wp=an(this.Ef,_t({width:16,height:16})),this.Wp.subscribeSuggestedBitmapSizeChanged(this.Ap);const o=this.Wp.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const l={_f:this.Yf.bind(this),af:this.Yf.bind(this),Qd:this.jf.bind(this),Gd:this.jf.bind(this),uf:this.Fp.bind(this),nf:this.Kf.bind(this),if:this.Kf.bind(this),Ld:this.Hp.bind(this),Bd:this.Hp.bind(this),$d:this.Up.bind(this),Mf:this.qf.bind(this)};this.Pf=new Wr(this.Wp.canvasElement,l,{Xd:()=>!this.ys.handleScroll.vertTouchDrag,Zd:()=>!0})}m(){this.Pf.m(),this.Wp.unsubscribeSuggestedBitmapSizeChanged(this.Ap),un(this.Wp.canvasElement),this.Wp.dispose(),this.Np.unsubscribeSuggestedBitmapSizeChanged(this.Ip),un(this.Np.canvasElement),this.Np.dispose(),this.Yi!==null&&this.Yi.io().u(this),this.Yi=null}Of(){return this.Ef}k(){return this.gl.fontSize}$p(){const t=this.Uu.N();return this.Rp!==t.P&&(this.Tp.In(),this.Rp=t.P),t}qp(){if(this.Yi===null)return 0;let t=0;const e=this.$p(),i=W(this.Np.canvasElement.getContext("2d",{colorSpace:this.yt.Bp().N().layout.colorSpace}));i.save();const r=this.Yi.Va();i.font=this.Yp(),r.length>0&&(t=Math.max(this.Tp.Vi(i,r[0].Xa),this.Tp.Vi(i,r[r.length-1].Xa)));const s=this.jp();for(let u=s.length;u--;){const h=this.Tp.Vi(i,s[u].ri());h>t&&(t=h)}const o=this.Yi.zt();if(o!==null&&this.kp!==null&&(l=this.ys.crosshair).mode!==2&&l.horzLine.visible&&l.horzLine.labelVisible){const u=this.Yi.Ts(1,o),h=this.Yi.Ts(this.kp.height-2,o);t=Math.max(t,this.Tp.Vi(i,this.Yi.Zi(Math.floor(Math.min(u,h))+.11111111111111,o)),this.Tp.Vi(i,this.Yi.Zi(Math.ceil(Math.max(u,h))-.11111111111111,o)))}var l;i.restore();const a=t||34;return ro(Math.ceil(e.S+e.C+e.I+e.B+5+a))}Kp(t){this.kp!==null&&rn(this.kp,t)||(this.kp=t,this.Vp=!0,this.Np.resizeCanvasElement(t),this.Wp.resizeCanvasElement(t),this.Vp=!1,this.Ef.style.width=`${t.width}px`,this.Ef.style.height=`${t.height}px`)}Xp(){return W(this.kp).width}_s(t){this.Yi!==t&&(this.Yi!==null&&this.Yi.io().u(this),this.Yi=t,t.io().i(this.ol.bind(this),this))}Wt(){return this.Yi}In(){const t=this.yt.Xf();this.yt.Bp().Qt().Ho(t,W(this.Wt()))}Zp(t){if(this.kp===null)return;const e={colorSpace:this.yt.Bp().N().layout.colorSpace};if(t!==1){this.Gp(),this.Np.applySuggestedBitmapSize();const r=ln(this.Np,e);r!==null&&(r.useBitmapCoordinateSpace(s=>{this.Jp(s),this.Qp(s)}),this.yt.tv(r,this.Op),this.iv(r),this.yt.tv(r,this.zp),this.sv(r))}this.Wp.applySuggestedBitmapSize();const i=ln(this.Wp,e);i!==null&&(i.useBitmapCoordinateSpace(({context:r,bitmapSize:s})=>{r.clearRect(0,0,s.width,s.height)}),this.nv(i),this.yt.tv(i,this.Lp))}Wf(){return this.Np.bitmapSize}Ff(t,e,i){const r=this.Wf();r.width>0&&r.height>0&&t.drawImage(this.Np.canvasElement,e,i)}kt(){var t;(t=this.Yi)==null||t.Va()}Yf(t){if(this.Yi===null||this.Yi.Ki()||!this.ys.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Bp().Qt(),i=this.yt.Xf();this.Pp=!0,e.Eo(i,this.Yi,t.localY)}jf(t){if(this.Yi===null||!this.ys.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Bp().Qt(),i=this.yt.Xf(),r=this.Yi;e.zo(i,r,t.localY)}Fp(){if(this.Yi===null||!this.ys.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Bp().Qt(),e=this.yt.Xf(),i=this.Yi;this.Pp&&(this.Pp=!1,t.Lo(e,i))}Kf(t){if(this.Yi===null||!this.ys.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Bp().Qt(),i=this.yt.Xf();this.Pp=!1,e.Lo(i,this.Yi)}Hp(t){this.ys.handleScale.axisDoubleClickReset.price&&this.In()}Up(t){this.Yi!==null&&(!this.yt.Bp().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Rl()||this.ev(1))}qf(t){this.ev(0)}jp(){const t=[],e=this.Yi===null?void 0:this.Yi;return(i=>{for(let r=0;r<i.length;++r){const s=i[r].Fs(this.yt.Xf(),e);for(let o=0;o<s.length;o++)t.push(s[o])}})(this.yt.Xf().Dt()),t}Jp({context:t,bitmapSize:e}){const{width:i,height:r}=e,s=this.yt.Xf().Qt(),o=s.$(),l=s.Vc();o===l?Fr(t,0,0,i,r,o):Th(t,0,0,i,r,o,l)}Qp({context:t,bitmapSize:e,horizontalPixelRatio:i}){if(this.kp===null||this.Yi===null||!this.Yi.N().borderVisible)return;t.fillStyle=this.Yi.N().borderColor;const r=Math.max(1,Math.floor(this.$p().S*i));let s;s=this.Ep?e.width-r:0,t.fillRect(s,0,r,e.height)}iv(t){if(this.kp===null||this.Yi===null)return;const e=this.Yi.Va(),i=this.Yi.N(),r=this.$p(),s=this.Ep?this.kp.width-r.C:0;i.borderVisible&&i.ticksVisible&&t.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:l,verticalPixelRatio:a})=>{o.fillStyle=i.borderColor;const u=Math.max(1,Math.floor(a)),h=Math.floor(.5*a),c=Math.round(r.C*l);o.beginPath();for(const d of e)o.rect(Math.floor(s*l),Math.round(d.ka*a)-h,c,u);o.fill()}),t.useMediaCoordinateSpace(({context:o})=>{o.font=this.Yp(),o.fillStyle=i.textColor??this.gl.textColor,o.textAlign=this.Ep?"right":"left",o.textBaseline="middle";const l=this.Ep?Math.round(s-r.I):Math.round(s+r.C+r.I),a=e.map(u=>this.Tp.Di(o,u.Xa));for(let u=e.length;u--;){const h=e[u];o.fillText(h.Xa,l,h.ka+a[u])}})}Gp(){if(this.kp===null||this.Yi===null)return;let t=this.kp.height/2;const e=[],i=this.Yi.Dt().slice(),r=this.yt.Xf(),s=this.$p();this.Yi===r.$n()&&this.yt.Xf().Dt().forEach(a=>{r.Un(a)&&i.push(a)});const o=this.Yi.ba()[0],l=this.Yi;i.forEach(a=>{const u=a.Fs(r,l);u.forEach(h=>{h.Fi(null),h.Hi()&&e.push(h)}),o===a&&u.length>0&&(t=u[0].Bi())}),e.forEach(a=>a.Fi(a.Bi())),this.Yi.N().alignLabels&&this.rv(e,s,t)}rv(t,e,i){if(this.kp===null)return;const r=t.filter(o=>o.Bi()<=i),s=t.filter(o=>o.Bi()>i);r.sort((o,l)=>l.Bi()-o.Bi()),r.length&&s.length&&s.push(r[0]),s.sort((o,l)=>o.Bi()-l.Bi());for(const o of t){const l=Math.floor(o.$t(e)/2),a=o.Bi();a>-l&&a<l&&o.Fi(l),a>this.kp.height-l&&a<this.kp.height+l&&o.Fi(this.kp.height-l)}ba(r,1,this.kp.height,e),ba(s,-1,this.kp.height,e)}sv(t){if(this.kp===null)return;const e=this.jp(),i=this.$p(),r=this.Ep?"right":"left";e.forEach(s=>{s.Ui()&&s.Tt(W(this.Yi)).nt(t,i,this.Tp,r)})}nv(t){if(this.kp===null||this.Yi===null)return;const e=this.yt.Bp().Qt(),i=[],r=this.yt.Xf(),s=e.sc().Fs(r,this.Yi);s.length&&i.push(s);const o=this.$p(),l=this.Ep?"right":"left";i.forEach(a=>{a.forEach(u=>{u.Tt(W(this.Yi)).nt(t,o,this.Tp,l)})})}ev(t){this.Ef.style.cursor=t===1?"ns-resize":"default"}ol(){const t=this.qp();this.Dp<t&&this.yt.Bp().Qt().Bh(),this.Dp=t}Yp(){return wr(this.gl.fontSize,this.gl.fontFamily)}}function ev(n,t){var e;return((e=n.Jh)==null?void 0:e.call(n,t))??[]}function wa(n,t){var e;return((e=n.Ws)==null?void 0:e.call(n,t))??[]}function ka(n,t){var e;return((e=n.us)==null?void 0:e.call(n,t))??[]}function nv(n,t){var e;return((e=n.Xh)==null?void 0:e.call(n,t))??[]}class Wo{constructor(t,e){this.kp=_t({width:0,height:0}),this.hv=null,this.av=null,this.lv=null,this.ov=null,this._v=!1,this.uv=new Dt,this.cv=new Dt,this.dv=0,this.fv=!1,this.pv=null,this.vv=!1,this.mv=null,this.wv=null,this.Vp=!1,this.Ip=()=>{this.Vp||this.gv===null||this.ts().ar()},this.Ap=()=>{this.Vp||this.gv===null||this.ts().ar()},this.gp=t,this.gv=e,this.gv.Yo().i(this.Mv.bind(this),this,!0),this.bv=document.createElement("td"),this.bv.style.padding="0",this.bv.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.Sv=document.createElement("td"),this.Sv.style.padding="0",this.xv=document.createElement("td"),this.xv.style.padding="0",this.bv.appendChild(i),this.Np=an(i,_t({width:16,height:16})),this.Np.subscribeSuggestedBitmapSizeChanged(this.Ip);const r=this.Np.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Wp=an(i,_t({width:16,height:16})),this.Wp.subscribeSuggestedBitmapSizeChanged(this.Ap);const s=this.Wp.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.Af=document.createElement("tr"),this.Af.appendChild(this.Sv),this.Af.appendChild(this.bv),this.Af.appendChild(this.xv),this.Cv(),this.Pf=new Wr(this.Wp.canvasElement,this,{Xd:()=>this.pv===null&&!this.gp.N().handleScroll.vertTouchDrag,Zd:()=>this.pv===null&&!this.gp.N().handleScroll.horzTouchDrag})}m(){this.hv!==null&&this.hv.m(),this.av!==null&&this.av.m(),this.lv=null,this.Wp.unsubscribeSuggestedBitmapSizeChanged(this.Ap),un(this.Wp.canvasElement),this.Wp.dispose(),this.Np.unsubscribeSuggestedBitmapSizeChanged(this.Ip),un(this.Np.canvasElement),this.Np.dispose(),this.gv!==null&&(this.gv.Yo().u(this),this.gv.m()),this.Pf.m()}Xf(){return W(this.gv)}yv(t){var e;this.gv!==null&&this.gv.Yo().u(this),this.gv=t,this.gv!==null&&this.gv.Yo().i(Wo.prototype.Mv.bind(this),this,!0),this.Cv(),this.gp.If().indexOf(this)===this.gp.If().length-1?(this.lv=this.lv??new tv(this.bv,this.gp),this.lv.kt()):((e=this.lv)==null||e.bp(),this.lv=null)}Bp(){return this.gp}Of(){return this.Af}Cv(){if(this.gv!==null&&(this.kv(),this.ts().js().length!==0)){if(this.hv!==null){const t=this.gv.Bo();this.hv._s(W(t))}if(this.av!==null){const t=this.gv.Ao();this.av._s(W(t))}}}Pv(){this.hv!==null&&this.hv.kt(),this.av!==null&&this.av.kt()}ko(){return this.gv!==null?this.gv.ko():0}Po(t){this.gv&&this.gv.Po(t)}$d(t){if(!this.gv)return;this.Tv();const e=t.localX,i=t.localY;this.Rv(e,i,t)}_f(t){this.Tv(),this.Dv(),this.Rv(t.localX,t.localY,t)}qd(t){if(!this.gv)return;this.Tv();const e=t.localX,i=t.localY;this.Rv(e,i,t)}ef(t){this.gv!==null&&(this.Tv(),this.Vv(t))}Ld(t){this.gv!==null&&this.Iv(this.cv,t)}Bd(t){this.Ld(t)}Qd(t){this.Tv(),this.Bv(t),this.Rv(t.localX,t.localY,t)}nf(t){this.gv!==null&&(this.Tv(),this.fv=!1,this.Av(t))}sf(t){this.gv!==null&&this.Vv(t)}bf(t){if(this.fv=!0,this.pv===null){const e={x:t.localX,y:t.localY};this.Ev(e,e,t)}}Mf(t){this.gv!==null&&(this.Tv(),this.gv.Qt().Ju(null),this.zv())}Lv(){return this.uv}Ov(){return this.cv}ff(){this.dv=1,this.ts().hn()}pf(t,e){if(!this.gp.N().handleScale.pinch)return;const i=5*(e-this.dv);this.dv=e,this.ts()._c(t._t,i)}af(t){this.fv=!1,this.vv=this.pv!==null,this.Dv();const e=this.ts().sc();this.pv!==null&&e.Vt()&&(this.mv={x:e.si(),y:e.ni()},this.pv={x:t.localX,y:t.localY})}Gd(t){if(this.gv===null)return;const e=t.localX,i=t.localY;if(this.pv===null)this.Bv(t);else{this.vv=!1;const r=W(this.mv),s=r.x+(e-this.pv.x),o=r.y+(i-this.pv.y);this.Rv(s,o,t)}}if(t){this.Bp().N().trackingMode.exitMode===0&&(this.vv=!0),this.Nv(),this.Av(t)}jn(t,e){const i=this.gv;return i===null?null:zh(i,t,e)}Wv(t,e){W(e==="left"?this.hv:this.av).Kp(_t({width:t,height:this.kp.height}))}Nf(){return this.kp}Kp(t){rn(this.kp,t)||(this.kp=t,this.Vp=!0,this.Np.resizeCanvasElement(t),this.Wp.resizeCanvasElement(t),this.Vp=!1,this.bv.style.width=t.width+"px",this.bv.style.height=t.height+"px")}Fv(){const t=W(this.gv);t.Io(t.Bo()),t.Io(t.Ao());for(const e of t.ba())if(t.Un(e)){const i=e.Wt();i!==null&&t.Io(i),e.Ns()}for(const e of t.Ko())e.Ns()}Wf(){return this.Np.bitmapSize}Ff(t,e,i){const r=this.Wf();r.width>0&&r.height>0&&t.drawImage(this.Np.canvasElement,e,i)}Zp(t){if(t===0||this.gv===null)return;t>1&&this.Fv(),this.hv!==null&&this.hv.Zp(t),this.av!==null&&this.av.Zp(t);const e={colorSpace:this.gp.N().layout.colorSpace};if(t!==1){this.Np.applySuggestedBitmapSize();const r=ln(this.Np,e);r!==null&&(r.useBitmapCoordinateSpace(s=>{this.Jp(s)}),this.gv&&(this.Hv(r,ev),this.Uv(r),this.Hv(r,wa),this.Hv(r,ka)))}this.Wp.applySuggestedBitmapSize();const i=ln(this.Wp,e);i!==null&&(i.useBitmapCoordinateSpace(({context:r,bitmapSize:s})=>{r.clearRect(0,0,s.width,s.height)}),this.$v(i),this.Hv(i,nv),this.Hv(i,ka))}qv(){return this.hv}Yv(){return this.av}tv(t,e){this.Hv(t,e)}Mv(){this.gv!==null&&this.gv.Yo().u(this),this.gv=null}Vv(t){this.Iv(this.uv,t)}Iv(t,e){const i=e.localX,r=e.localY;t.v()&&t.p(this.ts().At().nu(i),{x:i,y:r},e)}Jp({context:t,bitmapSize:e}){const{width:i,height:r}=e,s=this.ts(),o=s.$(),l=s.Vc();o===l?Fr(t,0,0,i,r,l):Th(t,0,0,i,r,o,l)}Uv(t){const e=W(this.gv),i=e.jo().lr().Tt(e);i!==null&&i.nt(t,!1)}$v(t){this.jv(t,wa,Yi,this.ts().sc())}Hv(t,e){const i=W(this.gv),r=i.Dt(),s=i.Ko();for(const o of s)this.jv(t,e,so,o);for(const o of r)this.jv(t,e,so,o);for(const o of s)this.jv(t,e,Yi,o);for(const o of r)this.jv(t,e,Yi,o)}jv(t,e,i,r){const s=W(this.gv),o=s.Qt().Gu(),l=o!==null&&o.Xo===r,a=o!==null&&l&&o.Zo!==void 0?o.Zo.Xn:void 0;oo(e,u=>i(u,t,l,a),r,s)}kv(){if(this.gv===null)return;const t=this.gp,e=this.gv.Bo().N().visible,i=this.gv.Ao().N().visible;e||this.hv===null||(this.Sv.removeChild(this.hv.Of()),this.hv.m(),this.hv=null),i||this.av===null||(this.xv.removeChild(this.av.Of()),this.av.m(),this.av=null);const r=t.Qt().Sc();e&&this.hv===null&&(this.hv=new xa(this,t.N(),r,"left"),this.Sv.appendChild(this.hv.Of())),i&&this.av===null&&(this.av=new xa(this,t.N(),r,"right"),this.xv.appendChild(this.av.Of()))}Kv(t){return t.Sf&&this.fv||this.pv!==null}Xv(t){return Math.max(0,Math.min(t,this.kp.width-1))}Zv(t){return Math.max(0,Math.min(t,this.kp.height-1))}Rv(t,e,i){this.ts().wc(this.Xv(t),this.Zv(e),i,W(this.gv))}zv(){this.ts().Mc()}Nv(){this.vv&&(this.pv=null,this.zv())}Ev(t,e,i){this.pv=t,this.vv=!1,this.Rv(e.x,e.y,i);const r=this.ts().sc();this.mv={x:r.si(),y:r.ni()}}ts(){return this.gp.Qt()}Av(t){if(!this._v)return;const e=this.ts(),i=this.Xf();if(e.Wo(i,i.Ps()),this.ov=null,this._v=!1,e.fc(),this.wv!==null){const r=performance.now(),s=e.At();this.wv.le(s._u(),r),this.wv.Mu(r)||e._n(this.wv)}}Tv(){this.pv=null}Dv(){if(this.gv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)W(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.gv.Ps().Ki()&&this.ts().At().Ki()}}Bv(t){if(this.gv===null)return;const e=this.ts(),i=e.At();if(i.Ki())return;const r=this.gp.N(),s=r.handleScroll,o=r.kineticScroll;if((!s.pressedMouseMove||t.Sf)&&(!s.horzTouchDrag&&!s.vertTouchDrag||!t.Sf))return;const l=this.gv.Ps(),a=performance.now();if(this.ov!==null||this.Kv(t)||(this.ov={x:t.clientX,y:t.clientY,Yc:a,Gv:t.localX,Jv:t.localY}),this.ov!==null&&!this._v&&(this.ov.x!==t.clientX||this.ov.y!==t.clientY)){if(t.Sf&&o.touch||!t.Sf&&o.mouse){const u=i.lu();this.wv=new Jy(.2/u,7/u,.997,15/u),this.wv.dp(i._u(),this.ov.Yc)}else this.wv=null;l.Ki()||e.Oo(this.gv,l,t.localY),e.cc(t.localX),this._v=!0}this._v&&(l.Ki()||e.No(this.gv,l,t.localY),e.dc(t.localX),this.wv!==null&&this.wv.dp(i._u(),a))}}class _a{constructor(t,e,i,r,s){this.xt=!0,this.kp=_t({width:0,height:0}),this.Ip=()=>this.Zp(3),this.Ep=t==="left",this.Uu=i.Sc,this.ys=e,this.Qv=r,this.tm=s,this.Ef=document.createElement("div"),this.Ef.style.width="25px",this.Ef.style.height="100%",this.Ef.style.overflow="hidden",this.Np=an(this.Ef,_t({width:16,height:16})),this.Np.subscribeSuggestedBitmapSizeChanged(this.Ip)}m(){this.Np.unsubscribeSuggestedBitmapSizeChanged(this.Ip),un(this.Np.canvasElement),this.Np.dispose()}Of(){return this.Ef}Nf(){return this.kp}Kp(t){rn(this.kp,t)||(this.kp=t,this.Np.resizeCanvasElement(t),this.Ef.style.width=`${t.width}px`,this.Ef.style.height=`${t.height}px`,this.xt=!0)}Zp(t){if(t<3&&!this.xt||this.kp.width===0||this.kp.height===0)return;this.xt=!1,this.Np.applySuggestedBitmapSize();const e=ln(this.Np,{colorSpace:this.ys.layout.colorSpace});e!==null&&e.useBitmapCoordinateSpace(i=>{this.Jp(i),this.Qp(i)})}Wf(){return this.Np.bitmapSize}Ff(t,e,i){const r=this.Wf();r.width>0&&r.height>0&&t.drawImage(this.Np.canvasElement,e,i)}Qp({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(!this.Qv())return;t.fillStyle=this.ys.timeScale.borderColor;const s=Math.floor(this.Uu.N().S*i),o=Math.floor(this.Uu.N().S*r),l=this.Ep?e.width-s:0;t.fillRect(l,0,s,o)}Jp({context:t,bitmapSize:e}){Fr(t,0,0,e.width,e.height,this.tm())}}function Uo(n){return t=>{var e;return((e=t.ia)==null?void 0:e.call(t,n))??[]}}const iv=Uo("normal"),rv=Uo("top"),sv=Uo("bottom");class ov{constructor(t,e){this.im=null,this.sm=null,this.M=null,this.nm=!1,this.kp=_t({width:0,height:0}),this.rm=new Dt,this.Tp=new kr(5),this.Vp=!1,this.Ip=()=>{this.Vp||this.gp.Qt().ar()},this.Ap=()=>{this.Vp||this.gp.Qt().ar()},this.gp=t,this.i_=e,this.ys=t.N().layout,this.pp=document.createElement("tr"),this.hm=document.createElement("td"),this.hm.style.padding="0",this.am=document.createElement("td"),this.am.style.padding="0",this.Ef=document.createElement("td"),this.Ef.style.height="25px",this.Ef.style.padding="0",this.lm=document.createElement("div"),this.lm.style.width="100%",this.lm.style.height="100%",this.lm.style.position="relative",this.lm.style.overflow="hidden",this.Ef.appendChild(this.lm),this.Np=an(this.lm,_t({width:16,height:16})),this.Np.subscribeSuggestedBitmapSizeChanged(this.Ip);const i=this.Np.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Wp=an(this.lm,_t({width:16,height:16})),this.Wp.subscribeSuggestedBitmapSizeChanged(this.Ap);const r=this.Wp.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.pp.appendChild(this.hm),this.pp.appendChild(this.Ef),this.pp.appendChild(this.am),this.om(),this.gp.Qt().yo().i(this.om.bind(this),this),this.Pf=new Wr(this.Wp.canvasElement,this,{Xd:()=>!0,Zd:()=>!this.gp.N().handleScroll.horzTouchDrag})}m(){this.Pf.m(),this.im!==null&&this.im.m(),this.sm!==null&&this.sm.m(),this.Wp.unsubscribeSuggestedBitmapSizeChanged(this.Ap),un(this.Wp.canvasElement),this.Wp.dispose(),this.Np.unsubscribeSuggestedBitmapSizeChanged(this.Ip),un(this.Np.canvasElement),this.Np.dispose()}Of(){return this.pp}_m(){return this.im}um(){return this.sm}_f(t){if(this.nm)return;this.nm=!0;const e=this.gp.Qt();!e.At().Ki()&&this.gp.N().handleScale.axisPressedMouseMove.time&&e.oc(t.localX)}af(t){this._f(t)}uf(){const t=this.gp.Qt();!t.At().Ki()&&this.nm&&(this.nm=!1,this.gp.N().handleScale.axisPressedMouseMove.time&&t.mc())}Qd(t){const e=this.gp.Qt();!e.At().Ki()&&this.gp.N().handleScale.axisPressedMouseMove.time&&e.vc(t.localX)}Gd(t){this.Qd(t)}nf(){this.nm=!1;const t=this.gp.Qt();t.At().Ki()&&!this.gp.N().handleScale.axisPressedMouseMove.time||t.mc()}if(){this.nf()}Ld(){this.gp.N().handleScale.axisDoubleClickReset.time&&this.gp.Qt().cn()}Bd(){this.Ld()}$d(){this.gp.Qt().N().handleScale.axisPressedMouseMove.time&&this.ev(1)}Mf(){this.ev(0)}Nf(){return this.kp}dm(){return this.rm}fm(t,e,i){rn(this.kp,t)||(this.kp=t,this.Vp=!0,this.Np.resizeCanvasElement(t),this.Wp.resizeCanvasElement(t),this.Vp=!1,this.Ef.style.width=`${t.width}px`,this.Ef.style.height=`${t.height}px`,this.rm.p(t)),this.im!==null&&this.im.Kp(_t({width:e,height:t.height})),this.sm!==null&&this.sm.Kp(_t({width:i,height:t.height}))}pm(){const t=this.vm();return Math.ceil(t.S+t.C+t.k+t.A+t.V+t.wm)}kt(){this.gp.Qt().At().Va()}Wf(){return this.Np.bitmapSize}Ff(t,e,i){const r=this.Wf();r.width>0&&r.height>0&&t.drawImage(this.Np.canvasElement,e,i)}Zp(t){if(t===0)return;const e={colorSpace:this.ys.colorSpace};if(t!==1){this.Np.applySuggestedBitmapSize();const r=ln(this.Np,e);r!==null&&(r.useBitmapCoordinateSpace(s=>{this.Jp(s),this.Qp(s),this.gm(r,sv)}),this.iv(r),this.gm(r,iv)),this.im!==null&&this.im.Zp(t),this.sm!==null&&this.sm.Zp(t)}this.Wp.applySuggestedBitmapSize();const i=ln(this.Wp,e);i!==null&&(i.useBitmapCoordinateSpace(({context:r,bitmapSize:s})=>{r.clearRect(0,0,s.width,s.height)}),this.Mm([...this.gp.Qt().js(),this.gp.Qt().sc()],i),this.gm(i,rv))}gm(t,e){const i=this.gp.Qt().js();for(const r of i)oo(e,s=>so(s,t,!1,void 0),r,void 0);for(const r of i)oo(e,s=>Yi(s,t,!1,void 0),r,void 0)}Jp({context:t,bitmapSize:e}){Fr(t,0,0,e.width,e.height,this.gp.Qt().Vc())}Qp({context:t,bitmapSize:e,verticalPixelRatio:i}){if(this.gp.N().timeScale.borderVisible){t.fillStyle=this.bm();const r=Math.max(1,Math.floor(this.vm().S*i));t.fillRect(0,0,e.width,r)}}iv(t){const e=this.gp.Qt().At(),i=e.Va();if(!i||i.length===0)return;const r=this.i_.maxTickMarkWeight(i),s=this.vm(),o=e.N();o.borderVisible&&o.ticksVisible&&t.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:a,verticalPixelRatio:u})=>{l.strokeStyle=this.bm(),l.fillStyle=this.bm();const h=Math.max(1,Math.floor(a)),c=Math.floor(.5*a);l.beginPath();const d=Math.round(s.C*u);for(let f=i.length;f--;){const p=Math.round(i[f].coord*a);l.rect(p-c,0,h,d)}l.fill()}),t.useMediaCoordinateSpace(({context:l})=>{const a=s.S+s.C+s.A+s.k/2;l.textAlign="center",l.textBaseline="middle",l.fillStyle=this.H(),l.font=this.Yp();for(const u of i)if(u.weight<r){const h=u.needAlignCoordinate?this.Sm(l,u.coord,u.label):u.coord;l.fillText(u.label,h,a)}this.gp.N().timeScale.allowBoldLabels&&(l.font=this.xm());for(const u of i)if(u.weight>=r){const h=u.needAlignCoordinate?this.Sm(l,u.coord,u.label):u.coord;l.fillText(u.label,h,a)}})}Sm(t,e,i){const r=this.Tp.Vi(t,i),s=r/2,o=Math.floor(e-s)+.5;return o<0?e+=Math.abs(0-o):o+r>this.kp.width&&(e-=Math.abs(this.kp.width-(o+r))),e}Mm(t,e){const i=this.vm();for(const r of t)for(const s of r.cs())s.Tt().nt(e,i)}bm(){return this.gp.N().timeScale.borderColor}H(){return this.ys.textColor}W(){return this.ys.fontSize}Yp(){return wr(this.W(),this.ys.fontFamily)}xm(){return wr(this.W(),this.ys.fontFamily,"bold")}vm(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,k:NaN,P:"",Gi:new kr,wm:0});const t=this.M,e=this.Yp();if(t.P!==e){const i=this.W();t.k=i,t.P=e,t.A=3*i/12,t.V=3*i/12,t.Ji=9*i/12,t.L=0,t.wm=4*i/12,t.Gi.In()}return this.M}ev(t){this.Ef.style.cursor=t===1?"ew-resize":"default"}om(){const t=this.gp.Qt(),e=t.N();e.leftPriceScale.visible||this.im===null||(this.hm.removeChild(this.im.Of()),this.im.m(),this.im=null),e.rightPriceScale.visible||this.sm===null||(this.am.removeChild(this.sm.Of()),this.sm.m(),this.sm=null);const i={Sc:this.gp.Qt().Sc()},r=()=>e.leftPriceScale.borderVisible&&t.At().N().borderVisible,s=()=>t.Vc();e.leftPriceScale.visible&&this.im===null&&(this.im=new _a("left",e,i,r,s),this.hm.appendChild(this.im.Of())),e.rightPriceScale.visible&&this.sm===null&&(this.sm=new _a("right",e,i,r,s),this.am.appendChild(this.sm.Of()))}}var Bu;const lv=!!On&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(n=>n.brand.includes("Chromium"))&&!!On&&((Bu=navigator==null?void 0:navigator.userAgentData)!=null&&Bu.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class av{constructor(t,e,i){var r;this.Cm=[],this.ym=[],this.km=0,this.tl=0,this.fo=0,this.Pm=0,this.Tm=0,this.Rm=null,this.Dm=!1,this.uv=new Dt,this.cv=new Dt,this.Wu=new Dt,this.Vm=null,this.Im=null,this.wp=t,this.ys=e,this.i_=i,this.pp=document.createElement("div"),this.pp.classList.add("tv-lightweight-charts"),this.pp.style.overflow="hidden",this.pp.style.direction="ltr",this.pp.style.width="100%",this.pp.style.height="100%",(r=this.pp).style.userSelect="none",r.style.webkitUserSelect="none",r.style.msUserSelect="none",r.style.MozUserSelect="none",r.style.webkitTapHighlightColor="transparent",this.Bm=document.createElement("table"),this.Bm.setAttribute("cellspacing","0"),this.pp.appendChild(this.Bm),this.Am=this.Em.bind(this),bs(this.ys)&&this.zm(!0),this.ts=new Hy(this.Hu.bind(this),this.ys,i),this.Qt().nc().i(this.Lm.bind(this),this),this.Om=new ov(this,this.i_),this.Bm.appendChild(this.Om.Of());const s=e.autoSize&&this.Nm();let o=this.ys.width,l=this.ys.height;if(s||o===0||l===0){const a=t.getBoundingClientRect();o=o||a.width,l=l||a.height}this.Wm(o,l),this.Fm(),t.appendChild(this.pp),this.Hm(),this.ts.At().Cu().i(this.ts.Bh.bind(this.ts),this),this.ts.yo().i(this.ts.Bh.bind(this.ts),this)}Qt(){return this.ts}N(){return this.ys}If(){return this.Cm}Um(){return this.Om}m(){this.zm(!1),this.km!==0&&window.cancelAnimationFrame(this.km),this.ts.nc().u(this),this.ts.At().Cu().u(this),this.ts.yo().u(this),this.ts.m();for(const t of this.Cm)this.Bm.removeChild(t.Of()),t.Lv().u(this),t.Ov().u(this),t.m();this.Cm=[];for(const t of this.ym)this.$m(t);this.ym=[],W(this.Om).m(),this.pp.parentElement!==null&&this.pp.parentElement.removeChild(this.pp),this.Wu.m(),this.uv.m(),this.cv.m(),this.qm()}Wm(t,e,i=!1){if(this.tl===e&&this.fo===t)return;const r=function(l){const a=Math.floor(l.width),u=Math.floor(l.height);return _t({width:a-a%2,height:u-u%2})}(_t({width:t,height:e}));this.tl=r.height,this.fo=r.width;const s=this.tl+"px",o=this.fo+"px";W(this.pp).style.height=s,W(this.pp).style.width=o,this.Bm.style.height=s,this.Bm.style.width=o,i?this.Ym(Vt.gn(),performance.now()):this.ts.Bh()}Zp(t){t===void 0&&(t=Vt.gn());for(let e=0;e<this.Cm.length;e++)this.Cm[e].Zp(t.en(e).tn);this.ys.timeScale.visible&&this.Om.Zp(t.nn())}hr(t){var r;const e=bs(this.ys);this.ts.hr(t);const i=bs(this.ys);i!==e&&this.zm(i),(r=t.layout)!=null&&r.panes&&this.jm(),this.Hm(),this.Km(t)}Lv(){return this.uv}Ov(){return this.cv}nc(){return this.Wu}Xm(){this.Rm!==null&&(this.Ym(this.Rm,performance.now()),this.Rm=null);const t=this.Zm(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const i=W(e.getContext("2d"));return this.Zm(i),e}Gm(t){return t==="left"&&!this.Jm()||t==="right"&&!this.Qm()||this.Cm.length===0?0:W(t==="left"?this.Cm[0].qv():this.Cm[0].Yv()).Xp()}tw(){return this.ys.autoSize&&this.Vm!==null}Uf(){return this.pp}iw(t){this.Im=t,this.Im?this.Uf().style.setProperty("cursor",t):this.Uf().style.removeProperty("cursor")}sw(){return this.Im}nw(t){return ne(this.Cm[t]).Nf()}jm(){this.ym.forEach(t=>{t.kt()})}Km(t){(t.autoSize!==void 0||!this.Vm||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.Vm&&this.Nm(),t.autoSize===!1&&this.Vm!==null&&this.qm(),t.autoSize||t.width===void 0&&t.height===void 0||this.Wm(t.width||this.fo,t.height||this.tl))}Zm(t){let e=0,i=0;const r=this.Cm[0],s=(l,a)=>{let u=0;for(let h=0;h<this.Cm.length;h++){const c=this.Cm[h],d=W(l==="left"?c.qv():c.Yv()),f=d.Wf();if(t!==null&&d.Ff(t,a,u),u+=f.height,h<this.Cm.length-1){const p=this.ym[h],g=p.Wf();t!==null&&p.Ff(t,a,u),u+=g.height}}};this.Jm()&&(s("left",0),e+=W(r.qv()).Wf().width);for(let l=0;l<this.Cm.length;l++){const a=this.Cm[l],u=a.Wf();if(t!==null&&a.Ff(t,e,i),i+=u.height,l<this.Cm.length-1){const h=this.ym[l],c=h.Wf();t!==null&&h.Ff(t,e,i),i+=c.height}}e+=r.Wf().width,this.Qm()&&(s("right",e),e+=W(r.Yv()).Wf().width);const o=(l,a,u)=>{W(l==="left"?this.Om._m():this.Om.um()).Ff(W(t),a,u)};if(this.ys.timeScale.visible){const l=this.Om.Wf();if(t!==null){let a=0;this.Jm()&&(o("left",a,i),a=W(r.qv()).Wf().width),this.Om.Ff(t,a,i),a+=l.width,this.Qm()&&o("right",a,i)}i+=l.height}return _t({width:e,height:i})}ew(){let t=0,e=0,i=0;for(const v of this.Cm)this.Jm()&&(e=Math.max(e,W(v.qv()).qp(),this.ys.leftPriceScale.minimumWidth)),this.Qm()&&(i=Math.max(i,W(v.Yv()).qp(),this.ys.rightPriceScale.minimumWidth)),t+=v.ko();e=ro(e),i=ro(i);const r=this.fo,s=this.tl,o=Math.max(r-e-i,0),l=1*this.ym.length,a=this.ys.timeScale.visible;let u=a?Math.max(this.Om.pm(),this.ys.timeScale.minimumHeight):0;var h;u=(h=u)+h%2;const c=l+u,d=s<c?0:s-c,f=d/t;let p=0;const g=window.devicePixelRatio||1;for(let v=0;v<this.Cm.length;++v){const b=this.Cm[v];b.yv(this.ts.$s()[v]);let w=0,C=0;C=v===this.Cm.length-1?Math.ceil((d-p)*g)/g:Math.round(b.ko()*f*g)/g,w=Math.max(C,2),p+=w,b.Kp(_t({width:o,height:w})),this.Jm()&&b.Wv(e,"left"),this.Qm()&&b.Wv(i,"right"),b.Xf()&&this.ts.ec(b.Xf(),w)}this.Om.fm(_t({width:a?o:0,height:u}),a?e:0,a?i:0),this.ts.To(o),this.Pm!==e&&(this.Pm=e),this.Tm!==i&&(this.Tm=i)}zm(t){t?this.pp.addEventListener("wheel",this.Am,{passive:!1}):this.pp.removeEventListener("wheel",this.Am)}rw(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return lv?1/window.devicePixelRatio:1}Em(t){if(!(t.deltaX!==0&&this.ys.handleScroll.mouseWheel||t.deltaY!==0&&this.ys.handleScale.mouseWheel))return;const e=this.rw(t),i=e*t.deltaX/100,r=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),r!==0&&this.ys.handleScale.mouseWheel){const s=Math.sign(r)*Math.min(1,Math.abs(r)),o=t.clientX-this.pp.getBoundingClientRect().left;this.Qt()._c(o,s)}i!==0&&this.ys.handleScroll.mouseWheel&&this.Qt().uc(-80*i)}Ym(t,e){var r;const i=t.nn();i===3&&this.hw(),i!==3&&i!==2||(this.aw(t),this.lw(t,e),this.Om.kt(),this.Cm.forEach(s=>{s.Pv()}),((r=this.Rm)==null?void 0:r.nn())===3&&(this.Rm.vn(t),this.hw(),this.aw(this.Rm),this.lw(this.Rm,e),t=this.Rm,this.Rm=null)),this.Zp(t)}lw(t,e){for(const i of t.pn())this.mn(i,e)}aw(t){const e=this.ts.$s();for(let i=0;i<e.length;i++)t.en(i).sn&&e[i].Uo()}mn(t,e){const i=this.ts.At();switch(t.an){case 0:i.ku();break;case 1:i.Pu(t.Ft);break;case 2:i.dn(t.Ft);break;case 3:i.fn(t.Ft);break;case 4:i.du();break;case 5:t.Ft.Mu(e)||i.fn(t.Ft.bu(e))}}Hu(t){this.Rm!==null?this.Rm.vn(t):this.Rm=t,this.Dm||(this.Dm=!0,this.km=window.requestAnimationFrame(e=>{if(this.Dm=!1,this.km=0,this.Rm!==null){const i=this.Rm;this.Rm=null,this.Ym(i,e);for(const r of i.pn())if(r.an===5&&!r.Ft.Mu(e)){this.Qt()._n(r.Ft);break}}}))}hw(){this.Fm()}$m(t){this.Bm.removeChild(t.Of()),t.m()}Fm(){const t=this.ts.$s(),e=t.length,i=this.Cm.length;for(let r=e;r<i;r++){const s=ne(this.Cm.pop());this.Bm.removeChild(s.Of()),s.Lv().u(this),s.Ov().u(this),s.m();const o=this.ym.pop();o!==void 0&&this.$m(o)}for(let r=i;r<e;r++){const s=new Wo(this,t[r]);if(s.Lv().i(this.ow.bind(this,s),this),s.Ov().i(this._w.bind(this,s),this),this.Cm.push(s),r>0){const o=new Ky(this,r-1,r);this.ym.push(o),this.Bm.insertBefore(o.Of(),this.Om.Of())}this.Bm.insertBefore(s.Of(),this.Om.Of())}for(let r=0;r<e;r++){const s=t[r],o=this.Cm[r];o.Xf()!==s?o.yv(s):o.Cv()}this.Hm(),this.ew()}uw(t,e,i,r){var c;const s=new Map;t!==null&&this.ts.js().forEach(d=>{const f=d.Xs().Wr(t);f!==null&&s.set(d,f)});let o;if(t!==null){const d=(c=this.ts.At().ss(t))==null?void 0:c.originalTime;d!==void 0&&(o=d)}const l=this.Qt().Gu(),a=l!==null&&l.Xo instanceof $r?l.Xo:void 0,u=l!==null&&l.Zo!==void 0?l.Zo.Kn:void 0,h=this.cw(r);return{dw:o,Re:t??void 0,fw:e??void 0,pw:h!==-1?h:void 0,mw:a,ww:s,gw:u,Mw:i??void 0}}cw(t){let e=-1;if(t)e=this.Cm.indexOf(t);else{const i=this.Qt().sc().Us();i!==null&&(e=this.Qt().$s().indexOf(i))}return e}ow(t,e,i,r){this.uv.p(()=>this.uw(e,i,r,t))}_w(t,e,i,r){this.cv.p(()=>this.uw(e,i,r,t))}Lm(t,e,i){var r;this.iw(((r=this.Qt().Gu())==null?void 0:r.Jo)??null),this.Wu.p(()=>this.uw(t,e,i))}Hm(){const t=this.ys.timeScale.visible?"":"none";this.Om.Of().style.display=t}Jm(){return this.Cm[0].Xf().Bo().N().visible}Qm(){return this.Cm[0].Xf().Ao().N().visible}Nm(){return"ResizeObserver"in window&&(this.Vm=new ResizeObserver(t=>{const e=t[t.length-1];e&&this.Wm(e.contentRect.width,e.contentRect.height)}),this.Vm.observe(this.wp,{box:"border-box"}),!0)}qm(){this.Vm!==null&&this.Vm.disconnect(),this.Vm=null}}function bs(n){return!!(n.handleScroll.mouseWheel||n.handleScale.mouseWheel)}function uv(n){return n.open===void 0&&n.value===void 0}function cv(n){return function(t){return t.open!==void 0}(n)||function(t){return t.value!==void 0}(n)}function Sa(n,t,e,i){const r=e.value,s={Re:t,wt:n,Ft:[r,r,r,r],dw:i};return e.color!==void 0&&(s.R=e.color),s}function hv(n,t,e,i){const r=e.value,s={Re:t,wt:n,Ft:[r,r,r,r],dw:i};return e.lineColor!==void 0&&(s.vt=e.lineColor),e.topColor!==void 0&&(s.mr=e.topColor),e.bottomColor!==void 0&&(s.wr=e.bottomColor),s}function dv(n,t,e,i){const r=e.value,s={Re:t,wt:n,Ft:[r,r,r,r],dw:i};return e.topLineColor!==void 0&&(s.gr=e.topLineColor),e.bottomLineColor!==void 0&&(s.Mr=e.bottomLineColor),e.topFillColor1!==void 0&&(s.br=e.topFillColor1),e.topFillColor2!==void 0&&(s.Sr=e.topFillColor2),e.bottomFillColor1!==void 0&&(s.Cr=e.bottomFillColor1),e.bottomFillColor2!==void 0&&(s.yr=e.bottomFillColor2),s}function fv(n,t,e,i){const r={Re:t,wt:n,Ft:[e.open,e.high,e.low,e.close],dw:i};return e.color!==void 0&&(r.R=e.color),r}function pv(n,t,e,i){const r={Re:t,wt:n,Ft:[e.open,e.high,e.low,e.close],dw:i};return e.color!==void 0&&(r.R=e.color),e.borderColor!==void 0&&(r.Ht=e.borderColor),e.wickColor!==void 0&&(r.vr=e.wickColor),r}function mv(n,t,e,i,r){const s=ne(r)(e),o=Math.max(...s),l=Math.min(...s),a=s[s.length-1],u=[a,o,l,a],{time:h,color:c,...d}=e;return{Re:t,wt:n,Ft:u,dw:i,se:d,R:c}}function Xn(n){return n.Ft!==void 0}function Ca(n,t){return t.customValues!==void 0&&(n.bw=t.customValues),n}function Ke(n){return(t,e,i,r,s,o)=>function(l,a){return a?a(l):uv(l)}(i,o)?Ca({wt:t,Re:e,dw:r},i):Ca(n(t,e,i,r,s),i)}function Ea(n){return{Candlestick:Ke(pv),Bar:Ke(fv),Area:Ke(hv),Baseline:Ke(dv),Histogram:Ke(Sa),Line:Ke(Sa),Custom:Ke(mv)}[n]}function Ta(n){return{Re:0,Sw:new Map,Hh:n}}function Na(n,t){if(n!==void 0&&n.length!==0)return{xw:t.key(n[0].wt),Cw:t.key(n[n.length-1].wt)}}function Ra(n){let t;return n.forEach(e=>{t===void 0&&(t=e.dw)}),ne(t)}class gv{constructor(t){this.yw=new Map,this.kw=new Map,this.Pw=new Map,this.Tw=[],this.i_=t}m(){this.yw.clear(),this.kw.clear(),this.Pw.clear(),this.Tw=[]}Rw(t,e){let i=this.yw.size!==0,r=!1;const s=this.kw.get(t);if(s!==void 0)if(this.kw.size===1)i=!1,r=!0,this.yw.clear();else for(const a of this.Tw)a.pointData.Sw.delete(t)&&(r=!0);let o=[];if(e.length!==0){const a=e.map(f=>f.time),u=this.i_.createConverterToInternalObj(e),h=Ea(t.Rr()),c=t.da(),d=t.pa();o=e.map((f,p)=>{const g=u(f.time),v=this.i_.key(g);let b=this.yw.get(v);b===void 0&&(b=Ta(g),this.yw.set(v,b),r=!0);const w=h(g,b.Re,f,a[p],c,d);return b.Sw.set(t,w),w})}i&&this.Dw(),this.Vw(t,o);let l=-1;if(r){const a=[];this.yw.forEach(u=>{a.push({timeWeight:0,time:u.Hh,pointData:u,originalTime:Ra(u.Sw)})}),a.sort((u,h)=>this.i_.key(u.time)-this.i_.key(h.time)),l=this.Iw(a)}return this.Bw(t,l,function(a,u,h){const c=Na(a,h),d=Na(u,h);if(c!==void 0&&d!==void 0)return{Aw:!1,zh:c.Cw>=d.Cw&&c.xw>=d.xw}}(this.kw.get(t),s,this.i_))}yc(t){return this.Rw(t,[])}Ew(t,e,i){const r=e;(function(v){v.dw===void 0&&(v.dw=v.time)})(r),this.i_.preprocessData(e);const s=this.i_.createConverterToInternalObj([e])(e.time),o=this.Pw.get(t);if(!i&&o!==void 0&&this.i_.key(s)<this.i_.key(o))throw new Error(`Cannot update oldest data, last time=${o}, new time=${s}`);let l=this.yw.get(this.i_.key(s));if(i&&l===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const a=l===void 0;l===void 0&&(l=Ta(s),this.yw.set(this.i_.key(s),l));const u=Ea(t.Rr()),h=t.da(),c=t.pa(),d=u(s,l.Re,e,r.dw,h,c);l.Sw.set(t,d),i?this.zw(t,d,l.Re):this.Lw(t,d);const f={zh:Xn(d),Aw:i};if(!a)return this.Bw(t,-1,f);const p={timeWeight:0,time:l.Hh,pointData:l,originalTime:Ra(l.Sw)},g=Ln(this.Tw,this.i_.key(p.time),(v,b)=>this.i_.key(v.time)<b);this.Tw.splice(g,0,p);for(let v=g;v<this.Tw.length;++v)xs(this.Tw[v].pointData,v);return this.i_.fillWeightsForPoints(this.Tw,g),this.Bw(t,g,f)}Lw(t,e){let i=this.kw.get(t);i===void 0&&(i=[],this.kw.set(t,i));const r=i.length!==0?i[i.length-1]:null;r===null||this.i_.key(e.wt)>this.i_.key(r.wt)?Xn(e)&&i.push(e):Xn(e)?i[i.length-1]=e:i.splice(-1,1),this.Pw.set(t,e.wt)}zw(t,e,i){const r=this.kw.get(t);if(r===void 0)return;const s=Ln(r,i,(o,l)=>o.Re<l);Xn(e)?r[s]=e:r.splice(s,1)}Vw(t,e){e.length!==0?(this.kw.set(t,e.filter(Xn)),this.Pw.set(t,e[e.length-1].wt)):(this.kw.delete(t),this.Pw.delete(t))}Dw(){for(const t of this.Tw)t.pointData.Sw.size===0&&this.yw.delete(this.i_.key(t.time))}Iw(t){let e=-1;for(let i=0;i<this.Tw.length&&i<t.length;++i){const r=this.Tw[i],s=t[i];if(this.i_.key(r.time)!==this.i_.key(s.time)){e=i;break}s.timeWeight=r.timeWeight,xs(s.pointData,i)}if(e===-1&&this.Tw.length!==t.length&&(e=Math.min(this.Tw.length,t.length)),e===-1)return-1;for(let i=e;i<t.length;++i)xs(t[i].pointData,i);return this.i_.fillWeightsForPoints(t,e),this.Tw=t,e}Ow(){if(this.kw.size===0)return null;let t=0;return this.kw.forEach(e=>{e.length!==0&&(t=Math.max(t,e[e.length-1].Re))}),t}Bw(t,e,i){const r={Do:new Map,At:{iu:this.Ow()}};if(e!==-1)this.kw.forEach((s,o)=>{r.Do.set(o,{se:s,Nw:o===t?i:void 0})}),this.kw.has(t)||r.Do.set(t,{se:[],Nw:i}),r.At.Ww=this.Tw,r.At.Fw=e;else{const s=this.kw.get(t);r.Do.set(t,{se:s||[],Nw:i})}return r}}function xs(n,t){n.Re=t,n.Sw.forEach(e=>{e.Re=t})}function yv(n,t){return n.wt<t}function vv(n,t){return t<n.wt}function bv(n,t,e){const i=t.Uh(),r=t.bi(),s=Ln(n,i,yv),o=Ih(n,r,vv);if(!e)return{from:s,to:o};let l=s,a=o;return s>0&&s<n.length&&n[s].wt>=i&&(l=s-1),o>0&&o<n.length&&n[o-1].wt<=r&&(a=o+1),{from:l,to:a}}class Vh{constructor(t,e,i){this.Hw=!0,this.Uw=!0,this.$w=!0,this.qw=[],this.Yw=null,this.Jn=t,this.Qn=e,this.jw=i}kt(t){this.Hw=!0,t==="data"&&(this.Uw=!0),t==="options"&&(this.$w=!0)}Tt(){return this.Jn.Vt()?(this.Kw(),this.Yw===null?null:this.Xw):null}Zw(){this.qw=this.qw.map(t=>({...t,...this.Jn.Rh().Dr(t.wt)}))}Gw(){this.Yw=null}Kw(){this.Uw&&(this.Jw(),this.Uw=!1),this.$w&&(this.Zw(),this.$w=!1),this.Hw&&(this.Qw(),this.Hw=!1)}Qw(){const t=this.Jn.Wt(),e=this.Qn.At();if(this.Gw(),e.Ki()||t.Ki())return;const i=e.ye();if(i===null||this.Jn.Xs().zr()===0)return;const r=this.Jn.zt();r!==null&&(this.Yw=bv(this.qw,i,this.jw),this.tg(t,e,r.Ft),this.ig())}}class xv{constructor(t,e){this.sg=t,this.Yi=e}nt(t,e,i){this.sg.draw(t,this.Yi,e,i)}}class wv extends Vh{constructor(t,e,i){super(t,e,!1),this.sh=i,this.Xw=new xv(this.sh.renderer(),r=>{const s=t.zt();return s===null?null:t.Wt().Nt(r,s.Ft)})}fa(t){return this.sh.priceValueBuilder(t)}va(t){return this.sh.isWhitespace(t)}Jw(){const t=this.Jn.Rh();this.qw=this.Jn.Xs().Hr().map(e=>({wt:e.Re,_t:NaN,...t.Dr(e.Re),ng:e.se}))}tg(t,e){e.su(this.qw,no(this.Yw))}ig(){this.sh.update({bars:this.qw.map(kv),barSpacing:this.Qn.At().lu(),visibleRange:this.Yw},this.Jn.N())}}function kv(n){return{x:n._t,time:n.wt,originalData:n.ng,barColor:n.cr}}const _v={color:"#2196f3"},Sv=(n,t,e)=>{const i=Ze(e);return new wv(n,t,i)};function Yo(n){const t={value:n.Ft[3],time:n.dw};return n.bw!==void 0&&(t.customValues=n.bw),t}function Ma(n){const t=Yo(n);return n.R!==void 0&&(t.color=n.R),t}function Cv(n){const t=Yo(n);return n.vt!==void 0&&(t.lineColor=n.vt),n.mr!==void 0&&(t.topColor=n.mr),n.wr!==void 0&&(t.bottomColor=n.wr),t}function Ev(n){const t=Yo(n);return n.gr!==void 0&&(t.topLineColor=n.gr),n.Mr!==void 0&&(t.bottomLineColor=n.Mr),n.br!==void 0&&(t.topFillColor1=n.br),n.Sr!==void 0&&(t.topFillColor2=n.Sr),n.Cr!==void 0&&(t.bottomFillColor1=n.Cr),n.yr!==void 0&&(t.bottomFillColor2=n.yr),t}function Bh(n){const t={open:n.Ft[0],high:n.Ft[1],low:n.Ft[2],close:n.Ft[3],time:n.dw};return n.bw!==void 0&&(t.customValues=n.bw),t}function Tv(n){const t=Bh(n);return n.R!==void 0&&(t.color=n.R),t}function Nv(n){const t=Bh(n),{R:e,Ht:i,vr:r}=n;return e!==void 0&&(t.color=e),i!==void 0&&(t.borderColor=i),r!==void 0&&(t.wickColor=r),t}function lo(n){return{Area:Cv,Line:Ma,Baseline:Ev,Histogram:Ma,Bar:Tv,Candlestick:Nv,Custom:Rv}[n]}function Rv(n){const t=n.dw;return{...n.se,time:t}}const Mv={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},Av={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Pv={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Eh,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},ws={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},Iv={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function Aa(){return{width:0,height:0,autoSize:!1,layout:Pv,crosshair:Mv,grid:Av,overlayPriceScales:{...ws},leftPriceScale:{...ws,visible:!1},rightPriceScale:{...ws,visible:!0},timeScale:Iv,localization:{locale:On?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class $h{constructor(t,e,i){this.Df=t,this.eg=e,this.rg=i??0}applyOptions(t){this.Df.Qt().Qu(this.eg,t,this.rg)}options(){return this.Yi().N()}width(){return Vr(this.eg)?this.Df.Gm(this.eg):0}setVisibleRange(t){this.setAutoScale(!1),this.Yi().Nl(new qt(t.from,t.to))}getVisibleRange(){const t=this.Yi().Qe();return t===null?null:{from:t.$e(),to:t.qe()}}setAutoScale(t){this.applyOptions({autoScale:t})}Yi(){return W(this.Df.Qt().tc(this.eg,this.rg)).Wt}}class Dv{constructor(t,e,i,r){this.Df=t,this.yt=i,this.hg=e,this.ag=r}getHeight(){return this.yt.$t()}setHeight(t){const e=this.Df.Qt(),i=e.Bc(this.yt);e.hc(i,t)}paneIndex(){return this.Df.Qt().Bc(this.yt)}moveTo(t){const e=this.paneIndex();e!==t&&($t(t>=0&&t<this.Df.If().length,"Invalid pane index"),this.Df.Qt().ac(e,t))}getSeries(){return this.yt.Do().map(t=>this.hg(t))??[]}getHTMLElement(){return this.Df.If()[this.paneIndex()].Of()}attachPrimitive(t){this.yt.ua(t),t.attached&&t.attached({chart:this.ag,requestUpdate:()=>this.yt.Qt().Bh()})}detachPrimitive(t){this.yt.ca(t)}priceScale(t){if(this.yt.Co(t)===null)throw new Error(`Cannot find price scale with id: ${t}`);return new $h(this.Df,t,this.paneIndex())}}const Lv={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Pa{constructor(t){this.ir=t}applyOptions(t){this.ir.hr(t)}options(){return this.ir.N()}lg(){return this.ir}}class Ov{constructor(t,e,i,r,s,o){this.og=new Dt,this.Jn=t,this._g=e,this.ug=i,this.i_=s,this.ag=r,this.cg=o}m(){this.og.m()}priceFormatter(){return this.Jn.ra()}priceToCoordinate(t){const e=this.Jn.zt();return e===null?null:this.Jn.Wt().Nt(t,e.Ft)}coordinateToPrice(t){const e=this.Jn.zt();return e===null?null:this.Jn.Wt().Ts(t,e.Ft)}barsInLogicalRange(t){if(t===null)return null;const e=new En(new ui(t.from,t.to)).w_(),i=this.Jn.Xs();if(i.Ki())return null;const r=i.Wr(e.Uh(),1),s=i.Wr(e.bi(),-1),o=W(i.Lr()),l=W(i.Ks());if(r!==null&&s!==null&&r.Re>s.Re)return{barsBefore:t.from-o,barsAfter:l-t.to};const a={barsBefore:r===null||r.Re===o?t.from-o:r.Re-o,barsAfter:s===null||s.Re===l?l-t.to:l-s.Re};return r!==null&&s!==null&&(a.from=r.dw,a.to=s.dw),a}setData(t){this.i_,this.Jn.Rr(),this._g.dg(this.Jn,t),this.fg("full")}update(t,e=!1){this.Jn.Rr(),this._g.pg(this.Jn,t,e),this.fg("update")}dataByIndex(t,e){const i=this.Jn.Xs().Wr(t,e);return i===null?null:lo(this.seriesType())(i)}data(){const t=lo(this.seriesType());return this.Jn.Xs().Hr().map(e=>t(e))}subscribeDataChanged(t){this.og.i(t)}unsubscribeDataChanged(t){this.og._(t)}applyOptions(t){this.Jn.hr(t)}options(){return Ie(this.Jn.N())}priceScale(){return this.ug.priceScale(this.Jn.Wt().wa(),this.getPane().paneIndex())}createPriceLine(t){const e=oe(Ie(Lv),t),i=this.Jn.Oh(e);return new Pa(i)}removePriceLine(t){this.Jn.Nh(t.lg())}priceLines(){return this.Jn.Wh().map(t=>new Pa(t))}seriesType(){return this.Jn.Rr()}attachPrimitive(t){this.Jn.ua(t),t.attached&&t.attached({chart:this.ag,series:this,requestUpdate:()=>this.Jn.Qt().Bh(),horzScaleBehavior:this.i_})}detachPrimitive(t){this.Jn.ca(t),t.detached&&t.detached(),this.Jn.Qt().Bh()}getPane(){const t=this.Jn,e=W(this.Jn.Qt().Hn(t));return this.cg(e)}moveToPane(t){this.Jn.Qt().Rc(this.Jn,t)}seriesOrder(){const t=this.Jn.Qt().Hn(this.Jn);return t===null?-1:t.Do().indexOf(this.Jn)}setSeriesOrder(t){const e=this.Jn.Qt().Hn(this.Jn);e!==null&&e.qo(this.Jn,t)}fg(t){this.og.v()&&this.og.p(t)}}class zv{constructor(t,e,i){this.vg=new Dt,this.T_=new Dt,this.rm=new Dt,this.ts=t,this.uh=t.At(),this.Om=e,this.uh.Su().i(this.mg.bind(this)),this.uh.xu().i(this.wg.bind(this)),this.Om.dm().i(this.gg.bind(this)),this.i_=i}m(){this.uh.Su().u(this),this.uh.xu().u(this),this.Om.dm().u(this),this.vg.m(),this.T_.m(),this.rm.m()}scrollPosition(){return this.uh._u()}scrollToPosition(t,e){e?this.uh.gu(t,1e3):this.ts.fn(t)}scrollToRealTime(){this.uh.wu()}getVisibleRange(){const t=this.uh.K_();return t===null?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.i_.convertHorzItemToInternal(t.from),to:this.i_.convertHorzItemToInternal(t.to)},i=this.uh.J_(e);this.ts.Pc(i)}getVisibleLogicalRange(){const t=this.uh.j_();return t===null?null:{from:t.Uh(),to:t.bi()}}setVisibleLogicalRange(t){$t(t.from<=t.to,"The from index cannot be after the to index."),this.ts.Pc(t)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.ku()}logicalToCoordinate(t){const e=this.ts.At();return e.Ki()?null:e.qt(t)}coordinateToLogical(t){return this.uh.Ki()?null:this.uh.nu(t)}timeToIndex(t,e){const i=this.i_.convertHorzItemToInternal(t);return this.uh.U_(i,e)}timeToCoordinate(t){const e=this.timeToIndex(t,!1);return e===null?null:this.uh.qt(e)}coordinateToTime(t){const e=this.ts.At(),i=e.nu(t),r=e.ss(i);return r===null?null:r.originalTime}width(){return this.Om.Nf().width}height(){return this.Om.Nf().height}subscribeVisibleTimeRangeChange(t){this.vg.i(t)}unsubscribeVisibleTimeRangeChange(t){this.vg._(t)}subscribeVisibleLogicalRangeChange(t){this.T_.i(t)}unsubscribeVisibleLogicalRangeChange(t){this.T_._(t)}subscribeSizeChange(t){this.rm.i(t)}unsubscribeSizeChange(t){this.rm._(t)}applyOptions(t){this.uh.hr(t)}options(){return{...Ie(this.uh.N()),barSpacing:this.uh.lu()}}mg(){this.vg.v()&&this.vg.p(this.getVisibleRange())}wg(){this.T_.v()&&this.T_.p(this.getVisibleLogicalRange())}gg(t){this.rm.p(t.width,t.height)}}function Fv(n){if(n===void 0||n.type==="custom")return;const t=n;t.minMove!==void 0&&t.precision===void 0&&(t.precision=function(e){if(e>=1)return 0;let i=0;for(;i<8;i++){const r=Math.round(e);if(Math.abs(r-e)<1e-8)return i;e*=10}return i}(t.minMove))}function Ia(n){return function(t){if(Mi(t.handleScale)){const i=t.handleScale;t.handleScale={axisDoubleClickReset:{time:i,price:i},axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:i,axisDoubleClickReset:r}=t.handleScale;Mi(i)&&(t.handleScale.axisPressedMouseMove={time:i,price:i}),Mi(r)&&(t.handleScale.axisDoubleClickReset={time:r,price:r})}const e=t.handleScroll;Mi(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(n),n}class jv{constructor(t,e,i){this.Mg=new Map,this.bg=new Map,this.Sg=new Dt,this.xg=new Dt,this.Cg=new Dt,this.zu=new WeakMap,this.yg=new gv(e);const r=i===void 0?Ie(Aa()):oe(Ie(Aa()),Ia(i));this.kg=e,this.Df=new av(t,r,e),this.Df.Lv().i(o=>{this.Sg.v()&&this.Sg.p(this.Pg(o()))},this),this.Df.Ov().i(o=>{this.xg.v()&&this.xg.p(this.Pg(o()))},this),this.Df.nc().i(o=>{this.Cg.v()&&this.Cg.p(this.Pg(o()))},this);const s=this.Df.Qt();this.Tg=new zv(s,this.Df.Um(),this.kg)}remove(){this.Df.Lv().u(this),this.Df.Ov().u(this),this.Df.nc().u(this),this.Tg.m(),this.Df.m(),this.Mg.clear(),this.bg.clear(),this.Sg.m(),this.xg.m(),this.Cg.m(),this.yg.m()}resize(t,e,i){this.autoSizeActive()||this.Df.Wm(t,e,i)}addCustomSeries(t,e={},i=0){const r=(s=>({type:"Custom",isBuiltIn:!1,defaultOptions:{..._v,...s.defaultOptions()},Rg:Sv,Dg:s}))(Ze(t));return this.Vg(r,e,i)}addSeries(t,e={},i=0){return this.Vg(t,e,i)}removeSeries(t){const e=ne(this.Mg.get(t)),i=this.yg.yc(e);this.Df.Qt().yc(e),this.Ig(i),this.Mg.delete(t),this.bg.delete(e)}dg(t,e){this.Ig(this.yg.Rw(t,e))}pg(t,e,i){this.Ig(this.yg.Ew(t,e,i))}subscribeClick(t){this.Sg.i(t)}unsubscribeClick(t){this.Sg._(t)}subscribeCrosshairMove(t){this.Cg.i(t)}unsubscribeCrosshairMove(t){this.Cg._(t)}subscribeDblClick(t){this.xg.i(t)}unsubscribeDblClick(t){this.xg._(t)}priceScale(t,e=0){return new $h(this.Df,t,e)}timeScale(){return this.Tg}applyOptions(t){this.Df.hr(Ia(t))}options(){return this.Df.N()}takeScreenshot(){return this.Df.Xm()}removePane(t){this.Df.Qt().rc(t)}swapPanes(t,e){this.Df.Qt().ac(t,e)}autoSizeActive(){return this.Df.tw()}chartElement(){return this.Df.Uf()}panes(){return this.Df.Qt().$s().map(t=>this.Bg(t))}paneSize(t=0){const e=this.Df.nw(t);return{height:e.height,width:e.width}}setCrosshairPosition(t,e,i){const r=this.Mg.get(i);if(r===void 0)return;const s=this.Df.Qt().Hn(r);s!==null&&this.Df.Qt().gc(t,e,s)}clearCrosshairPosition(){this.Df.Qt().Mc(!0)}horzBehaviour(){return this.kg}Vg(t,e={},i=0){$t(t.Rg!==void 0),Fv(e.priceFormat),t.type==="Candlestick"&&function(a){a.borderColor!==void 0&&(a.borderUpColor=a.borderColor,a.borderDownColor=a.borderColor),a.wickColor!==void 0&&(a.wickUpColor=a.wickColor,a.wickDownColor=a.wickColor)}(e);const r=oe(Ie(Sh),Ie(t.defaultOptions),e),s=t.Rg,o=new $r(this.Df.Qt(),t.type,r,s,t.Dg);this.Df.Qt().xc(o,i);const l=new Ov(o,this,this,this,this.kg,a=>this.Bg(a));return this.Mg.set(l,o),this.bg.set(o,l),l}Ig(t){const e=this.Df.Qt();e.bc(t.At.iu,t.At.Ww,t.At.Fw),t.Do.forEach((i,r)=>r.ht(i.se,i.Nw)),e.At().O_(),e.au()}Ag(t){return ne(this.bg.get(t))}Pg(t){const e=new Map;t.ww.forEach((r,s)=>{const o=s.Rr(),l=lo(o)(r);if(o!=="Custom")$t(cv(l));else{const a=s.pa();$t(!a||a(l)===!1)}e.set(this.Ag(s),l)});const i=t.mw!==void 0&&this.bg.has(t.mw)?this.Ag(t.mw):void 0;return{time:t.dw,logical:t.Re,point:t.fw,paneIndex:t.pw,hoveredSeries:i,hoveredObjectId:t.gw,seriesData:e,sourceEvent:t.Mw}}Bg(t){let e=this.zu.get(t);return e||(e=new Dv(this.Df,i=>this.Ag(i),t,this),this.zu.set(t,e)),e}}function Vv(n){if(_i(n)){const t=document.getElementById(n);return $t(t!==null,`Cannot find element in DOM with id=${n}`),t}return n}function Bv(n,t,e){const i=Vv(n),r=new jv(i,t,e);return t.setOptions(r.options()),r}function $v(n,t){return Bv(n,new ga,ga.Xc(t))}class Wv extends Vh{constructor(t,e){super(t,e,!0)}tg(t,e,i){e.su(this.qw,no(this.Yw)),t.Hl(this.qw,i,no(this.Yw))}Eg(t,e){return{wt:t,gt:e,_t:NaN,ut:NaN}}Jw(){const t=this.Jn.Rh();this.qw=this.Jn.Xs().Hr().map(e=>{const i=e.Ft[3];return this.zg(e.Re,i,t)})}}function Uv(n,t,e,i,r,s,o){if(t.length===0||i.from>=t.length||i.to<=0)return;const{context:l,horizontalPixelRatio:a,verticalPixelRatio:u}=n,h=t[i.from];let c=s(n,h),d=h;if(i.to-i.from<2){const f=r/2;l.beginPath();const p={_t:h._t-f,ut:h.ut},g={_t:h._t+f,ut:h.ut};l.moveTo(p._t*a,p.ut*u),l.lineTo(g._t*a,g.ut*u),o(n,c,p,g)}else{const f=(g,v)=>{o(n,c,d,v),l.beginPath(),c=g,d=v};let p=d;l.beginPath(),l.moveTo(h._t*a,h.ut*u);for(let g=i.from+1;g<i.to;++g){p=t[g];const v=s(n,p);switch(e){case 0:l.lineTo(p._t*a,p.ut*u);break;case 1:l.lineTo(p._t*a,t[g-1].ut*u),v!==c&&(f(v,p),l.lineTo(p._t*a,t[g-1].ut*u)),l.lineTo(p._t*a,p.ut*u);break;case 2:{const[b,w]=Yv(t,g-1,g);l.bezierCurveTo(b._t*a,b.ut*u,w._t*a,w.ut*u,p._t*a,p.ut*u);break}}e!==1&&v!==c&&(f(v,p),l.moveTo(p._t*a,p.ut*u))}(d!==p||d===p&&e===1)&&o(n,c,d,p)}}const Da=6;function ks(n,t){return{_t:n._t-t._t,ut:n.ut-t.ut}}function La(n,t){return{_t:n._t/t,ut:n.ut/t}}function Yv(n,t,e){const i=Math.max(0,t-1),r=Math.min(n.length-1,e+1);var s,o;return[(s=n[t],o=La(ks(n[e],n[i]),Da),{_t:s._t+o._t,ut:s.ut+o.ut}),ks(n[e],La(ks(n[r],n[t]),Da))]}function Hv(n,t){const e=n.context;e.strokeStyle=t,e.stroke()}class Zv extends Bn{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){if(this.rt===null)return;const{ot:e,lt:i,Lg:r,Og:s,ct:o,Xt:l,Ng:a}=this.rt;if(i===null)return;const u=t.context;u.lineCap="butt",u.lineWidth=o*t.verticalPixelRatio,In(u,l),u.lineJoin="round";const h=this.Wg.bind(this);s!==void 0&&Uv(t,e,s,i,r,h,Hv),a&&function(c,d,f,p,g){if(p.to-p.from<=0)return;const{horizontalPixelRatio:v,verticalPixelRatio:b,context:w}=c;let C=null;const M=Math.max(1,Math.floor(v))%2/2,T=f*b+M;for(let S=p.to-1;S>=p.from;--S){const R=d[S];if(R){const O=g(c,R);O!==C&&(w.beginPath(),C!==null&&w.fill(),w.fillStyle=O,C=O);const j=Math.round(R._t*v)+M,E=R.ut*b;w.moveTo(j,E),w.arc(j,E,T,0,2*Math.PI)}}w.fill()}(t,e,a,i,h)}}class Xv extends Zv{Wg(t,e){return e.vt}}class Qv extends Wv{constructor(){super(...arguments),this.Xw=new Xv}zg(t,e,i){return{...this.Eg(t,e),...i.Dr(t)}}ig(){const t=this.Jn.N(),e={ot:this.qw,Xt:t.lineStyle,Og:t.lineVisible?t.lineType:void 0,ct:t.lineWidth,Ng:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,lt:this.Yw,Lg:this.Qn.At().lu()};this.Xw.ht(e)}}const qv={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Rg:(n,t)=>new Qv(n,t)};({...Sh});const Gv=n=>{if(n.length===8){const t=n.substring(0,4),e=n.substring(4,6),i=n.substring(6,8);return`${t}-${e}-${i}`}return n},Kv=({data:n,buyConditions:t,sellConditions:e,buyCondExp:i,sellCondExp:r})=>{const s=y.useRef(null);return y.useEffect(()=>{if(!s.current||!n.dates||!n.total_assets)return;const o=$v(s.current,{width:260,height:200}),l=o.addSeries(qv),a=n.dates.map((h,c)=>({time:Gv(h),value:n.total_assets[c]}));l.setData(a);const u=()=>{s.current&&o.applyOptions({width:s.current.clientWidth})};return window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u),o.remove()}},[n]),m.jsxs("div",{className:"mt-4 space-y-4",children:[m.jsx("div",{ref:s,className:"w-full h-[200px]"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("h4",{className:"text-sm font-medium",children:"매수 조건"}),m.jsx("ul",{className:"text-xs space-y-1 text-muted-foreground",children:t.map((o,l)=>m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-primary",children:"•"}),m.jsxs("span",{children:[o.expr," ",o.operator," ",o.value]})]},l))}),m.jsxs("p",{className:"text-xs text-muted-foreground",children:[m.jsx("strong",{children:"조합:"})," ",i]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("h4",{className:"text-sm font-medium",children:"매도 조건"}),m.jsx("ul",{className:"text-xs space-y-1 text-muted-foreground",children:e.map((o,l)=>m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-destructive",children:"•"}),m.jsxs("span",{children:[o.expr," ",o.operator," ",o.value]})]},l))}),m.jsxs("p",{className:"text-xs text-muted-foreground",children:[m.jsx("strong",{children:"조합:"})," ",r]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(se,{className:"flex-1 bg-black hover:bg-black/90 text-white",size:"sm",onClick:()=>alert("전략 연동 화면으로 이동합니다."),children:"전략 연동"}),m.jsx(se,{className:"flex-1 bg-black hover:bg-black/90 text-white",size:"sm",onClick:()=>alert("전략이 저장되었습니다."),children:"저장"})]})]})},Bt=(n,t)=>{},Oa={id:"1",text:`안녕하세요! MCP(Model Context Protocol) 모드입니다.

심층적인 투자 전략 수립을 위한 금융 데이터 분석을 도와드립니다. 아래 추천 질문을 참고하시거나 자유롭게 질문해주세요.

## 특징:
- 계획 수립 후 단계적 실행, 실패 시 재시도, 업종이나 종목명을 요청에 넣을 수 있음
## 작업 중:
- [x] 연속작업 수행(다방면 실적분석 등)
- [ ] 조건식, 백테스트 모드와 병합
- [ ] 좀 더 맥락에 맞는 종목과 업종 선택
- [ ] 미국, 가상자산 데이터 병합(교차질문 가능하도록)
## 업데이트:
- 2025-08-01: 가이드 없이 AI가 작업계획을 수립하고 진행, 데이터 없을때 안내 처리`,sender:"bot",timestamp:new Date};function Jv(){const[n,t]=y.useState([Oa]),[e,i]=y.useState(!1),{toast:r}=wi(),s=async a=>{var v,b;Bt("MCP 스트리밍 시작",{status:a.status,ok:a.ok});const u=(v=a.body)==null?void 0:v.getReader();if(!u)return;const h=new TextDecoder;let c=0,d=0,f="";const p=Date.now();let g={id:Date.now().toString(),text:"처리 중...",sender:"bot",timestamp:new Date,isStreaming:!0,mcpData:{type:"progress"}};t(w=>[...w,g]);try{for(;;){const{done:w,value:C}=await u.read();if(w){Bt("스트림 종료",{chunkCount:c,messageCount:d,lastStepId:f,duration:Date.now()-p});break}c++;const M=h.decode(C);Bt(`청크 #${c} 수신`,{length:M.length});const T=M.split(`
`).filter(S=>S.trim());Bt(`라인 수: ${T.length}`);for(const S of T)try{Bt("파싱 시도:",S);const R=JSON.parse(S);d++,Bt(`메시지 #${d} 타입: ${R.type}`,R),R.type==="step_progress"?(f=R.step_id,g.text=R.message,g.mcpData={type:"progress",stepId:R.step_id,progress:R.progress,data:R.data},t(O=>{const j=[...O];return j[j.length-1]={...g},j}),Bt(`진행 상태 업데이트: ${R.step_id}`)):R.type==="complete"?(f=R.step_id,Bt(`완료 상태: ${R.step_id}`,{hasFormattedResult:!!((b=R.data)!=null&&b.formatted_result)}),g.isStreaming=!1,g.text=R.message,g.mcpData={type:"complete",stepId:R.step_id,formattedResult:R.data.formatted_result},t(O=>{const j=[...O];return j[j.length-1]={...g},j}),Bt("최종 완료 메시지 설정 완료")):R.type==="error"?(f=R.step_id,Bt(`오류 발생: ${R.step_id}`,R.data),g.isStreaming=!1,g.text=`${R.message}

처리 시간: ${(R.data.processing_time/1e3).toFixed(1)}초`,g.mcpData={type:"complete",stepId:R.step_id},t(O=>{const j=[...O];return j[j.length-1]={...g},j}),Bt("오류 메시지 설정 완료")):Bt("알 수 없는 메시지 타입:",R)}catch(R){console.error("JSON 파싱 오류:",R),Bt("JSON 파싱 실패 - 원본 데이터:",S)}}}catch(w){console.error("MCP 스트리밍 오류:",w),g.text="MCP 처리 중 오류가 발생했습니다.",g.isStreaming=!1,t(C=>[...C])}finally{u.releaseLock()}},o=y.useCallback(async a=>{if(!a.trim())return;const u={id:Date.now().toString(),text:a,sender:"user",timestamp:new Date};t(h=>[...h,u]),i(!0);try{const{data:{session:h}}=await He.auth.getSession();Bt("MCP 메시지 전송",{userInput:a});const c=await fetch("https://gwkirrnjlrcwaejjlokn.supabase.co/functions/v1/mcp-0724",{method:"POST",headers:{Authorization:`Bearer ${h==null?void 0:h.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({msg:a,agent:!0})});if(Bt("MCP-0724 응답 수신",{ok:c.ok,status:c.status}),c.ok)await s(c);else{const d=await c.text();throw Bt("MCP-0724 오류 응답",{status:c.status,error:d}),new Error(`MCP-0724 함수 호출 실패: ${c.status}`)}}catch(h){console.error("MCP 메시지 전송 오류:",h),r({title:"오류 발생",description:"MCP 메시지 전송 중 오류가 발생했습니다.",variant:"destructive"});const c={id:Date.now().toString(),text:"죄송합니다. MCP 응답을 생성하는 중에 오류가 발생했습니다.",sender:"bot",timestamp:new Date};t(d=>[...d,c])}finally{i(!1)}},[r]),l=y.useCallback(()=>{t([Oa])},[]);return{messages:n,isLoading:e,sendMCPMessage:o,resetConversation:l}}const Je=(n,t)=>{},za={id:"1",text:`안녕하세요! MCP-PY 모드입니다.

nodejs인 MCP 모드를 FastAPI 기반 AI 에이전트로 바꾼 버전입니다. 단계별 실행 계획 수립과 도구 호출을 통해 금융 데이터를 분석합니다. 자유롭게 질문해보세요.

**유의사항:**
- 테스트 결과 확인을 위해 장황하게 메시지가 출력될 수 있습니다.
- 작은 테스트 서버라서 느리거나 멈출 수 있습니다.

**업데이트 내역:**
- [x] 2025-08-13: 큰 작업은 더 많은 작업으로 분할하여 긴 단계로 진행
- [x] 2025-08-13: 파이썬 서버로 교체
- [x] 2025-08-13: 결과를 데이터, 인사이트, 요약, 추천 항목으로 나눠 출력
- [ ] 진행 중: GPT-5 테스트
- [ ] 진행 중: 추론 모드 적용으로 더 정확하고 빠르게 개선
- [ ] 더 정교해진 업종 처리 예정`,sender:"bot",timestamp:new Date};function tb(){const[n,t]=y.useState([za]),[e,i]=y.useState(!1),{toast:r}=wi(),s=async a=>{var M;Je("SSE 스트리밍 시작",{status:a.status,ok:a.ok});const u=(M=a.body)==null?void 0:M.getReader();if(!u)return;const h=new TextDecoder;let c="",d=0,f=0,p="";const g=Date.now(),v={},b=T=>{const S=R=>R&&typeof R=="object"&&(typeof R.formatted_data=="string"||Array.isArray(R.insights)||typeof R.summary=="string"||Array.isArray(R.recommendations));if(T){if(S(T))return T;if(T.analysis){const R=b(T.analysis);if(R)return R}if(T.result){const R=b(T.result);if(R)return R}if(T.data){const R=b(T.data);if(R)return R}}},w=T=>{const S={},R=O=>{!O||typeof O!="object"||(typeof O.formatted_data=="string"&&(S.table=O.formatted_data.trim()),Array.isArray(O.insights)&&(S.insights=O.insights),typeof O.summary=="string"&&(S.summary=O.summary),Array.isArray(O.recommendations)&&(S.recommendations=O.recommendations))};try{if(typeof T=="string"){const O=T.trim();if(O.startsWith("{")&&O.endsWith("}")||O.startsWith('"')&&O.endsWith('"')){const j=JSON.parse(O);R(j)}else S.table=O}else T&&typeof T=="object"&&R(T)}catch{typeof T=="string"&&(S.table=T.trim())}return S},C=T=>{try{if(typeof T=="string"){const S=T.trim();if(S.startsWith("{")&&S.endsWith("}")||S.startsWith('"')&&S.endsWith('"')){const R=JSON.parse(S);if(R&&typeof R.formatted_data=="string")return R.formatted_data.trim()}return S}if(T&&typeof T=="object"&&typeof T.formatted_data=="string")return T.formatted_data.trim()}catch{if(typeof T=="string")return T.trim()}};try{for(;;){const{done:T,value:S}=await u.read();if(T){Je("스트림 종료",{chunkCount:d,messageCount:f,lastStepId:p,duration:Date.now()-g});break}d++,c+=h.decode(S,{stream:!0});const R=c.split(`
`);c=R.pop()||"";for(const O of R){const j=O.trim();if(!j.startsWith("data:"))continue;const E=j.replace(/^data:\s?/,"").trim();if(E)try{const z=JSON.parse(E);if(f++,Je(`메시지 #${f} 타입: ${z.type}`,z),z.type==="step_progress"){p=z.step_id;const I=z.data||{};I.execution_plan&&(v.execution_plan=I.execution_plan),I.estimated_time&&(v.estimated_time=I.estimated_time),typeof I.tools_count=="number"&&(v.tools_count=I.tools_count);const X=[],N=z.progress,V=[];typeof N=="number"&&V.push(`- 진행률: ${N}%`),v.execution_plan&&V.push(`- 계획: ${v.execution_plan}`),v.estimated_time&&V.push(`- 예상 소요시간: ${v.estimated_time}`),typeof v.tools_count=="number"&&V.push(`- 사용할 도구: ${v.tools_count}개`);const Y={id:`${Date.now()}-${f}`,text:`${z.message}

${V.join(`
`)}`.trim(),sender:"bot",timestamp:new Date,isStreaming:!1,mcpData:{type:"progress",stepId:z.step_id,progress:z.progress,data:z.data}};t(q=>[...q,Y])}else if(z.type==="complete"){p=z.step_id;const I=z.message,X=b(z.data)||b(z),{table:N,insights:V,summary:Y,recommendations:q}=w(X),J=[];N&&J.push(`## 데이터
${N}`),V&&V.length>0&&J.push(`

## 인사이트
${V.map(dt=>`- ${dt}`).join(`
`)}`),Y&&J.push(`

## 요약
- ${Y}`),q&&q.length>0&&J.push(`

## 추천
${q.map(dt=>`- ${dt}`).join(`
`)}`);const rt=J.join("").trim()||C(X),x={id:`${Date.now()}-complete-${f}`,text:I,sender:"bot",timestamp:new Date,isStreaming:!1,mcpData:{type:"complete",stepId:z.step_id}};if(t(dt=>[...dt,x]),rt){const dt={id:`${Date.now()}-result-${f}`,text:"결과 데이터",sender:"bot",timestamp:new Date,isStreaming:!1,mcpData:{type:"complete",stepId:z.step_id,formattedResult:rt}};t(Rt=>[...Rt,dt])}}else if(z.type==="error"){p=z.step_id;const I=z.message||"오류가 발생했습니다.",X={id:`${Date.now()}-error-${f}`,text:I,sender:"bot",timestamp:new Date,isStreaming:!1,mcpData:{type:"progress",stepId:z.step_id}};t(N=>[...N,X])}}catch(z){console.error("SSE JSON 파싱 오류:",z,O),Je("SSE JSON 파싱 실패",O)}}}}catch(T){console.error("MCP-PY 스트리밍 오류:",T);const S={id:`${Date.now()}-stream-error`,text:"MCP-PY 처리 중 오류가 발생했습니다.",sender:"bot",timestamp:new Date,isStreaming:!1};t(R=>[...R,S])}finally{u.releaseLock()}},o=y.useCallback(async a=>{if(!a.trim())return;const u={id:Date.now().toString(),text:a,sender:"user",timestamp:new Date};t(h=>[...h,u]),i(!0);try{const{data:{session:h}}=await He.auth.getSession(),c=h==null?void 0:h.access_token;Je("MCP-PY 메시지 전송",{userInput:a});const f=await fetch("https://supabase-functions-xq9r.onrender.com/query",{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json",Accept:"text/event-stream"},body:JSON.stringify({msg:a,agent:!0})});if(Je("MCP-PY 응답 수신",{ok:f.ok,status:f.status}),f.ok)await s(f);else{const p=await f.text();throw Je("MCP-PY 오류 응답",{status:f.status,error:p}),new Error(`MCP-PY 호출 실패: ${f.status}`)}}catch(h){console.error("MCP-PY 메시지 전송 오류:",h),r({title:"오류 발생",description:"MCP-PY 메시지 전송 중 오류가 발생했습니다.",variant:"destructive"});const c={id:Date.now().toString(),text:"죄송합니다. MCP-PY 응답을 생성하는 중에 오류가 발생했습니다.",sender:"bot",timestamp:new Date};t(d=>[...d,c])}finally{i(!1)}},[r]),l=y.useCallback(()=>{t([za])},[]);return{messages:n,isLoading:e,sendMCPPYMessage:o,resetConversation:l}}function eb(n,t){const e={};return(n[n.length-1]===""?[...n,""]:n).join((e.padRight?" ":"")+","+(e.padLeft===!1?"":" ")).trim()}const nb=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ib=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rb={};function Fa(n,t){return(rb.jsx?ib:nb).test(n)}const sb=/[ \t\n\f\r]/g;function ob(n){return typeof n=="object"?n.type==="text"?ja(n.value):!1:ja(n)}function ja(n){return n.replace(sb,"")===""}class Si{constructor(t,e,i){this.normal=e,this.property=t,i&&(this.space=i)}}Si.prototype.normal={};Si.prototype.property={};Si.prototype.space=void 0;function Wh(n,t){const e={},i={};for(const r of n)Object.assign(e,r.property),Object.assign(i,r.normal);return new Si(e,i,t)}function ao(n){return n.toLowerCase()}class ie{constructor(t,e){this.attribute=e,this.property=t}}ie.prototype.attribute="";ie.prototype.booleanish=!1;ie.prototype.boolean=!1;ie.prototype.commaOrSpaceSeparated=!1;ie.prototype.commaSeparated=!1;ie.prototype.defined=!1;ie.prototype.mustUseProperty=!1;ie.prototype.number=!1;ie.prototype.overloadedBoolean=!1;ie.prototype.property="";ie.prototype.spaceSeparated=!1;ie.prototype.space=void 0;let lb=0;const pt=hn(),Ot=hn(),uo=hn(),B=hn(),Ct=hn(),Tn=hn(),re=hn();function hn(){return 2**++lb}const co=Object.freeze(Object.defineProperty({__proto__:null,boolean:pt,booleanish:Ot,commaOrSpaceSeparated:re,commaSeparated:Tn,number:B,overloadedBoolean:uo,spaceSeparated:Ct},Symbol.toStringTag,{value:"Module"})),_s=Object.keys(co);class Ho extends ie{constructor(t,e,i,r){let s=-1;if(super(t,e),Va(this,"space",r),typeof i=="number")for(;++s<_s.length;){const o=_s[s];Va(this,_s[s],(i&co[o])===co[o])}}}Ho.prototype.defined=!0;function Va(n,t,e){e&&(n[t]=e)}function $n(n){const t={},e={};for(const[i,r]of Object.entries(n.properties)){const s=new Ho(i,n.transform(n.attributes||{},i),r,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),t[i]=s,e[ao(i)]=i,e[ao(s.attribute)]=i}return new Si(t,e,n.space)}const Uh=$n({properties:{ariaActiveDescendant:null,ariaAtomic:Ot,ariaAutoComplete:null,ariaBusy:Ot,ariaChecked:Ot,ariaColCount:B,ariaColIndex:B,ariaColSpan:B,ariaControls:Ct,ariaCurrent:null,ariaDescribedBy:Ct,ariaDetails:null,ariaDisabled:Ot,ariaDropEffect:Ct,ariaErrorMessage:null,ariaExpanded:Ot,ariaFlowTo:Ct,ariaGrabbed:Ot,ariaHasPopup:null,ariaHidden:Ot,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ct,ariaLevel:B,ariaLive:null,ariaModal:Ot,ariaMultiLine:Ot,ariaMultiSelectable:Ot,ariaOrientation:null,ariaOwns:Ct,ariaPlaceholder:null,ariaPosInSet:B,ariaPressed:Ot,ariaReadOnly:Ot,ariaRelevant:null,ariaRequired:Ot,ariaRoleDescription:Ct,ariaRowCount:B,ariaRowIndex:B,ariaRowSpan:B,ariaSelected:Ot,ariaSetSize:B,ariaSort:null,ariaValueMax:B,ariaValueMin:B,ariaValueNow:B,ariaValueText:null,role:null},transform(n,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Yh(n,t){return t in n?n[t]:t}function Hh(n,t){return Yh(n,t.toLowerCase())}const ab=$n({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Tn,acceptCharset:Ct,accessKey:Ct,action:null,allow:null,allowFullScreen:pt,allowPaymentRequest:pt,allowUserMedia:pt,alt:null,as:null,async:pt,autoCapitalize:null,autoComplete:Ct,autoFocus:pt,autoPlay:pt,blocking:Ct,capture:null,charSet:null,checked:pt,cite:null,className:Ct,cols:B,colSpan:null,content:null,contentEditable:Ot,controls:pt,controlsList:Ct,coords:B|Tn,crossOrigin:null,data:null,dateTime:null,decoding:null,default:pt,defer:pt,dir:null,dirName:null,disabled:pt,download:uo,draggable:Ot,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:pt,formTarget:null,headers:Ct,height:B,hidden:uo,high:B,href:null,hrefLang:null,htmlFor:Ct,httpEquiv:Ct,id:null,imageSizes:null,imageSrcSet:null,inert:pt,inputMode:null,integrity:null,is:null,isMap:pt,itemId:null,itemProp:Ct,itemRef:Ct,itemScope:pt,itemType:Ct,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:pt,low:B,manifest:null,max:null,maxLength:B,media:null,method:null,min:null,minLength:B,multiple:pt,muted:pt,name:null,nonce:null,noModule:pt,noValidate:pt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:pt,optimum:B,pattern:null,ping:Ct,placeholder:null,playsInline:pt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:pt,referrerPolicy:null,rel:Ct,required:pt,reversed:pt,rows:B,rowSpan:B,sandbox:Ct,scope:null,scoped:pt,seamless:pt,selected:pt,shadowRootClonable:pt,shadowRootDelegatesFocus:pt,shadowRootMode:null,shape:null,size:B,sizes:null,slot:null,span:B,spellCheck:Ot,src:null,srcDoc:null,srcLang:null,srcSet:null,start:B,step:null,style:null,tabIndex:B,target:null,title:null,translate:null,type:null,typeMustMatch:pt,useMap:null,value:Ot,width:B,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ct,axis:null,background:null,bgColor:null,border:B,borderColor:null,bottomMargin:B,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:pt,declare:pt,event:null,face:null,frame:null,frameBorder:null,hSpace:B,leftMargin:B,link:null,longDesc:null,lowSrc:null,marginHeight:B,marginWidth:B,noResize:pt,noHref:pt,noShade:pt,noWrap:pt,object:null,profile:null,prompt:null,rev:null,rightMargin:B,rules:null,scheme:null,scrolling:Ot,standby:null,summary:null,text:null,topMargin:B,valueType:null,version:null,vAlign:null,vLink:null,vSpace:B,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:pt,disableRemotePlayback:pt,prefix:null,property:null,results:B,security:null,unselectable:null},space:"html",transform:Hh}),ub=$n({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:re,accentHeight:B,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:B,amplitude:B,arabicForm:null,ascent:B,attributeName:null,attributeType:null,azimuth:B,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:B,by:null,calcMode:null,capHeight:B,className:Ct,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:B,diffuseConstant:B,direction:null,display:null,dur:null,divisor:B,dominantBaseline:null,download:pt,dx:null,dy:null,edgeMode:null,editable:null,elevation:B,enableBackground:null,end:null,event:null,exponent:B,externalResourcesRequired:null,fill:null,fillOpacity:B,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Tn,g2:Tn,glyphName:Tn,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:B,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:B,horizOriginX:B,horizOriginY:B,id:null,ideographic:B,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:B,k:B,k1:B,k2:B,k3:B,k4:B,kernelMatrix:re,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:B,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:B,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:B,overlineThickness:B,paintOrder:null,panose1:null,path:null,pathLength:B,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ct,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:B,pointsAtY:B,pointsAtZ:B,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:re,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:re,rev:re,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:re,requiredFeatures:re,requiredFonts:re,requiredFormats:re,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:B,specularExponent:B,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:B,strikethroughThickness:B,string:null,stroke:null,strokeDashArray:re,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:B,strokeOpacity:B,strokeWidth:null,style:null,surfaceScale:B,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:re,tabIndex:B,tableValues:null,target:null,targetX:B,targetY:B,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:re,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:B,underlineThickness:B,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:B,values:null,vAlphabetic:B,vMathematical:B,vectorEffect:null,vHanging:B,vIdeographic:B,version:null,vertAdvY:B,vertOriginX:B,vertOriginY:B,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:B,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Yh}),Zh=$n({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,t){return"xlink:"+t.slice(5).toLowerCase()}}),Xh=$n({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Hh}),Qh=$n({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,t){return"xml:"+t.slice(3).toLowerCase()}}),cb={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},hb=/[A-Z]/g,Ba=/-[a-z]/g,db=/^data[-\w.:]+$/i;function fb(n,t){const e=ao(t);let i=t,r=ie;if(e in n.normal)return n.property[n.normal[e]];if(e.length>4&&e.slice(0,4)==="data"&&db.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Ba,mb);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Ba.test(s)){let o=s.replace(hb,pb);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}r=Ho}return new r(i,t)}function pb(n){return"-"+n.toLowerCase()}function mb(n){return n.charAt(1).toUpperCase()}const gb=Wh([Uh,ab,Zh,Xh,Qh],"html"),Zo=Wh([Uh,ub,Zh,Xh,Qh],"svg");function yb(n){return n.join(" ").trim()}var Xo={},$a=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,vb=/\n/g,bb=/^\s*/,xb=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,wb=/^:\s*/,kb=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,_b=/^[;\s]*/,Sb=/^\s+|\s+$/g,Cb=`
`,Wa="/",Ua="*",nn="",Eb="comment",Tb="declaration",Nb=function(n,t){if(typeof n!="string")throw new TypeError("First argument must be a string");if(!n)return[];t=t||{};var e=1,i=1;function r(p){var g=p.match(vb);g&&(e+=g.length);var v=p.lastIndexOf(Cb);i=~v?p.length-v:i+p.length}function s(){var p={line:e,column:i};return function(g){return g.position=new o(p),u(),g}}function o(p){this.start=p,this.end={line:e,column:i},this.source=t.source}o.prototype.content=n;function l(p){var g=new Error(t.source+":"+e+":"+i+": "+p);if(g.reason=p,g.filename=t.source,g.line=e,g.column=i,g.source=n,!t.silent)throw g}function a(p){var g=p.exec(n);if(g){var v=g[0];return r(v),n=n.slice(v.length),g}}function u(){a(bb)}function h(p){var g;for(p=p||[];g=c();)g!==!1&&p.push(g);return p}function c(){var p=s();if(!(Wa!=n.charAt(0)||Ua!=n.charAt(1))){for(var g=2;nn!=n.charAt(g)&&(Ua!=n.charAt(g)||Wa!=n.charAt(g+1));)++g;if(g+=2,nn===n.charAt(g-1))return l("End of comment missing");var v=n.slice(2,g-2);return i+=2,r(v),n=n.slice(g),i+=2,p({type:Eb,comment:v})}}function d(){var p=s(),g=a(xb);if(g){if(c(),!a(wb))return l("property missing ':'");var v=a(kb),b=p({type:Tb,property:Ya(g[0].replace($a,nn)),value:v?Ya(v[0].replace($a,nn)):nn});return a(_b),b}}function f(){var p=[];h(p);for(var g;g=d();)g!==!1&&(p.push(g),h(p));return p}return u(),f()};function Ya(n){return n?n.replace(Sb,nn):nn}var Rb=Xi&&Xi.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.default=Ab;var Mb=Rb(Nb);function Ab(n,t){var e=null;if(!n||typeof n!="string")return e;var i=(0,Mb.default)(n),r=typeof t=="function";return i.forEach(function(s){if(s.type==="declaration"){var o=s.property,l=s.value;r?t(o,l,s):l&&(e=e||{},e[o]=l)}}),e}var Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.camelCase=void 0;var Pb=/^--[a-zA-Z0-9_-]+$/,Ib=/-([a-z])/g,Db=/^[^-]+$/,Lb=/^-(webkit|moz|ms|o|khtml)-/,Ob=/^-(ms)-/,zb=function(n){return!n||Db.test(n)||Pb.test(n)},Fb=function(n,t){return t.toUpperCase()},Ha=function(n,t){return"".concat(t,"-")},jb=function(n,t){return t===void 0&&(t={}),zb(n)?n:(n=n.toLowerCase(),t.reactCompat?n=n.replace(Ob,Ha):n=n.replace(Lb,Ha),n.replace(Ib,Fb))};Ur.camelCase=jb;var Vb=Xi&&Xi.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},Bb=Vb(Xo),$b=Ur;function ho(n,t){var e={};return!n||typeof n!="string"||(0,Bb.default)(n,function(i,r){i&&r&&(e[(0,$b.camelCase)(i,t)]=r)}),e}ho.default=ho;var Wb=ho;const Ub=Wu(Wb),qh=Gh("end"),Qo=Gh("start");function Gh(n){return t;function t(e){const i=e&&e.position&&e.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function Yb(n){const t=Qo(n),e=qh(n);if(t&&e)return{start:t,end:e}}function ci(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?Za(n.position):"start"in n||"end"in n?Za(n):"line"in n||"column"in n?fo(n):""}function fo(n){return Xa(n&&n.line)+":"+Xa(n&&n.column)}function Za(n){return fo(n&&n.start)+"-"+fo(n&&n.end)}function Xa(n){return n&&typeof n=="number"?n:1}class Ht extends Error{constructor(t,e,i){super(),typeof e=="string"&&(i=e,e=void 0);let r="",s={},o=!1;if(e&&("line"in e&&"column"in e?s={place:e}:"start"in e&&"end"in e?s={place:e}:"type"in e?s={ancestors:[e],place:e.position}:s={...e}),typeof t=="string"?r=t:!s.cause&&t&&(o=!0,r=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof i=="string"){const a=i.indexOf(":");a===-1?s.ruleId=i:(s.source=i.slice(0,a),s.ruleId=i.slice(a+1))}if(!s.place&&s.ancestors&&s.ancestors){const a=s.ancestors[s.ancestors.length-1];a&&(s.place=a.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=l?l.line:void 0,this.name=ci(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ht.prototype.file="";Ht.prototype.name="";Ht.prototype.reason="";Ht.prototype.message="";Ht.prototype.stack="";Ht.prototype.column=void 0;Ht.prototype.line=void 0;Ht.prototype.ancestors=void 0;Ht.prototype.cause=void 0;Ht.prototype.fatal=void 0;Ht.prototype.place=void 0;Ht.prototype.ruleId=void 0;Ht.prototype.source=void 0;const qo={}.hasOwnProperty,Hb=new Map,Zb=/[A-Z]/g,Xb=new Set(["table","tbody","thead","tfoot","tr"]),Qb=new Set(["td","th"]),Kh="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function qb(n,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const e=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=rx(e,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=ix(e,t.jsx,t.jsxs)}const r={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:e,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Zo:gb,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Jh(r,n,void 0);return s&&typeof s!="string"?s:r.create(n,r.Fragment,{children:s||void 0},void 0)}function Jh(n,t,e){if(t.type==="element")return Gb(n,t,e);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Kb(n,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return tx(n,t,e);if(t.type==="mdxjsEsm")return Jb(n,t);if(t.type==="root")return ex(n,t,e);if(t.type==="text")return nx(n,t)}function Gb(n,t,e){const i=n.schema;let r=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=Zo,n.schema=r),n.ancestors.push(t);const s=ed(n,t.tagName,!1),o=sx(n,t);let l=Ko(n,t);return Xb.has(t.tagName)&&(l=l.filter(function(a){return typeof a=="string"?!ob(a):!0})),td(n,o,s,t),Go(o,l),n.ancestors.pop(),n.schema=i,n.create(t,s,o,e)}function Kb(n,t){if(t.data&&t.data.estree&&n.evaluater){const i=t.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}vi(n,t.position)}function Jb(n,t){if(t.data&&t.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(t.data.estree);vi(n,t.position)}function tx(n,t,e){const i=n.schema;let r=i;t.name==="svg"&&i.space==="html"&&(r=Zo,n.schema=r),n.ancestors.push(t);const s=t.name===null?n.Fragment:ed(n,t.name,!0),o=ox(n,t),l=Ko(n,t);return td(n,o,s,t),Go(o,l),n.ancestors.pop(),n.schema=i,n.create(t,s,o,e)}function ex(n,t,e){const i={};return Go(i,Ko(n,t)),n.create(t,n.Fragment,i,e)}function nx(n,t){return t.value}function td(n,t,e,i){typeof e!="string"&&e!==n.Fragment&&n.passNode&&(t.node=i)}function Go(n,t){if(t.length>0){const e=t.length>1?t:t[0];e&&(n.children=e)}}function ix(n,t,e){return i;function i(r,s,o,l){const u=Array.isArray(o.children)?e:t;return l?u(s,o,l):u(s,o)}}function rx(n,t){return e;function e(i,r,s,o){const l=Array.isArray(s.children),a=Qo(i);return t(r,s,o,l,{columnNumber:a?a.column-1:void 0,fileName:n,lineNumber:a?a.line:void 0},void 0)}}function sx(n,t){const e={};let i,r;for(r in t.properties)if(r!=="children"&&qo.call(t.properties,r)){const s=lx(n,r,t.properties[r]);if(s){const[o,l]=s;n.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&Qb.has(t.tagName)?i=l:e[o]=l}}if(i){const s=e.style||(e.style={});s[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return e}function ox(n,t){const e={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const s=i.data.estree.body[0];s.type;const o=s.expression;o.type;const l=o.properties[0];l.type,Object.assign(e,n.evaluater.evaluateExpression(l.argument))}else vi(n,t.position);else{const r=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const l=i.value.data.estree.body[0];l.type,s=n.evaluater.evaluateExpression(l.expression)}else vi(n,t.position);else s=i.value===null?!0:i.value;e[r]=s}return e}function Ko(n,t){const e=[];let i=-1;const r=n.passKeys?new Map:Hb;for(;++i<t.children.length;){const s=t.children[i];let o;if(n.passKeys){const a=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(a){const u=r.get(a)||0;o=a+"-"+u,r.set(a,u+1)}}const l=Jh(n,s,o);l!==void 0&&e.push(l)}return e}function lx(n,t,e){const i=fb(n.schema,t);if(!(e==null||typeof e=="number"&&Number.isNaN(e))){if(Array.isArray(e)&&(e=i.commaSeparated?eb(e):yb(e)),i.property==="style"){let r=typeof e=="object"?e:ax(n,String(e));return n.stylePropertyNameCase==="css"&&(r=ux(r)),["style",r]}return[n.elementAttributeNameCase==="react"&&i.space?cb[i.property]||i.property:i.attribute,e]}}function ax(n,t){try{return Ub(t,{reactCompat:!0})}catch(e){if(n.ignoreInvalidStyle)return{};const i=e,r=new Ht("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=n.filePath||void 0,r.url=Kh+"#cannot-parse-style-attribute",r}}function ed(n,t,e){let i;if(!e)i={type:"Literal",value:t};else if(t.includes(".")){const r=t.split(".");let s=-1,o;for(;++s<r.length;){const l=Fa(r[s])?{type:"Identifier",name:r[s]}:{type:"Literal",value:r[s]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}i=o}else i=Fa(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const r=i.value;return qo.call(n.components,r)?n.components[r]:r}if(n.evaluater)return n.evaluater.evaluateExpression(i);vi(n)}function vi(n,t){const e=new Ht("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw e.file=n.filePath||void 0,e.url=Kh+"#cannot-handle-mdx-estrees-without-createevaluater",e}function ux(n){const t={};let e;for(e in n)qo.call(n,e)&&(t[cx(e)]=n[e]);return t}function cx(n){let t=n.replace(Zb,hx);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function hx(n){return"-"+n.toLowerCase()}const Ss={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},dx={};function Jo(n,t){const e=dx,i=typeof e.includeImageAlt=="boolean"?e.includeImageAlt:!0,r=typeof e.includeHtml=="boolean"?e.includeHtml:!0;return nd(n,i,r)}function nd(n,t,e){if(fx(n)){if("value"in n)return n.type==="html"&&!e?"":n.value;if(t&&"alt"in n&&n.alt)return n.alt;if("children"in n)return Qa(n.children,t,e)}return Array.isArray(n)?Qa(n,t,e):""}function Qa(n,t,e){const i=[];let r=-1;for(;++r<n.length;)i[r]=nd(n[r],t,e);return i.join("")}function fx(n){return!!(n&&typeof n=="object")}const qa=document.createElement("i");function tl(n){const t="&"+n+";";qa.innerHTML=t;const e=qa.textContent;return e.charCodeAt(e.length-1)===59&&n!=="semi"||e===t?!1:e}function le(n,t,e,i){const r=n.length;let s=0,o;if(t<0?t=-t>r?0:r+t:t=t>r?r:t,e=e>0?e:0,i.length<1e4)o=Array.from(i),o.unshift(t,e),n.splice(...o);else for(e&&n.splice(t,e);s<i.length;)o=i.slice(s,s+1e4),o.unshift(t,0),n.splice(...o),s+=1e4,t+=1e4}function de(n,t){return n.length>0?(le(n,n.length,0,t),n):t}const Ga={}.hasOwnProperty;function id(n){const t={};let e=-1;for(;++e<n.length;)px(t,n[e]);return t}function px(n,t){let e;for(e in t){const r=(Ga.call(n,e)?n[e]:void 0)||(n[e]={}),s=t[e];let o;if(s)for(o in s){Ga.call(r,o)||(r[o]=[]);const l=s[o];mx(r[o],Array.isArray(l)?l:l?[l]:[])}}}function mx(n,t){let e=-1;const i=[];for(;++e<t.length;)(t[e].add==="after"?n:i).push(t[e]);le(n,0,0,i)}function rd(n,t){const e=Number.parseInt(n,t);return e<9||e===11||e>13&&e<32||e>126&&e<160||e>55295&&e<57344||e>64975&&e<65008||(e&65535)===65535||(e&65535)===65534||e>1114111?"�":String.fromCodePoint(e)}function be(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Qt=Qe(/[A-Za-z]/),Ut=Qe(/[\dA-Za-z]/),gx=Qe(/[#-'*+\--9=?A-Z^-~]/);function Cr(n){return n!==null&&(n<32||n===127)}const po=Qe(/\d/),yx=Qe(/[\dA-Fa-f]/),vx=Qe(/[!-/:-@[-`{-~]/);function st(n){return n!==null&&n<-2}function St(n){return n!==null&&(n<0||n===32)}function gt(n){return n===-2||n===-1||n===32}const Yr=Qe(new RegExp("\\p{P}|\\p{S}","u")),cn=Qe(/\s/);function Qe(n){return t;function t(e){return e!==null&&e>-1&&n.test(String.fromCharCode(e))}}function Wn(n){const t=[];let e=-1,i=0,r=0;for(;++e<n.length;){const s=n.charCodeAt(e);let o="";if(s===37&&Ut(n.charCodeAt(e+1))&&Ut(n.charCodeAt(e+2)))r=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const l=n.charCodeAt(e+1);s<56320&&l>56319&&l<57344?(o=String.fromCharCode(s,l),r=1):o="�"}else o=String.fromCharCode(s);o&&(t.push(n.slice(i,e),encodeURIComponent(o)),i=e+r+1,o=""),r&&(e+=r,r=0)}return t.join("")+n.slice(i)}function bt(n,t,e,i){const r=i?i-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(a){return gt(a)?(n.enter(e),l(a)):t(a)}function l(a){return gt(a)&&s++<r?(n.consume(a),l):(n.exit(e),t(a))}}const bx={tokenize:xx};function xx(n){const t=n.attempt(this.parser.constructs.contentInitial,i,r);let e;return t;function i(l){if(l===null){n.consume(l);return}return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),bt(n,t,"linePrefix")}function r(l){return n.enter("paragraph"),s(l)}function s(l){const a=n.enter("chunkText",{contentType:"text",previous:e});return e&&(e.next=a),e=a,o(l)}function o(l){if(l===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(l);return}return st(l)?(n.consume(l),n.exit("chunkText"),s):(n.consume(l),o)}}const wx={tokenize:kx},Ka={tokenize:_x};function kx(n){const t=this,e=[];let i=0,r,s,o;return l;function l(C){if(i<e.length){const M=e[i];return t.containerState=M[1],n.attempt(M[0].continuation,a,u)(C)}return u(C)}function a(C){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&w();const M=t.events.length;let T=M,S;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){S=t.events[T][1].end;break}b(i);let R=M;for(;R<t.events.length;)t.events[R][1].end={...S},R++;return le(t.events,T+1,0,t.events.slice(M)),t.events.length=R,u(C)}return l(C)}function u(C){if(i===e.length){if(!r)return d(C);if(r.currentConstruct&&r.currentConstruct.concrete)return p(C);t.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},n.check(Ka,h,c)(C)}function h(C){return r&&w(),b(i),d(C)}function c(C){return t.parser.lazy[t.now().line]=i!==e.length,o=t.now().offset,p(C)}function d(C){return t.containerState={},n.attempt(Ka,f,p)(C)}function f(C){return i++,e.push([t.currentConstruct,t.containerState]),d(C)}function p(C){if(C===null){r&&w(),b(0),n.consume(C);return}return r=r||t.parser.flow(t.now()),n.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),g(C)}function g(C){if(C===null){v(n.exit("chunkFlow"),!0),b(0),n.consume(C);return}return st(C)?(n.consume(C),v(n.exit("chunkFlow")),i=0,t.interrupt=void 0,l):(n.consume(C),g)}function v(C,M){const T=t.sliceStream(C);if(M&&T.push(null),C.previous=s,s&&(s.next=C),s=C,r.defineSkip(C.start),r.write(T),t.parser.lazy[C.start.line]){let S=r.events.length;for(;S--;)if(r.events[S][1].start.offset<o&&(!r.events[S][1].end||r.events[S][1].end.offset>o))return;const R=t.events.length;let O=R,j,E;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){if(j){E=t.events[O][1].end;break}j=!0}for(b(i),S=R;S<t.events.length;)t.events[S][1].end={...E},S++;le(t.events,O+1,0,t.events.slice(R)),t.events.length=S}}function b(C){let M=e.length;for(;M-- >C;){const T=e[M];t.containerState=T[1],T[0].exit.call(t,n)}e.length=C}function w(){r.write([null]),s=void 0,r=void 0,t.containerState._closeFlow=void 0}}function _x(n,t,e){return bt(n,n.attempt(this.parser.constructs.document,t,e),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function zn(n){if(n===null||St(n)||cn(n))return 1;if(Yr(n))return 2}function Hr(n,t,e){const i=[];let r=-1;for(;++r<n.length;){const s=n[r].resolveAll;s&&!i.includes(s)&&(t=s(t,e),i.push(s))}return t}const mo={name:"attention",resolveAll:Sx,tokenize:Cx};function Sx(n,t){let e=-1,i,r,s,o,l,a,u,h;for(;++e<n.length;)if(n[e][0]==="enter"&&n[e][1].type==="attentionSequence"&&n[e][1]._close){for(i=e;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&t.sliceSerialize(n[i][1]).charCodeAt(0)===t.sliceSerialize(n[e][1]).charCodeAt(0)){if((n[i][1]._close||n[e][1]._open)&&(n[e][1].end.offset-n[e][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[e][1].end.offset-n[e][1].start.offset)%3))continue;a=n[i][1].end.offset-n[i][1].start.offset>1&&n[e][1].end.offset-n[e][1].start.offset>1?2:1;const c={...n[i][1].end},d={...n[e][1].start};Ja(c,-a),Ja(d,a),o={type:a>1?"strongSequence":"emphasisSequence",start:c,end:{...n[i][1].end}},l={type:a>1?"strongSequence":"emphasisSequence",start:{...n[e][1].start},end:d},s={type:a>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[e][1].start}},r={type:a>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},n[i][1].end={...o.start},n[e][1].start={...l.end},u=[],n[i][1].end.offset-n[i][1].start.offset&&(u=de(u,[["enter",n[i][1],t],["exit",n[i][1],t]])),u=de(u,[["enter",r,t],["enter",o,t],["exit",o,t],["enter",s,t]]),u=de(u,Hr(t.parser.constructs.insideSpan.null,n.slice(i+1,e),t)),u=de(u,[["exit",s,t],["enter",l,t],["exit",l,t],["exit",r,t]]),n[e][1].end.offset-n[e][1].start.offset?(h=2,u=de(u,[["enter",n[e][1],t],["exit",n[e][1],t]])):h=0,le(n,i-1,e-i+3,u),e=i+u.length-h-2;break}}for(e=-1;++e<n.length;)n[e][1].type==="attentionSequence"&&(n[e][1].type="data");return n}function Cx(n,t){const e=this.parser.constructs.attentionMarkers.null,i=this.previous,r=zn(i);let s;return o;function o(a){return s=a,n.enter("attentionSequence"),l(a)}function l(a){if(a===s)return n.consume(a),l;const u=n.exit("attentionSequence"),h=zn(a),c=!h||h===2&&r||e.includes(a),d=!r||r===2&&h||e.includes(i);return u._open=!!(s===42?c:c&&(r||!d)),u._close=!!(s===42?d:d&&(h||!c)),t(a)}}function Ja(n,t){n.column+=t,n.offset+=t,n._bufferIndex+=t}const Ex={name:"autolink",tokenize:Tx};function Tx(n,t,e){let i=0;return r;function r(f){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(f),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(f){return Qt(f)?(n.consume(f),o):f===64?e(f):u(f)}function o(f){return f===43||f===45||f===46||Ut(f)?(i=1,l(f)):u(f)}function l(f){return f===58?(n.consume(f),i=0,a):(f===43||f===45||f===46||Ut(f))&&i++<32?(n.consume(f),l):(i=0,u(f))}function a(f){return f===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(f),n.exit("autolinkMarker"),n.exit("autolink"),t):f===null||f===32||f===60||Cr(f)?e(f):(n.consume(f),a)}function u(f){return f===64?(n.consume(f),h):gx(f)?(n.consume(f),u):e(f)}function h(f){return Ut(f)?c(f):e(f)}function c(f){return f===46?(n.consume(f),i=0,h):f===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(f),n.exit("autolinkMarker"),n.exit("autolink"),t):d(f)}function d(f){if((f===45||Ut(f))&&i++<63){const p=f===45?d:c;return n.consume(f),p}return e(f)}}const Ci={partial:!0,tokenize:Nx};function Nx(n,t,e){return i;function i(s){return gt(s)?bt(n,r,"linePrefix")(s):r(s)}function r(s){return s===null||st(s)?t(s):e(s)}}const sd={continuation:{tokenize:Mx},exit:Ax,name:"blockQuote",tokenize:Rx};function Rx(n,t,e){const i=this;return r;function r(o){if(o===62){const l=i.containerState;return l.open||(n.enter("blockQuote",{_container:!0}),l.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),s}return e(o)}function s(o){return gt(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),t):(n.exit("blockQuotePrefix"),t(o))}}function Mx(n,t,e){const i=this;return r;function r(o){return gt(o)?bt(n,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return n.attempt(sd,t,e)(o)}}function Ax(n){n.exit("blockQuote")}const od={name:"characterEscape",tokenize:Px};function Px(n,t,e){return i;function i(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),r}function r(s){return vx(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),t):e(s)}}const ld={name:"characterReference",tokenize:Ix};function Ix(n,t,e){const i=this;let r=0,s,o;return l;function l(c){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(c),n.exit("characterReferenceMarker"),a}function a(c){return c===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(c),n.exit("characterReferenceMarkerNumeric"),u):(n.enter("characterReferenceValue"),s=31,o=Ut,h(c))}function u(c){return c===88||c===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(c),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,o=yx,h):(n.enter("characterReferenceValue"),s=7,o=po,h(c))}function h(c){if(c===59&&r){const d=n.exit("characterReferenceValue");return o===Ut&&!tl(i.sliceSerialize(d))?e(c):(n.enter("characterReferenceMarker"),n.consume(c),n.exit("characterReferenceMarker"),n.exit("characterReference"),t)}return o(c)&&r++<s?(n.consume(c),h):e(c)}}const tu={partial:!0,tokenize:Lx},eu={concrete:!0,name:"codeFenced",tokenize:Dx};function Dx(n,t,e){const i=this,r={partial:!0,tokenize:T};let s=0,o=0,l;return a;function a(S){return u(S)}function u(S){const R=i.events[i.events.length-1];return s=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,l=S,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),h(S)}function h(S){return S===l?(o++,n.consume(S),h):o<3?e(S):(n.exit("codeFencedFenceSequence"),gt(S)?bt(n,c,"whitespace")(S):c(S))}function c(S){return S===null||st(S)?(n.exit("codeFencedFence"),i.interrupt?t(S):n.check(tu,g,M)(S)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),d(S))}function d(S){return S===null||st(S)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),c(S)):gt(S)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),bt(n,f,"whitespace")(S)):S===96&&S===l?e(S):(n.consume(S),d)}function f(S){return S===null||st(S)?c(S):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||st(S)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),c(S)):S===96&&S===l?e(S):(n.consume(S),p)}function g(S){return n.attempt(r,M,v)(S)}function v(S){return n.enter("lineEnding"),n.consume(S),n.exit("lineEnding"),b}function b(S){return s>0&&gt(S)?bt(n,w,"linePrefix",s+1)(S):w(S)}function w(S){return S===null||st(S)?n.check(tu,g,M)(S):(n.enter("codeFlowValue"),C(S))}function C(S){return S===null||st(S)?(n.exit("codeFlowValue"),w(S)):(n.consume(S),C)}function M(S){return n.exit("codeFenced"),t(S)}function T(S,R,O){let j=0;return E;function E(V){return S.enter("lineEnding"),S.consume(V),S.exit("lineEnding"),z}function z(V){return S.enter("codeFencedFence"),gt(V)?bt(S,I,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):I(V)}function I(V){return V===l?(S.enter("codeFencedFenceSequence"),X(V)):O(V)}function X(V){return V===l?(j++,S.consume(V),X):j>=o?(S.exit("codeFencedFenceSequence"),gt(V)?bt(S,N,"whitespace")(V):N(V)):O(V)}function N(V){return V===null||st(V)?(S.exit("codeFencedFence"),R(V)):O(V)}}}function Lx(n,t,e){const i=this;return r;function r(o){return o===null?e(o):(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s)}function s(o){return i.parser.lazy[i.now().line]?e(o):t(o)}}const Cs={name:"codeIndented",tokenize:zx},Ox={partial:!0,tokenize:Fx};function zx(n,t,e){const i=this;return r;function r(u){return n.enter("codeIndented"),bt(n,s,"linePrefix",5)(u)}function s(u){const h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(u):e(u)}function o(u){return u===null?a(u):st(u)?n.attempt(Ox,o,a)(u):(n.enter("codeFlowValue"),l(u))}function l(u){return u===null||st(u)?(n.exit("codeFlowValue"),o(u)):(n.consume(u),l)}function a(u){return n.exit("codeIndented"),t(u)}}function Fx(n,t,e){const i=this;return r;function r(o){return i.parser.lazy[i.now().line]?e(o):st(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),r):bt(n,s,"linePrefix",5)(o)}function s(o){const l=i.events[i.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):st(o)?r(o):e(o)}}const jx={name:"codeText",previous:Bx,resolve:Vx,tokenize:$x};function Vx(n){let t=n.length-4,e=3,i,r;if((n[e][1].type==="lineEnding"||n[e][1].type==="space")&&(n[t][1].type==="lineEnding"||n[t][1].type==="space")){for(i=e;++i<t;)if(n[i][1].type==="codeTextData"){n[e][1].type="codeTextPadding",n[t][1].type="codeTextPadding",e+=2,t-=2;break}}for(i=e-1,t++;++i<=t;)r===void 0?i!==t&&n[i][1].type!=="lineEnding"&&(r=i):(i===t||n[i][1].type==="lineEnding")&&(n[r][1].type="codeTextData",i!==r+2&&(n[r][1].end=n[i-1][1].end,n.splice(r+2,i-r-2),t-=i-r-2,i=r+2),r=void 0);return n}function Bx(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function $x(n,t,e){let i=0,r,s;return o;function o(c){return n.enter("codeText"),n.enter("codeTextSequence"),l(c)}function l(c){return c===96?(n.consume(c),i++,l):(n.exit("codeTextSequence"),a(c))}function a(c){return c===null?e(c):c===32?(n.enter("space"),n.consume(c),n.exit("space"),a):c===96?(s=n.enter("codeTextSequence"),r=0,h(c)):st(c)?(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),a):(n.enter("codeTextData"),u(c))}function u(c){return c===null||c===32||c===96||st(c)?(n.exit("codeTextData"),a(c)):(n.consume(c),u)}function h(c){return c===96?(n.consume(c),r++,h):r===i?(n.exit("codeTextSequence"),n.exit("codeText"),t(c)):(s.type="codeTextData",u(c))}}class Wx{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,e){const i=e??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,e,i){const r=e||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&Qn(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Qn(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Qn(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const e=this.left.splice(t,Number.POSITIVE_INFINITY);Qn(this.right,e.reverse())}else{const e=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Qn(this.left,e.reverse())}}}function Qn(n,t){let e=0;if(t.length<1e4)n.push(...t);else for(;e<t.length;)n.push(...t.slice(e,e+1e4)),e+=1e4}function ad(n){const t={};let e=-1,i,r,s,o,l,a,u;const h=new Wx(n);for(;++e<h.length;){for(;e in t;)e=t[e];if(i=h.get(e),e&&i[1].type==="chunkFlow"&&h.get(e-1)[1].type==="listItemPrefix"&&(a=i[1]._tokenizer.events,s=0,s<a.length&&a[s][1].type==="lineEndingBlank"&&(s+=2),s<a.length&&a[s][1].type==="content"))for(;++s<a.length&&a[s][1].type!=="content";)a[s][1].type==="chunkText"&&(a[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,Ux(h,e)),e=t[e],u=!0);else if(i[1]._container){for(s=e,r=void 0;s--;)if(o=h.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(r&&(h.get(r)[1].type="lineEndingBlank"),o[1].type="lineEnding",r=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;r&&(i[1].end={...h.get(r)[1].start},l=h.slice(r,e),l.unshift(i),h.splice(r,e-r+1,l))}}return le(n,0,Number.POSITIVE_INFINITY,h.slice(0)),!u}function Ux(n,t){const e=n.get(t)[1],i=n.get(t)[2];let r=t-1;const s=[];let o=e._tokenizer;o||(o=i.parser[e.contentType](e.start),e._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,a=[],u={};let h,c,d=-1,f=e,p=0,g=0;const v=[g];for(;f;){for(;n.get(++r)[1]!==f;);s.push(r),f._tokenizer||(h=i.sliceStream(f),f.next||h.push(null),c&&o.defineSkip(f.start),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),c=f,f=f.next}for(f=e;++d<l.length;)l[d][0]==="exit"&&l[d-1][0]==="enter"&&l[d][1].type===l[d-1][1].type&&l[d][1].start.line!==l[d][1].end.line&&(g=d+1,v.push(g),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(o.events=[],f?(f._tokenizer=void 0,f.previous=void 0):v.pop(),d=v.length;d--;){const b=l.slice(v[d],v[d+1]),w=s.pop();a.push([w,w+b.length-1]),n.splice(w,2,b)}for(a.reverse(),d=-1;++d<a.length;)u[p+a[d][0]]=p+a[d][1],p+=a[d][1]-a[d][0]-1;return u}const Yx={resolve:Zx,tokenize:Xx},Hx={partial:!0,tokenize:Qx};function Zx(n){return ad(n),n}function Xx(n,t){let e;return i;function i(l){return n.enter("content"),e=n.enter("chunkContent",{contentType:"content"}),r(l)}function r(l){return l===null?s(l):st(l)?n.check(Hx,o,s)(l):(n.consume(l),r)}function s(l){return n.exit("chunkContent"),n.exit("content"),t(l)}function o(l){return n.consume(l),n.exit("chunkContent"),e.next=n.enter("chunkContent",{contentType:"content",previous:e}),e=e.next,r}}function Qx(n,t,e){const i=this;return r;function r(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),bt(n,s,"linePrefix")}function s(o){if(o===null||st(o))return e(o);const l=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):n.interrupt(i.parser.constructs.flow,e,t)(o)}}function ud(n,t,e,i,r,s,o,l,a){const u=a||Number.POSITIVE_INFINITY;let h=0;return c;function c(b){return b===60?(n.enter(i),n.enter(r),n.enter(s),n.consume(b),n.exit(s),d):b===null||b===32||b===41||Cr(b)?e(b):(n.enter(i),n.enter(o),n.enter(l),n.enter("chunkString",{contentType:"string"}),g(b))}function d(b){return b===62?(n.enter(s),n.consume(b),n.exit(s),n.exit(r),n.exit(i),t):(n.enter(l),n.enter("chunkString",{contentType:"string"}),f(b))}function f(b){return b===62?(n.exit("chunkString"),n.exit(l),d(b)):b===null||b===60||st(b)?e(b):(n.consume(b),b===92?p:f)}function p(b){return b===60||b===62||b===92?(n.consume(b),f):f(b)}function g(b){return!h&&(b===null||b===41||St(b))?(n.exit("chunkString"),n.exit(l),n.exit(o),n.exit(i),t(b)):h<u&&b===40?(n.consume(b),h++,g):b===41?(n.consume(b),h--,g):b===null||b===32||b===40||Cr(b)?e(b):(n.consume(b),b===92?v:g)}function v(b){return b===40||b===41||b===92?(n.consume(b),g):g(b)}}function cd(n,t,e,i,r,s){const o=this;let l=0,a;return u;function u(f){return n.enter(i),n.enter(r),n.consume(f),n.exit(r),n.enter(s),h}function h(f){return l>999||f===null||f===91||f===93&&!a||f===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?e(f):f===93?(n.exit(s),n.enter(r),n.consume(f),n.exit(r),n.exit(i),t):st(f)?(n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),h):(n.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===null||f===91||f===93||st(f)||l++>999?(n.exit("chunkString"),h(f)):(n.consume(f),a||(a=!gt(f)),f===92?d:c)}function d(f){return f===91||f===92||f===93?(n.consume(f),l++,c):c(f)}}function hd(n,t,e,i,r,s){let o;return l;function l(d){return d===34||d===39||d===40?(n.enter(i),n.enter(r),n.consume(d),n.exit(r),o=d===40?41:d,a):e(d)}function a(d){return d===o?(n.enter(r),n.consume(d),n.exit(r),n.exit(i),t):(n.enter(s),u(d))}function u(d){return d===o?(n.exit(s),a(o)):d===null?e(d):st(d)?(n.enter("lineEnding"),n.consume(d),n.exit("lineEnding"),bt(n,u,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),h(d))}function h(d){return d===o||d===null||st(d)?(n.exit("chunkString"),u(d)):(n.consume(d),d===92?c:h)}function c(d){return d===o||d===92?(n.consume(d),h):h(d)}}function hi(n,t){let e;return i;function i(r){return st(r)?(n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),e=!0,i):gt(r)?bt(n,i,e?"linePrefix":"lineSuffix")(r):t(r)}}const qx={name:"definition",tokenize:Kx},Gx={partial:!0,tokenize:Jx};function Kx(n,t,e){const i=this;let r;return s;function s(f){return n.enter("definition"),o(f)}function o(f){return cd.call(i,n,l,e,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function l(f){return r=be(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),f===58?(n.enter("definitionMarker"),n.consume(f),n.exit("definitionMarker"),a):e(f)}function a(f){return St(f)?hi(n,u)(f):u(f)}function u(f){return ud(n,h,e,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function h(f){return n.attempt(Gx,c,c)(f)}function c(f){return gt(f)?bt(n,d,"whitespace")(f):d(f)}function d(f){return f===null||st(f)?(n.exit("definition"),i.parser.defined.push(r),t(f)):e(f)}}function Jx(n,t,e){return i;function i(l){return St(l)?hi(n,r)(l):e(l)}function r(l){return hd(n,s,e,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return gt(l)?bt(n,o,"whitespace")(l):o(l)}function o(l){return l===null||st(l)?t(l):e(l)}}const tw={name:"hardBreakEscape",tokenize:ew};function ew(n,t,e){return i;function i(s){return n.enter("hardBreakEscape"),n.consume(s),r}function r(s){return st(s)?(n.exit("hardBreakEscape"),t(s)):e(s)}}const nw={name:"headingAtx",resolve:iw,tokenize:rw};function iw(n,t){let e=n.length-2,i=3,r,s;return n[i][1].type==="whitespace"&&(i+=2),e-2>i&&n[e][1].type==="whitespace"&&(e-=2),n[e][1].type==="atxHeadingSequence"&&(i===e-1||e-4>i&&n[e-2][1].type==="whitespace")&&(e-=i+1===e?2:4),e>i&&(r={type:"atxHeadingText",start:n[i][1].start,end:n[e][1].end},s={type:"chunkText",start:n[i][1].start,end:n[e][1].end,contentType:"text"},le(n,i,e-i+1,[["enter",r,t],["enter",s,t],["exit",s,t],["exit",r,t]])),n}function rw(n,t,e){let i=0;return r;function r(h){return n.enter("atxHeading"),s(h)}function s(h){return n.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&i++<6?(n.consume(h),o):h===null||St(h)?(n.exit("atxHeadingSequence"),l(h)):e(h)}function l(h){return h===35?(n.enter("atxHeadingSequence"),a(h)):h===null||st(h)?(n.exit("atxHeading"),t(h)):gt(h)?bt(n,l,"whitespace")(h):(n.enter("atxHeadingText"),u(h))}function a(h){return h===35?(n.consume(h),a):(n.exit("atxHeadingSequence"),l(h))}function u(h){return h===null||h===35||St(h)?(n.exit("atxHeadingText"),l(h)):(n.consume(h),u)}}const sw=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],nu=["pre","script","style","textarea"],ow={concrete:!0,name:"htmlFlow",resolveTo:uw,tokenize:cw},lw={partial:!0,tokenize:dw},aw={partial:!0,tokenize:hw};function uw(n){let t=n.length;for(;t--&&!(n[t][0]==="enter"&&n[t][1].type==="htmlFlow"););return t>1&&n[t-2][1].type==="linePrefix"&&(n[t][1].start=n[t-2][1].start,n[t+1][1].start=n[t-2][1].start,n.splice(t-2,2)),n}function cw(n,t,e){const i=this;let r,s,o,l,a;return u;function u(k){return h(k)}function h(k){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(k),c}function c(k){return k===33?(n.consume(k),d):k===47?(n.consume(k),s=!0,g):k===63?(n.consume(k),r=3,i.interrupt?t:x):Qt(k)?(n.consume(k),o=String.fromCharCode(k),v):e(k)}function d(k){return k===45?(n.consume(k),r=2,f):k===91?(n.consume(k),r=5,l=0,p):Qt(k)?(n.consume(k),r=4,i.interrupt?t:x):e(k)}function f(k){return k===45?(n.consume(k),i.interrupt?t:x):e(k)}function p(k){const Lt="CDATA[";return k===Lt.charCodeAt(l++)?(n.consume(k),l===Lt.length?i.interrupt?t:I:p):e(k)}function g(k){return Qt(k)?(n.consume(k),o=String.fromCharCode(k),v):e(k)}function v(k){if(k===null||k===47||k===62||St(k)){const Lt=k===47,ue=o.toLowerCase();return!Lt&&!s&&nu.includes(ue)?(r=1,i.interrupt?t(k):I(k)):sw.includes(o.toLowerCase())?(r=6,Lt?(n.consume(k),b):i.interrupt?t(k):I(k)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?e(k):s?w(k):C(k))}return k===45||Ut(k)?(n.consume(k),o+=String.fromCharCode(k),v):e(k)}function b(k){return k===62?(n.consume(k),i.interrupt?t:I):e(k)}function w(k){return gt(k)?(n.consume(k),w):E(k)}function C(k){return k===47?(n.consume(k),E):k===58||k===95||Qt(k)?(n.consume(k),M):gt(k)?(n.consume(k),C):E(k)}function M(k){return k===45||k===46||k===58||k===95||Ut(k)?(n.consume(k),M):T(k)}function T(k){return k===61?(n.consume(k),S):gt(k)?(n.consume(k),T):C(k)}function S(k){return k===null||k===60||k===61||k===62||k===96?e(k):k===34||k===39?(n.consume(k),a=k,R):gt(k)?(n.consume(k),S):O(k)}function R(k){return k===a?(n.consume(k),a=null,j):k===null||st(k)?e(k):(n.consume(k),R)}function O(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||St(k)?T(k):(n.consume(k),O)}function j(k){return k===47||k===62||gt(k)?C(k):e(k)}function E(k){return k===62?(n.consume(k),z):e(k)}function z(k){return k===null||st(k)?I(k):gt(k)?(n.consume(k),z):e(k)}function I(k){return k===45&&r===2?(n.consume(k),Y):k===60&&r===1?(n.consume(k),q):k===62&&r===4?(n.consume(k),dt):k===63&&r===3?(n.consume(k),x):k===93&&r===5?(n.consume(k),rt):st(k)&&(r===6||r===7)?(n.exit("htmlFlowData"),n.check(lw,Rt,X)(k)):k===null||st(k)?(n.exit("htmlFlowData"),X(k)):(n.consume(k),I)}function X(k){return n.check(aw,N,Rt)(k)}function N(k){return n.enter("lineEnding"),n.consume(k),n.exit("lineEnding"),V}function V(k){return k===null||st(k)?X(k):(n.enter("htmlFlowData"),I(k))}function Y(k){return k===45?(n.consume(k),x):I(k)}function q(k){return k===47?(n.consume(k),o="",J):I(k)}function J(k){if(k===62){const Lt=o.toLowerCase();return nu.includes(Lt)?(n.consume(k),dt):I(k)}return Qt(k)&&o.length<8?(n.consume(k),o+=String.fromCharCode(k),J):I(k)}function rt(k){return k===93?(n.consume(k),x):I(k)}function x(k){return k===62?(n.consume(k),dt):k===45&&r===2?(n.consume(k),x):I(k)}function dt(k){return k===null||st(k)?(n.exit("htmlFlowData"),Rt(k)):(n.consume(k),dt)}function Rt(k){return n.exit("htmlFlow"),t(k)}}function hw(n,t,e){const i=this;return r;function r(o){return st(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s):e(o)}function s(o){return i.parser.lazy[i.now().line]?e(o):t(o)}}function dw(n,t,e){return i;function i(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),n.attempt(Ci,t,e)}}const fw={name:"htmlText",tokenize:pw};function pw(n,t,e){const i=this;let r,s,o;return l;function l(x){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(x),a}function a(x){return x===33?(n.consume(x),u):x===47?(n.consume(x),T):x===63?(n.consume(x),C):Qt(x)?(n.consume(x),O):e(x)}function u(x){return x===45?(n.consume(x),h):x===91?(n.consume(x),s=0,p):Qt(x)?(n.consume(x),w):e(x)}function h(x){return x===45?(n.consume(x),f):e(x)}function c(x){return x===null?e(x):x===45?(n.consume(x),d):st(x)?(o=c,q(x)):(n.consume(x),c)}function d(x){return x===45?(n.consume(x),f):c(x)}function f(x){return x===62?Y(x):x===45?d(x):c(x)}function p(x){const dt="CDATA[";return x===dt.charCodeAt(s++)?(n.consume(x),s===dt.length?g:p):e(x)}function g(x){return x===null?e(x):x===93?(n.consume(x),v):st(x)?(o=g,q(x)):(n.consume(x),g)}function v(x){return x===93?(n.consume(x),b):g(x)}function b(x){return x===62?Y(x):x===93?(n.consume(x),b):g(x)}function w(x){return x===null||x===62?Y(x):st(x)?(o=w,q(x)):(n.consume(x),w)}function C(x){return x===null?e(x):x===63?(n.consume(x),M):st(x)?(o=C,q(x)):(n.consume(x),C)}function M(x){return x===62?Y(x):C(x)}function T(x){return Qt(x)?(n.consume(x),S):e(x)}function S(x){return x===45||Ut(x)?(n.consume(x),S):R(x)}function R(x){return st(x)?(o=R,q(x)):gt(x)?(n.consume(x),R):Y(x)}function O(x){return x===45||Ut(x)?(n.consume(x),O):x===47||x===62||St(x)?j(x):e(x)}function j(x){return x===47?(n.consume(x),Y):x===58||x===95||Qt(x)?(n.consume(x),E):st(x)?(o=j,q(x)):gt(x)?(n.consume(x),j):Y(x)}function E(x){return x===45||x===46||x===58||x===95||Ut(x)?(n.consume(x),E):z(x)}function z(x){return x===61?(n.consume(x),I):st(x)?(o=z,q(x)):gt(x)?(n.consume(x),z):j(x)}function I(x){return x===null||x===60||x===61||x===62||x===96?e(x):x===34||x===39?(n.consume(x),r=x,X):st(x)?(o=I,q(x)):gt(x)?(n.consume(x),I):(n.consume(x),N)}function X(x){return x===r?(n.consume(x),r=void 0,V):x===null?e(x):st(x)?(o=X,q(x)):(n.consume(x),X)}function N(x){return x===null||x===34||x===39||x===60||x===61||x===96?e(x):x===47||x===62||St(x)?j(x):(n.consume(x),N)}function V(x){return x===47||x===62||St(x)?j(x):e(x)}function Y(x){return x===62?(n.consume(x),n.exit("htmlTextData"),n.exit("htmlText"),t):e(x)}function q(x){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(x),n.exit("lineEnding"),J}function J(x){return gt(x)?bt(n,rt,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x):rt(x)}function rt(x){return n.enter("htmlTextData"),o(x)}}const el={name:"labelEnd",resolveAll:vw,resolveTo:bw,tokenize:xw},mw={tokenize:ww},gw={tokenize:kw},yw={tokenize:_w};function vw(n){let t=-1;const e=[];for(;++t<n.length;){const i=n[t][1];if(e.push(n[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",t+=r}}return n.length!==e.length&&le(n,0,n.length,e),n}function bw(n,t){let e=n.length,i=0,r,s,o,l;for(;e--;)if(r=n[e][1],s){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;n[e][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(o){if(n[e][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(s=e,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(o=e);const a={type:n[s][1].type==="labelLink"?"link":"image",start:{...n[s][1].start},end:{...n[n.length-1][1].end}},u={type:"label",start:{...n[s][1].start},end:{...n[o][1].end}},h={type:"labelText",start:{...n[s+i+2][1].end},end:{...n[o-2][1].start}};return l=[["enter",a,t],["enter",u,t]],l=de(l,n.slice(s+1,s+i+3)),l=de(l,[["enter",h,t]]),l=de(l,Hr(t.parser.constructs.insideSpan.null,n.slice(s+i+4,o-3),t)),l=de(l,[["exit",h,t],n[o-2],n[o-1],["exit",u,t]]),l=de(l,n.slice(o+1)),l=de(l,[["exit",a,t]]),le(n,s,n.length,l),n}function xw(n,t,e){const i=this;let r=i.events.length,s,o;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){s=i.events[r][1];break}return l;function l(d){return s?s._inactive?c(d):(o=i.parser.defined.includes(be(i.sliceSerialize({start:s.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(d),n.exit("labelMarker"),n.exit("labelEnd"),a):e(d)}function a(d){return d===40?n.attempt(mw,h,o?h:c)(d):d===91?n.attempt(gw,h,o?u:c)(d):o?h(d):c(d)}function u(d){return n.attempt(yw,h,c)(d)}function h(d){return t(d)}function c(d){return s._balanced=!0,e(d)}}function ww(n,t,e){return i;function i(c){return n.enter("resource"),n.enter("resourceMarker"),n.consume(c),n.exit("resourceMarker"),r}function r(c){return St(c)?hi(n,s)(c):s(c)}function s(c){return c===41?h(c):ud(n,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(c)}function o(c){return St(c)?hi(n,a)(c):h(c)}function l(c){return e(c)}function a(c){return c===34||c===39||c===40?hd(n,u,e,"resourceTitle","resourceTitleMarker","resourceTitleString")(c):h(c)}function u(c){return St(c)?hi(n,h)(c):h(c)}function h(c){return c===41?(n.enter("resourceMarker"),n.consume(c),n.exit("resourceMarker"),n.exit("resource"),t):e(c)}}function kw(n,t,e){const i=this;return r;function r(l){return cd.call(i,n,s,o,"reference","referenceMarker","referenceString")(l)}function s(l){return i.parser.defined.includes(be(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(l):e(l)}function o(l){return e(l)}}function _w(n,t,e){return i;function i(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),r}function r(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),t):e(s)}}const Sw={name:"labelStartImage",resolveAll:el.resolveAll,tokenize:Cw};function Cw(n,t,e){const i=this;return r;function r(l){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(l),n.exit("labelImageMarker"),s}function s(l){return l===91?(n.enter("labelMarker"),n.consume(l),n.exit("labelMarker"),n.exit("labelImage"),o):e(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?e(l):t(l)}}const Ew={name:"labelStartLink",resolveAll:el.resolveAll,tokenize:Tw};function Tw(n,t,e){const i=this;return r;function r(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?e(o):t(o)}}const Es={name:"lineEnding",tokenize:Nw};function Nw(n,t){return e;function e(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),bt(n,t,"linePrefix")}}const Hi={name:"thematicBreak",tokenize:Rw};function Rw(n,t,e){let i=0,r;return s;function s(u){return n.enter("thematicBreak"),o(u)}function o(u){return r=u,l(u)}function l(u){return u===r?(n.enter("thematicBreakSequence"),a(u)):i>=3&&(u===null||st(u))?(n.exit("thematicBreak"),t(u)):e(u)}function a(u){return u===r?(n.consume(u),i++,a):(n.exit("thematicBreakSequence"),gt(u)?bt(n,l,"whitespace")(u):l(u))}}const Kt={continuation:{tokenize:Iw},exit:Lw,name:"list",tokenize:Pw},Mw={partial:!0,tokenize:Ow},Aw={partial:!0,tokenize:Dw};function Pw(n,t,e){const i=this,r=i.events[i.events.length-1];let s=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,o=0;return l;function l(f){const p=i.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!i.containerState.marker||f===i.containerState.marker:po(f)){if(i.containerState.type||(i.containerState.type=p,n.enter(p,{_container:!0})),p==="listUnordered")return n.enter("listItemPrefix"),f===42||f===45?n.check(Hi,e,u)(f):u(f);if(!i.interrupt||f===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),a(f)}return e(f)}function a(f){return po(f)&&++o<10?(n.consume(f),a):(!i.interrupt||o<2)&&(i.containerState.marker?f===i.containerState.marker:f===41||f===46)?(n.exit("listItemValue"),u(f)):e(f)}function u(f){return n.enter("listItemMarker"),n.consume(f),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||f,n.check(Ci,i.interrupt?e:h,n.attempt(Mw,d,c))}function h(f){return i.containerState.initialBlankLine=!0,s++,d(f)}function c(f){return gt(f)?(n.enter("listItemPrefixWhitespace"),n.consume(f),n.exit("listItemPrefixWhitespace"),d):e(f)}function d(f){return i.containerState.size=s+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,t(f)}}function Iw(n,t,e){const i=this;return i.containerState._closeFlow=void 0,n.check(Ci,r,s);function r(l){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,bt(n,t,"listItemIndent",i.containerState.size+1)(l)}function s(l){return i.containerState.furtherBlankLines||!gt(l)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,o(l)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(Aw,t,o)(l))}function o(l){return i.containerState._closeFlow=!0,i.interrupt=void 0,bt(n,n.attempt(Kt,t,e),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function Dw(n,t,e){const i=this;return bt(n,r,"listItemIndent",i.containerState.size+1);function r(s){const o=i.events[i.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===i.containerState.size?t(s):e(s)}}function Lw(n){n.exit(this.containerState.type)}function Ow(n,t,e){const i=this;return bt(n,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(s){const o=i.events[i.events.length-1];return!gt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):e(s)}}const iu={name:"setextUnderline",resolveTo:zw,tokenize:Fw};function zw(n,t){let e=n.length,i,r,s;for(;e--;)if(n[e][0]==="enter"){if(n[e][1].type==="content"){i=e;break}n[e][1].type==="paragraph"&&(r=e)}else n[e][1].type==="content"&&n.splice(e,1),!s&&n[e][1].type==="definition"&&(s=e);const o={type:"setextHeading",start:{...n[i][1].start},end:{...n[n.length-1][1].end}};return n[r][1].type="setextHeadingText",s?(n.splice(r,0,["enter",o,t]),n.splice(s+1,0,["exit",n[i][1],t]),n[i][1].end={...n[s][1].end}):n[i][1]=o,n.push(["exit",o,t]),n}function Fw(n,t,e){const i=this;let r;return s;function s(u){let h=i.events.length,c;for(;h--;)if(i.events[h][1].type!=="lineEnding"&&i.events[h][1].type!=="linePrefix"&&i.events[h][1].type!=="content"){c=i.events[h][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||c)?(n.enter("setextHeadingLine"),r=u,o(u)):e(u)}function o(u){return n.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===r?(n.consume(u),l):(n.exit("setextHeadingLineSequence"),gt(u)?bt(n,a,"lineSuffix")(u):a(u))}function a(u){return u===null||st(u)?(n.exit("setextHeadingLine"),t(u)):e(u)}}const jw={tokenize:Vw};function Vw(n){const t=this,e=n.attempt(Ci,i,n.attempt(this.parser.constructs.flowInitial,r,bt(n,n.attempt(this.parser.constructs.flow,r,n.attempt(Yx,r)),"linePrefix")));return e;function i(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),t.currentConstruct=void 0,e}function r(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),t.currentConstruct=void 0,e}}const Bw={resolveAll:fd()},$w=dd("string"),Ww=dd("text");function dd(n){return{resolveAll:fd(n==="text"?Uw:void 0),tokenize:t};function t(e){const i=this,r=this.parser.constructs[n],s=e.attempt(r,o,l);return o;function o(h){return u(h)?s(h):l(h)}function l(h){if(h===null){e.consume(h);return}return e.enter("data"),e.consume(h),a}function a(h){return u(h)?(e.exit("data"),s(h)):(e.consume(h),a)}function u(h){if(h===null)return!0;const c=r[h];let d=-1;if(c)for(;++d<c.length;){const f=c[d];if(!f.previous||f.previous.call(i,i.previous))return!0}return!1}}}function fd(n){return t;function t(e,i){let r=-1,s;for(;++r<=e.length;)s===void 0?e[r]&&e[r][1].type==="data"&&(s=r,r++):(!e[r]||e[r][1].type!=="data")&&(r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),r=s+2),s=void 0);return n?n(e,i):e}}function Uw(n,t){let e=0;for(;++e<=n.length;)if((e===n.length||n[e][1].type==="lineEnding")&&n[e-1][1].type==="data"){const i=n[e-1][1],r=t.sliceStream(i);let s=r.length,o=-1,l=0,a;for(;s--;){const u=r[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(u===-2)a=!0,l++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&e===n.length&&(l=0),l){const u={type:e===n.length||a||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:i.start._bufferIndex+o,_index:i.start._index+s,line:i.end.line,column:i.end.column-l,offset:i.end.offset-l},end:{...i.end}};i.end={...u.start},i.start.offset===i.end.offset?Object.assign(i,u):(n.splice(e,0,["enter",u,t],["exit",u,t]),e+=2)}e++}return n}const Yw={42:Kt,43:Kt,45:Kt,48:Kt,49:Kt,50:Kt,51:Kt,52:Kt,53:Kt,54:Kt,55:Kt,56:Kt,57:Kt,62:sd},Hw={91:qx},Zw={[-2]:Cs,[-1]:Cs,32:Cs},Xw={35:nw,42:Hi,45:[iu,Hi],60:ow,61:iu,95:Hi,96:eu,126:eu},Qw={38:ld,92:od},qw={[-5]:Es,[-4]:Es,[-3]:Es,33:Sw,38:ld,42:mo,60:[Ex,fw],91:Ew,92:[tw,od],93:el,95:mo,96:jx},Gw={null:[mo,Bw]},Kw={null:[42,95]},Jw={null:[]},t0=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Kw,contentInitial:Hw,disable:Jw,document:Yw,flow:Xw,flowInitial:Zw,insideSpan:Gw,string:Qw,text:qw},Symbol.toStringTag,{value:"Module"}));function e0(n,t,e){let i={_bufferIndex:-1,_index:0,line:e&&e.line||1,column:e&&e.column||1,offset:e&&e.offset||0};const r={},s=[];let o=[],l=[];const a={attempt:R(T),check:R(S),consume:w,enter:C,exit:M,interrupt:R(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:n,previous:null,sliceSerialize:d,sliceStream:f,write:c};let h=t.tokenize.call(u,a);return t.resolveAll&&s.push(t),u;function c(z){return o=de(o,z),v(),o[o.length-1]!==null?[]:(O(t,0),u.events=Hr(s,u.events,u),u.events)}function d(z,I){return i0(f(z),I)}function f(z){return n0(o,z)}function p(){const{_bufferIndex:z,_index:I,line:X,column:N,offset:V}=i;return{_bufferIndex:z,_index:I,line:X,column:N,offset:V}}function g(z){r[z.line]=z.column,E()}function v(){let z;for(;i._index<o.length;){const I=o[i._index];if(typeof I=="string")for(z=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===z&&i._bufferIndex<I.length;)b(I.charCodeAt(i._bufferIndex));else b(I)}}function b(z){h=h(z)}function w(z){st(z)?(i.line++,i.column=1,i.offset+=z===-3?2:1,E()):z!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===o[i._index].length&&(i._bufferIndex=-1,i._index++)),u.previous=z}function C(z,I){const X=I||{};return X.type=z,X.start=p(),u.events.push(["enter",X,u]),l.push(X),X}function M(z){const I=l.pop();return I.end=p(),u.events.push(["exit",I,u]),I}function T(z,I){O(z,I.from)}function S(z,I){I.restore()}function R(z,I){return X;function X(N,V,Y){let q,J,rt,x;return Array.isArray(N)?Rt(N):"tokenize"in N?Rt([N]):dt(N);function dt(Tt){return me;function me(Zt){const ce=Zt!==null&&Tt[Zt],ge=Zt!==null&&Tt.null,xe=[...Array.isArray(ce)?ce:ce?[ce]:[],...Array.isArray(ge)?ge:ge?[ge]:[]];return Rt(xe)(Zt)}}function Rt(Tt){return q=Tt,J=0,Tt.length===0?Y:k(Tt[J])}function k(Tt){return me;function me(Zt){return x=j(),rt=Tt,Tt.partial||(u.currentConstruct=Tt),Tt.name&&u.parser.constructs.disable.null.includes(Tt.name)?ue():Tt.tokenize.call(I?Object.assign(Object.create(u),I):u,a,Lt,ue)(Zt)}}function Lt(Tt){return z(rt,x),V}function ue(Tt){return x.restore(),++J<q.length?k(q[J]):Y}}}function O(z,I){z.resolveAll&&!s.includes(z)&&s.push(z),z.resolve&&le(u.events,I,u.events.length-I,z.resolve(u.events.slice(I),u)),z.resolveTo&&(u.events=z.resolveTo(u.events,u))}function j(){const z=p(),I=u.previous,X=u.currentConstruct,N=u.events.length,V=Array.from(l);return{from:N,restore:Y};function Y(){i=z,u.previous=I,u.currentConstruct=X,u.events.length=N,l=V,E()}}function E(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function n0(n,t){const e=t.start._index,i=t.start._bufferIndex,r=t.end._index,s=t.end._bufferIndex;let o;if(e===r)o=[n[e].slice(i,s)];else{if(o=n.slice(e,r),i>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(i):o.shift()}s>0&&o.push(n[r].slice(0,s))}return o}function i0(n,t){let e=-1;const i=[];let r;for(;++e<n.length;){const s=n[e];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&r)continue;o=" ";break}default:o=String.fromCharCode(s)}r=s===-2,i.push(o)}return i.join("")}function r0(n){const i={constructs:id([t0,...(n||{}).extensions||[]]),content:r(bx),defined:[],document:r(wx),flow:r(jw),lazy:{},string:r($w),text:r(Ww)};return i;function r(s){return o;function o(l){return e0(i,s,l)}}}function s0(n){for(;!ad(n););return n}const ru=/[\0\t\n\r]/g;function o0(){let n=1,t="",e=!0,i;return r;function r(s,o,l){const a=[];let u,h,c,d,f;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),c=0,t="",e&&(s.charCodeAt(0)===65279&&c++,e=void 0);c<s.length;){if(ru.lastIndex=c,u=ru.exec(s),d=u&&u.index!==void 0?u.index:s.length,f=s.charCodeAt(d),!u){t=s.slice(c);break}if(f===10&&c===d&&i)a.push(-3),i=void 0;else switch(i&&(a.push(-5),i=void 0),c<d&&(a.push(s.slice(c,d)),n+=d-c),f){case 0:{a.push(65533),n++;break}case 9:{for(h=Math.ceil(n/4)*4,a.push(-2);n++<h;)a.push(-1);break}case 10:{a.push(-4),n=1;break}default:i=!0,n=1}c=d+1}return l&&(i&&a.push(-5),t&&a.push(t),a.push(null)),a}}const l0=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function a0(n){return n.replace(l0,u0)}function u0(n,t,e){if(t)return t;if(e.charCodeAt(0)===35){const r=e.charCodeAt(1),s=r===120||r===88;return rd(e.slice(s?2:1),s?16:10)}return tl(e)||n}const pd={}.hasOwnProperty;function c0(n,t,e){return typeof t!="string"&&(e=t,t=void 0),h0(e)(s0(r0(e).document().write(o0()(n,t,!0))))}function h0(n){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(A),autolinkProtocol:j,autolinkEmail:j,atxHeading:s(fn),blockQuote:s(ge),characterEscape:j,characterReference:j,codeFenced:s(xe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(xe,o),codeText:s(dn,o),codeTextData:j,data:j,codeFlowValue:j,definition:s(qe),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Ge),hardBreakEscape:s(pn),hardBreakTrailing:s(pn),htmlFlow:s(mn,o),htmlFlowData:j,htmlText:s(mn,o),htmlTextData:j,image:s(_),label:o,link:s(A),listItem:s(Q),listItemValue:d,listOrdered:s(L,c),listUnordered:s(L),paragraph:s(H),reference:k,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(fn),strong:s(U),thematicBreak:s(vt)},exit:{atxHeading:a(),atxHeadingSequence:T,autolink:a(),autolinkEmail:ce,autolinkProtocol:Zt,blockQuote:a(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:ue,characterReferenceMarkerNumeric:ue,characterReferenceValue:Tt,characterReference:me,codeFenced:a(v),codeFencedFence:g,codeFencedFenceInfo:f,codeFencedFenceMeta:p,codeFlowValue:E,codeIndented:a(b),codeText:a(V),codeTextData:E,data:E,definition:a(),definitionDestinationString:M,definitionLabelString:w,definitionTitleString:C,emphasis:a(),hardBreakEscape:a(I),hardBreakTrailing:a(I),htmlFlow:a(X),htmlFlowData:E,htmlText:a(N),htmlTextData:E,image:a(q),label:rt,labelText:J,lineEnding:z,link:a(Y),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:Lt,resourceDestinationString:x,resourceTitleString:dt,resource:Rt,setextHeading:a(O),setextHeadingLineSequence:R,setextHeadingText:S,strong:a(),thematicBreak:a()}};md(t,(n||{}).mdastExtensions||[]);const e={};return i;function i(P){let F={type:"root",children:[]};const D={stack:[F],tokenStack:[],config:t,enter:l,exit:u,buffer:o,resume:h,data:e},at=[];let wt=-1;for(;++wt<P.length;)if(P[wt][1].type==="listOrdered"||P[wt][1].type==="listUnordered")if(P[wt][0]==="enter")at.push(wt);else{const it=at.pop();wt=r(P,it,wt)}for(wt=-1;++wt<P.length;){const it=t[P[wt][0]];pd.call(it,P[wt][1].type)&&it[P[wt][1].type].call(Object.assign({sliceSerialize:P[wt][2].sliceSerialize},D),P[wt][1])}if(D.tokenStack.length>0){const it=D.tokenStack[D.tokenStack.length-1];(it[1]||su).call(D,void 0,it[0])}for(F.position={start:Ue(P.length>0?P[0][1].start:{line:1,column:1,offset:0}),end:Ue(P.length>0?P[P.length-2][1].end:{line:1,column:1,offset:0})},wt=-1;++wt<t.transforms.length;)F=t.transforms[wt](F)||F;return F}function r(P,F,D){let at=F-1,wt=-1,it=!1,ot,et,Mt,mt;for(;++at<=D;){const At=P[at];switch(At[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{At[0]==="enter"?wt++:wt--,mt=void 0;break}case"lineEndingBlank":{At[0]==="enter"&&(ot&&!mt&&!wt&&!Mt&&(Mt=at),mt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:mt=void 0}if(!wt&&At[0]==="enter"&&At[1].type==="listItemPrefix"||wt===-1&&At[0]==="exit"&&(At[1].type==="listUnordered"||At[1].type==="listOrdered")){if(ot){let Ve=at;for(et=void 0;Ve--;){const ye=P[Ve];if(ye[1].type==="lineEnding"||ye[1].type==="lineEndingBlank"){if(ye[0]==="exit")continue;et&&(P[et][1].type="lineEndingBlank",it=!0),ye[1].type="lineEnding",et=Ve}else if(!(ye[1].type==="linePrefix"||ye[1].type==="blockQuotePrefix"||ye[1].type==="blockQuotePrefixWhitespace"||ye[1].type==="blockQuoteMarker"||ye[1].type==="listItemIndent"))break}Mt&&(!et||Mt<et)&&(ot._spread=!0),ot.end=Object.assign({},et?P[et][1].start:At[1].end),P.splice(et||at,0,["exit",ot,At[2]]),at++,D++}if(At[1].type==="listItemPrefix"){const Ve={type:"listItem",_spread:!1,start:Object.assign({},At[1].start),end:void 0};ot=Ve,P.splice(at,0,["enter",Ve,At[2]]),at++,D++,Mt=void 0,mt=!0}}}return P[F][1]._spread=it,D}function s(P,F){return D;function D(at){l.call(this,P(at),at),F&&F.call(this,at)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(P,F,D){this.stack[this.stack.length-1].children.push(P),this.stack.push(P),this.tokenStack.push([F,D||void 0]),P.position={start:Ue(F.start),end:void 0}}function a(P){return F;function F(D){P&&P.call(this,D),u.call(this,D)}}function u(P,F){const D=this.stack.pop(),at=this.tokenStack.pop();if(at)at[0].type!==P.type&&(F?F.call(this,P,at[0]):(at[1]||su).call(this,P,at[0]));else throw new Error("Cannot close `"+P.type+"` ("+ci({start:P.start,end:P.end})+"): it’s not open");D.position.end=Ue(P.end)}function h(){return Jo(this.stack.pop())}function c(){this.data.expectingFirstListItemValue=!0}function d(P){if(this.data.expectingFirstListItemValue){const F=this.stack[this.stack.length-2];F.start=Number.parseInt(this.sliceSerialize(P),10),this.data.expectingFirstListItemValue=void 0}}function f(){const P=this.resume(),F=this.stack[this.stack.length-1];F.lang=P}function p(){const P=this.resume(),F=this.stack[this.stack.length-1];F.meta=P}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const P=this.resume(),F=this.stack[this.stack.length-1];F.value=P.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const P=this.resume(),F=this.stack[this.stack.length-1];F.value=P.replace(/(\r?\n|\r)$/g,"")}function w(P){const F=this.resume(),D=this.stack[this.stack.length-1];D.label=F,D.identifier=be(this.sliceSerialize(P)).toLowerCase()}function C(){const P=this.resume(),F=this.stack[this.stack.length-1];F.title=P}function M(){const P=this.resume(),F=this.stack[this.stack.length-1];F.url=P}function T(P){const F=this.stack[this.stack.length-1];if(!F.depth){const D=this.sliceSerialize(P).length;F.depth=D}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function R(P){const F=this.stack[this.stack.length-1];F.depth=this.sliceSerialize(P).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function j(P){const D=this.stack[this.stack.length-1].children;let at=D[D.length-1];(!at||at.type!=="text")&&(at=tt(),at.position={start:Ue(P.start),end:void 0},D.push(at)),this.stack.push(at)}function E(P){const F=this.stack.pop();F.value+=this.sliceSerialize(P),F.position.end=Ue(P.end)}function z(P){const F=this.stack[this.stack.length-1];if(this.data.atHardBreak){const D=F.children[F.children.length-1];D.position.end=Ue(P.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(F.type)&&(j.call(this,P),E.call(this,P))}function I(){this.data.atHardBreak=!0}function X(){const P=this.resume(),F=this.stack[this.stack.length-1];F.value=P}function N(){const P=this.resume(),F=this.stack[this.stack.length-1];F.value=P}function V(){const P=this.resume(),F=this.stack[this.stack.length-1];F.value=P}function Y(){const P=this.stack[this.stack.length-1];if(this.data.inReference){const F=this.data.referenceType||"shortcut";P.type+="Reference",P.referenceType=F,delete P.url,delete P.title}else delete P.identifier,delete P.label;this.data.referenceType=void 0}function q(){const P=this.stack[this.stack.length-1];if(this.data.inReference){const F=this.data.referenceType||"shortcut";P.type+="Reference",P.referenceType=F,delete P.url,delete P.title}else delete P.identifier,delete P.label;this.data.referenceType=void 0}function J(P){const F=this.sliceSerialize(P),D=this.stack[this.stack.length-2];D.label=a0(F),D.identifier=be(F).toLowerCase()}function rt(){const P=this.stack[this.stack.length-1],F=this.resume(),D=this.stack[this.stack.length-1];if(this.data.inReference=!0,D.type==="link"){const at=P.children;D.children=at}else D.alt=F}function x(){const P=this.resume(),F=this.stack[this.stack.length-1];F.url=P}function dt(){const P=this.resume(),F=this.stack[this.stack.length-1];F.title=P}function Rt(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function Lt(P){const F=this.resume(),D=this.stack[this.stack.length-1];D.label=F,D.identifier=be(this.sliceSerialize(P)).toLowerCase(),this.data.referenceType="full"}function ue(P){this.data.characterReferenceType=P.type}function Tt(P){const F=this.sliceSerialize(P),D=this.data.characterReferenceType;let at;D?(at=rd(F,D==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):at=tl(F);const wt=this.stack[this.stack.length-1];wt.value+=at}function me(P){const F=this.stack.pop();F.position.end=Ue(P.end)}function Zt(P){E.call(this,P);const F=this.stack[this.stack.length-1];F.url=this.sliceSerialize(P)}function ce(P){E.call(this,P);const F=this.stack[this.stack.length-1];F.url="mailto:"+this.sliceSerialize(P)}function ge(){return{type:"blockquote",children:[]}}function xe(){return{type:"code",lang:null,meta:null,value:""}}function dn(){return{type:"inlineCode",value:""}}function qe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ge(){return{type:"emphasis",children:[]}}function fn(){return{type:"heading",depth:0,children:[]}}function pn(){return{type:"break"}}function mn(){return{type:"html",value:""}}function _(){return{type:"image",title:null,url:"",alt:null}}function A(){return{type:"link",title:null,url:"",children:[]}}function L(P){return{type:"list",ordered:P.type==="listOrdered",start:null,spread:P._spread,children:[]}}function Q(P){return{type:"listItem",spread:P._spread,checked:null,children:[]}}function H(){return{type:"paragraph",children:[]}}function U(){return{type:"strong",children:[]}}function tt(){return{type:"text",value:""}}function vt(){return{type:"thematicBreak"}}}function Ue(n){return{line:n.line,column:n.column,offset:n.offset}}function md(n,t){let e=-1;for(;++e<t.length;){const i=t[e];Array.isArray(i)?md(n,i):d0(n,i)}}function d0(n,t){let e;for(e in t)if(pd.call(t,e))switch(e){case"canContainEols":{const i=t[e];i&&n[e].push(...i);break}case"transforms":{const i=t[e];i&&n[e].push(...i);break}case"enter":case"exit":{const i=t[e];i&&Object.assign(n[e],i);break}}}function su(n,t){throw n?new Error("Cannot close `"+n.type+"` ("+ci({start:n.start,end:n.end})+"): a different token (`"+t.type+"`, "+ci({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ci({start:t.start,end:t.end})+") is still open")}function f0(n){const t=this;t.parser=e;function e(i){return c0(i,{...t.data("settings"),...n,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function p0(n,t){const e={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(t),!0)};return n.patch(t,e),n.applyData(t,e)}function m0(n,t){const e={type:"element",tagName:"br",properties:{},children:[]};return n.patch(t,e),[n.applyData(t,e),{type:"text",value:`
`}]}function g0(n,t){const e=t.value?t.value+`
`:"",i={};t.lang&&(i.className=["language-"+t.lang]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:e}]};return t.meta&&(r.data={meta:t.meta}),n.patch(t,r),r=n.applyData(t,r),r={type:"element",tagName:"pre",properties:{},children:[r]},n.patch(t,r),r}function y0(n,t){const e={type:"element",tagName:"del",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function v0(n,t){const e={type:"element",tagName:"em",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function b0(n,t){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),r=Wn(i.toLowerCase()),s=n.footnoteOrder.indexOf(i);let o,l=n.footnoteCounts.get(i);l===void 0?(l=0,n.footnoteOrder.push(i),o=n.footnoteOrder.length):o=s+1,l+=1,n.footnoteCounts.set(i,l);const a={type:"element",tagName:"a",properties:{href:"#"+e+"fn-"+r,id:e+"fnref-"+r+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};n.patch(t,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return n.patch(t,u),n.applyData(t,u)}function x0(n,t){const e={type:"element",tagName:"h"+t.depth,properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function w0(n,t){if(n.options.allowDangerousHtml){const e={type:"raw",value:t.value};return n.patch(t,e),n.applyData(t,e)}}function gd(n,t){const e=t.referenceType;let i="]";if(e==="collapsed"?i+="[]":e==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const r=n.all(t),s=r[0];s&&s.type==="text"?s.value="["+s.value:r.unshift({type:"text",value:"["});const o=r[r.length-1];return o&&o.type==="text"?o.value+=i:r.push({type:"text",value:i}),r}function k0(n,t){const e=String(t.identifier).toUpperCase(),i=n.definitionById.get(e);if(!i)return gd(n,t);const r={src:Wn(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"img",properties:r,children:[]};return n.patch(t,s),n.applyData(t,s)}function _0(n,t){const e={src:Wn(t.url)};t.alt!==null&&t.alt!==void 0&&(e.alt=t.alt),t.title!==null&&t.title!==void 0&&(e.title=t.title);const i={type:"element",tagName:"img",properties:e,children:[]};return n.patch(t,i),n.applyData(t,i)}function S0(n,t){const e={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};n.patch(t,e);const i={type:"element",tagName:"code",properties:{},children:[e]};return n.patch(t,i),n.applyData(t,i)}function C0(n,t){const e=String(t.identifier).toUpperCase(),i=n.definitionById.get(e);if(!i)return gd(n,t);const r={href:Wn(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"a",properties:r,children:n.all(t)};return n.patch(t,s),n.applyData(t,s)}function E0(n,t){const e={href:Wn(t.url)};t.title!==null&&t.title!==void 0&&(e.title=t.title);const i={type:"element",tagName:"a",properties:e,children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function T0(n,t,e){const i=n.all(t),r=e?N0(e):yd(t),s={},o=[];if(typeof t.checked=="boolean"){const h=i[0];let c;h&&h.type==="element"&&h.tagName==="p"?c=h:(c={type:"element",tagName:"p",properties:{},children:[]},i.unshift(c)),c.children.length>0&&c.children.unshift({type:"text",value:" "}),c.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<i.length;){const h=i[l];(r||l!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!r?o.push(...h.children):o.push(h)}const a=i[i.length-1];a&&(r||a.type!=="element"||a.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return n.patch(t,u),n.applyData(t,u)}function N0(n){let t=!1;if(n.type==="list"){t=n.spread||!1;const e=n.children;let i=-1;for(;!t&&++i<e.length;)t=yd(e[i])}return t}function yd(n){const t=n.spread;return t??n.children.length>1}function R0(n,t){const e={},i=n.all(t);let r=-1;for(typeof t.start=="number"&&t.start!==1&&(e.start=t.start);++r<i.length;){const o=i[r];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){e.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:e,children:n.wrap(i,!0)};return n.patch(t,s),n.applyData(t,s)}function M0(n,t){const e={type:"element",tagName:"p",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function A0(n,t){const e={type:"root",children:n.wrap(n.all(t))};return n.patch(t,e),n.applyData(t,e)}function P0(n,t){const e={type:"element",tagName:"strong",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function I0(n,t){const e=n.all(t),i=e.shift(),r=[];if(i){const o={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(t.children[0],o),r.push(o)}if(e.length>0){const o={type:"element",tagName:"tbody",properties:{},children:n.wrap(e,!0)},l=Qo(t.children[1]),a=qh(t.children[t.children.length-1]);l&&a&&(o.position={start:l,end:a}),r.push(o)}const s={type:"element",tagName:"table",properties:{},children:n.wrap(r,!0)};return n.patch(t,s),n.applyData(t,s)}function D0(n,t,e){const i=e?e.children:void 0,s=(i?i.indexOf(t):1)===0?"th":"td",o=e&&e.type==="table"?e.align:void 0,l=o?o.length:t.children.length;let a=-1;const u=[];for(;++a<l;){const c=t.children[a],d={},f=o?o[a]:void 0;f&&(d.align=f);let p={type:"element",tagName:s,properties:d,children:[]};c&&(p.children=n.all(c),n.patch(c,p),p=n.applyData(c,p)),u.push(p)}const h={type:"element",tagName:"tr",properties:{},children:n.wrap(u,!0)};return n.patch(t,h),n.applyData(t,h)}function L0(n,t){const e={type:"element",tagName:"td",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}const ou=9,lu=32;function O0(n){const t=String(n),e=/\r?\n|\r/g;let i=e.exec(t),r=0;const s=[];for(;i;)s.push(au(t.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=e.exec(t);return s.push(au(t.slice(r),r>0,!1)),s.join("")}function au(n,t,e){let i=0,r=n.length;if(t){let s=n.codePointAt(i);for(;s===ou||s===lu;)i++,s=n.codePointAt(i)}if(e){let s=n.codePointAt(r-1);for(;s===ou||s===lu;)r--,s=n.codePointAt(r-1)}return r>i?n.slice(i,r):""}function z0(n,t){const e={type:"text",value:O0(String(t.value))};return n.patch(t,e),n.applyData(t,e)}function F0(n,t){const e={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(t,e),n.applyData(t,e)}const j0={blockquote:p0,break:m0,code:g0,delete:y0,emphasis:v0,footnoteReference:b0,heading:x0,html:w0,imageReference:k0,image:_0,inlineCode:S0,linkReference:C0,link:E0,listItem:T0,list:R0,paragraph:M0,root:A0,strong:P0,table:I0,tableCell:L0,tableRow:D0,text:z0,thematicBreak:F0,toml:zi,yaml:zi,definition:zi,footnoteDefinition:zi};function zi(){}const vd=-1,Zr=0,di=1,Er=2,nl=3,il=4,rl=5,sl=6,bd=7,xd=8,uu=typeof self=="object"?self:globalThis,V0=(n,t)=>{const e=(r,s)=>(n.set(s,r),r),i=r=>{if(n.has(r))return n.get(r);const[s,o]=t[r];switch(s){case Zr:case vd:return e(o,r);case di:{const l=e([],r);for(const a of o)l.push(i(a));return l}case Er:{const l=e({},r);for(const[a,u]of o)l[i(a)]=i(u);return l}case nl:return e(new Date(o),r);case il:{const{source:l,flags:a}=o;return e(new RegExp(l,a),r)}case rl:{const l=e(new Map,r);for(const[a,u]of o)l.set(i(a),i(u));return l}case sl:{const l=e(new Set,r);for(const a of o)l.add(i(a));return l}case bd:{const{name:l,message:a}=o;return e(new uu[l](a),r)}case xd:return e(BigInt(o),r);case"BigInt":return e(Object(BigInt(o)),r);case"ArrayBuffer":return e(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return e(new DataView(l),o)}}return e(new uu[s](o),r)};return i},cu=n=>V0(new Map,n)(0),vn="",{toString:B0}={},{keys:$0}=Object,qn=n=>{const t=typeof n;if(t!=="object"||!n)return[Zr,t];const e=B0.call(n).slice(8,-1);switch(e){case"Array":return[di,vn];case"Object":return[Er,vn];case"Date":return[nl,vn];case"RegExp":return[il,vn];case"Map":return[rl,vn];case"Set":return[sl,vn];case"DataView":return[di,e]}return e.includes("Array")?[di,e]:e.includes("Error")?[bd,e]:[Er,e]},Fi=([n,t])=>n===Zr&&(t==="function"||t==="symbol"),W0=(n,t,e,i)=>{const r=(o,l)=>{const a=i.push(o)-1;return e.set(l,a),a},s=o=>{if(e.has(o))return e.get(o);let[l,a]=qn(o);switch(l){case Zr:{let h=o;switch(a){case"bigint":l=xd,h=o.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+a);h=null;break;case"undefined":return r([vd],o)}return r([l,h],o)}case di:{if(a){let d=o;return a==="DataView"?d=new Uint8Array(o.buffer):a==="ArrayBuffer"&&(d=new Uint8Array(o)),r([a,[...d]],o)}const h=[],c=r([l,h],o);for(const d of o)h.push(s(d));return c}case Er:{if(a)switch(a){case"BigInt":return r([a,o.toString()],o);case"Boolean":case"Number":case"String":return r([a,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const h=[],c=r([l,h],o);for(const d of $0(o))(n||!Fi(qn(o[d])))&&h.push([s(d),s(o[d])]);return c}case nl:return r([l,o.toISOString()],o);case il:{const{source:h,flags:c}=o;return r([l,{source:h,flags:c}],o)}case rl:{const h=[],c=r([l,h],o);for(const[d,f]of o)(n||!(Fi(qn(d))||Fi(qn(f))))&&h.push([s(d),s(f)]);return c}case sl:{const h=[],c=r([l,h],o);for(const d of o)(n||!Fi(qn(d)))&&h.push(s(d));return c}}const{message:u}=o;return r([l,{name:a,message:u}],o)};return s},hu=(n,{json:t,lossy:e}={})=>{const i=[];return W0(!(t||e),!!t,new Map,i)(n),i},Tr=typeof structuredClone=="function"?(n,t)=>t&&("json"in t||"lossy"in t)?cu(hu(n,t)):structuredClone(n):(n,t)=>cu(hu(n,t));function U0(n,t){const e=[{type:"text",value:"↩"}];return t>1&&e.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),e}function Y0(n,t){return"Back to reference "+(n+1)+(t>1?"-"+t:"")}function H0(n){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",e=n.options.footnoteBackContent||U0,i=n.options.footnoteBackLabel||Y0,r=n.options.footnoteLabel||"Footnotes",s=n.options.footnoteLabelTagName||"h2",o=n.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let a=-1;for(;++a<n.footnoteOrder.length;){const u=n.footnoteById.get(n.footnoteOrder[a]);if(!u)continue;const h=n.all(u),c=String(u.identifier).toUpperCase(),d=Wn(c.toLowerCase());let f=0;const p=[],g=n.footnoteCounts.get(c);for(;g!==void 0&&++f<=g;){p.length>0&&p.push({type:"text",value:" "});let w=typeof e=="string"?e:e(a,f);typeof w=="string"&&(w={type:"text",value:w}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+d+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(a,f),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const v=h[h.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const w=v.children[v.children.length-1];w&&w.type==="text"?w.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...p)}else h.push(...p);const b={type:"element",tagName:"li",properties:{id:t+"fn-"+d},children:n.wrap(h,!0)};n.patch(u,b),l.push(b)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Tr(o),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(l,!0)},{type:"text",value:`
`}]}}const Xr=function(n){if(n==null)return q0;if(typeof n=="function")return Qr(n);if(typeof n=="object")return Array.isArray(n)?Z0(n):X0(n);if(typeof n=="string")return Q0(n);throw new Error("Expected function, string, or object as test")};function Z0(n){const t=[];let e=-1;for(;++e<n.length;)t[e]=Xr(n[e]);return Qr(i);function i(...r){let s=-1;for(;++s<t.length;)if(t[s].apply(this,r))return!0;return!1}}function X0(n){const t=n;return Qr(e);function e(i){const r=i;let s;for(s in n)if(r[s]!==t[s])return!1;return!0}}function Q0(n){return Qr(t);function t(e){return e&&e.type===n}}function Qr(n){return t;function t(e,i,r){return!!(G0(e)&&n.call(this,e,typeof i=="number"?i:void 0,r||void 0))}}function q0(){return!0}function G0(n){return n!==null&&typeof n=="object"&&"type"in n}const wd=[],K0=!0,go=!1,J0="skip";function kd(n,t,e,i){let r;typeof t=="function"&&typeof e!="function"?(i=e,e=t):r=t;const s=Xr(r),o=i?-1:1;l(n,void 0,[])();function l(a,u,h){const c=a&&typeof a=="object"?a:{};if(typeof c.type=="string"){const f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(a.type+(f?"<"+f+">":""))+")"})}return d;function d(){let f=wd,p,g,v;if((!t||s(a,u,h[h.length-1]||void 0))&&(f=tk(e(a,h)),f[0]===go))return f;if("children"in a&&a.children){const b=a;if(b.children&&f[0]!==J0)for(g=(i?b.children.length:-1)+o,v=h.concat(b);g>-1&&g<b.children.length;){const w=b.children[g];if(p=l(w,g,v)(),p[0]===go)return p;g=typeof p[1]=="number"?p[1]:g+o}}return f}}}function tk(n){return Array.isArray(n)?n:typeof n=="number"?[K0,n]:n==null?wd:[n]}function ol(n,t,e,i){let r,s,o;typeof t=="function"&&typeof e!="function"?(s=void 0,o=t,r=e):(s=t,o=e,r=i),kd(n,s,l,r);function l(a,u){const h=u[u.length-1],c=h?h.children.indexOf(a):void 0;return o(a,c,h)}}const yo={}.hasOwnProperty,ek={};function nk(n,t){const e=t||ek,i=new Map,r=new Map,s=new Map,o={...j0,...e.handlers},l={all:u,applyData:rk,definitionById:i,footnoteById:r,footnoteCounts:s,footnoteOrder:[],handlers:o,one:a,options:e,patch:ik,wrap:ok};return ol(n,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const c=h.type==="definition"?i:r,d=String(h.identifier).toUpperCase();c.has(d)||c.set(d,h)}}),l;function a(h,c){const d=h.type,f=l.handlers[d];if(yo.call(l.handlers,d)&&f)return f(l,h,c);if(l.options.passThrough&&l.options.passThrough.includes(d)){if("children"in h){const{children:g,...v}=h,b=Tr(v);return b.children=l.all(h),b}return Tr(h)}return(l.options.unknownHandler||sk)(l,h,c)}function u(h){const c=[];if("children"in h){const d=h.children;let f=-1;for(;++f<d.length;){const p=l.one(d[f],h);if(p){if(f&&d[f-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=du(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=du(g.value))}Array.isArray(p)?c.push(...p):c.push(p)}}}return c}}function ik(n,t){n.position&&(t.position=Yb(n))}function rk(n,t){let e=t;if(n&&n.data){const i=n.data.hName,r=n.data.hChildren,s=n.data.hProperties;if(typeof i=="string")if(e.type==="element")e.tagName=i;else{const o="children"in e?e.children:[e];e={type:"element",tagName:i,properties:{},children:o}}e.type==="element"&&s&&Object.assign(e.properties,Tr(s)),"children"in e&&e.children&&r!==null&&r!==void 0&&(e.children=r)}return e}function sk(n,t){const e=t.data||{},i="value"in t&&!(yo.call(e,"hProperties")||yo.call(e,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function ok(n,t){const e=[];let i=-1;for(t&&e.push({type:"text",value:`
`});++i<n.length;)i&&e.push({type:"text",value:`
`}),e.push(n[i]);return t&&n.length>0&&e.push({type:"text",value:`
`}),e}function du(n){let t=0,e=n.charCodeAt(t);for(;e===9||e===32;)t++,e=n.charCodeAt(t);return n.slice(t)}function fu(n,t){const e=nk(n,t),i=e.one(n,void 0),r=H0(e),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&s.children.push({type:"text",value:`
`},r),s}function lk(n,t){return n&&"run"in n?async function(e,i){const r=fu(e,{file:i,...t});await n.run(r,i)}:function(e,i){return fu(e,{file:i,...n||t})}}function pu(n){if(n)throw n}var Zi=Object.prototype.hasOwnProperty,_d=Object.prototype.toString,mu=Object.defineProperty,gu=Object.getOwnPropertyDescriptor,yu=function(t){return typeof Array.isArray=="function"?Array.isArray(t):_d.call(t)==="[object Array]"},vu=function(t){if(!t||_d.call(t)!=="[object Object]")return!1;var e=Zi.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&Zi.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!i)return!1;var r;for(r in t);return typeof r>"u"||Zi.call(t,r)},bu=function(t,e){mu&&e.name==="__proto__"?mu(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},xu=function(t,e){if(e==="__proto__")if(Zi.call(t,e)){if(gu)return gu(t,e).value}else return;return t[e]},ak=function n(){var t,e,i,r,s,o,l=arguments[0],a=1,u=arguments.length,h=!1;for(typeof l=="boolean"&&(h=l,l=arguments[1]||{},a=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});a<u;++a)if(t=arguments[a],t!=null)for(e in t)i=xu(l,e),r=xu(t,e),l!==r&&(h&&r&&(vu(r)||(s=yu(r)))?(s?(s=!1,o=i&&yu(i)?i:[]):o=i&&vu(i)?i:{},bu(l,{name:e,newValue:n(h,o,r)})):typeof r<"u"&&bu(l,{name:e,newValue:r}));return l};const Ts=Wu(ak);function vo(n){if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function uk(){const n=[],t={run:e,use:i};return t;function e(...r){let s=-1;const o=r.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...r);function l(a,...u){const h=n[++s];let c=-1;if(a){o(a);return}for(;++c<r.length;)(u[c]===null||u[c]===void 0)&&(u[c]=r[c]);r=u,h?ck(h,l)(...u):o(null,...u)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return n.push(r),t}}function ck(n,t){let e;return i;function i(...o){const l=n.length>o.length;let a;l&&o.push(r);try{a=n.apply(this,o)}catch(u){const h=u;if(l&&e)throw h;return r(h)}l||(a&&a.then&&typeof a.then=="function"?a.then(s,r):a instanceof Error?r(a):s(a))}function r(o,...l){e||(e=!0,t(o,...l))}function s(o){r(null,o)}}const ke={basename:hk,dirname:dk,extname:fk,join:pk,sep:"/"};function hk(n,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ei(n);let e=0,i=-1,r=n.length,s;if(t===void 0||t.length===0||t.length>n.length){for(;r--;)if(n.codePointAt(r)===47){if(s){e=r+1;break}}else i<0&&(s=!0,i=r+1);return i<0?"":n.slice(e,i)}if(t===n)return"";let o=-1,l=t.length-1;for(;r--;)if(n.codePointAt(r)===47){if(s){e=r+1;break}}else o<0&&(s=!0,o=r+1),l>-1&&(n.codePointAt(r)===t.codePointAt(l--)?l<0&&(i=r):(l=-1,i=o));return e===i?i=o:i<0&&(i=n.length),n.slice(e,i)}function dk(n){if(Ei(n),n.length===0)return".";let t=-1,e=n.length,i;for(;--e;)if(n.codePointAt(e)===47){if(i){t=e;break}}else i||(i=!0);return t<0?n.codePointAt(0)===47?"/":".":t===1&&n.codePointAt(0)===47?"//":n.slice(0,t)}function fk(n){Ei(n);let t=n.length,e=-1,i=0,r=-1,s=0,o;for(;t--;){const l=n.codePointAt(t);if(l===47){if(o){i=t+1;break}continue}e<0&&(o=!0,e=t+1),l===46?r<0?r=t:s!==1&&(s=1):r>-1&&(s=-1)}return r<0||e<0||s===0||s===1&&r===e-1&&r===i+1?"":n.slice(r,e)}function pk(...n){let t=-1,e;for(;++t<n.length;)Ei(n[t]),n[t]&&(e=e===void 0?n[t]:e+"/"+n[t]);return e===void 0?".":mk(e)}function mk(n){Ei(n);const t=n.codePointAt(0)===47;let e=gk(n,!t);return e.length===0&&!t&&(e="."),e.length>0&&n.codePointAt(n.length-1)===47&&(e+="/"),t?"/"+e:e}function gk(n,t){let e="",i=0,r=-1,s=0,o=-1,l,a;for(;++o<=n.length;){if(o<n.length)l=n.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(r===o-1||s===1))if(r!==o-1&&s===2){if(e.length<2||i!==2||e.codePointAt(e.length-1)!==46||e.codePointAt(e.length-2)!==46){if(e.length>2){if(a=e.lastIndexOf("/"),a!==e.length-1){a<0?(e="",i=0):(e=e.slice(0,a),i=e.length-1-e.lastIndexOf("/")),r=o,s=0;continue}}else if(e.length>0){e="",i=0,r=o,s=0;continue}}t&&(e=e.length>0?e+"/..":"..",i=2)}else e.length>0?e+="/"+n.slice(r+1,o):e=n.slice(r+1,o),i=o-r-1;r=o,s=0}else l===46&&s>-1?s++:s=-1}return e}function Ei(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const yk={cwd:vk};function vk(){return"/"}function bo(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function bk(n){if(typeof n=="string")n=new URL(n);else if(!bo(n)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(n.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return xk(n)}function xk(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=n.pathname;let e=-1;for(;++e<t.length;)if(t.codePointAt(e)===37&&t.codePointAt(e+1)===50){const i=t.codePointAt(e+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(t)}const Ns=["history","path","basename","stem","extname","dirname"];class Sd{constructor(t){let e;t?bo(t)?e={path:t}:typeof t=="string"||wk(t)?e={value:t}:e=t:e={},this.cwd="cwd"in e?"":yk.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Ns.length;){const s=Ns[i];s in e&&e[s]!==void 0&&e[s]!==null&&(this[s]=s==="history"?[...e[s]]:e[s])}let r;for(r in e)Ns.includes(r)||(this[r]=e[r])}get basename(){return typeof this.path=="string"?ke.basename(this.path):void 0}set basename(t){Ms(t,"basename"),Rs(t,"basename"),this.path=ke.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ke.dirname(this.path):void 0}set dirname(t){wu(this.basename,"dirname"),this.path=ke.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ke.extname(this.path):void 0}set extname(t){if(Rs(t,"extname"),wu(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ke.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){bo(t)&&(t=bk(t)),Ms(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ke.basename(this.path,this.extname):void 0}set stem(t){Ms(t,"stem"),Rs(t,"stem"),this.path=ke.join(this.dirname||"",t+(this.extname||""))}fail(t,e,i){const r=this.message(t,e,i);throw r.fatal=!0,r}info(t,e,i){const r=this.message(t,e,i);return r.fatal=void 0,r}message(t,e,i){const r=new Ht(t,e,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Rs(n,t){if(n&&n.includes(ke.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ke.sep+"`")}function Ms(n,t){if(!n)throw new Error("`"+t+"` cannot be empty")}function wu(n,t){if(!n)throw new Error("Setting `"+t+"` requires `path` to be set too")}function wk(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const kk=function(n){const i=this.constructor.prototype,r=i[n],s=function(){return r.apply(s,arguments)};return Object.setPrototypeOf(s,i),s},_k={}.hasOwnProperty;class ll extends kk{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=uk()}copy(){const t=new ll;let e=-1;for(;++e<this.attachers.length;){const i=this.attachers[e];t.use(...i)}return t.data(Ts(!0,{},this.namespace)),t}data(t,e){return typeof t=="string"?arguments.length===2?(Is("data",this.frozen),this.namespace[t]=e,this):_k.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Is("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[e,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=e.call(t,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const e=ji(t),i=this.parser||this.Parser;return As("parse",i),i(String(e),e)}process(t,e){const i=this;return this.freeze(),As("process",this.parser||this.Parser),Ps("process",this.compiler||this.Compiler),e?r(void 0,e):new Promise(r);function r(s,o){const l=ji(t),a=i.parse(l);i.run(a,l,function(h,c,d){if(h||!c||!d)return u(h);const f=c,p=i.stringify(f,d);Ek(p)?d.value=p:d.result=p,u(h,d)});function u(h,c){h||!c?o(h):s?s(c):e(void 0,c)}}}processSync(t){let e=!1,i;return this.freeze(),As("processSync",this.parser||this.Parser),Ps("processSync",this.compiler||this.Compiler),this.process(t,r),_u("processSync","process",e),i;function r(s,o){e=!0,pu(s),i=o}}run(t,e,i){ku(t),this.freeze();const r=this.transformers;return!i&&typeof e=="function"&&(i=e,e=void 0),i?s(void 0,i):new Promise(s);function s(o,l){const a=ji(e);r.run(t,a,u);function u(h,c,d){const f=c||t;h?l(h):o?o(f):i(void 0,f,d)}}}runSync(t,e){let i=!1,r;return this.run(t,e,s),_u("runSync","run",i),r;function s(o,l){pu(o),r=l,i=!0}}stringify(t,e){this.freeze();const i=ji(e),r=this.compiler||this.Compiler;return Ps("stringify",r),ku(t),r(t,i)}use(t,...e){const i=this.attachers,r=this.namespace;if(Is("use",this.frozen),t!=null)if(typeof t=="function")a(t,e);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[h,...c]=u;a(h,c)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(r.settings=Ts(!0,r.settings,u.settings))}function l(u){let h=-1;if(u!=null)if(Array.isArray(u))for(;++h<u.length;){const c=u[h];s(c)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,h){let c=-1,d=-1;for(;++c<i.length;)if(i[c][0]===u){d=c;break}if(d===-1)i.push([u,...h]);else if(h.length>0){let[f,...p]=h;const g=i[d][1];vo(g)&&vo(f)&&(f=Ts(!0,g,f)),i[d]=[u,f,...p]}}}}const Sk=new ll().freeze();function As(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function Ps(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function Is(n,t){if(t)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ku(n){if(!vo(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function _u(n,t,e){if(!e)throw new Error("`"+n+"` finished async. Use `"+t+"` instead")}function ji(n){return Ck(n)?n:new Sd(n)}function Ck(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function Ek(n){return typeof n=="string"||Tk(n)}function Tk(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const Nk="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Su=[],Cu={allowDangerousHtml:!0},Rk=/^(https?|ircs?|mailto|xmpp)$/i,Mk=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Eu(n){const t=Ak(n),e=Pk(n);return Ik(t.runSync(t.parse(e),e),n)}function Ak(n){const t=n.rehypePlugins||Su,e=n.remarkPlugins||Su,i=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...Cu}:Cu;return Sk().use(f0).use(e).use(lk,i).use(t)}function Pk(n){const t=n.children||"",e=new Sd;return typeof t=="string"&&(e.value=t),e}function Ik(n,t){const e=t.allowedElements,i=t.allowElement,r=t.components,s=t.disallowedElements,o=t.skipHtml,l=t.unwrapDisallowed,a=t.urlTransform||Dk;for(const h of Mk)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+Nk+h.id,void 0);return ol(n,u),qb(n,{Fragment:m.Fragment,components:r,ignoreInvalidStyle:!0,jsx:m.jsx,jsxs:m.jsxs,passKeys:!0,passNode:!0});function u(h,c,d){if(h.type==="raw"&&d&&typeof c=="number")return o?d.children.splice(c,1):d.children[c]={type:"text",value:h.value},c;if(h.type==="element"){let f;for(f in Ss)if(Object.hasOwn(Ss,f)&&Object.hasOwn(h.properties,f)){const p=h.properties[f],g=Ss[f];(g===null||g.includes(h.tagName))&&(h.properties[f]=a(String(p||""),f,h))}}if(h.type==="element"){let f=e?!e.includes(h.tagName):s?s.includes(h.tagName):!1;if(!f&&i&&typeof c=="number"&&(f=!i(h,c,d)),f&&d&&typeof c=="number")return l&&h.children?d.children.splice(c,1,...h.children):d.children.splice(c,1),c}}}function Dk(n){const t=n.indexOf(":"),e=n.indexOf("?"),i=n.indexOf("#"),r=n.indexOf("/");return t===-1||r!==-1&&t>r||e!==-1&&t>e||i!==-1&&t>i||Rk.test(n.slice(0,t))?n:""}function Tu(n,t){const e=String(n);if(typeof t!="string")throw new TypeError("Expected character");let i=0,r=e.indexOf(t);for(;r!==-1;)i++,r=e.indexOf(t,r+t.length);return i}function Lk(n){if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Cd(n,t,e){const r=Xr((e||{}).ignore||[]),s=Ok(t);let o=-1;for(;++o<s.length;)kd(n,"text",l);function l(u,h){let c=-1,d;for(;++c<h.length;){const f=h[c],p=d?d.children:void 0;if(r(f,p?p.indexOf(f):void 0,d))return;d=f}if(d)return a(u,h)}function a(u,h){const c=h[h.length-1],d=s[o][0],f=s[o][1];let p=0;const v=c.children.indexOf(u);let b=!1,w=[];d.lastIndex=0;let C=d.exec(u.value);for(;C;){const M=C.index,T={index:C.index,input:C.input,stack:[...h,u]};let S=f(...C,T);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?d.lastIndex=M+1:(p!==M&&w.push({type:"text",value:u.value.slice(p,M)}),Array.isArray(S)?w.push(...S):S&&w.push(S),p=M+C[0].length,b=!0),!d.global)break;C=d.exec(u.value)}return b?(p<u.value.length&&w.push({type:"text",value:u.value.slice(p)}),c.children.splice(v,1,...w)):w=[u],v+w.length}}function Ok(n){const t=[];if(!Array.isArray(n))throw new TypeError("Expected find and replace tuple or list of tuples");const e=!n[0]||Array.isArray(n[0])?n:[n];let i=-1;for(;++i<e.length;){const r=e[i];t.push([zk(r[0]),Fk(r[1])])}return t}function zk(n){return typeof n=="string"?new RegExp(Lk(n),"g"):n}function Fk(n){return typeof n=="function"?n:function(){return n}}const Ds="phrasing",Ls=["autolink","link","image","label"];function jk(){return{transforms:[Hk],enter:{literalAutolink:Bk,literalAutolinkEmail:Os,literalAutolinkHttp:Os,literalAutolinkWww:Os},exit:{literalAutolink:Yk,literalAutolinkEmail:Uk,literalAutolinkHttp:$k,literalAutolinkWww:Wk}}}function Vk(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Ds,notInConstruct:Ls},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Ds,notInConstruct:Ls},{character:":",before:"[ps]",after:"\\/",inConstruct:Ds,notInConstruct:Ls}]}}function Bk(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function Os(n){this.config.enter.autolinkProtocol.call(this,n)}function $k(n){this.config.exit.autolinkProtocol.call(this,n)}function Wk(n){this.config.exit.data.call(this,n);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(n)}function Uk(n){this.config.exit.autolinkEmail.call(this,n)}function Yk(n){this.exit(n)}function Hk(n){Cd(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Zk],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Xk]],{ignore:["link","linkReference"]})}function Zk(n,t,e,i,r){let s="";if(!Ed(r)||(/^w/i.test(t)&&(e=t+e,t="",s="http://"),!Qk(e)))return!1;const o=qk(e+i);if(!o[0])return!1;const l={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[l,{type:"text",value:o[1]}]:l}function Xk(n,t,e,i){return!Ed(i,!0)||/[-\d_]$/.test(e)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+e,children:[{type:"text",value:t+"@"+e}]}}function Qk(n){const t=n.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function qk(n){const t=/[!"&'),.:;<>?\]}]+$/.exec(n);if(!t)return[n,void 0];n=n.slice(0,t.index);let e=t[0],i=e.indexOf(")");const r=Tu(n,"(");let s=Tu(n,")");for(;i!==-1&&r>s;)n+=e.slice(0,i+1),e=e.slice(i+1),i=e.indexOf(")"),s++;return[n,e]}function Ed(n,t){const e=n.input.charCodeAt(n.index-1);return(n.index===0||cn(e)||Yr(e))&&(!t||e!==47)}Td.peek=s_;function Gk(){this.buffer()}function Kk(n){this.enter({type:"footnoteReference",identifier:"",label:""},n)}function Jk(){this.buffer()}function t_(n){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},n)}function e_(n){const t=this.resume(),e=this.stack[this.stack.length-1];e.type,e.identifier=be(this.sliceSerialize(n)).toLowerCase(),e.label=t}function n_(n){this.exit(n)}function i_(n){const t=this.resume(),e=this.stack[this.stack.length-1];e.type,e.identifier=be(this.sliceSerialize(n)).toLowerCase(),e.label=t}function r_(n){this.exit(n)}function s_(){return"["}function Td(n,t,e,i){const r=e.createTracker(i);let s=r.move("[^");const o=e.enter("footnoteReference"),l=e.enter("reference");return s+=r.move(e.safe(e.associationId(n),{after:"]",before:s})),l(),o(),s+=r.move("]"),s}function o_(){return{enter:{gfmFootnoteCallString:Gk,gfmFootnoteCall:Kk,gfmFootnoteDefinitionLabelString:Jk,gfmFootnoteDefinition:t_},exit:{gfmFootnoteCallString:e_,gfmFootnoteCall:n_,gfmFootnoteDefinitionLabelString:i_,gfmFootnoteDefinition:r_}}}function l_(n){let t=!1;return n&&n.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:e,footnoteReference:Td},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function e(i,r,s,o){const l=s.createTracker(o);let a=l.move("[^");const u=s.enter("footnoteDefinition"),h=s.enter("label");return a+=l.move(s.safe(s.associationId(i),{before:a,after:"]"})),h(),a+=l.move("]:"),i.children&&i.children.length>0&&(l.shift(4),a+=l.move((t?`
`:" ")+s.indentLines(s.containerFlow(i,l.current()),t?Nd:a_))),u(),a}}function a_(n,t,e){return t===0?n:Nd(n,t,e)}function Nd(n,t,e){return(e?"":"    ")+n}const u_=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Rd.peek=p_;function c_(){return{canContainEols:["delete"],enter:{strikethrough:d_},exit:{strikethrough:f_}}}function h_(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:u_}],handlers:{delete:Rd}}}function d_(n){this.enter({type:"delete",children:[]},n)}function f_(n){this.exit(n)}function Rd(n,t,e,i){const r=e.createTracker(i),s=e.enter("strikethrough");let o=r.move("~~");return o+=e.containerPhrasing(n,{...r.current(),before:o,after:"~"}),o+=r.move("~~"),s(),o}function p_(){return"~"}function m_(n){return n.length}function g_(n,t){const e=t||{},i=(e.align||[]).concat(),r=e.stringLength||m_,s=[],o=[],l=[],a=[];let u=0,h=-1;for(;++h<n.length;){const g=[],v=[];let b=-1;for(n[h].length>u&&(u=n[h].length);++b<n[h].length;){const w=y_(n[h][b]);if(e.alignDelimiters!==!1){const C=r(w);v[b]=C,(a[b]===void 0||C>a[b])&&(a[b]=C)}g.push(w)}o[h]=g,l[h]=v}let c=-1;if(typeof i=="object"&&"length"in i)for(;++c<u;)s[c]=Nu(i[c]);else{const g=Nu(i);for(;++c<u;)s[c]=g}c=-1;const d=[],f=[];for(;++c<u;){const g=s[c];let v="",b="";g===99?(v=":",b=":"):g===108?v=":":g===114&&(b=":");let w=e.alignDelimiters===!1?1:Math.max(1,a[c]-v.length-b.length);const C=v+"-".repeat(w)+b;e.alignDelimiters!==!1&&(w=v.length+w+b.length,w>a[c]&&(a[c]=w),f[c]=w),d[c]=C}o.splice(1,0,d),l.splice(1,0,f),h=-1;const p=[];for(;++h<o.length;){const g=o[h],v=l[h];c=-1;const b=[];for(;++c<u;){const w=g[c]||"";let C="",M="";if(e.alignDelimiters!==!1){const T=a[c]-(v[c]||0),S=s[c];S===114?C=" ".repeat(T):S===99?T%2?(C=" ".repeat(T/2+.5),M=" ".repeat(T/2-.5)):(C=" ".repeat(T/2),M=C):M=" ".repeat(T)}e.delimiterStart!==!1&&!c&&b.push("|"),e.padding!==!1&&!(e.alignDelimiters===!1&&w==="")&&(e.delimiterStart!==!1||c)&&b.push(" "),e.alignDelimiters!==!1&&b.push(C),b.push(w),e.alignDelimiters!==!1&&b.push(M),e.padding!==!1&&b.push(" "),(e.delimiterEnd!==!1||c!==u-1)&&b.push("|")}p.push(e.delimiterEnd===!1?b.join("").replace(/ +$/,""):b.join(""))}return p.join(`
`)}function y_(n){return n==null?"":String(n)}function Nu(n){const t=typeof n=="string"?n.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function v_(n,t,e,i){const r=e.enter("blockquote"),s=e.createTracker(i);s.move("> "),s.shift(2);const o=e.indentLines(e.containerFlow(n,s.current()),b_);return r(),o}function b_(n,t,e){return">"+(e?"":" ")+n}function x_(n,t){return Ru(n,t.inConstruct,!0)&&!Ru(n,t.notInConstruct,!1)}function Ru(n,t,e){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return e;let i=-1;for(;++i<t.length;)if(n.includes(t[i]))return!0;return!1}function Mu(n,t,e,i){let r=-1;for(;++r<e.unsafe.length;)if(e.unsafe[r].character===`
`&&x_(e.stack,e.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function w_(n,t){const e=String(n);let i=e.indexOf(t),r=i,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===r?++s>o&&(o=s):s=1,r=i+t.length,i=e.indexOf(t,r);return o}function k_(n,t){return!!(t.options.fences===!1&&n.value&&!n.lang&&/[^ \r\n]/.test(n.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(n.value))}function __(n){const t=n.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function S_(n,t,e,i){const r=__(e),s=n.value||"",o=r==="`"?"GraveAccent":"Tilde";if(k_(n,e)){const c=e.enter("codeIndented"),d=e.indentLines(s,C_);return c(),d}const l=e.createTracker(i),a=r.repeat(Math.max(w_(s,r)+1,3)),u=e.enter("codeFenced");let h=l.move(a);if(n.lang){const c=e.enter(`codeFencedLang${o}`);h+=l.move(e.safe(n.lang,{before:h,after:" ",encode:["`"],...l.current()})),c()}if(n.lang&&n.meta){const c=e.enter(`codeFencedMeta${o}`);h+=l.move(" "),h+=l.move(e.safe(n.meta,{before:h,after:`
`,encode:["`"],...l.current()})),c()}return h+=l.move(`
`),s&&(h+=l.move(s+`
`)),h+=l.move(a),u(),h}function C_(n,t,e){return(e?"":"    ")+n}function al(n){const t=n.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function E_(n,t,e,i){const r=al(e),s=r==='"'?"Quote":"Apostrophe",o=e.enter("definition");let l=e.enter("label");const a=e.createTracker(i);let u=a.move("[");return u+=a.move(e.safe(e.associationId(n),{before:u,after:"]",...a.current()})),u+=a.move("]: "),l(),!n.url||/[\0- \u007F]/.test(n.url)?(l=e.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(e.safe(n.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=e.enter("destinationRaw"),u+=a.move(e.safe(n.url,{before:u,after:n.title?" ":`
`,...a.current()}))),l(),n.title&&(l=e.enter(`title${s}`),u+=a.move(" "+r),u+=a.move(e.safe(n.title,{before:u,after:r,...a.current()})),u+=a.move(r),l()),o(),u}function T_(n){const t=n.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function bi(n){return"&#x"+n.toString(16).toUpperCase()+";"}function Nr(n,t,e){const i=zn(n),r=zn(t);return i===void 0?r===void 0?e==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Md.peek=N_;function Md(n,t,e,i){const r=T_(e),s=e.enter("emphasis"),o=e.createTracker(i),l=o.move(r);let a=o.move(e.containerPhrasing(n,{after:r,before:l,...o.current()}));const u=a.charCodeAt(0),h=Nr(i.before.charCodeAt(i.before.length-1),u,r);h.inside&&(a=bi(u)+a.slice(1));const c=a.charCodeAt(a.length-1),d=Nr(i.after.charCodeAt(0),c,r);d.inside&&(a=a.slice(0,-1)+bi(c));const f=o.move(r);return s(),e.attentionEncodeSurroundingInfo={after:d.outside,before:h.outside},l+a+f}function N_(n,t,e){return e.options.emphasis||"*"}function R_(n,t){let e=!1;return ol(n,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return e=!0,go}),!!((!n.depth||n.depth<3)&&Jo(n)&&(t.options.setext||e))}function M_(n,t,e,i){const r=Math.max(Math.min(6,n.depth||1),1),s=e.createTracker(i);if(R_(n,e)){const h=e.enter("headingSetext"),c=e.enter("phrasing"),d=e.containerPhrasing(n,{...s.current(),before:`
`,after:`
`});return c(),h(),d+`
`+(r===1?"=":"-").repeat(d.length-(Math.max(d.lastIndexOf("\r"),d.lastIndexOf(`
`))+1))}const o="#".repeat(r),l=e.enter("headingAtx"),a=e.enter("phrasing");s.move(o+" ");let u=e.containerPhrasing(n,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=bi(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,e.options.closeAtx&&(u+=" "+o),a(),l(),u}Ad.peek=A_;function Ad(n){return n.value||""}function A_(){return"<"}Pd.peek=P_;function Pd(n,t,e,i){const r=al(e),s=r==='"'?"Quote":"Apostrophe",o=e.enter("image");let l=e.enter("label");const a=e.createTracker(i);let u=a.move("![");return u+=a.move(e.safe(n.alt,{before:u,after:"]",...a.current()})),u+=a.move("]("),l(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(l=e.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(e.safe(n.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=e.enter("destinationRaw"),u+=a.move(e.safe(n.url,{before:u,after:n.title?" ":")",...a.current()}))),l(),n.title&&(l=e.enter(`title${s}`),u+=a.move(" "+r),u+=a.move(e.safe(n.title,{before:u,after:r,...a.current()})),u+=a.move(r),l()),u+=a.move(")"),o(),u}function P_(){return"!"}Id.peek=I_;function Id(n,t,e,i){const r=n.referenceType,s=e.enter("imageReference");let o=e.enter("label");const l=e.createTracker(i);let a=l.move("![");const u=e.safe(n.alt,{before:a,after:"]",...l.current()});a+=l.move(u+"]["),o();const h=e.stack;e.stack=[],o=e.enter("reference");const c=e.safe(e.associationId(n),{before:a,after:"]",...l.current()});return o(),e.stack=h,s(),r==="full"||!u||u!==c?a+=l.move(c+"]"):r==="shortcut"?a=a.slice(0,-1):a+=l.move("]"),a}function I_(){return"!"}Dd.peek=D_;function Dd(n,t,e){let i=n.value||"",r="`",s=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++s<e.unsafe.length;){const o=e.unsafe[s],l=e.compilePattern(o);let a;if(o.atBreak)for(;a=l.exec(i);){let u=a.index;i.charCodeAt(u)===10&&i.charCodeAt(u-1)===13&&u--,i=i.slice(0,u)+" "+i.slice(a.index+1)}}return r+i+r}function D_(){return"`"}function Ld(n,t){const e=Jo(n);return!!(!t.options.resourceLink&&n.url&&!n.title&&n.children&&n.children.length===1&&n.children[0].type==="text"&&(e===n.url||"mailto:"+e===n.url)&&/^[a-z][a-z+.-]+:/i.test(n.url)&&!/[\0- <>\u007F]/.test(n.url))}Od.peek=L_;function Od(n,t,e,i){const r=al(e),s=r==='"'?"Quote":"Apostrophe",o=e.createTracker(i);let l,a;if(Ld(n,e)){const h=e.stack;e.stack=[],l=e.enter("autolink");let c=o.move("<");return c+=o.move(e.containerPhrasing(n,{before:c,after:">",...o.current()})),c+=o.move(">"),l(),e.stack=h,c}l=e.enter("link"),a=e.enter("label");let u=o.move("[");return u+=o.move(e.containerPhrasing(n,{before:u,after:"](",...o.current()})),u+=o.move("]("),a(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(a=e.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(e.safe(n.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(a=e.enter("destinationRaw"),u+=o.move(e.safe(n.url,{before:u,after:n.title?" ":")",...o.current()}))),a(),n.title&&(a=e.enter(`title${s}`),u+=o.move(" "+r),u+=o.move(e.safe(n.title,{before:u,after:r,...o.current()})),u+=o.move(r),a()),u+=o.move(")"),l(),u}function L_(n,t,e){return Ld(n,e)?"<":"["}zd.peek=O_;function zd(n,t,e,i){const r=n.referenceType,s=e.enter("linkReference");let o=e.enter("label");const l=e.createTracker(i);let a=l.move("[");const u=e.containerPhrasing(n,{before:a,after:"]",...l.current()});a+=l.move(u+"]["),o();const h=e.stack;e.stack=[],o=e.enter("reference");const c=e.safe(e.associationId(n),{before:a,after:"]",...l.current()});return o(),e.stack=h,s(),r==="full"||!u||u!==c?a+=l.move(c+"]"):r==="shortcut"?a=a.slice(0,-1):a+=l.move("]"),a}function O_(){return"["}function ul(n){const t=n.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function z_(n){const t=ul(n),e=n.options.bulletOther;if(!e)return t==="*"?"-":"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(e===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+e+"`) to be different");return e}function F_(n){const t=n.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Fd(n){const t=n.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function j_(n,t,e,i){const r=e.enter("list"),s=e.bulletCurrent;let o=n.ordered?F_(e):ul(e);const l=n.ordered?o==="."?")":".":z_(e);let a=t&&e.bulletLastUsed?o===e.bulletLastUsed:!1;if(!n.ordered){const h=n.children?n.children[0]:void 0;if((o==="*"||o==="-")&&h&&(!h.children||!h.children[0])&&e.stack[e.stack.length-1]==="list"&&e.stack[e.stack.length-2]==="listItem"&&e.stack[e.stack.length-3]==="list"&&e.stack[e.stack.length-4]==="listItem"&&e.indexStack[e.indexStack.length-1]===0&&e.indexStack[e.indexStack.length-2]===0&&e.indexStack[e.indexStack.length-3]===0&&(a=!0),Fd(e)===o&&h){let c=-1;for(;++c<n.children.length;){const d=n.children[c];if(d&&d.type==="listItem"&&d.children&&d.children[0]&&d.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(o=l),e.bulletCurrent=o;const u=e.containerFlow(n,i);return e.bulletLastUsed=o,e.bulletCurrent=s,r(),u}function V_(n){const t=n.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function B_(n,t,e,i){const r=V_(e);let s=e.bulletCurrent||ul(e);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(e.options.incrementListMarker===!1?0:t.children.indexOf(n))+s);let o=s.length+1;(r==="tab"||r==="mixed"&&(t&&t.type==="list"&&t.spread||n.spread))&&(o=Math.ceil(o/4)*4);const l=e.createTracker(i);l.move(s+" ".repeat(o-s.length)),l.shift(o);const a=e.enter("listItem"),u=e.indentLines(e.containerFlow(n,l.current()),h);return a(),u;function h(c,d,f){return d?(f?"":" ".repeat(o))+c:(f?s:s+" ".repeat(o-s.length))+c}}function $_(n,t,e,i){const r=e.enter("paragraph"),s=e.enter("phrasing"),o=e.containerPhrasing(n,i);return s(),r(),o}const W_=Xr(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function U_(n,t,e,i){return(n.children.some(function(o){return W_(o)})?e.containerPhrasing:e.containerFlow).call(e,n,i)}function Y_(n){const t=n.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}jd.peek=H_;function jd(n,t,e,i){const r=Y_(e),s=e.enter("strong"),o=e.createTracker(i),l=o.move(r+r);let a=o.move(e.containerPhrasing(n,{after:r,before:l,...o.current()}));const u=a.charCodeAt(0),h=Nr(i.before.charCodeAt(i.before.length-1),u,r);h.inside&&(a=bi(u)+a.slice(1));const c=a.charCodeAt(a.length-1),d=Nr(i.after.charCodeAt(0),c,r);d.inside&&(a=a.slice(0,-1)+bi(c));const f=o.move(r+r);return s(),e.attentionEncodeSurroundingInfo={after:d.outside,before:h.outside},l+a+f}function H_(n,t,e){return e.options.strong||"*"}function Z_(n,t,e,i){return e.safe(n.value,i)}function X_(n){const t=n.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Q_(n,t,e){const i=(Fd(e)+(e.options.ruleSpaces?" ":"")).repeat(X_(e));return e.options.ruleSpaces?i.slice(0,-1):i}const Vd={blockquote:v_,break:Mu,code:S_,definition:E_,emphasis:Md,hardBreak:Mu,heading:M_,html:Ad,image:Pd,imageReference:Id,inlineCode:Dd,link:Od,linkReference:zd,list:j_,listItem:B_,paragraph:$_,root:U_,strong:jd,text:Z_,thematicBreak:Q_};function q_(){return{enter:{table:G_,tableData:Au,tableHeader:Au,tableRow:J_},exit:{codeText:t1,table:K_,tableData:zs,tableHeader:zs,tableRow:zs}}}function G_(n){const t=n._align;this.enter({type:"table",align:t.map(function(e){return e==="none"?null:e}),children:[]},n),this.data.inTable=!0}function K_(n){this.exit(n),this.data.inTable=void 0}function J_(n){this.enter({type:"tableRow",children:[]},n)}function zs(n){this.exit(n)}function Au(n){this.enter({type:"tableCell",children:[]},n)}function t1(n){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,e1));const e=this.stack[this.stack.length-1];e.type,e.value=t,this.exit(n)}function e1(n,t){return t==="|"?t:n}function n1(n){const t=n||{},e=t.tableCellPadding,i=t.tablePipeAlign,r=t.stringLength,s=e?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:d,table:o,tableCell:a,tableRow:l}};function o(f,p,g,v){return u(h(f,g,v),f.align)}function l(f,p,g,v){const b=c(f,g,v),w=u([b]);return w.slice(0,w.indexOf(`
`))}function a(f,p,g,v){const b=g.enter("tableCell"),w=g.enter("phrasing"),C=g.containerPhrasing(f,{...v,before:s,after:s});return w(),b(),C}function u(f,p){return g_(f,{align:p,alignDelimiters:i,padding:e,stringLength:r})}function h(f,p,g){const v=f.children;let b=-1;const w=[],C=p.enter("table");for(;++b<v.length;)w[b]=c(v[b],p,g);return C(),w}function c(f,p,g){const v=f.children;let b=-1;const w=[],C=p.enter("tableRow");for(;++b<v.length;)w[b]=a(v[b],f,p,g);return C(),w}function d(f,p,g){let v=Vd.inlineCode(f,p,g);return g.stack.includes("tableCell")&&(v=v.replace(/\|/g,"\\$&")),v}}function i1(){return{exit:{taskListCheckValueChecked:Pu,taskListCheckValueUnchecked:Pu,paragraph:s1}}}function r1(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:o1}}}function Pu(n){const t=this.stack[this.stack.length-2];t.type,t.checked=n.type==="taskListCheckValueChecked"}function s1(n){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const e=this.stack[this.stack.length-1];e.type;const i=e.children[0];if(i&&i.type==="text"){const r=t.children;let s=-1,o;for(;++s<r.length;){const l=r[s];if(l.type==="paragraph"){o=l;break}}o===e&&(i.value=i.value.slice(1),i.value.length===0?e.children.shift():e.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,e.position.start=Object.assign({},i.position.start)))}}this.exit(n)}function o1(n,t,e,i){const r=n.children[0],s=typeof n.checked=="boolean"&&r&&r.type==="paragraph",o="["+(n.checked?"x":" ")+"] ",l=e.createTracker(i);s&&l.move(o);let a=Vd.listItem(n,t,e,{...i,...l.current()});return s&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),a;function u(h){return h+o}}function l1(){return[jk(),o_(),c_(),q_(),i1()]}function a1(n){return{extensions:[Vk(),l_(n),h_(),n1(n),r1()]}}const u1={tokenize:m1,partial:!0},Bd={tokenize:g1,partial:!0},$d={tokenize:y1,partial:!0},Wd={tokenize:v1,partial:!0},c1={tokenize:b1,partial:!0},Ud={name:"wwwAutolink",tokenize:f1,previous:Hd},Yd={name:"protocolAutolink",tokenize:p1,previous:Zd},je={name:"emailAutolink",tokenize:d1,previous:Xd},Te={};function h1(){return{text:Te}}let tn=48;for(;tn<123;)Te[tn]=je,tn++,tn===58?tn=65:tn===91&&(tn=97);Te[43]=je;Te[45]=je;Te[46]=je;Te[95]=je;Te[72]=[je,Yd];Te[104]=[je,Yd];Te[87]=[je,Ud];Te[119]=[je,Ud];function d1(n,t,e){const i=this;let r,s;return o;function o(c){return!xo(c)||!Xd.call(i,i.previous)||cl(i.events)?e(c):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),l(c))}function l(c){return xo(c)?(n.consume(c),l):c===64?(n.consume(c),a):e(c)}function a(c){return c===46?n.check(c1,h,u)(c):c===45||c===95||Ut(c)?(s=!0,n.consume(c),a):h(c)}function u(c){return n.consume(c),r=!0,a}function h(c){return s&&r&&Qt(i.previous)?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),t(c)):e(c)}}function f1(n,t,e){const i=this;return r;function r(o){return o!==87&&o!==119||!Hd.call(i,i.previous)||cl(i.events)?e(o):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(u1,n.attempt(Bd,n.attempt($d,s),e),e)(o))}function s(o){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),t(o)}}function p1(n,t,e){const i=this;let r="",s=!1;return o;function o(c){return(c===72||c===104)&&Zd.call(i,i.previous)&&!cl(i.events)?(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),r+=String.fromCodePoint(c),n.consume(c),l):e(c)}function l(c){if(Qt(c)&&r.length<5)return r+=String.fromCodePoint(c),n.consume(c),l;if(c===58){const d=r.toLowerCase();if(d==="http"||d==="https")return n.consume(c),a}return e(c)}function a(c){return c===47?(n.consume(c),s?u:(s=!0,a)):e(c)}function u(c){return c===null||Cr(c)||St(c)||cn(c)||Yr(c)?e(c):n.attempt(Bd,n.attempt($d,h),e)(c)}function h(c){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),t(c)}}function m1(n,t,e){let i=0;return r;function r(o){return(o===87||o===119)&&i<3?(i++,n.consume(o),r):o===46&&i===3?(n.consume(o),s):e(o)}function s(o){return o===null?e(o):t(o)}}function g1(n,t,e){let i,r,s;return o;function o(u){return u===46||u===95?n.check(Wd,a,l)(u):u===null||St(u)||cn(u)||u!==45&&Yr(u)?a(u):(s=!0,n.consume(u),o)}function l(u){return u===95?i=!0:(r=i,i=void 0),n.consume(u),o}function a(u){return r||i||!s?e(u):t(u)}}function y1(n,t){let e=0,i=0;return r;function r(o){return o===40?(e++,n.consume(o),r):o===41&&i<e?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?n.check(Wd,t,s)(o):o===null||St(o)||cn(o)?t(o):(n.consume(o),r)}function s(o){return o===41&&i++,n.consume(o),r}}function v1(n,t,e){return i;function i(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(n.consume(l),i):l===38?(n.consume(l),s):l===93?(n.consume(l),r):l===60||l===null||St(l)||cn(l)?t(l):e(l)}function r(l){return l===null||l===40||l===91||St(l)||cn(l)?t(l):i(l)}function s(l){return Qt(l)?o(l):e(l)}function o(l){return l===59?(n.consume(l),i):Qt(l)?(n.consume(l),o):e(l)}}function b1(n,t,e){return i;function i(s){return n.consume(s),r}function r(s){return Ut(s)?e(s):t(s)}}function Hd(n){return n===null||n===40||n===42||n===95||n===91||n===93||n===126||St(n)}function Zd(n){return!Qt(n)}function Xd(n){return!(n===47||xo(n))}function xo(n){return n===43||n===45||n===46||n===95||Ut(n)}function cl(n){let t=n.length,e=!1;for(;t--;){const i=n[t][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){e=!0;break}if(i._gfmAutolinkLiteralWalkedInto){e=!1;break}}return n.length>0&&!e&&(n[n.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),e}const x1={tokenize:N1,partial:!0};function w1(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:C1,continuation:{tokenize:E1},exit:T1}},text:{91:{name:"gfmFootnoteCall",tokenize:S1},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:k1,resolveTo:_1}}}}function k1(n,t,e){const i=this;let r=i.events.length;const s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o;for(;r--;){const a=i.events[r][1];if(a.type==="labelImage"){o=a;break}if(a.type==="gfmFootnoteCall"||a.type==="labelLink"||a.type==="label"||a.type==="image"||a.type==="link")break}return l;function l(a){if(!o||!o._balanced)return e(a);const u=be(i.sliceSerialize({start:o.end,end:i.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?e(a):(n.enter("gfmFootnoteCallLabelMarker"),n.consume(a),n.exit("gfmFootnoteCallLabelMarker"),t(a))}}function _1(n,t){let e=n.length;for(;e--;)if(n[e][1].type==="labelImage"&&n[e][0]==="enter"){n[e][1];break}n[e+1][1].type="data",n[e+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},n[e+3][1].start),end:Object.assign({},n[n.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},n[e+3][1].end),end:Object.assign({},n[e+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},n[n.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},l=[n[e+1],n[e+2],["enter",i,t],n[e+3],n[e+4],["enter",r,t],["exit",r,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],n[n.length-2],n[n.length-1],["exit",i,t]];return n.splice(e,n.length-e+1,...l),n}function S1(n,t,e){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s=0,o;return l;function l(c){return n.enter("gfmFootnoteCall"),n.enter("gfmFootnoteCallLabelMarker"),n.consume(c),n.exit("gfmFootnoteCallLabelMarker"),a}function a(c){return c!==94?e(c):(n.enter("gfmFootnoteCallMarker"),n.consume(c),n.exit("gfmFootnoteCallMarker"),n.enter("gfmFootnoteCallString"),n.enter("chunkString").contentType="string",u)}function u(c){if(s>999||c===93&&!o||c===null||c===91||St(c))return e(c);if(c===93){n.exit("chunkString");const d=n.exit("gfmFootnoteCallString");return r.includes(be(i.sliceSerialize(d)))?(n.enter("gfmFootnoteCallLabelMarker"),n.consume(c),n.exit("gfmFootnoteCallLabelMarker"),n.exit("gfmFootnoteCall"),t):e(c)}return St(c)||(o=!0),s++,n.consume(c),c===92?h:u}function h(c){return c===91||c===92||c===93?(n.consume(c),s++,u):u(c)}}function C1(n,t,e){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s,o=0,l;return a;function a(p){return n.enter("gfmFootnoteDefinition")._container=!0,n.enter("gfmFootnoteDefinitionLabel"),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(p),n.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(n.enter("gfmFootnoteDefinitionMarker"),n.consume(p),n.exit("gfmFootnoteDefinitionMarker"),n.enter("gfmFootnoteDefinitionLabelString"),n.enter("chunkString").contentType="string",h):e(p)}function h(p){if(o>999||p===93&&!l||p===null||p===91||St(p))return e(p);if(p===93){n.exit("chunkString");const g=n.exit("gfmFootnoteDefinitionLabelString");return s=be(i.sliceSerialize(g)),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(p),n.exit("gfmFootnoteDefinitionLabelMarker"),n.exit("gfmFootnoteDefinitionLabel"),d}return St(p)||(l=!0),o++,n.consume(p),p===92?c:h}function c(p){return p===91||p===92||p===93?(n.consume(p),o++,h):h(p)}function d(p){return p===58?(n.enter("definitionMarker"),n.consume(p),n.exit("definitionMarker"),r.includes(s)||r.push(s),bt(n,f,"gfmFootnoteDefinitionWhitespace")):e(p)}function f(p){return t(p)}}function E1(n,t,e){return n.check(Ci,t,n.attempt(x1,t,e))}function T1(n){n.exit("gfmFootnoteDefinition")}function N1(n,t,e){const i=this;return bt(n,r,"gfmFootnoteDefinitionIndent",5);function r(s){const o=i.events[i.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):e(s)}}function R1(n){let e=(n||{}).singleTilde;const i={name:"strikethrough",tokenize:s,resolveAll:r};return e==null&&(e=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function r(o,l){let a=-1;for(;++a<o.length;)if(o[a][0]==="enter"&&o[a][1].type==="strikethroughSequenceTemporary"&&o[a][1]._close){let u=a;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[a][1].end.offset-o[a][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[a][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[a][1].end)},c={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[a][1].start)},d=[["enter",h,l],["enter",o[u][1],l],["exit",o[u][1],l],["enter",c,l]],f=l.parser.constructs.insideSpan.null;f&&le(d,d.length,0,Hr(f,o.slice(u+1,a),l)),le(d,d.length,0,[["exit",c,l],["enter",o[a][1],l],["exit",o[a][1],l],["exit",h,l]]),le(o,u-1,a-u+3,d),a=u+d.length-2;break}}for(a=-1;++a<o.length;)o[a][1].type==="strikethroughSequenceTemporary"&&(o[a][1].type="data");return o}function s(o,l,a){const u=this.previous,h=this.events;let c=0;return d;function d(p){return u===126&&h[h.length-1][1].type!=="characterEscape"?a(p):(o.enter("strikethroughSequenceTemporary"),f(p))}function f(p){const g=zn(u);if(p===126)return c>1?a(p):(o.consume(p),c++,f);if(c<2&&!e)return a(p);const v=o.exit("strikethroughSequenceTemporary"),b=zn(p);return v._open=!b||b===2&&!!g,v._close=!g||g===2&&!!b,l(p)}}}class M1{constructor(){this.map=[]}add(t,e,i){A1(this,t,e,i)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let e=this.map.length;const i=[];for(;e>0;)e-=1,i.push(t.slice(this.map[e][0]+this.map[e][1]),this.map[e][2]),t.length=this.map[e][0];i.push(t.slice()),t.length=0;let r=i.pop();for(;r;){for(const s of r)t.push(s);r=i.pop()}this.map.length=0}}function A1(n,t,e,i){let r=0;if(!(e===0&&i.length===0)){for(;r<n.map.length;){if(n.map[r][0]===t){n.map[r][1]+=e,n.map[r][2].push(...i);return}r+=1}n.map.push([t,e,i])}}function P1(n,t){let e=!1;const i=[];for(;t<n.length;){const r=n[t];if(e){if(r[0]==="enter")r[1].type==="tableContent"&&i.push(n[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(n[t-1][1].type==="tableDelimiterMarker"){const s=i.length-1;i[s]=i[s]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(e=!0);t+=1}return i}function I1(){return{flow:{null:{name:"table",tokenize:D1,resolveAll:L1}}}}function D1(n,t,e){const i=this;let r=0,s=0,o;return l;function l(E){let z=i.events.length-1;for(;z>-1;){const N=i.events[z][1].type;if(N==="lineEnding"||N==="linePrefix")z--;else break}const I=z>-1?i.events[z][1].type:null,X=I==="tableHead"||I==="tableRow"?S:a;return X===S&&i.parser.lazy[i.now().line]?e(E):X(E)}function a(E){return n.enter("tableHead"),n.enter("tableRow"),u(E)}function u(E){return E===124||(o=!0,s+=1),h(E)}function h(E){return E===null?e(E):st(E)?s>1?(s=0,i.interrupt=!0,n.exit("tableRow"),n.enter("lineEnding"),n.consume(E),n.exit("lineEnding"),f):e(E):gt(E)?bt(n,h,"whitespace")(E):(s+=1,o&&(o=!1,r+=1),E===124?(n.enter("tableCellDivider"),n.consume(E),n.exit("tableCellDivider"),o=!0,h):(n.enter("data"),c(E)))}function c(E){return E===null||E===124||St(E)?(n.exit("data"),h(E)):(n.consume(E),E===92?d:c)}function d(E){return E===92||E===124?(n.consume(E),c):c(E)}function f(E){return i.interrupt=!1,i.parser.lazy[i.now().line]?e(E):(n.enter("tableDelimiterRow"),o=!1,gt(E)?bt(n,p,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):p(E))}function p(E){return E===45||E===58?v(E):E===124?(o=!0,n.enter("tableCellDivider"),n.consume(E),n.exit("tableCellDivider"),g):T(E)}function g(E){return gt(E)?bt(n,v,"whitespace")(E):v(E)}function v(E){return E===58?(s+=1,o=!0,n.enter("tableDelimiterMarker"),n.consume(E),n.exit("tableDelimiterMarker"),b):E===45?(s+=1,b(E)):E===null||st(E)?M(E):T(E)}function b(E){return E===45?(n.enter("tableDelimiterFiller"),w(E)):T(E)}function w(E){return E===45?(n.consume(E),w):E===58?(o=!0,n.exit("tableDelimiterFiller"),n.enter("tableDelimiterMarker"),n.consume(E),n.exit("tableDelimiterMarker"),C):(n.exit("tableDelimiterFiller"),C(E))}function C(E){return gt(E)?bt(n,M,"whitespace")(E):M(E)}function M(E){return E===124?p(E):E===null||st(E)?!o||r!==s?T(E):(n.exit("tableDelimiterRow"),n.exit("tableHead"),t(E)):T(E)}function T(E){return e(E)}function S(E){return n.enter("tableRow"),R(E)}function R(E){return E===124?(n.enter("tableCellDivider"),n.consume(E),n.exit("tableCellDivider"),R):E===null||st(E)?(n.exit("tableRow"),t(E)):gt(E)?bt(n,R,"whitespace")(E):(n.enter("data"),O(E))}function O(E){return E===null||E===124||St(E)?(n.exit("data"),R(E)):(n.consume(E),E===92?j:O)}function j(E){return E===92||E===124?(n.consume(E),O):O(E)}}function L1(n,t){let e=-1,i=!0,r=0,s=[0,0,0,0],o=[0,0,0,0],l=!1,a=0,u,h,c;const d=new M1;for(;++e<n.length;){const f=n[e],p=f[1];f[0]==="enter"?p.type==="tableHead"?(l=!1,a!==0&&(Iu(d,t,a,u,h),h=void 0,a=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},d.add(e,0,[["enter",u,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(i=!0,c=void 0,s=[0,0,0,0],o=[0,e+1,0,0],l&&(l=!1,h={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},d.add(e,0,[["enter",h,t]])),r=p.type==="tableDelimiterRow"?2:h?3:1):r&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(i=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],c=Vi(d,t,s,r,void 0,c),s=[0,0,0,0]),o[2]=e)):p.type==="tableCellDivider"&&(i?i=!1:(s[1]!==0&&(o[0]=o[1],c=Vi(d,t,s,r,void 0,c)),s=o,o=[s[1],e,0,0])):p.type==="tableHead"?(l=!0,a=e):p.type==="tableRow"||p.type==="tableDelimiterRow"?(a=e,s[1]!==0?(o[0]=o[1],c=Vi(d,t,s,r,e,c)):o[1]!==0&&(c=Vi(d,t,o,r,e,c)),r=0):r&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(o[3]=e)}for(a!==0&&Iu(d,t,a,u,h),d.consume(t.events),e=-1;++e<t.events.length;){const f=t.events[e];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=P1(t.events,e))}return n}function Vi(n,t,e,i,r,s){const o=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",l="tableContent";e[0]!==0&&(s.end=Object.assign({},xn(t.events,e[0])),n.add(e[0],0,[["exit",s,t]]));const a=xn(t.events,e[1]);if(s={type:o,start:Object.assign({},a),end:Object.assign({},a)},n.add(e[1],0,[["enter",s,t]]),e[2]!==0){const u=xn(t.events,e[2]),h=xn(t.events,e[3]),c={type:l,start:Object.assign({},u),end:Object.assign({},h)};if(n.add(e[2],0,[["enter",c,t]]),i!==2){const d=t.events[e[2]],f=t.events[e[3]];if(d[1].end=Object.assign({},f[1].end),d[1].type="chunkText",d[1].contentType="text",e[3]>e[2]+1){const p=e[2]+1,g=e[3]-e[2]-1;n.add(p,g,[])}}n.add(e[3]+1,0,[["exit",c,t]])}return r!==void 0&&(s.end=Object.assign({},xn(t.events,r)),n.add(r,0,[["exit",s,t]]),s=void 0),s}function Iu(n,t,e,i,r){const s=[],o=xn(t.events,e);r&&(r.end=Object.assign({},o),s.push(["exit",r,t])),i.end=Object.assign({},o),s.push(["exit",i,t]),n.add(e+1,0,s)}function xn(n,t){const e=n[t],i=e[0]==="enter"?"start":"end";return e[1][i]}const O1={name:"tasklistCheck",tokenize:F1};function z1(){return{text:{91:O1}}}function F1(n,t,e){const i=this;return r;function r(a){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?e(a):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(a),n.exit("taskListCheckMarker"),s)}function s(a){return St(a)?(n.enter("taskListCheckValueUnchecked"),n.consume(a),n.exit("taskListCheckValueUnchecked"),o):a===88||a===120?(n.enter("taskListCheckValueChecked"),n.consume(a),n.exit("taskListCheckValueChecked"),o):e(a)}function o(a){return a===93?(n.enter("taskListCheckMarker"),n.consume(a),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),l):e(a)}function l(a){return st(a)?t(a):gt(a)?n.check({tokenize:j1},t,e)(a):e(a)}}function j1(n,t,e){return bt(n,i,"whitespace");function i(r){return r===null?e(r):t(r)}}function V1(n){return id([h1(),w1(),R1(n),I1(),z1()])}const B1={};function Du(n){const t=this,e=n||B1,i=t.data(),r=i.micromarkExtensions||(i.micromarkExtensions=[]),s=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),o=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);r.push(V1(e)),s.push(l1()),o.push(a1(e))}function $1(n){Cd(n,[/\r?\n|\r/g,W1])}function W1(){return{type:"break"}}function Lu(){return function(n){$1(n)}}function Ou({message:n}){var t,e;return n.sender==="user"?m.jsx("div",{className:"flex justify-end",children:m.jsxs("div",{className:"max-w-[80%] md:max-w-[70%] rounded-lg p-3 bg-primary text-primary-foreground",children:[m.jsx("div",{className:"text-sm font-medium",children:n.text}),m.jsx("div",{className:"text-xs mt-1 text-primary-foreground/70",children:n.timestamp.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})})]})}):m.jsx("div",{className:"flex justify-start",children:m.jsx("div",{className:"max-w-[80%] md:max-w-[70%] space-y-3",children:m.jsxs(Cn,{className:"p-4",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"text-sm font-medium",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"flex-1",children:n.sender==="bot"&&!n.isStreaming?m.jsx("div",{className:"markdown-content",children:m.jsx(Eu,{remarkPlugins:[Du,Lu],components:{p:({children:i})=>m.jsx("p",{className:"mb-2",children:i}),h2:({children:i})=>m.jsx("h2",{className:"text-base font-semibold mb-2 mt-3",children:i}),ul:({children:i})=>m.jsx("ul",{className:"list-disc pl-5 mb-2",children:i}),li:({children:i})=>m.jsx("li",{className:"mb-1",children:i})},children:n.text})}):m.jsx("span",{children:n.text})}),n.isStreaming&&m.jsx("div",{className:"animate-spin",children:m.jsxs("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]}),((t=n.mcpData)==null?void 0:t.stepId)&&n.mcpData.type==="progress"&&m.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["단계: ",n.mcpData.stepId]})]}),((e=n.mcpData)==null?void 0:e.type)==="complete"&&n.mcpData.formattedResult&&m.jsx("div",{className:"border-t pt-3 mt-3",children:m.jsx("div",{className:"markdown-content",children:m.jsx(Eu,{remarkPlugins:[Du,Lu],components:{h1:({children:i})=>m.jsx("h1",{className:"text-2xl font-bold mb-4 mt-6",children:i}),h2:({children:i})=>m.jsx("h2",{className:"text-xl font-semibold mb-3 mt-5",children:i}),h3:({children:i})=>m.jsx("h3",{className:"text-lg font-medium mb-2 mt-4",children:i}),p:({children:i})=>m.jsx("p",{className:"mb-3 leading-relaxed",children:i}),ul:({children:i})=>m.jsx("ul",{className:"list-disc pl-6 mb-3 space-y-1",children:i}),ol:({children:i})=>m.jsx("ol",{className:"list-decimal pl-6 mb-3 space-y-1",children:i}),li:({children:i})=>m.jsx("li",{className:"mb-1",children:i}),blockquote:({children:i})=>m.jsx("blockquote",{className:"border-l-4 border-gray-300 pl-4 italic my-3",children:i}),code:({className:i,children:r})=>!i?m.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1.5 py-0.5 rounded text-sm font-mono",children:r}):m.jsx("pre",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto mb-3",children:m.jsx("code",{className:"text-sm font-mono",children:r})}),table:({children:i})=>m.jsx("div",{className:"overflow-x-auto mb-3",children:m.jsx("table",{className:"min-w-full border-collapse",children:i})}),thead:({children:i})=>m.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:i}),th:({children:i})=>m.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left font-medium",children:i}),td:({children:i})=>m.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2",children:i}),a:({href:i,children:r})=>m.jsx("a",{href:i,className:"text-blue-600 hover:text-blue-800 underline",target:"_blank",rel:"noopener noreferrer",children:r}),hr:()=>m.jsx("hr",{className:"my-4 border-gray-300 dark:border-gray-600"}),strong:({children:i})=>m.jsx("strong",{className:"font-semibold",children:i}),em:({children:i})=>m.jsx("em",{className:"italic",children:i})},children:n.mcpData.formattedResult})})})]}),m.jsx("div",{className:"text-xs mt-2 text-muted-foreground",children:n.timestamp.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})})]})})})}const U1=["인터넷, 유통 업종에서 최근 모멘텀이 좋은 종목들을 뽑아줘","추세 추종 전략 만들어줘","오늘 시황 어때?"],Y1=["삼전과 하이닉스의 작년 영업이익 비교","최근 3년간 매출액은 연평균 10% 이상 성장했지만 영업이익률은 지속적으로 하락한 기업들은?","게임 업종에서 최근 3분기 동안 성과가 좋은 종목들 알려줘","팜젠 작년 실적 어때?"],zu={id:"1",text:`안녕하세요! 저는 Newsystock의 ScreenerAI 입니다. 주식 시장과 투자에 대한 질문을 해주세요. POC 버전 안내: 아래 추천질문에 있는 유형(종목필터링, 전략생성)을 클릭하거나 비슷한 유형으로 입력해보시면 됩니다. 실시간으로 테스트 및 개선 중이라 불안정할 수 있습니다.

2025-07-09 업데이트: Agent 모드가 기본모드가 되고 일반모드 대신 질문 모드(Agent 모드처럼 맥락 기억)가 추가되었습니다. 일반적인 투자 질문(예: 오늘시황 어때?)이 가능합니다.
2025-07-15 업데이트: Agent모드에서 백테스트가 진행되면 주요지표값을 차트와 함께 표시합니다.`,sender:"bot",timestamp:new Date};function H1(){const{logout:n,user:t}=Dr(),{toast:e}=wi(),[i,r]=y.useState([zu]),[s,o]=y.useState(""),[l,a]=y.useState(!1),[u,h]=y.useState(!0),[c,d]=y.useState("agent"),{messages:f,isLoading:p,sendMCPMessage:g,resetConversation:v}=Jv(),{messages:b,isLoading:w,sendMCPPYMessage:C,resetConversation:M}=tb(),T=y.useRef(null),S=y.useRef(null),[R,O]=y.useState(0);y.useEffect(()=>{var V,Y;window.amplitude&&window.amplitude.track("chat-view-screener-poc"),"virtualKeyboard"in navigator&&(navigator.virtualKeyboard.overlaysContent=!0);const N=()=>{if(window.visualViewport){const q=window.innerHeight-window.visualViewport.height;O(q)}};return(V=window.visualViewport)==null||V.addEventListener("resize",N),(Y=window.visualViewport)==null||Y.addEventListener("scroll",N),()=>{var q,J;(q=window.visualViewport)==null||q.removeEventListener("resize",N),(J=window.visualViewport)==null||J.removeEventListener("scroll",N)}},[]),y.useEffect(()=>{var N;(N=T.current)==null||N.scrollIntoView({behavior:"smooth"})},[i,f,b]);const j=(N,V)=>{const Y=N.slice(-10),q=[],J=[];Y.forEach(x=>{x.backtestData&&q.push({buyConditions:x.backtestData.buyConditions,sellConditions:x.backtestData.sellConditions,buyCondExp:x.backtestData.buyCondExp,sellCondExp:x.backtestData.sellCondExp}),x.stockInfo&&J.push(x.stockInfo.name)});let rt=`## 가장 최근 메시지
${V}

`;if(rt+=`## 지난 메시지
`,Y.slice(-5).forEach(x=>{x.sender==="user"&&(rt+=`- ${x.text}
`)}),q.length>0&&(rt+=`
## 지난 전략
${JSON.stringify(q[q.length-1],null,2)}
`),J.length>0){const x=[...new Set(J)].slice(0,10);rt+=`
## 지난 종목
${x.join(", ")}
`}return rt},E=async(N,V)=>{var rt,x,dt,Rt,k,Lt,ue,Tt,me,Zt,ce,ge,xe,dn,qe,Ge,fn,pn,mn,_,A,L;const Y=(rt=N.body)==null?void 0:rt.getReader();if(!Y)return;const q=new TextDecoder;let J={id:(Date.now()+2).toString(),text:"처리 중...",sender:"bot",timestamp:new Date,isStreaming:!0,streamingData:[]};r(Q=>[...Q,J]);try{for(;;){const{done:Q,value:H}=await Y.read();if(Q)break;const tt=q.decode(H).split(`
`).filter(vt=>vt.trim());console.log(tt);for(const vt of tt)try{const P=JSON.parse(vt);if((x=J.streamingData)==null||x.push(P),P.type==="status"||P.type==="tool_execution")J.text=P.message,r(F=>[...F]);else if(P.type==="error"){J.isStreaming=!1,J.text=`오류가 발생했습니다: ${P.message||"알 수 없는 오류"}`,r(F=>[...F]);return}else if(P.type==="complete"){if(J.isStreaming=!1,J.text=P.message,(dt=P.data)!=null&&dt.result){const D=P.data.result[0];let at=[];if((D==null?void 0:D.message)==="조건에 맞는 종목 검색 완료"&&((Rt=D==null?void 0:D.result)!=null&&Rt.stocks)){const it=D.result.stocks.map(ot=>({id:(Date.now()+Math.random()).toString(),text:"주가 차트",sender:"bot",timestamp:new Date,stockInfo:{name:ot.name,code:ot.code}}));if(at.push(...it),(Lt=(k=D==null?void 0:D.result)==null?void 0:k.meta)!=null&&Lt.condition_list){const et=D.result.meta.condition_list.map(mt=>`${mt.factor} ${mt.op} ${mt.value}`).join(`
`),Mt={id:(Date.now()+Math.random()).toString(),text:`**적용된 조건식:**
${et}`,sender:"bot",timestamp:new Date};at.push(Mt)}}else if((D==null?void 0:D.message)==="백테스트 시뮬레이션 완료"&&((Tt=(ue=D==null?void 0:D.result)==null?void 0:ue.data)!=null&&Tt.portfolio_summary)){const it=D.result.data.portfolio_summary,ot=D.result.meta.strategy,et=D.result.data.basic_stats,Mt=D.result.meta.settings;if(at=[{id:(Date.now()+Math.random()).toString(),text:"백테스트 결과",sender:"bot",timestamp:new Date,backtestData:{dates:it.dates,total_assets:it.total_assets,buyConditions:ot.buy_conditions,sellConditions:ot.sell_conditions,buyCondExp:ot.buy_cond_exp,sellCondExp:ot.sell_cond_exp}}],et){const At=[`누적수익률: ${(et.cumulative_return*100).toFixed(2)}%`,`연평균수익률(CAGR): ${(et.cagr*100).toFixed(2)}%`,`최대낙폭(MDD): ${(et.mdd*100).toFixed(2)}%`,`평균수익률: ${(et.mean*100).toFixed(2)}%`,`승일평균수익: ${(et.mean_win_return*100).toFixed(2)}%`,`패일평균수익: ${(et.mean_loss_return*100).toFixed(2)}%`,`샤프지수: ${et.sharpe.toFixed(3)}`],Ve={id:(Date.now()+Math.random()).toString(),text:`**백테스트 주요 지표**
`+At.map(ye=>`• ${ye}`).join(`
`),sender:"bot",timestamp:new Date};at.push(Ve)}}else if((me=D==null?void 0:D.message)!=null&&me.includes("전략")&&((ce=(Zt=D==null?void 0:D.result)==null?void 0:Zt.meta)!=null&&ce.strategy)&&(Array.isArray(D.result.meta.strategy.buy_conditions)&&D.result.meta.strategy.buy_conditions.length>0||Array.isArray(D.result.meta.strategy.sell_conditions)&&D.result.meta.strategy.sell_conditions.length>0)){const it=D.result.meta.strategy,ot=D.result.meta.settings;let et=`**적용된 조건식:**
`;if(ot!=null&&ot.order_factor&&(ot!=null&&ot.order_base)){const mt=ot.order_base==="DESC"?"내림차순":"오름차순";et+=`매수 우선순위:
`,et+=`${ot.order_factor} (${mt})
`}((ge=it.buy_conditions)==null?void 0:ge.length)>0&&(et+=`매수 조건:
`,et+=it.buy_conditions.map(mt=>`${mt.expr} ${mt.operator} ${mt.value}`).join(`
`)+`
`,it.buy_cond_exp&&(et+=`조합: ${it.buy_cond_exp}
`)),((xe=it.sell_conditions)==null?void 0:xe.length)>0&&(et+=`매도 조건:
`,et+=it.sell_conditions.map(mt=>`${mt.expr} ${mt.operator} ${mt.value}`).join(`
`)+`
`,it.sell_cond_exp&&(et+=`조합: ${it.sell_cond_exp}
`));const Mt={id:(Date.now()+Math.random()).toString(),text:et.trim(),sender:"bot",timestamp:new Date};at.push(Mt)}if(at.length>0&&r(it=>[...it,...at]),!at.some(it=>it.text.startsWith("**적용된 조건식:**"))){if((qe=(dn=D==null?void 0:D.result)==null?void 0:dn.meta)!=null&&qe.condition_list){const it=D.result.meta.condition_list,ot=D.result.meta.settings;let Mt=`**적용된 조건식:**
${it.map(At=>`${At.factor} ${At.op} ${At.value}`).join(`
`)}`;if(ot!=null&&ot.order_factor&&(ot!=null&&ot.order_base)){const At=ot.order_base==="DESC"?"내림차순":"오름차순";Mt+=`
우선순위: ${ot.order_factor} (${At})`}const mt={id:(Date.now()+Math.random()).toString(),text:Mt,sender:"bot",timestamp:new Date};r(At=>[...At,mt])}else if((fn=(Ge=D==null?void 0:D.result)==null?void 0:Ge.meta)!=null&&fn.strategy&&(Array.isArray(D.result.meta.strategy.buy_conditions)&&D.result.meta.strategy.buy_conditions.length>0||Array.isArray(D.result.meta.strategy.sell_conditions)&&D.result.meta.strategy.sell_conditions.length>0)){const it=D.result.meta.strategy,ot=D.result.meta.settings;let et=`**적용된 조건식:**
`;if(ot!=null&&ot.order_factor&&(ot!=null&&ot.order_base)){const mt=ot.order_base==="DESC"?"내림차순":"오름차순";et+=`매수 우선순위:
`,et+=`${ot.order_factor} (${mt})
`}((pn=it.buy_conditions)==null?void 0:pn.length)>0&&(et+=`매수 조건:
`,et+=it.buy_conditions.map(mt=>`${mt.expr} ${mt.operator} ${mt.value}`).join(`
`)+`
`,it.buy_cond_exp&&(et+=`조합: ${it.buy_cond_exp}
`)),((mn=it.sell_conditions)==null?void 0:mn.length)>0&&(et+=`매도 조건:
`,et+=it.sell_conditions.map(mt=>`${mt.expr} ${mt.operator} ${mt.value}`).join(`
`)+`
`,it.sell_cond_exp&&(et+=`조합: ${it.sell_cond_exp}
`));const Mt={id:(Date.now()+Math.random()).toString(),text:et.trim(),sender:"bot",timestamp:new Date};r(mt=>[...mt,Mt])}else if(Array.isArray(D==null?void 0:D.conditions)&&D.conditions.length>0){let ot=`**적용된 조건식:**
${D.conditions.map(Mt=>`${Mt.factor} ${Mt.op} ${Mt.value}`).join(`
`)}`;const et={id:(Date.now()+Math.random()).toString(),text:ot,sender:"bot",timestamp:new Date};r(Mt=>[...Mt,et])}else if(Array.isArray(D==null?void 0:D.buy_conditions)&&D.buy_conditions.length>0||Array.isArray(D==null?void 0:D.sell_conditions)&&D.sell_conditions.length>0){let it=`**적용된 조건식:**
`;if(D!=null&&D.order_factor&&(D!=null&&D.order_base)){const et=D.order_base==="DESC"?"내림차순":"오름차순";it+=`매수 우선순위:
`,it+=`${D.order_factor} (${et})
`,console.log(it)}((_=D.buy_conditions)==null?void 0:_.length)>0&&(it+=`매수 조건:
`,it+=D.buy_conditions.map(et=>`${et.factor} ${et.op} ${et.value}`).join(`
`)+`
`,D.buy_cond_exp&&(it+=`조합: ${D.buy_cond_exp}
`)),((A=D.sell_conditions)==null?void 0:A.length)>0&&(it+=`매도 조건:
`,it+=D.sell_conditions.map(et=>`${et.factor} ${et.op} ${et.value}`).join(`
`)+`
`,D.sell_cond_exp&&(it+=`조합: ${D.sell_cond_exp}
`));const ot={id:(Date.now()+Math.random()).toString(),text:it.trim(),sender:"bot",timestamp:new Date};r(et=>[...et,ot])}}}const F={id:(Date.now()+3).toString(),text:((L=P.data)==null?void 0:L.reply)||"처리 완료",sender:"bot",timestamp:new Date};r(D=>[...D,F])}}catch(P){console.error("JSON 파싱 오류:",P)}}}catch(Q){console.error("Streaming 오류:",Q),J.text="스트리밍 처리 중 오류가 발생했습니다.",J.isStreaming=!1,r(H=>[...H])}finally{Y.releaseLock()}},z=async(N=s)=>{if(!N.trim())return;const V={id:Date.now().toString(),text:N,sender:"user",timestamp:new Date};r(Y=>[...Y,V]),o(""),a(!0);try{const{data:{session:Y}}=await He.auth.getSession(),q=await He.functions.invoke("micro-reply",{headers:{Authorization:`Bearer ${Y==null?void 0:Y.access_token}`},body:{msg:N}});console.log("Category:",q.data.category);const J={id:(Date.now()+1).toString(),text:q.data.reply,sender:"bot",timestamp:new Date};r(dt=>[...dt,J]);const rt=j(i,N),x=await fetch("https://gwkirrnjlrcwaejjlokn.supabase.co/functions/v1/mcp-0709",{method:"POST",headers:{Authorization:`Bearer ${Y==null?void 0:Y.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({msg:rt,agent:c==="agent"})});if(x.ok)await E(x,Y);else throw new Error("MCP-0709 함수 호출 실패")}catch(Y){console.error("Error calling edge function:",Y);const q={id:(Date.now()+1).toString(),text:"죄송합니다. 응답을 생성하는 중에 오류가 발생했습니다.",sender:"bot",timestamp:new Date};r(J=>[...J,q])}finally{a(!1)}},I=async()=>{await n(),e({title:"로그아웃 완료",description:"안전하게 로그아웃되었습니다."})},X=()=>{c==="mcp"?v():r([zu]),o(""),a(!1),e({title:"대화 초기화 완료",description:"새로운 대화를 시작할 수 있습니다."})};return m.jsxs("div",{className:"fixed inset-0 flex flex-col bg-background overflow-hidden",children:[m.jsx("header",{className:"flex-none border-b p-4 shadow-sm bg-card",children:m.jsxs("div",{className:"flex justify-between items-center max-w-3xl mx-auto",children:[m.jsx(Oc,{showText:!0}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("span",{className:"text-sm text-muted-foreground hidden md:inline-block",children:t==null?void 0:t.email}),m.jsxs(se,{variant:"outline",size:"sm",onClick:I,children:[m.jsx(If,{className:"h-4 w-4 mr-2"}),"로그아웃"]})]})]})}),m.jsxs("div",{className:"flex-1 min-h-0 flex flex-col max-w-3xl w-full mx-auto overflow-hidden",children:[m.jsx(Gc,{ref:S,className:"flex-1 px-4",children:m.jsxs("div",{className:"space-y-4 py-4",children:[c==="mcp"?f.map(N=>m.jsx(Ou,{message:N},N.id)):c==="mcp_py"?b.map(N=>m.jsx(Ou,{message:N},N.id)):i.map(N=>m.jsx("div",{className:`flex ${N.sender==="user"?"justify-end":"justify-start"}`,children:N.text.startsWith("**적용된 조건식:**")?m.jsxs(Cn,{className:"bg-muted p-4 my-2 w-full max-w-[80%] md:max-w-[70%]",children:[m.jsx("div",{className:"text-sm font-semibold mb-2",children:"적용된 조건식"}),(()=>{const V=N.text.replace(`**적용된 조건식:**
`,"").split(`
`),Y=[];let q="",J=[];return V.forEach((rt,x)=>{rt==="매수 조건:"||rt==="매도 조건:"||rt==="매수 우선순위:"?(q&&J.length>0&&Y.push(m.jsxs("div",{className:"mb-1",children:[m.jsx("div",{className:"font-medium",children:q}),m.jsx("ul",{className:"list-disc pl-6 text-sm",children:J.map((dt,Rt)=>m.jsx("li",{children:dt},Rt))})]},q+x)),q=rt,J=[]):rt.trim()!==""&&J.push(rt)}),q&&J.length>0&&Y.push(m.jsxs("div",{className:"mb-1",children:[m.jsx("div",{className:"font-medium",children:q}),m.jsx("ul",{className:"list-disc pl-6 text-sm",children:J.map((rt,x)=>m.jsx("li",{children:rt},x))})]},q+"last")),Y.length===0?m.jsx("ul",{className:"list-disc pl-5 text-sm",children:V.map((rt,x)=>m.jsx("li",{children:rt},x))}):Y})(),m.jsx("div",{className:"text-xs mt-1 text-muted-foreground",children:N.timestamp.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})})]}):N.text.startsWith("**백테스트 주요 지표**")?m.jsxs(Cn,{className:"bg-muted p-4 my-2 w-full max-w-[80%] md:max-w-[70%]",children:[m.jsx("div",{className:"text-sm font-semibold mb-2",children:"백테스트 주요 지표"}),m.jsx("ul",{className:"list-disc pl-5 text-sm",children:N.text.replace(`**백테스트 주요 지표**
`,"").split(`
`).map((V,Y)=>m.jsx("li",{children:V.replace(/^• /,"")},Y))}),m.jsx("div",{className:"text-xs mt-1 text-muted-foreground",children:N.timestamp.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})})]}):m.jsxs("div",{className:`max-w-[80%] md:max-w-[70%] rounded-lg p-3 ${N.sender==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[m.jsxs("div",{className:"whitespace-pre-line min-w-64",children:[N.text!=="주가 차트"&&m.jsx("div",{className:"text-sm font-medium mt-2",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{children:N.text}),N.isStreaming&&m.jsx("div",{className:"animate-spin",children:m.jsxs("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]})}),N.stockInfo&&m.jsxs("div",{className:"text-sm font-medium mt-2",children:[N.stockInfo.name,m.jsx("br",{}),"(",N.stockInfo.code,")"]})]}),(N.text==="주가 차트"||N.text==="백테스트")&&N.stockInfo&&m.jsx("div",{className:"mt-4 space-y-4",children:N.text==="주가 차트"?m.jsx(se,{className:"w-full bg-black hover:bg-black/90 text-white border-black",size:"sm",onClick:()=>alert("주문 화면으로 이동합니다."),children:"주문 연동"}):m.jsxs("div",{className:"flex gap-2",children:[m.jsx(se,{className:"flex-1 bg-black hover:bg-black/90 text-white border-black",size:"sm",onClick:()=>alert("전략 연동 화면으로 이동합니다."),children:"전략 연동"}),m.jsx(se,{className:"flex-1 bg-black hover:bg-black/90 text-white border-black",size:"sm",onClick:()=>alert("전략이 저장되었습니다."),children:"저장"})]})}),N.text==="백테스트 결과"&&N.backtestData&&m.jsx(Kv,{data:N.backtestData,buyConditions:N.backtestData.buyConditions,sellConditions:N.backtestData.sellConditions,buyCondExp:N.backtestData.buyCondExp,sellCondExp:N.backtestData.sellCondExp}),m.jsx("div",{className:`text-xs mt-1 ${N.sender==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:N.timestamp.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})})]})},N.id)),(c==="mcp"&&p||c==="mcp_py"&&w||c!=="mcp"&&c!=="mcp_py"&&l)&&m.jsx("div",{className:"flex justify-start",children:m.jsx("div",{className:"bg-muted rounded-lg p-3",children:m.jsxs("div",{className:"flex space-x-1",children:[m.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce"}),m.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce delay-75"}),m.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce delay-150"})]})})}),m.jsx("div",{ref:T})]})}),m.jsx("div",{className:"px-4 py-2",children:m.jsx(Cn,{className:"p-3",children:m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"추천 질문"}),m.jsx(se,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 bg-black text-white ",onClick:()=>h(!u),children:u?m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("polyline",{points:"6 9 12 15 18 9"})}):m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("polyline",{points:"18 15 12 9 6 15"})})})]}),m.jsx("div",{className:`space-y-2 transition-all duration-200 ${u?"block":"hidden"}`,children:m.jsx("div",{className:"flex flex-wrap gap-2",children:(c==="mcp"||c==="mcp_py"?Y1:U1).map((N,V)=>m.jsx(se,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>c==="mcp"?g(N):c==="mcp_py"?C(N):z(N),children:N},V))})})]})})}),m.jsxs("div",{className:"flex-none border-t bg-background px-4 py-4",style:{marginBottom:`env(keyboard-inset-height, ${R}px)`},children:[m.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[m.jsx(Lg,{value:c,onValueChange:N=>d(N),className:"w-auto",children:m.jsxs(_h,{className:"bg-[#ddd]",children:[m.jsx(ti,{value:"agent",className:"data-[state=inactive]:bg-[#ddd] data-[state=active]:bg-white data-[state=active]:text-black",children:"Agent 모드"}),m.jsx(ti,{value:"general",className:"data-[state=inactive]:bg-[#ddd] data-[state=active]:bg-white data-[state=active]:text-black",children:"빠른 질문 모드"}),m.jsx(ti,{value:"mcp",className:"data-[state=inactive]:bg-[#ddd] data-[state=active]:bg-white data-[state=active]:text-black",children:"MCP 모드"}),m.jsx(ti,{value:"mcp_py",className:"data-[state=inactive]:bg-[#ddd] data-[state=active]:bg-white data-[state=active]:text-black",children:"MCP-PY 모드 (Test!)"})]})}),m.jsx(se,{variant:"outline",size:"sm",onClick:X,className:"text-xs",children:"대화초기화"})]}),m.jsxs("form",{onSubmit:N=>{N.preventDefault(),c==="mcp"||c==="mcp_py"?(c==="mcp"?g(s):C(s),o("")):z()},className:"flex gap-2",children:[m.jsx(gr,{value:s,onChange:N=>o(N.target.value),placeholder:`${c==="general"?"질문":c==="mcp"?"MCP":c==="mcp_py"?"MCP-PY":"Agent"} 모드로 메시지를 입력하세요...`,className:"flex-1"}),m.jsx(se,{type:"submit",disabled:!s.trim()||(c==="mcp"?p:c==="mcp_py"?w:l),children:m.jsx(Df,{className:"h-4 w-4"})})]})]})]})]})}function Z1({children:n,restricted:t=!1}){const{user:e,isLoading:i}=Dr();return i?m.jsx("div",{className:"flex items-center justify-center h-screen",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):t&&e?m.jsx(Qi,{to:"/chat",replace:!0}):m.jsx(m.Fragment,{children:n})}function X1({children:n}){const{user:t,isLoading:e}=Dr(),i=Ef();return e?m.jsx("div",{className:"flex items-center justify-center h-screen",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):t?m.jsx(m.Fragment,{children:n}):m.jsx(Qi,{to:"/login",state:{from:i},replace:!0})}const Q1=Tf([{path:"/",element:m.jsx(Qi,{to:"/chat",replace:!0})},{path:"/login",element:m.jsx(Z1,{restricted:!0,children:m.jsx(Dm,{})})},{path:"/chat",element:m.jsx(X1,{children:m.jsx(H1,{})})},{path:"*",element:m.jsx(Qi,{to:"/chat",replace:!0})}]);function q1(n,t){if(n==null)return{};var e={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(e[r]=n[r]);return e}var G1=["color"],K1=y.forwardRef(function(n,t){var e=n.color,i=e===void 0?"currentColor":e,r=q1(n,G1);return y.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:t}),y.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))});function J1(n,t=[]){let e=[];function i(s,o){const l=y.createContext(o),a=e.length;e=[...e,o];function u(c){const{scope:d,children:f,...p}=c,g=(d==null?void 0:d[n][a])||l,v=y.useMemo(()=>p,Object.values(p));return m.jsx(g.Provider,{value:v,children:f})}function h(c,d){const f=(d==null?void 0:d[n][a])||l,p=y.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${c}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,h]}const r=()=>{const s=e.map(o=>y.createContext(o));return function(l){const a=(l==null?void 0:l[n])||s;return y.useMemo(()=>({[`__scope${n}`]:{...l,[n]:a}}),[l,a])}};return r.scopeName=n,[i,tS(r,...t)]}function tS(...n){const t=n[0];if(n.length===1)return t;const e=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((l,{useScope:a,scopeName:u})=>{const c=a(s)[`__scope${u}`];return{...l,...c}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return e.scopeName=t.scopeName,e}function eS(n){const t=n+"CollectionProvider",[e,i]=J1(t),[r,s]=e(t,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:p,children:g}=f,v=ct.useRef(null),b=ct.useRef(new Map).current;return m.jsx(r,{scope:p,itemMap:b,collectionRef:v,children:g})};o.displayName=t;const l=n+"CollectionSlot",a=ct.forwardRef((f,p)=>{const{scope:g,children:v}=f,b=s(l,g),w=ae(p,b.collectionRef);return m.jsx(An,{ref:w,children:v})});a.displayName=l;const u=n+"CollectionItemSlot",h="data-radix-collection-item",c=ct.forwardRef((f,p)=>{const{scope:g,children:v,...b}=f,w=ct.useRef(null),C=ae(p,w),M=s(u,g);return ct.useEffect(()=>(M.itemMap.set(w,{ref:w,...b}),()=>void M.itemMap.delete(w))),m.jsx(An,{[h]:"",ref:C,children:v})});c.displayName=u;function d(f){const p=s(n+"CollectionConsumer",f);return ct.useCallback(()=>{const v=p.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(p.itemMap.values()).sort((M,T)=>b.indexOf(M.ref.current)-b.indexOf(T.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:a,ItemSlot:c},d,i]}function nS(n,t=globalThis==null?void 0:globalThis.document){const e=Wt(n);y.useEffect(()=>{const i=r=>{r.key==="Escape"&&e(r)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[e,t])}var iS="DismissableLayer",wo="dismissableLayer.update",rS="dismissableLayer.pointerDownOutside",sS="dismissableLayer.focusOutside",Fu,Qd=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qd=y.forwardRef((n,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...a}=n,u=y.useContext(Qd),[h,c]=y.useState(null),d=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=y.useState({}),p=ae(t,R=>c(R)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(v),w=h?g.indexOf(h):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,M=w>=b,T=lS(R=>{const O=R.target,j=[...u.branches].some(E=>E.contains(O));!M||j||(r==null||r(R),o==null||o(R),R.defaultPrevented||l==null||l())},d),S=aS(R=>{const O=R.target;[...u.branches].some(E=>E.contains(O))||(s==null||s(R),o==null||o(R),R.defaultPrevented||l==null||l())},d);return nS(R=>{w===u.layers.size-1&&(i==null||i(R),!R.defaultPrevented&&l&&(R.preventDefault(),l()))},d),y.useEffect(()=>{if(h)return e&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Fu=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),ju(),()=>{e&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=Fu)}},[h,d,e,u]),y.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),ju())},[h,u]),y.useEffect(()=>{const R=()=>f({});return document.addEventListener(wo,R),()=>document.removeEventListener(wo,R)},[]),m.jsx(Yt.div,{...a,ref:p,style:{pointerEvents:C?M?"auto":"none":void 0,...n.style},onFocusCapture:zt(n.onFocusCapture,S.onFocusCapture),onBlurCapture:zt(n.onBlurCapture,S.onBlurCapture),onPointerDownCapture:zt(n.onPointerDownCapture,T.onPointerDownCapture)})});qd.displayName=iS;var oS="DismissableLayerBranch",Gd=y.forwardRef((n,t)=>{const e=y.useContext(Qd),i=y.useRef(null),r=ae(t,i);return y.useEffect(()=>{const s=i.current;if(s)return e.branches.add(s),()=>{e.branches.delete(s)}},[e.branches]),m.jsx(Yt.div,{...n,ref:r})});Gd.displayName=oS;function lS(n,t=globalThis==null?void 0:globalThis.document){const e=Wt(n),i=y.useRef(!1),r=y.useRef(()=>{});return y.useEffect(()=>{const s=l=>{if(l.target&&!i.current){let a=function(){Kd(rS,e,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=a,t.addEventListener("click",r.current,{once:!0})):a()}else t.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",r.current)}},[t,e]),{onPointerDownCapture:()=>i.current=!0}}function aS(n,t=globalThis==null?void 0:globalThis.document){const e=Wt(n),i=y.useRef(!1);return y.useEffect(()=>{const r=s=>{s.target&&!i.current&&Kd(sS,e,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,e]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function ju(){const n=new CustomEvent(wo);document.dispatchEvent(n)}function Kd(n,t,e,{discrete:i}){const r=e.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:e});t&&r.addEventListener(n,t,{once:!0}),i?Rc(r,s):r.dispatchEvent(s)}var uS=qd,cS=Gd,hS="Portal",Jd=y.forwardRef((n,t)=>{var l;const{container:e,...i}=n,[r,s]=y.useState(!1);gi(()=>s(!0),[]);const o=e||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Nf.createPortal(m.jsx(Yt.div,{...i,ref:t}),o):null});Jd.displayName=hS;function dS({prop:n,defaultProp:t,onChange:e=()=>{}}){const[i,r]=fS({defaultProp:t,onChange:e}),s=n!==void 0,o=s?n:i,l=Wt(e),a=y.useCallback(u=>{if(s){const c=typeof u=="function"?u(n):u;c!==n&&l(c)}else r(u)},[s,n,r,l]);return[o,a]}function fS({defaultProp:n,onChange:t}){const e=y.useState(n),[i]=e,r=y.useRef(i),s=Wt(t);return y.useEffect(()=>{r.current!==i&&(s(i),r.current=i)},[i,r,s]),e}var pS="VisuallyHidden",hl=y.forwardRef((n,t)=>m.jsx(Yt.span,{...n,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));hl.displayName=pS;var dl="ToastProvider",[fl,mS,gS]=eS("Toast"),[tf,$S]=zc("Toast",[gS]),[yS,qr]=tf(dl),ef=n=>{const{__scopeToast:t,label:e="Notification",duration:i=5e3,swipeDirection:r="right",swipeThreshold:s=50,children:o}=n,[l,a]=y.useState(null),[u,h]=y.useState(0),c=y.useRef(!1),d=y.useRef(!1);return e.trim()||console.error(`Invalid prop \`label\` supplied to \`${dl}\`. Expected non-empty \`string\`.`),m.jsx(fl.Provider,{scope:t,children:m.jsx(yS,{scope:t,label:e,duration:i,swipeDirection:r,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:a,onToastAdd:y.useCallback(()=>h(f=>f+1),[]),onToastRemove:y.useCallback(()=>h(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:c,isClosePausedRef:d,children:o})})};ef.displayName=dl;var nf="ToastViewport",vS=["F8"],ko="toast.viewportPause",_o="toast.viewportResume",rf=y.forwardRef((n,t)=>{const{__scopeToast:e,hotkey:i=vS,label:r="Notifications ({hotkey})",...s}=n,o=qr(nf,e),l=mS(e),a=y.useRef(null),u=y.useRef(null),h=y.useRef(null),c=y.useRef(null),d=ae(t,c,o.onViewportChange),f=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;y.useEffect(()=>{const v=b=>{var C;i.length!==0&&i.every(M=>b[M]||b.code===M)&&((C=c.current)==null||C.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[i]),y.useEffect(()=>{const v=a.current,b=c.current;if(p&&v&&b){const w=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(ko);b.dispatchEvent(S),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(_o);b.dispatchEvent(S),o.isClosePausedRef.current=!1}},M=S=>{!v.contains(S.relatedTarget)&&C()},T=()=>{v.contains(document.activeElement)||C()};return v.addEventListener("focusin",w),v.addEventListener("focusout",M),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",T),window.addEventListener("blur",w),window.addEventListener("focus",C),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",M),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",T),window.removeEventListener("blur",w),window.removeEventListener("focus",C)}}},[p,o.isClosePausedRef]);const g=y.useCallback(({tabbingDirection:v})=>{const w=l().map(C=>{const M=C.ref.current,T=[M,...AS(M)];return v==="forwards"?T:T.reverse()});return(v==="forwards"?w.reverse():w).flat()},[l]);return y.useEffect(()=>{const v=c.current;if(v){const b=w=>{var T,S,R;const C=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!C){const O=document.activeElement,j=w.shiftKey;if(w.target===v&&j){(T=u.current)==null||T.focus();return}const I=g({tabbingDirection:j?"backwards":"forwards"}),X=I.findIndex(N=>N===O);Fs(I.slice(X+1))?w.preventDefault():j?(S=u.current)==null||S.focus():(R=h.current)==null||R.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[l,g]),m.jsxs(cS,{ref:a,role:"region","aria-label":r.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&m.jsx(So,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});Fs(v)}}),m.jsx(fl.Slot,{scope:e,children:m.jsx(Yt.ol,{tabIndex:-1,...s,ref:d})}),p&&m.jsx(So,{ref:h,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});Fs(v)}})]})});rf.displayName=nf;var sf="ToastFocusProxy",So=y.forwardRef((n,t)=>{const{__scopeToast:e,onFocusFromOutsideViewport:i,...r}=n,s=qr(sf,e);return m.jsx(hl,{"aria-hidden":!0,tabIndex:0,...r,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&i()}})});So.displayName=sf;var Gr="Toast",bS="toast.swipeStart",xS="toast.swipeMove",wS="toast.swipeCancel",kS="toast.swipeEnd",of=y.forwardRef((n,t)=>{const{forceMount:e,open:i,defaultOpen:r,onOpenChange:s,...o}=n,[l=!0,a]=dS({prop:i,defaultProp:r,onChange:s});return m.jsx(jn,{present:e||l,children:m.jsx(CS,{open:l,...o,ref:t,onClose:()=>a(!1),onPause:Wt(n.onPause),onResume:Wt(n.onResume),onSwipeStart:zt(n.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:zt(n.onSwipeMove,u=>{const{x:h,y:c}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${c}px`)}),onSwipeCancel:zt(n.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:zt(n.onSwipeEnd,u=>{const{x:h,y:c}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${c}px`),a(!1)})})})});of.displayName=Gr;var[_S,SS]=tf(Gr,{onClose(){}}),CS=y.forwardRef((n,t)=>{const{__scopeToast:e,type:i="foreground",duration:r,open:s,onClose:o,onEscapeKeyDown:l,onPause:a,onResume:u,onSwipeStart:h,onSwipeMove:c,onSwipeCancel:d,onSwipeEnd:f,...p}=n,g=qr(Gr,e),[v,b]=y.useState(null),w=ae(t,N=>b(N)),C=y.useRef(null),M=y.useRef(null),T=r||g.duration,S=y.useRef(0),R=y.useRef(T),O=y.useRef(0),{onToastAdd:j,onToastRemove:E}=g,z=Wt(()=>{var V;(v==null?void 0:v.contains(document.activeElement))&&((V=g.viewport)==null||V.focus()),o()}),I=y.useCallback(N=>{!N||N===1/0||(window.clearTimeout(O.current),S.current=new Date().getTime(),O.current=window.setTimeout(z,N))},[z]);y.useEffect(()=>{const N=g.viewport;if(N){const V=()=>{I(R.current),u==null||u()},Y=()=>{const q=new Date().getTime()-S.current;R.current=R.current-q,window.clearTimeout(O.current),a==null||a()};return N.addEventListener(ko,Y),N.addEventListener(_o,V),()=>{N.removeEventListener(ko,Y),N.removeEventListener(_o,V)}}},[g.viewport,T,a,u,I]),y.useEffect(()=>{s&&!g.isClosePausedRef.current&&I(T)},[s,T,g.isClosePausedRef,I]),y.useEffect(()=>(j(),()=>E()),[j,E]);const X=y.useMemo(()=>v?ff(v):null,[v]);return g.viewport?m.jsxs(m.Fragment,{children:[X&&m.jsx(ES,{__scopeToast:e,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),m.jsx(_S,{scope:e,onClose:z,children:Co.createPortal(m.jsx(fl.ItemSlot,{scope:e,children:m.jsx(uS,{asChild:!0,onEscapeKeyDown:zt(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||z(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(Yt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:w,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:zt(n.onKeyDown,N=>{N.key==="Escape"&&(l==null||l(N.nativeEvent),N.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:zt(n.onPointerDown,N=>{N.button===0&&(C.current={x:N.clientX,y:N.clientY})}),onPointerMove:zt(n.onPointerMove,N=>{if(!C.current)return;const V=N.clientX-C.current.x,Y=N.clientY-C.current.y,q=!!M.current,J=["left","right"].includes(g.swipeDirection),rt=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,x=J?rt(0,V):0,dt=J?0:rt(0,Y),Rt=N.pointerType==="touch"?10:2,k={x,y:dt},Lt={originalEvent:N,delta:k};q?(M.current=k,Bi(xS,c,Lt,{discrete:!1})):Vu(k,g.swipeDirection,Rt)?(M.current=k,Bi(bS,h,Lt,{discrete:!1}),N.target.setPointerCapture(N.pointerId)):(Math.abs(V)>Rt||Math.abs(Y)>Rt)&&(C.current=null)}),onPointerUp:zt(n.onPointerUp,N=>{const V=M.current,Y=N.target;if(Y.hasPointerCapture(N.pointerId)&&Y.releasePointerCapture(N.pointerId),M.current=null,C.current=null,V){const q=N.currentTarget,J={originalEvent:N,delta:V};Vu(V,g.swipeDirection,g.swipeThreshold)?Bi(kS,f,J,{discrete:!0}):Bi(wS,d,J,{discrete:!0}),q.addEventListener("click",rt=>rt.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),ES=n=>{const{__scopeToast:t,children:e,...i}=n,r=qr(Gr,t),[s,o]=y.useState(!1),[l,a]=y.useState(!1);return RS(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>a(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:m.jsx(Jd,{asChild:!0,children:m.jsx(hl,{...i,children:s&&m.jsxs(m.Fragment,{children:[r.label," ",e]})})})},TS="ToastTitle",lf=y.forwardRef((n,t)=>{const{__scopeToast:e,...i}=n;return m.jsx(Yt.div,{...i,ref:t})});lf.displayName=TS;var NS="ToastDescription",af=y.forwardRef((n,t)=>{const{__scopeToast:e,...i}=n;return m.jsx(Yt.div,{...i,ref:t})});af.displayName=NS;var uf="ToastAction",cf=y.forwardRef((n,t)=>{const{altText:e,...i}=n;return e.trim()?m.jsx(df,{altText:e,asChild:!0,children:m.jsx(pl,{...i,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${uf}\`. Expected non-empty \`string\`.`),null)});cf.displayName=uf;var hf="ToastClose",pl=y.forwardRef((n,t)=>{const{__scopeToast:e,...i}=n,r=SS(hf,e);return m.jsx(df,{asChild:!0,children:m.jsx(Yt.button,{type:"button",...i,ref:t,onClick:zt(n.onClick,r.onClose)})})});pl.displayName=hf;var df=y.forwardRef((n,t)=>{const{__scopeToast:e,altText:i,...r}=n;return m.jsx(Yt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...r,ref:t})});function ff(n){const t=[];return Array.from(n.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&t.push(i.textContent),MS(i)){const r=i.ariaHidden||i.hidden||i.style.display==="none",s=i.dataset.radixToastAnnounceExclude==="";if(!r)if(s){const o=i.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...ff(i))}}),t}function Bi(n,t,e,{discrete:i}){const r=e.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:e});t&&r.addEventListener(n,t,{once:!0}),i?Rc(r,s):r.dispatchEvent(s)}var Vu=(n,t,e=0)=>{const i=Math.abs(n.x),r=Math.abs(n.y),s=i>r;return t==="left"||t==="right"?s&&i>e:!s&&r>e};function RS(n=()=>{}){const t=Wt(n);gi(()=>{let e=0,i=0;return e=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(i)}},[t])}function MS(n){return n.nodeType===n.ELEMENT_NODE}function AS(n){const t=[],e=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function Fs(n){const t=document.activeElement;return n.some(e=>e===t?!0:(e.focus(),document.activeElement!==t))}var PS=ef,pf=rf,mf=of,gf=lf,yf=af,vf=cf,bf=pl;const IS=PS,xf=y.forwardRef(({className:n,...t},e)=>m.jsx(pf,{ref:e,className:Nt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...t}));xf.displayName=pf.displayName;const DS=Io("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wf=y.forwardRef(({className:n,variant:t,...e},i)=>m.jsx(mf,{ref:i,className:Nt(DS({variant:t}),n),...e}));wf.displayName=mf.displayName;const LS=y.forwardRef(({className:n,...t},e)=>m.jsx(vf,{ref:e,className:Nt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...t}));LS.displayName=vf.displayName;const kf=y.forwardRef(({className:n,...t},e)=>m.jsx(bf,{ref:e,className:Nt("absolute right-1 top-1 rounded-md p-1 text-white opacity-0 transition-opacity hover:text-white focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...t,children:m.jsx(K1,{className:"h-4 w-4"})}));kf.displayName=bf.displayName;const _f=y.forwardRef(({className:n,...t},e)=>m.jsx(gf,{ref:e,className:Nt("text-sm font-semibold [&+div]:text-xs",n),...t}));_f.displayName=gf.displayName;const Sf=y.forwardRef(({className:n,...t},e)=>m.jsx(yf,{ref:e,className:Nt("text-sm opacity-90",n),...t}));Sf.displayName=yf.displayName;function OS(){const{toasts:n}=wi();return m.jsxs(IS,{children:[n.map(function({id:t,title:e,description:i,action:r,...s}){return m.jsxs(wf,{...s,children:[m.jsxs("div",{className:"grid gap-1",children:[e&&m.jsx(_f,{children:e}),i&&m.jsx(Sf,{children:i})]}),r,m.jsx(kf,{})]},t)}),m.jsx(xf,{})]})}function zS(){return m.jsx($f,{attribute:"class",defaultTheme:"light",children:m.jsxs(Tm,{children:[m.jsx(Rf,{router:Q1}),m.jsx(OS,{})]})})}Hu(document.getElementById("root")).render(m.jsx(y.StrictMode,{children:m.jsx(zS,{})}));
