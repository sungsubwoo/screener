import{r as p,a as ur,R as J,c as Cl,N as xs,u as kl,b as El,d as Tl,e as Nl}from"./vendor-D3Rry-fR.js";import{C as Rl,E as Ml,a as Pl,L as Al,S as Ol}from"./ui-Bxf38nrM.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=e(r);fetch(r.href,n)}})();var mo={exports:{}},Hs={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dl=p,zl=Symbol.for("react.element"),Vl=Symbol.for("react.fragment"),Ll=Object.prototype.hasOwnProperty,Il=Dl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jl={key:!0,ref:!0,__self:!0,__source:!0};function go(i,t,e){var s,r={},n=null,o=null;e!==void 0&&(n=""+e),t.key!==void 0&&(n=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Ll.call(t,s)&&!jl.hasOwnProperty(s)&&(r[s]=t[s]);if(i&&i.defaultProps)for(s in t=i.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:zl,type:i,key:n,ref:o,props:r,_owner:Il.current}}Hs.Fragment=Vl;Hs.jsx=go;Hs.jsxs=go;mo.exports=Hs;var f=mo.exports,vo,$r=ur;vo=$r.createRoot,$r.hydrateRoot;var _s=["light","dark"],dr="(prefers-color-scheme: dark)",Fl=typeof window>"u",yo=p.createContext(void 0),Bl=i=>p.useContext(yo)?i.children:p.createElement($l,{...i}),Wl=["light","dark"],$l=({forcedTheme:i,disableTransitionOnChange:t=!1,enableSystem:e=!0,enableColorScheme:s=!0,storageKey:r="theme",themes:n=Wl,defaultTheme:o=e?"system":"light",attribute:a="data-theme",value:l,children:h,nonce:c})=>{let[u,d]=p.useState(()=>Yr(r,o)),[g,v]=p.useState(()=>Yr(r)),y=l?Object.values(l):n,b=p.useCallback(C=>{let R=C;if(!R)return;C==="system"&&e&&(R=Ur());let B=l?l[R]:R,I=t?Ul():null,Z=document.documentElement;if(a==="class"?(Z.classList.remove(...y),B&&Z.classList.add(B)):B?Z.setAttribute(a,B):Z.removeAttribute(a),s){let L=_s.includes(o)?o:null,W=_s.includes(R)?R:L;Z.style.colorScheme=W}I==null||I()},[]),w=p.useCallback(C=>{let R=typeof C=="function"?C(C):C;d(R);try{localStorage.setItem(r,R)}catch{}},[i]),_=p.useCallback(C=>{let R=Ur(C);v(R),u==="system"&&e&&!i&&b("system")},[u,i]);p.useEffect(()=>{let C=window.matchMedia(dr);return C.addListener(_),_(C),()=>C.removeListener(_)},[_]),p.useEffect(()=>{let C=R=>{if(R.key!==r)return;let B=R.newValue||o;w(B)};return window.addEventListener("storage",C),()=>window.removeEventListener("storage",C)},[w]),p.useEffect(()=>{b(i??u)},[i,u]);let A=p.useMemo(()=>({theme:u,setTheme:w,forcedTheme:i,resolvedTheme:u==="system"?g:u,themes:e?[...n,"system"]:n,systemTheme:e?g:void 0}),[u,w,i,g,e,n]);return p.createElement(yo.Provider,{value:A},p.createElement(Yl,{forcedTheme:i,disableTransitionOnChange:t,enableSystem:e,enableColorScheme:s,storageKey:r,themes:n,defaultTheme:o,attribute:a,value:l,children:h,attrs:y,nonce:c}),h)},Yl=p.memo(({forcedTheme:i,storageKey:t,attribute:e,enableSystem:s,enableColorScheme:r,defaultTheme:n,value:o,attrs:a,nonce:l})=>{let h=n==="system",c=e==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${e}',s='setAttribute';`,u=r?_s.includes(n)&&n?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${n}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(v,y=!1,b=!0)=>{let w=o?o[v]:v,_=y?v+"|| ''":`'${w}'`,A="";return r&&b&&!y&&_s.includes(v)&&(A+=`d.style.colorScheme = '${v}';`),e==="class"?y||w?A+=`c.add(${_})`:A+="null":w&&(A+=`d[s](n,${_})`),A},g=i?`!function(){${c}${d(i)}}()`:s?`!function(){try{${c}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${h})){var t='${dr}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}${h?"":"else{"+d(n,!1,!1)+"}"}${u}}catch(e){}}()`:`!function(){try{${c}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}else{${d(n,!1,!1)};}${u}}catch(t){}}();`;return p.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})}),Yr=(i,t)=>{if(Fl)return;let e;try{e=localStorage.getItem(i)||void 0}catch{}return e||t},Ul=()=>{let i=document.createElement("style");return i.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(i),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(i)},1)}},Ur=i=>(i||(i=window.matchMedia(dr)),i.matches?"dark":"light"),ns=i=>i.type==="checkbox",be=i=>i instanceof Date,xt=i=>i==null;const bo=i=>typeof i=="object";var ft=i=>!xt(i)&&!Array.isArray(i)&&bo(i)&&!be(i),wo=i=>ft(i)&&i.target?ns(i.target)?i.target.checked:i.target.value:i,Zl=i=>i.substring(0,i.search(/\.\d+(\.|$)/))||i,xo=(i,t)=>i.has(Zl(t)),Xl=i=>{const t=i.constructor&&i.constructor.prototype;return ft(t)&&t.hasOwnProperty("isPrototypeOf")},fr=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Et(i){let t;const e=Array.isArray(i);if(i instanceof Date)t=new Date(i);else if(i instanceof Set)t=new Set(i);else if(!(fr&&(i instanceof Blob||i instanceof FileList))&&(e||ft(i)))if(t=e?[]:{},!e&&!Xl(i))t=i;else for(const s in i)i.hasOwnProperty(s)&&(t[s]=Et(i[s]));else return i;return t}var Ks=i=>Array.isArray(i)?i.filter(Boolean):[],lt=i=>i===void 0,M=(i,t,e)=>{if(!t||!ft(i))return e;const s=Ks(t.split(/[,[\].]+?/)).reduce((r,n)=>xt(r)?r:r[n],i);return lt(s)||s===i?lt(i[t])?e:i[t]:s},At=i=>typeof i=="boolean",pr=i=>/^\w*$/.test(i),_o=i=>Ks(i.replace(/["|']|\]/g,"").split(/\.|\[/)),st=(i,t,e)=>{let s=-1;const r=pr(t)?[t]:_o(t),n=r.length,o=n-1;for(;++s<n;){const a=r[s];let l=e;if(s!==o){const h=i[a];l=ft(h)||Array.isArray(h)?h:isNaN(+r[s+1])?{}:[]}if(a==="__proto__")return;i[a]=l,i=i[a]}return i};const Ss={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Wt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},So=J.createContext(null),Gs=()=>J.useContext(So),Ql=i=>{const{children:t,...e}=i;return J.createElement(So.Provider,{value:e},t)};var Co=(i,t,e,s=!0)=>{const r={defaultValues:t._defaultValues};for(const n in i)Object.defineProperty(r,n,{get:()=>{const o=n;return t._proxyFormState[o]!==Vt.all&&(t._proxyFormState[o]=!s||Vt.all),e&&(e[o]=!0),i[o]}});return r},Tt=i=>ft(i)&&!Object.keys(i).length,ko=(i,t,e,s)=>{e(i);const{name:r,...n}=i;return Tt(n)||Object.keys(n).length>=Object.keys(t).length||Object.keys(n).find(o=>t[o]===(!s||Vt.all))},Ze=i=>Array.isArray(i)?i:[i],Eo=(i,t,e)=>!i||!t||i===t||Ze(i).some(s=>s&&(e?s===t:s.startsWith(t)||t.startsWith(s)));function mr(i){const t=J.useRef(i);t.current=i,J.useEffect(()=>{const e=!i.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{e&&e.unsubscribe()}},[i.disabled])}function Hl(i){const t=Gs(),{control:e=t.control,disabled:s,name:r,exact:n}=i||{},[o,a]=J.useState(e._formState),l=J.useRef(!0),h=J.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=J.useRef(r);return c.current=r,mr({disabled:s,next:u=>l.current&&Eo(c.current,u.name,n)&&ko(u,h.current,e._updateFormState)&&a({...e._formState,...u}),subject:e._subjects.state}),J.useEffect(()=>(l.current=!0,h.current.isValid&&e._updateValid(!0),()=>{l.current=!1}),[e]),Co(o,e,h.current,!1)}var It=i=>typeof i=="string",To=(i,t,e,s,r)=>It(i)?(s&&t.watch.add(i),M(e,i,r)):Array.isArray(i)?i.map(n=>(s&&t.watch.add(n),M(e,n))):(s&&(t.watchAll=!0),e);function Kl(i){const t=Gs(),{control:e=t.control,name:s,defaultValue:r,disabled:n,exact:o}=i||{},a=J.useRef(s);a.current=s,mr({disabled:n,subject:e._subjects.values,next:c=>{Eo(a.current,c.name,o)&&h(Et(To(a.current,e._names,c.values||e._formValues,!1,r)))}});const[l,h]=J.useState(e._getWatch(s,r));return J.useEffect(()=>e._removeUnmounted()),l}function Gl(i){const t=Gs(),{name:e,disabled:s,control:r=t.control,shouldUnregister:n}=i,o=xo(r._names.array,e),a=Kl({control:r,name:e,defaultValue:M(r._formValues,e,M(r._defaultValues,e,i.defaultValue)),exact:!0}),l=Hl({control:r,name:e,exact:!0}),h=J.useRef(r.register(e,{...i.rules,value:a,...At(i.disabled)?{disabled:i.disabled}:{}}));return J.useEffect(()=>{const c=r._options.shouldUnregister||n,u=(d,g)=>{const v=M(r._fields,d);v&&v._f&&(v._f.mount=g)};if(u(e,!0),c){const d=Et(M(r._options.defaultValues,e));st(r._defaultValues,e,d),lt(M(r._formValues,e))&&st(r._formValues,e,d)}return()=>{(o?c&&!r._state.action:c)?r.unregister(e):u(e,!1)}},[e,r,o,n]),J.useEffect(()=>{M(r._fields,e)&&r._updateDisabledField({disabled:s,fields:r._fields,name:e,value:M(r._fields,e)._f.value})},[s,e,r]),{field:{name:e,value:a,...At(s)||l.disabled?{disabled:l.disabled||s}:{},onChange:J.useCallback(c=>h.current.onChange({target:{value:wo(c),name:e},type:Ss.CHANGE}),[e]),onBlur:J.useCallback(()=>h.current.onBlur({target:{value:M(r._formValues,e),name:e},type:Ss.BLUR}),[e,r]),ref:J.useCallback(c=>{const u=M(r._fields,e);u&&c&&(u._f.ref={focus:()=>c.focus(),select:()=>c.select(),setCustomValidity:d=>c.setCustomValidity(d),reportValidity:()=>c.reportValidity()})},[r._fields,e])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!M(l.errors,e)},isDirty:{enumerable:!0,get:()=>!!M(l.dirtyFields,e)},isTouched:{enumerable:!0,get:()=>!!M(l.touchedFields,e)},isValidating:{enumerable:!0,get:()=>!!M(l.validatingFields,e)},error:{enumerable:!0,get:()=>M(l.errors,e)}})}}const Jl=i=>i.render(Gl(i));var No=(i,t,e,s,r)=>t?{...e[i],types:{...e[i]&&e[i].types?e[i].types:{},[s]:r||!0}}:{},Zr=i=>({isOnSubmit:!i||i===Vt.onSubmit,isOnBlur:i===Vt.onBlur,isOnChange:i===Vt.onChange,isOnAll:i===Vt.all,isOnTouch:i===Vt.onTouched}),Xr=(i,t,e)=>!e&&(t.watchAll||t.watch.has(i)||[...t.watch].some(s=>i.startsWith(s)&&/^\.\w+/.test(i.slice(s.length))));const Xe=(i,t,e,s)=>{for(const r of e||Object.keys(i)){const n=M(i,r);if(n){const{_f:o,...a}=n;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],r)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(Xe(a,t))break}else if(ft(a)&&Xe(a,t))break}}};var ql=(i,t,e)=>{const s=Ze(M(i,e));return st(s,"root",t[e]),st(i,e,s),i},gr=i=>i.type==="file",Ut=i=>typeof i=="function",Cs=i=>{if(!fr)return!1;const t=i?i.ownerDocument:0;return i instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},vs=i=>It(i),vr=i=>i.type==="radio",ks=i=>i instanceof RegExp;const Qr={value:!1,isValid:!1},Hr={value:!0,isValid:!0};var Ro=i=>{if(Array.isArray(i)){if(i.length>1){const t=i.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return i[0].checked&&!i[0].disabled?i[0].attributes&&!lt(i[0].attributes.value)?lt(i[0].value)||i[0].value===""?Hr:{value:i[0].value,isValid:!0}:Hr:Qr}return Qr};const Kr={isValid:!1,value:null};var Mo=i=>Array.isArray(i)?i.reduce((t,e)=>e&&e.checked&&!e.disabled?{isValid:!0,value:e.value}:t,Kr):Kr;function Gr(i,t,e="validate"){if(vs(i)||Array.isArray(i)&&i.every(vs)||At(i)&&!i)return{type:e,message:vs(i)?i:"",ref:t}}var ge=i=>ft(i)&&!ks(i)?i:{value:i,message:""},Jr=async(i,t,e,s,r)=>{const{ref:n,refs:o,required:a,maxLength:l,minLength:h,min:c,max:u,pattern:d,validate:g,name:v,valueAsNumber:y,mount:b,disabled:w}=i._f,_=M(t,v);if(!b||w)return{};const A=o?o[0]:n,C=P=>{s&&A.reportValidity&&(A.setCustomValidity(At(P)?"":P||""),A.reportValidity())},R={},B=vr(n),I=ns(n),Z=B||I,L=(y||gr(n))&&lt(n.value)&&lt(_)||Cs(n)&&n.value===""||_===""||Array.isArray(_)&&!_.length,W=No.bind(null,v,e,R),it=(P,X,E,Q=Wt.maxLength,tt=Wt.minLength)=>{const $=P?X:E;R[v]={type:P?Q:tt,message:$,ref:n,...W(P?Q:tt,$)}};if(r?!Array.isArray(_)||!_.length:a&&(!Z&&(L||xt(_))||At(_)&&!_||I&&!Ro(o).isValid||B&&!Mo(o).isValid)){const{value:P,message:X}=vs(a)?{value:!!a,message:a}:ge(a);if(P&&(R[v]={type:Wt.required,message:X,ref:A,...W(Wt.required,X)},!e))return C(X),R}if(!L&&(!xt(c)||!xt(u))){let P,X;const E=ge(u),Q=ge(c);if(!xt(_)&&!isNaN(_)){const tt=n.valueAsNumber||_&&+_;xt(E.value)||(P=tt>E.value),xt(Q.value)||(X=tt<Q.value)}else{const tt=n.valueAsDate||new Date(_),$=Ct=>new Date(new Date().toDateString()+" "+Ct),ot=n.type=="time",ht=n.type=="week";It(E.value)&&_&&(P=ot?$(_)>$(E.value):ht?_>E.value:tt>new Date(E.value)),It(Q.value)&&_&&(X=ot?$(_)<$(Q.value):ht?_<Q.value:tt<new Date(Q.value))}if((P||X)&&(it(!!P,E.message,Q.message,Wt.max,Wt.min),!e))return C(R[v].message),R}if((l||h)&&!L&&(It(_)||r&&Array.isArray(_))){const P=ge(l),X=ge(h),E=!xt(P.value)&&_.length>+P.value,Q=!xt(X.value)&&_.length<+X.value;if((E||Q)&&(it(E,P.message,X.message),!e))return C(R[v].message),R}if(d&&!L&&It(_)){const{value:P,message:X}=ge(d);if(ks(P)&&!_.match(P)&&(R[v]={type:Wt.pattern,message:X,ref:n,...W(Wt.pattern,X)},!e))return C(X),R}if(g){if(Ut(g)){const P=await g(_,t),X=Gr(P,A);if(X&&(R[v]={...X,...W(Wt.validate,X.message)},!e))return C(X.message),R}else if(ft(g)){let P={};for(const X in g){if(!Tt(P)&&!e)break;const E=Gr(await g[X](_,t),A,X);E&&(P={...E,...W(X,E.message)},C(E.message),e&&(R[v]=P))}if(!Tt(P)&&(R[v]={ref:A,...P},!e))return R}}return C(!0),R};function th(i,t){const e=t.slice(0,-1).length;let s=0;for(;s<e;)i=lt(i)?s++:i[t[s++]];return i}function eh(i){for(const t in i)if(i.hasOwnProperty(t)&&!lt(i[t]))return!1;return!0}function pt(i,t){const e=Array.isArray(t)?t:pr(t)?[t]:_o(t),s=e.length===1?i:th(i,e),r=e.length-1,n=e[r];return s&&delete s[n],r!==0&&(ft(s)&&Tt(s)||Array.isArray(s)&&eh(s))&&pt(i,e.slice(0,-1)),i}var mi=()=>{let i=[];return{get observers(){return i},next:r=>{for(const n of i)n.next&&n.next(r)},subscribe:r=>(i.push(r),{unsubscribe:()=>{i=i.filter(n=>n!==r)}}),unsubscribe:()=>{i=[]}}},Es=i=>xt(i)||!bo(i);function ee(i,t){if(Es(i)||Es(t))return i===t;if(be(i)&&be(t))return i.getTime()===t.getTime();const e=Object.keys(i),s=Object.keys(t);if(e.length!==s.length)return!1;for(const r of e){const n=i[r];if(!s.includes(r))return!1;if(r!=="ref"){const o=t[r];if(be(n)&&be(o)||ft(n)&&ft(o)||Array.isArray(n)&&Array.isArray(o)?!ee(n,o):n!==o)return!1}}return!0}var Po=i=>i.type==="select-multiple",sh=i=>vr(i)||ns(i),gi=i=>Cs(i)&&i.isConnected,Ao=i=>{for(const t in i)if(Ut(i[t]))return!0;return!1};function Ts(i,t={}){const e=Array.isArray(i);if(ft(i)||e)for(const s in i)Array.isArray(i[s])||ft(i[s])&&!Ao(i[s])?(t[s]=Array.isArray(i[s])?[]:{},Ts(i[s],t[s])):xt(i[s])||(t[s]=!0);return t}function Oo(i,t,e){const s=Array.isArray(i);if(ft(i)||s)for(const r in i)Array.isArray(i[r])||ft(i[r])&&!Ao(i[r])?lt(t)||Es(e[r])?e[r]=Array.isArray(i[r])?Ts(i[r],[]):{...Ts(i[r])}:Oo(i[r],xt(t)?{}:t[r],e[r]):e[r]=!ee(i[r],t[r]);return e}var as=(i,t)=>Oo(i,t,Ts(t)),Do=(i,{valueAsNumber:t,valueAsDate:e,setValueAs:s})=>lt(i)?i:t?i===""?NaN:i&&+i:e&&It(i)?new Date(i):s?s(i):i;function vi(i){const t=i.ref;if(!(i.refs?i.refs.every(e=>e.disabled):t.disabled))return gr(t)?t.files:vr(t)?Mo(i.refs).value:Po(t)?[...t.selectedOptions].map(({value:e})=>e):ns(t)?Ro(i.refs).value:Do(lt(t.value)?i.ref.value:t.value,i)}var ih=(i,t,e,s)=>{const r={};for(const n of i){const o=M(t,n);o&&st(r,n,o._f)}return{criteriaMode:e,names:[...i],fields:r,shouldUseNativeValidation:s}},Le=i=>lt(i)?i:ks(i)?i.source:ft(i)?ks(i.value)?i.value.source:i.value:i;const qr="AsyncFunction";var rh=i=>(!i||!i.validate)&&!!(Ut(i.validate)&&i.validate.constructor.name===qr||ft(i.validate)&&Object.values(i.validate).find(t=>t.constructor.name===qr)),nh=i=>i.mount&&(i.required||i.min||i.max||i.maxLength||i.minLength||i.pattern||i.validate);function tn(i,t,e){const s=M(i,e);if(s||pr(e))return{error:s,name:e};const r=e.split(".");for(;r.length;){const n=r.join("."),o=M(t,n),a=M(i,n);if(o&&!Array.isArray(o)&&e!==n)return{name:e};if(a&&a.type)return{name:n,error:a};r.pop()}return{name:e}}var oh=(i,t,e,s,r)=>r.isOnAll?!1:!e&&r.isOnTouch?!(t||i):(e?s.isOnBlur:r.isOnBlur)?!i:(e?s.isOnChange:r.isOnChange)?i:!0,ah=(i,t)=>!Ks(M(i,t)).length&&pt(i,t);const lh={mode:Vt.onSubmit,reValidateMode:Vt.onChange,shouldFocusError:!0};function hh(i={}){let t={...lh,...i},e={submitCount:0,isDirty:!1,isLoading:Ut(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},r=ft(t.defaultValues)||ft(t.values)?Et(t.defaultValues||t.values)||{}:{},n=t.shouldUnregister?{}:Et(r),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,h=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},u={values:mi(),array:mi(),state:mi()},d=Zr(t.mode),g=Zr(t.reValidateMode),v=t.criteriaMode===Vt.all,y=m=>x=>{clearTimeout(h),h=setTimeout(m,x)},b=async m=>{if(c.isValid||m){const x=t.resolver?Tt((await Z()).errors):await W(s,!0);x!==e.isValid&&u.state.next({isValid:x})}},w=(m,x)=>{(c.isValidating||c.validatingFields)&&((m||Array.from(a.mount)).forEach(S=>{S&&(x?st(e.validatingFields,S,x):pt(e.validatingFields,S))}),u.state.next({validatingFields:e.validatingFields,isValidating:!Tt(e.validatingFields)}))},_=(m,x=[],S,z,O=!0,N=!0)=>{if(z&&S){if(o.action=!0,N&&Array.isArray(M(s,m))){const F=S(M(s,m),z.argA,z.argB);O&&st(s,m,F)}if(N&&Array.isArray(M(e.errors,m))){const F=S(M(e.errors,m),z.argA,z.argB);O&&st(e.errors,m,F),ah(e.errors,m)}if(c.touchedFields&&N&&Array.isArray(M(e.touchedFields,m))){const F=S(M(e.touchedFields,m),z.argA,z.argB);O&&st(e.touchedFields,m,F)}c.dirtyFields&&(e.dirtyFields=as(r,n)),u.state.next({name:m,isDirty:P(m,x),dirtyFields:e.dirtyFields,errors:e.errors,isValid:e.isValid})}else st(n,m,x)},A=(m,x)=>{st(e.errors,m,x),u.state.next({errors:e.errors})},C=m=>{e.errors=m,u.state.next({errors:e.errors,isValid:!1})},R=(m,x,S,z)=>{const O=M(s,m);if(O){const N=M(n,m,lt(S)?M(r,m):S);lt(N)||z&&z.defaultChecked||x?st(n,m,x?N:vi(O._f)):Q(m,N),o.mount&&b()}},B=(m,x,S,z,O)=>{let N=!1,F=!1;const et={name:m},mt=!!(M(s,m)&&M(s,m)._f&&M(s,m)._f.disabled);if(!S||z){c.isDirty&&(F=e.isDirty,e.isDirty=et.isDirty=P(),N=F!==et.isDirty);const gt=mt||ee(M(r,m),x);F=!!(!mt&&M(e.dirtyFields,m)),gt||mt?pt(e.dirtyFields,m):st(e.dirtyFields,m,!0),et.dirtyFields=e.dirtyFields,N=N||c.dirtyFields&&F!==!gt}if(S){const gt=M(e.touchedFields,m);gt||(st(e.touchedFields,m,S),et.touchedFields=e.touchedFields,N=N||c.touchedFields&&gt!==S)}return N&&O&&u.state.next(et),N?et:{}},I=(m,x,S,z)=>{const O=M(e.errors,m),N=c.isValid&&At(x)&&e.isValid!==x;if(i.delayError&&S?(l=y(()=>A(m,S)),l(i.delayError)):(clearTimeout(h),l=null,S?st(e.errors,m,S):pt(e.errors,m)),(S?!ee(O,S):O)||!Tt(z)||N){const F={...z,...N&&At(x)?{isValid:x}:{},errors:e.errors,name:m};e={...e,...F},u.state.next(F)}},Z=async m=>{w(m,!0);const x=await t.resolver(n,t.context,ih(m||a.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return w(m),x},L=async m=>{const{errors:x}=await Z(m);if(m)for(const S of m){const z=M(x,S);z?st(e.errors,S,z):pt(e.errors,S)}else e.errors=x;return x},W=async(m,x,S={valid:!0})=>{for(const z in m){const O=m[z];if(O){const{_f:N,...F}=O;if(N){const et=a.array.has(N.name),mt=O._f&&rh(O._f);mt&&c.validatingFields&&w([z],!0);const gt=await Jr(O,n,v,t.shouldUseNativeValidation&&!x,et);if(mt&&c.validatingFields&&w([z]),gt[N.name]&&(S.valid=!1,x))break;!x&&(M(gt,N.name)?et?ql(e.errors,gt,N.name):st(e.errors,N.name,gt[N.name]):pt(e.errors,N.name))}!Tt(F)&&await W(F,x,S)}}return S.valid},it=()=>{for(const m of a.unMount){const x=M(s,m);x&&(x._f.refs?x._f.refs.every(S=>!gi(S)):!gi(x._f.ref))&&ui(m)}a.unMount=new Set},P=(m,x)=>(m&&x&&st(n,m,x),!ee(kt(),r)),X=(m,x,S)=>To(m,a,{...o.mount?n:lt(x)?r:It(m)?{[m]:x}:x},S,x),E=m=>Ks(M(o.mount?n:r,m,i.shouldUnregister?M(r,m,[]):[])),Q=(m,x,S={})=>{const z=M(s,m);let O=x;if(z){const N=z._f;N&&(!N.disabled&&st(n,m,Do(x,N)),O=Cs(N.ref)&&xt(x)?"":x,Po(N.ref)?[...N.ref.options].forEach(F=>F.selected=O.includes(F.value)):N.refs?ns(N.ref)?N.refs.length>1?N.refs.forEach(F=>(!F.defaultChecked||!F.disabled)&&(F.checked=Array.isArray(O)?!!O.find(et=>et===F.value):O===F.value)):N.refs[0]&&(N.refs[0].checked=!!O):N.refs.forEach(F=>F.checked=F.value===O):gr(N.ref)?N.ref.value="":(N.ref.value=O,N.ref.type||u.values.next({name:m,values:{...n}})))}(S.shouldDirty||S.shouldTouch)&&B(m,O,S.shouldTouch,S.shouldDirty,!0),S.shouldValidate&&Ct(m)},tt=(m,x,S)=>{for(const z in x){const O=x[z],N=`${m}.${z}`,F=M(s,N);(a.array.has(m)||!Es(O)||F&&!F._f)&&!be(O)?tt(N,O,S):Q(N,O,S)}},$=(m,x,S={})=>{const z=M(s,m),O=a.array.has(m),N=Et(x);st(n,m,N),O?(u.array.next({name:m,values:{...n}}),(c.isDirty||c.dirtyFields)&&S.shouldDirty&&u.state.next({name:m,dirtyFields:as(r,n),isDirty:P(m,N)})):z&&!z._f&&!xt(N)?tt(m,N,S):Q(m,N,S),Xr(m,a)&&u.state.next({...e}),u.values.next({name:o.mount?m:void 0,values:{...n}})},ot=async m=>{o.mount=!0;const x=m.target;let S=x.name,z=!0;const O=M(s,S),N=()=>x.type?vi(O._f):wo(m),F=et=>{z=Number.isNaN(et)||ee(et,M(n,S,et))};if(O){let et,mt;const gt=N(),re=m.type===Ss.BLUR||m.type===Ss.FOCUS_OUT,xl=!nh(O._f)&&!t.resolver&&!M(e.errors,S)&&!O._f.deps||oh(re,M(e.touchedFields,S),e.isSubmitted,g,d),fi=Xr(S,a,re);st(n,S,gt),re?(O._f.onBlur&&O._f.onBlur(m),l&&l(0)):O._f.onChange&&O._f.onChange(m);const pi=B(S,gt,re,!1),_l=!Tt(pi)||fi;if(!re&&u.values.next({name:S,type:m.type,values:{...n}}),xl)return c.isValid&&(i.mode==="onBlur"?re&&b():b()),_l&&u.state.next({name:S,...fi?{}:pi});if(!re&&fi&&u.state.next({...e}),t.resolver){const{errors:Br}=await Z([S]);if(F(gt),z){const Sl=tn(e.errors,s,S),Wr=tn(Br,s,Sl.name||S);et=Wr.error,S=Wr.name,mt=Tt(Br)}}else w([S],!0),et=(await Jr(O,n,v,t.shouldUseNativeValidation))[S],w([S]),F(gt),z&&(et?mt=!1:c.isValid&&(mt=await W(s,!0)));z&&(O._f.deps&&Ct(O._f.deps),I(S,mt,et,pi))}},ht=(m,x)=>{if(M(e.errors,x)&&m.focus)return m.focus(),1},Ct=async(m,x={})=>{let S,z;const O=Ze(m);if(t.resolver){const N=await L(lt(m)?m:O);S=Tt(N),z=m?!O.some(F=>M(N,F)):S}else m?(z=(await Promise.all(O.map(async N=>{const F=M(s,N);return await W(F&&F._f?{[N]:F}:F)}))).every(Boolean),!(!z&&!e.isValid)&&b()):z=S=await W(s);return u.state.next({...!It(m)||c.isValid&&S!==e.isValid?{}:{name:m},...t.resolver||!m?{isValid:S}:{},errors:e.errors}),x.shouldFocus&&!z&&Xe(s,ht,m?O:a.mount),z},kt=m=>{const x={...o.mount?n:r};return lt(m)?x:It(m)?M(x,m):m.map(S=>M(x,S))},pe=(m,x)=>({invalid:!!M((x||e).errors,m),isDirty:!!M((x||e).dirtyFields,m),error:M((x||e).errors,m),isValidating:!!M(e.validatingFields,m),isTouched:!!M((x||e).touchedFields,m)}),me=m=>{m&&Ze(m).forEach(x=>pt(e.errors,x)),u.state.next({errors:m?e.errors:{}})},Ve=(m,x,S)=>{const z=(M(s,m,{_f:{}})._f||{}).ref,O=M(e.errors,m)||{},{ref:N,message:F,type:et,...mt}=O;st(e.errors,m,{...mt,...x,ref:z}),u.state.next({name:m,errors:e.errors,isValid:!1}),S&&S.shouldFocus&&z&&z.focus&&z.focus()},yl=(m,x)=>Ut(m)?u.values.subscribe({next:S=>m(X(void 0,x),S)}):X(m,x,!0),ui=(m,x={})=>{for(const S of m?Ze(m):a.mount)a.mount.delete(S),a.array.delete(S),x.keepValue||(pt(s,S),pt(n,S)),!x.keepError&&pt(e.errors,S),!x.keepDirty&&pt(e.dirtyFields,S),!x.keepTouched&&pt(e.touchedFields,S),!x.keepIsValidating&&pt(e.validatingFields,S),!t.shouldUnregister&&!x.keepDefaultValue&&pt(r,S);u.values.next({values:{...n}}),u.state.next({...e,...x.keepDirty?{isDirty:P()}:{}}),!x.keepIsValid&&b()},Vr=({disabled:m,name:x,field:S,fields:z,value:O})=>{if(At(m)&&o.mount||m){const N=m?void 0:lt(O)?vi(S?S._f:M(z,x)._f):O;st(n,x,N),B(x,N,!1,!1,!0)}},di=(m,x={})=>{let S=M(s,m);const z=At(x.disabled)||At(i.disabled);return st(s,m,{...S||{},_f:{...S&&S._f?S._f:{ref:{name:m}},name:m,mount:!0,...x}}),a.mount.add(m),S?Vr({field:S,disabled:At(x.disabled)?x.disabled:i.disabled,name:m,value:x.value}):R(m,!0,x.value),{...z?{disabled:x.disabled||i.disabled}:{},...t.progressive?{required:!!x.required,min:Le(x.min),max:Le(x.max),minLength:Le(x.minLength),maxLength:Le(x.maxLength),pattern:Le(x.pattern)}:{},name:m,onChange:ot,onBlur:ot,ref:O=>{if(O){di(m,x),S=M(s,m);const N=lt(O.value)&&O.querySelectorAll&&O.querySelectorAll("input,select,textarea")[0]||O,F=sh(N),et=S._f.refs||[];if(F?et.find(mt=>mt===N):N===S._f.ref)return;st(s,m,{_f:{...S._f,...F?{refs:[...et.filter(gi),N,...Array.isArray(M(r,m))?[{}]:[]],ref:{type:N.type,name:m}}:{ref:N}}}),R(m,!1,void 0,N)}else S=M(s,m,{}),S._f&&(S._f.mount=!1),(t.shouldUnregister||x.shouldUnregister)&&!(xo(a.array,m)&&o.action)&&a.unMount.add(m)}}},Lr=()=>t.shouldFocusError&&Xe(s,ht,a.mount),bl=m=>{At(m)&&(u.state.next({disabled:m}),Xe(s,(x,S)=>{const z=M(s,S);z&&(x.disabled=z._f.disabled||m,Array.isArray(z._f.refs)&&z._f.refs.forEach(O=>{O.disabled=z._f.disabled||m}))},0,!1))},Ir=(m,x)=>async S=>{let z;S&&(S.preventDefault&&S.preventDefault(),S.persist&&S.persist());let O=Et(n);if(u.state.next({isSubmitting:!0}),t.resolver){const{errors:N,values:F}=await Z();e.errors=N,O=F}else await W(s);if(pt(e.errors,"root"),Tt(e.errors)){u.state.next({errors:{}});try{await m(O,S)}catch(N){z=N}}else x&&await x({...e.errors},S),Lr(),setTimeout(Lr);if(u.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Tt(e.errors)&&!z,submitCount:e.submitCount+1,errors:e.errors}),z)throw z},wl=(m,x={})=>{M(s,m)&&(lt(x.defaultValue)?$(m,Et(M(r,m))):($(m,x.defaultValue),st(r,m,Et(x.defaultValue))),x.keepTouched||pt(e.touchedFields,m),x.keepDirty||(pt(e.dirtyFields,m),e.isDirty=x.defaultValue?P(m,Et(M(r,m))):P()),x.keepError||(pt(e.errors,m),c.isValid&&b()),u.state.next({...e}))},jr=(m,x={})=>{const S=m?Et(m):r,z=Et(S),O=Tt(m),N=O?r:z;if(x.keepDefaultValues||(r=S),!x.keepValues){if(x.keepDirtyValues)for(const F of a.mount)M(e.dirtyFields,F)?st(N,F,M(n,F)):$(F,M(N,F));else{if(fr&&lt(m))for(const F of a.mount){const et=M(s,F);if(et&&et._f){const mt=Array.isArray(et._f.refs)?et._f.refs[0]:et._f.ref;if(Cs(mt)){const gt=mt.closest("form");if(gt){gt.reset();break}}}}s={}}n=i.shouldUnregister?x.keepDefaultValues?Et(r):{}:Et(N),u.array.next({values:{...N}}),u.values.next({values:{...N}})}a={mount:x.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!c.isValid||!!x.keepIsValid||!!x.keepDirtyValues,o.watch=!!i.shouldUnregister,u.state.next({submitCount:x.keepSubmitCount?e.submitCount:0,isDirty:O?!1:x.keepDirty?e.isDirty:!!(x.keepDefaultValues&&!ee(m,r)),isSubmitted:x.keepIsSubmitted?e.isSubmitted:!1,dirtyFields:O?{}:x.keepDirtyValues?x.keepDefaultValues&&n?as(r,n):e.dirtyFields:x.keepDefaultValues&&m?as(r,m):x.keepDirty?e.dirtyFields:{},touchedFields:x.keepTouched?e.touchedFields:{},errors:x.keepErrors?e.errors:{},isSubmitSuccessful:x.keepIsSubmitSuccessful?e.isSubmitSuccessful:!1,isSubmitting:!1})},Fr=(m,x)=>jr(Ut(m)?m(n):m,x);return{control:{register:di,unregister:ui,getFieldState:pe,handleSubmit:Ir,setError:Ve,_executeSchema:Z,_getWatch:X,_getDirty:P,_updateValid:b,_removeUnmounted:it,_updateFieldArray:_,_updateDisabledField:Vr,_getFieldArray:E,_reset:jr,_resetDefaultValues:()=>Ut(t.defaultValues)&&t.defaultValues().then(m=>{Fr(m,t.resetOptions),u.state.next({isLoading:!1})}),_updateFormState:m=>{e={...e,...m}},_disableForm:bl,_subjects:u,_proxyFormState:c,_setErrors:C,get _fields(){return s},get _formValues(){return n},get _state(){return o},set _state(m){o=m},get _defaultValues(){return r},get _names(){return a},set _names(m){a=m},get _formState(){return e},set _formState(m){e=m},get _options(){return t},set _options(m){t={...t,...m}}},trigger:Ct,register:di,handleSubmit:Ir,watch:yl,setValue:$,getValues:kt,reset:Fr,resetField:wl,clearErrors:me,unregister:ui,setError:Ve,setFocus:(m,x={})=>{const S=M(s,m),z=S&&S._f;if(z){const O=z.refs?z.refs[0]:z.ref;O.focus&&(O.focus(),x.shouldSelect&&O.select())}},getFieldState:pe}}function ch(i={}){const t=J.useRef(),e=J.useRef(),[s,r]=J.useState({isDirty:!1,isValidating:!1,isLoading:Ut(i.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:i.errors||{},disabled:i.disabled||!1,defaultValues:Ut(i.defaultValues)?void 0:i.defaultValues});t.current||(t.current={...hh(i),formState:s});const n=t.current.control;return n._options=i,mr({subject:n._subjects.state,next:o=>{ko(o,n._proxyFormState,n._updateFormState,!0)&&r({...n._formState})}}),J.useEffect(()=>n._disableForm(i.disabled),[n,i.disabled]),J.useEffect(()=>{if(n._proxyFormState.isDirty){const o=n._getDirty();o!==s.isDirty&&n._subjects.state.next({isDirty:o})}},[n,s.isDirty]),J.useEffect(()=>{i.values&&!ee(i.values,e.current)?(n._reset(i.values,n._options.resetOptions),e.current=i.values,r(o=>({...o}))):n._resetDefaultValues()},[i.values,n]),J.useEffect(()=>{i.errors&&n._setErrors(i.errors)},[i.errors,n]),J.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),J.useEffect(()=>{i.shouldUnregister&&n._subjects.values.next({values:n._getWatch()})},[i.shouldUnregister,n]),t.current.formState=Co(s,n),t.current}const en=(i,t,e)=>{if(i&&"reportValidity"in i){const s=M(e,t);i.setCustomValidity(s&&s.message||""),i.reportValidity()}},zo=(i,t)=>{for(const e in t.fields){const s=t.fields[e];s&&s.ref&&"reportValidity"in s.ref?en(s.ref,e,i):s.refs&&s.refs.forEach(r=>en(r,e,i))}},uh=(i,t)=>{t.shouldUseNativeValidation&&zo(i,t);const e={};for(const s in i){const r=M(t.fields,s),n=Object.assign(i[s]||{},{ref:r&&r.ref});if(dh(t.names||Object.keys(i),s)){const o=Object.assign({},M(e,s));st(o,"root",n),st(e,s,o)}else st(e,s,n)}return e},dh=(i,t)=>i.some(e=>e.startsWith(t+"."));var fh=function(i,t){for(var e={};i.length;){var s=i[0],r=s.code,n=s.message,o=s.path.join(".");if(!e[o])if("unionErrors"in s){var a=s.unionErrors[0].errors[0];e[o]={message:a.message,type:a.code}}else e[o]={message:n,type:r};if("unionErrors"in s&&s.unionErrors.forEach(function(c){return c.errors.forEach(function(u){return i.push(u)})}),t){var l=e[o].types,h=l&&l[s.code];e[o]=No(o,t,e,r,h?[].concat(h,s.message):s.message)}i.shift()}return e},ph=function(i,t,e){return e===void 0&&(e={}),function(s,r,n){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(i[e.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(h){return n.shouldUseNativeValidation&&zo({},n),{errors:{},values:e.raw?s:h}})}catch(h){return a(h)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:uh(fh(o.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw o}))}catch(o){return Promise.reject(o)}}},q;(function(i){i.assertEqual=r=>r;function t(r){}i.assertIs=t;function e(r){throw new Error}i.assertNever=e,i.arrayToEnum=r=>{const n={};for(const o of r)n[o]=o;return n},i.getValidEnumValues=r=>{const n=i.objectKeys(r).filter(a=>typeof r[r[a]]!="number"),o={};for(const a of n)o[a]=r[a];return i.objectValues(o)},i.objectValues=r=>i.objectKeys(r).map(function(n){return r[n]}),i.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const n=[];for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&n.push(o);return n},i.find=(r,n)=>{for(const o of r)if(n(o))return o},i.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function s(r,n=" | "){return r.map(o=>typeof o=="string"?`'${o}'`:o).join(n)}i.joinValues=s,i.jsonStringifyReplacer=(r,n)=>typeof n=="bigint"?n.toString():n})(q||(q={}));var sn;(function(i){i.mergeShapes=(t,e)=>({...t,...e})})(sn||(sn={}));const V=q.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),oe=i=>{switch(typeof i){case"undefined":return V.undefined;case"string":return V.string;case"number":return isNaN(i)?V.nan:V.number;case"boolean":return V.boolean;case"function":return V.function;case"bigint":return V.bigint;case"symbol":return V.symbol;case"object":return Array.isArray(i)?V.array:i===null?V.null:i.then&&typeof i.then=="function"&&i.catch&&typeof i.catch=="function"?V.promise:typeof Map<"u"&&i instanceof Map?V.map:typeof Set<"u"&&i instanceof Set?V.set:typeof Date<"u"&&i instanceof Date?V.date:V.object;default:return V.unknown}},k=q.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Dt extends Error{constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const e=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,e):this.__proto__=e,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const e=t||function(n){return n.message},s={_errors:[]},r=n=>{for(const o of n.issues)if(o.code==="invalid_union")o.unionErrors.map(r);else if(o.code==="invalid_return_type")r(o.returnTypeError);else if(o.code==="invalid_arguments")r(o.argumentsError);else if(o.path.length===0)s._errors.push(e(o));else{let a=s,l=0;for(;l<o.path.length;){const h=o.path[l];l===o.path.length-1?(a[h]=a[h]||{_errors:[]},a[h]._errors.push(e(o))):a[h]=a[h]||{_errors:[]},a=a[h],l++}}};return r(this),s}static assert(t){if(!(t instanceof Dt))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,q.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=e=>e.message){const e={},s=[];for(const r of this.issues)r.path.length>0?(e[r.path[0]]=e[r.path[0]]||[],e[r.path[0]].push(t(r))):s.push(t(r));return{formErrors:s,fieldErrors:e}}get formErrors(){return this.flatten()}}Dt.create=i=>new Dt(i);const ts=(i,t)=>{let e;switch(i.code){case k.invalid_type:i.received===V.undefined?e="Required":e=`Expected ${i.expected}, received ${i.received}`;break;case k.invalid_literal:e=`Invalid literal value, expected ${JSON.stringify(i.expected,q.jsonStringifyReplacer)}`;break;case k.unrecognized_keys:e=`Unrecognized key(s) in object: ${q.joinValues(i.keys,", ")}`;break;case k.invalid_union:e="Invalid input";break;case k.invalid_union_discriminator:e=`Invalid discriminator value. Expected ${q.joinValues(i.options)}`;break;case k.invalid_enum_value:e=`Invalid enum value. Expected ${q.joinValues(i.options)}, received '${i.received}'`;break;case k.invalid_arguments:e="Invalid function arguments";break;case k.invalid_return_type:e="Invalid function return type";break;case k.invalid_date:e="Invalid date";break;case k.invalid_string:typeof i.validation=="object"?"includes"in i.validation?(e=`Invalid input: must include "${i.validation.includes}"`,typeof i.validation.position=="number"&&(e=`${e} at one or more positions greater than or equal to ${i.validation.position}`)):"startsWith"in i.validation?e=`Invalid input: must start with "${i.validation.startsWith}"`:"endsWith"in i.validation?e=`Invalid input: must end with "${i.validation.endsWith}"`:q.assertNever(i.validation):i.validation!=="regex"?e=`Invalid ${i.validation}`:e="Invalid";break;case k.too_small:i.type==="array"?e=`Array must contain ${i.exact?"exactly":i.inclusive?"at least":"more than"} ${i.minimum} element(s)`:i.type==="string"?e=`String must contain ${i.exact?"exactly":i.inclusive?"at least":"over"} ${i.minimum} character(s)`:i.type==="number"?e=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="date"?e=`Date must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(i.minimum))}`:e="Invalid input";break;case k.too_big:i.type==="array"?e=`Array must contain ${i.exact?"exactly":i.inclusive?"at most":"less than"} ${i.maximum} element(s)`:i.type==="string"?e=`String must contain ${i.exact?"exactly":i.inclusive?"at most":"under"} ${i.maximum} character(s)`:i.type==="number"?e=`Number must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="bigint"?e=`BigInt must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="date"?e=`Date must be ${i.exact?"exactly":i.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(i.maximum))}`:e="Invalid input";break;case k.custom:e="Invalid input";break;case k.invalid_intersection_types:e="Intersection results could not be merged";break;case k.not_multiple_of:e=`Number must be a multiple of ${i.multipleOf}`;break;case k.not_finite:e="Number must be finite";break;default:e=t.defaultError,q.assertNever(i)}return{message:e}};let mh=ts;function Fi(){return mh}const Bi=i=>{const{data:t,path:e,errorMaps:s,issueData:r}=i,n=[...e,...r.path||[]],o={...r,path:n};if(r.message!==void 0)return{...r,path:n,message:r.message};let a="";const l=s.filter(h=>!!h).slice().reverse();for(const h of l)a=h(o,{data:t,defaultError:a}).message;return{...r,path:n,message:a}};function D(i,t){const e=Fi(),s=Bi({issueData:t,data:i.data,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,e,e===ts?void 0:ts].filter(r=>!!r)});i.common.issues.push(s)}class St{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,e){const s=[];for(const r of e){if(r.status==="aborted")return U;r.status==="dirty"&&t.dirty(),s.push(r.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,e){const s=[];for(const r of e){const n=await r.key,o=await r.value;s.push({key:n,value:o})}return St.mergeObjectSync(t,s)}static mergeObjectSync(t,e){const s={};for(const r of e){const{key:n,value:o}=r;if(n.status==="aborted"||o.status==="aborted")return U;n.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),n.value!=="__proto__"&&(typeof o.value<"u"||r.alwaysSet)&&(s[n.value]=o.value)}return{status:t.value,value:s}}}const U=Object.freeze({status:"aborted"}),We=i=>({status:"dirty",value:i}),Nt=i=>({status:"valid",value:i}),rn=i=>i.status==="aborted",nn=i=>i.status==="dirty",Ns=i=>i.status==="valid",Rs=i=>typeof Promise<"u"&&i instanceof Promise;function Ms(i,t,e,s){if(typeof t=="function"?i!==t||!s:!t.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(i)}function Vo(i,t,e,s,r){if(typeof t=="function"?i!==t||!r:!t.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(i,e),e}var j;(function(i){i.errToObj=t=>typeof t=="string"?{message:t}:t||{},i.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(j||(j={}));var $e,Ye;class Ft{constructor(t,e,s,r){this._cachedPath=[],this.parent=t,this.data=e,this._path=s,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const on=(i,t)=>{if(Ns(t))return{success:!0,data:t.value};if(!i.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const e=new Dt(i.common.issues);return this._error=e,this._error}}};function H(i){if(!i)return{};const{errorMap:t,invalid_type_error:e,required_error:s,description:r}=i;if(t&&(e||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:r}:{errorMap:(o,a)=>{var l,h;const{message:c}=i;return o.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:(l=c??s)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(h=c??e)!==null&&h!==void 0?h:a.defaultError}},description:r}}class G{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return oe(t.data)}_getOrReturnCtx(t,e){return e||{common:t.parent.common,data:t.data,parsedType:oe(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new St,ctx:{common:t.parent.common,data:t.data,parsedType:oe(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const e=this._parse(t);if(Rs(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(t){const e=this._parse(t);return Promise.resolve(e)}parse(t,e){const s=this.safeParse(t,e);if(s.success)return s.data;throw s.error}safeParse(t,e){var s;const r={common:{issues:[],async:(s=e==null?void 0:e.async)!==null&&s!==void 0?s:!1,contextualErrorMap:e==null?void 0:e.errorMap},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:oe(t)},n=this._parseSync({data:t,path:r.path,parent:r});return on(r,n)}async parseAsync(t,e){const s=await this.safeParseAsync(t,e);if(s.success)return s.data;throw s.error}async safeParseAsync(t,e){const s={common:{issues:[],contextualErrorMap:e==null?void 0:e.errorMap,async:!0},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:oe(t)},r=this._parse({data:t,path:s.path,parent:s}),n=await(Rs(r)?r:Promise.resolve(r));return on(s,n)}refine(t,e){const s=r=>typeof e=="string"||typeof e>"u"?{message:e}:typeof e=="function"?e(r):e;return this._refinement((r,n)=>{const o=t(r),a=()=>n.addIssue({code:k.custom,...s(r)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,e){return this._refinement((s,r)=>t(s)?!0:(r.addIssue(typeof e=="function"?e(s,r):e),!1))}_refinement(t){return new Gt({schema:this,typeName:Y.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Ht.create(this,this._def)}nullable(){return ce.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return jt.create(this,this._def)}promise(){return ss.create(this,this._def)}or(t){return Os.create([this,t],this._def)}and(t){return Ds.create(this,t,this._def)}transform(t){return new Gt({...H(this._def),schema:this,typeName:Y.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const e=typeof t=="function"?t:()=>t;return new js({...H(this._def),innerType:this,defaultValue:e,typeName:Y.ZodDefault})}brand(){return new Fo({typeName:Y.ZodBranded,type:this,...H(this._def)})}catch(t){const e=typeof t=="function"?t:()=>t;return new Fs({...H(this._def),innerType:this,catchValue:e,typeName:Y.ZodCatch})}describe(t){const e=this.constructor;return new e({...this._def,description:t})}pipe(t){return Js.create(this,t)}readonly(){return Bs.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const gh=/^c[^\s-]{8,}$/i,vh=/^[0-9a-z]+$/,yh=/^[0-9A-HJKMNP-TV-Z]{26}$/,bh=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,wh=/^[a-z0-9_-]{21}$/i,xh=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,_h=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Sh="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let yi;const Ch=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,kh=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Eh=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Lo="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Th=new RegExp(`^${Lo}$`);function Io(i){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return i.precision?t=`${t}\\.\\d{${i.precision}}`:i.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Nh(i){return new RegExp(`^${Io(i)}$`)}function Rh(i){let t=`${Lo}T${Io(i)}`;const e=[];return e.push(i.local?"Z?":"Z"),i.offset&&e.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${e.join("|")})`,new RegExp(`^${t}$`)}function Mh(i,t){return!!((t==="v4"||!t)&&Ch.test(i)||(t==="v6"||!t)&&kh.test(i))}class Zt extends G{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==V.string){const n=this._getOrReturnCtx(t);return D(n,{code:k.invalid_type,expected:V.string,received:n.parsedType}),U}const s=new St;let r;for(const n of this._def.checks)if(n.kind==="min")t.data.length<n.value&&(r=this._getOrReturnCtx(t,r),D(r,{code:k.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),s.dirty());else if(n.kind==="max")t.data.length>n.value&&(r=this._getOrReturnCtx(t,r),D(r,{code:k.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),s.dirty());else if(n.kind==="length"){const o=t.data.length>n.value,a=t.data.length<n.value;(o||a)&&(r=this._getOrReturnCtx(t,r),o?D(r,{code:k.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):a&&D(r,{code:k.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),s.dirty())}else if(n.kind==="email")_h.test(t.data)||(r=this._getOrReturnCtx(t,r),D(r,{validation:"email",code:k.invalid_string,message:n.message}),s.dirty());else if(n.kind==="emoji")yi||(yi=new RegExp(Sh,"u")),yi.test(t.data)||(r=this._getOrReturnCtx(t,r),D(r,{validation:"emoji",code:k.invalid_string,message:n.message}),s.dirty());else if(n.kind==="uuid")bh.test(t.data)||(r=this._getOrReturnCtx(t,r),D(r,{validation:"uuid",code:k.invalid_string,message:n.message}),s.dirty());else if(n.kind==="nanoid")wh.test(t.data)||(r=this._getOrReturnCtx(t,r),D(r,{validation:"nanoid",code:k.invalid_string,message:n.message}),s.dirty());else if(n.kind==="cuid")gh.test(t.data)||(r=this._getOrReturnCtx(t,r),D(r,{validation:"cuid",code:k.invalid_string,message:n.message}),s.dirty());else if(n.kind==="cuid2")vh.test(t.data)||(r=this._getOrReturnCtx(t,r),D(r,{validation:"cuid2",code:k.invalid_string,message:n.message}),s.dirty());else if(n.kind==="ulid")yh.test(t.data)||(r=this._getOrReturnCtx(t,r),D(r,{validation:"ulid",code:k.invalid_string,message:n.message}),s.dirty());else if(n.kind==="url")try{new URL(t.data)}catch{r=this._getOrReturnCtx(t,r),D(r,{validation:"url",code:k.invalid_string,message:n.message}),s.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(t.data)||(r=this._getOrReturnCtx(t,r),D(r,{validation:"regex",code:k.invalid_string,message:n.message}),s.dirty())):n.kind==="trim"?t.data=t.data.trim():n.kind==="includes"?t.data.includes(n.value,n.position)||(r=this._getOrReturnCtx(t,r),D(r,{code:k.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),s.dirty()):n.kind==="toLowerCase"?t.data=t.data.toLowerCase():n.kind==="toUpperCase"?t.data=t.data.toUpperCase():n.kind==="startsWith"?t.data.startsWith(n.value)||(r=this._getOrReturnCtx(t,r),D(r,{code:k.invalid_string,validation:{startsWith:n.value},message:n.message}),s.dirty()):n.kind==="endsWith"?t.data.endsWith(n.value)||(r=this._getOrReturnCtx(t,r),D(r,{code:k.invalid_string,validation:{endsWith:n.value},message:n.message}),s.dirty()):n.kind==="datetime"?Rh(n).test(t.data)||(r=this._getOrReturnCtx(t,r),D(r,{code:k.invalid_string,validation:"datetime",message:n.message}),s.dirty()):n.kind==="date"?Th.test(t.data)||(r=this._getOrReturnCtx(t,r),D(r,{code:k.invalid_string,validation:"date",message:n.message}),s.dirty()):n.kind==="time"?Nh(n).test(t.data)||(r=this._getOrReturnCtx(t,r),D(r,{code:k.invalid_string,validation:"time",message:n.message}),s.dirty()):n.kind==="duration"?xh.test(t.data)||(r=this._getOrReturnCtx(t,r),D(r,{validation:"duration",code:k.invalid_string,message:n.message}),s.dirty()):n.kind==="ip"?Mh(t.data,n.version)||(r=this._getOrReturnCtx(t,r),D(r,{validation:"ip",code:k.invalid_string,message:n.message}),s.dirty()):n.kind==="base64"?Eh.test(t.data)||(r=this._getOrReturnCtx(t,r),D(r,{validation:"base64",code:k.invalid_string,message:n.message}),s.dirty()):q.assertNever(n);return{status:s.value,value:t.data}}_regex(t,e,s){return this.refinement(r=>t.test(r),{validation:e,code:k.invalid_string,...j.errToObj(s)})}_addCheck(t){return new Zt({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...j.errToObj(t)})}url(t){return this._addCheck({kind:"url",...j.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...j.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...j.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...j.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...j.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...j.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...j.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...j.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...j.errToObj(t)})}datetime(t){var e,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(e=t==null?void 0:t.offset)!==null&&e!==void 0?e:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,...j.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...j.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...j.errToObj(t)})}regex(t,e){return this._addCheck({kind:"regex",regex:t,...j.errToObj(e)})}includes(t,e){return this._addCheck({kind:"includes",value:t,position:e==null?void 0:e.position,...j.errToObj(e==null?void 0:e.message)})}startsWith(t,e){return this._addCheck({kind:"startsWith",value:t,...j.errToObj(e)})}endsWith(t,e){return this._addCheck({kind:"endsWith",value:t,...j.errToObj(e)})}min(t,e){return this._addCheck({kind:"min",value:t,...j.errToObj(e)})}max(t,e){return this._addCheck({kind:"max",value:t,...j.errToObj(e)})}length(t,e){return this._addCheck({kind:"length",value:t,...j.errToObj(e)})}nonempty(t){return this.min(1,j.errToObj(t))}trim(){return new Zt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Zt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Zt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t}get maxLength(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t}}Zt.create=i=>{var t;return new Zt({checks:[],typeName:Y.ZodString,coerce:(t=i==null?void 0:i.coerce)!==null&&t!==void 0?t:!1,...H(i)})};function Ph(i,t){const e=(i.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,r=e>s?e:s,n=parseInt(i.toFixed(r).replace(".","")),o=parseInt(t.toFixed(r).replace(".",""));return n%o/Math.pow(10,r)}class Ce extends G{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==V.number){const n=this._getOrReturnCtx(t);return D(n,{code:k.invalid_type,expected:V.number,received:n.parsedType}),U}let s;const r=new St;for(const n of this._def.checks)n.kind==="int"?q.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),D(s,{code:k.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):n.kind==="min"?(n.inclusive?t.data<n.value:t.data<=n.value)&&(s=this._getOrReturnCtx(t,s),D(s,{code:k.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):n.kind==="max"?(n.inclusive?t.data>n.value:t.data>=n.value)&&(s=this._getOrReturnCtx(t,s),D(s,{code:k.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):n.kind==="multipleOf"?Ph(t.data,n.value)!==0&&(s=this._getOrReturnCtx(t,s),D(s,{code:k.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):n.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),D(s,{code:k.not_finite,message:n.message}),r.dirty()):q.assertNever(n);return{status:r.value,value:t.data}}gte(t,e){return this.setLimit("min",t,!0,j.toString(e))}gt(t,e){return this.setLimit("min",t,!1,j.toString(e))}lte(t,e){return this.setLimit("max",t,!0,j.toString(e))}lt(t,e){return this.setLimit("max",t,!1,j.toString(e))}setLimit(t,e,s,r){return new Ce({...this._def,checks:[...this._def.checks,{kind:t,value:e,inclusive:s,message:j.toString(r)}]})}_addCheck(t){return new Ce({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:j.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:j.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:j.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:j.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:j.toString(t)})}multipleOf(t,e){return this._addCheck({kind:"multipleOf",value:t,message:j.toString(e)})}finite(t){return this._addCheck({kind:"finite",message:j.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:j.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:j.toString(t)})}get minValue(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t}get maxValue(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&q.isInteger(t.value))}get isFinite(){let t=null,e=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(e===null||s.value>e)&&(e=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(e)&&Number.isFinite(t)}}Ce.create=i=>new Ce({checks:[],typeName:Y.ZodNumber,coerce:(i==null?void 0:i.coerce)||!1,...H(i)});class ke extends G{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==V.bigint){const n=this._getOrReturnCtx(t);return D(n,{code:k.invalid_type,expected:V.bigint,received:n.parsedType}),U}let s;const r=new St;for(const n of this._def.checks)n.kind==="min"?(n.inclusive?t.data<n.value:t.data<=n.value)&&(s=this._getOrReturnCtx(t,s),D(s,{code:k.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):n.kind==="max"?(n.inclusive?t.data>n.value:t.data>=n.value)&&(s=this._getOrReturnCtx(t,s),D(s,{code:k.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):n.kind==="multipleOf"?t.data%n.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),D(s,{code:k.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):q.assertNever(n);return{status:r.value,value:t.data}}gte(t,e){return this.setLimit("min",t,!0,j.toString(e))}gt(t,e){return this.setLimit("min",t,!1,j.toString(e))}lte(t,e){return this.setLimit("max",t,!0,j.toString(e))}lt(t,e){return this.setLimit("max",t,!1,j.toString(e))}setLimit(t,e,s,r){return new ke({...this._def,checks:[...this._def.checks,{kind:t,value:e,inclusive:s,message:j.toString(r)}]})}_addCheck(t){return new ke({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:j.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:j.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:j.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:j.toString(t)})}multipleOf(t,e){return this._addCheck({kind:"multipleOf",value:t,message:j.toString(e)})}get minValue(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t}get maxValue(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t}}ke.create=i=>{var t;return new ke({checks:[],typeName:Y.ZodBigInt,coerce:(t=i==null?void 0:i.coerce)!==null&&t!==void 0?t:!1,...H(i)})};class Wi extends G{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==V.boolean){const s=this._getOrReturnCtx(t);return D(s,{code:k.invalid_type,expected:V.boolean,received:s.parsedType}),U}return Nt(t.data)}}Wi.create=i=>new Wi({typeName:Y.ZodBoolean,coerce:(i==null?void 0:i.coerce)||!1,...H(i)});class es extends G{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==V.date){const n=this._getOrReturnCtx(t);return D(n,{code:k.invalid_type,expected:V.date,received:n.parsedType}),U}if(isNaN(t.data.getTime())){const n=this._getOrReturnCtx(t);return D(n,{code:k.invalid_date}),U}const s=new St;let r;for(const n of this._def.checks)n.kind==="min"?t.data.getTime()<n.value&&(r=this._getOrReturnCtx(t,r),D(r,{code:k.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),s.dirty()):n.kind==="max"?t.data.getTime()>n.value&&(r=this._getOrReturnCtx(t,r),D(r,{code:k.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),s.dirty()):q.assertNever(n);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new es({...this._def,checks:[...this._def.checks,t]})}min(t,e){return this._addCheck({kind:"min",value:t.getTime(),message:j.toString(e)})}max(t,e){return this._addCheck({kind:"max",value:t.getTime(),message:j.toString(e)})}get minDate(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t!=null?new Date(t):null}}es.create=i=>new es({checks:[],coerce:(i==null?void 0:i.coerce)||!1,typeName:Y.ZodDate,...H(i)});class $i extends G{_parse(t){if(this._getType(t)!==V.symbol){const s=this._getOrReturnCtx(t);return D(s,{code:k.invalid_type,expected:V.symbol,received:s.parsedType}),U}return Nt(t.data)}}$i.create=i=>new $i({typeName:Y.ZodSymbol,...H(i)});class Ps extends G{_parse(t){if(this._getType(t)!==V.undefined){const s=this._getOrReturnCtx(t);return D(s,{code:k.invalid_type,expected:V.undefined,received:s.parsedType}),U}return Nt(t.data)}}Ps.create=i=>new Ps({typeName:Y.ZodUndefined,...H(i)});class As extends G{_parse(t){if(this._getType(t)!==V.null){const s=this._getOrReturnCtx(t);return D(s,{code:k.invalid_type,expected:V.null,received:s.parsedType}),U}return Nt(t.data)}}As.create=i=>new As({typeName:Y.ZodNull,...H(i)});class Yi extends G{constructor(){super(...arguments),this._any=!0}_parse(t){return Nt(t.data)}}Yi.create=i=>new Yi({typeName:Y.ZodAny,...H(i)});class xe extends G{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Nt(t.data)}}xe.create=i=>new xe({typeName:Y.ZodUnknown,...H(i)});class ie extends G{_parse(t){const e=this._getOrReturnCtx(t);return D(e,{code:k.invalid_type,expected:V.never,received:e.parsedType}),U}}ie.create=i=>new ie({typeName:Y.ZodNever,...H(i)});class Ui extends G{_parse(t){if(this._getType(t)!==V.undefined){const s=this._getOrReturnCtx(t);return D(s,{code:k.invalid_type,expected:V.void,received:s.parsedType}),U}return Nt(t.data)}}Ui.create=i=>new Ui({typeName:Y.ZodVoid,...H(i)});class jt extends G{_parse(t){const{ctx:e,status:s}=this._processInputParams(t),r=this._def;if(e.parsedType!==V.array)return D(e,{code:k.invalid_type,expected:V.array,received:e.parsedType}),U;if(r.exactLength!==null){const o=e.data.length>r.exactLength.value,a=e.data.length<r.exactLength.value;(o||a)&&(D(e,{code:o?k.too_big:k.too_small,minimum:a?r.exactLength.value:void 0,maximum:o?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),s.dirty())}if(r.minLength!==null&&e.data.length<r.minLength.value&&(D(e,{code:k.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),s.dirty()),r.maxLength!==null&&e.data.length>r.maxLength.value&&(D(e,{code:k.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),s.dirty()),e.common.async)return Promise.all([...e.data].map((o,a)=>r.type._parseAsync(new Ft(e,o,e.path,a)))).then(o=>St.mergeArray(s,o));const n=[...e.data].map((o,a)=>r.type._parseSync(new Ft(e,o,e.path,a)));return St.mergeArray(s,n)}get element(){return this._def.type}min(t,e){return new jt({...this._def,minLength:{value:t,message:j.toString(e)}})}max(t,e){return new jt({...this._def,maxLength:{value:t,message:j.toString(e)}})}length(t,e){return new jt({...this._def,exactLength:{value:t,message:j.toString(e)}})}nonempty(t){return this.min(1,t)}}jt.create=(i,t)=>new jt({type:i,minLength:null,maxLength:null,exactLength:null,typeName:Y.ZodArray,...H(t)});function ye(i){if(i instanceof at){const t={};for(const e in i.shape){const s=i.shape[e];t[e]=Ht.create(ye(s))}return new at({...i._def,shape:()=>t})}else return i instanceof jt?new jt({...i._def,type:ye(i.element)}):i instanceof Ht?Ht.create(ye(i.unwrap())):i instanceof ce?ce.create(ye(i.unwrap())):i instanceof Kt?Kt.create(i.items.map(t=>ye(t))):i}class at extends G{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),e=q.objectKeys(t);return this._cached={shape:t,keys:e}}_parse(t){if(this._getType(t)!==V.object){const h=this._getOrReturnCtx(t);return D(h,{code:k.invalid_type,expected:V.object,received:h.parsedType}),U}const{status:s,ctx:r}=this._processInputParams(t),{shape:n,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ie&&this._def.unknownKeys==="strip"))for(const h in r.data)o.includes(h)||a.push(h);const l=[];for(const h of o){const c=n[h],u=r.data[h];l.push({key:{status:"valid",value:h},value:c._parse(new Ft(r,u,r.path,h)),alwaysSet:h in r.data})}if(this._def.catchall instanceof ie){const h=this._def.unknownKeys;if(h==="passthrough")for(const c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:r.data[c]}});else if(h==="strict")a.length>0&&(D(r,{code:k.unrecognized_keys,keys:a}),s.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const c of a){const u=r.data[c];l.push({key:{status:"valid",value:c},value:h._parse(new Ft(r,u,r.path,c)),alwaysSet:c in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const h=[];for(const c of l){const u=await c.key,d=await c.value;h.push({key:u,value:d,alwaysSet:c.alwaysSet})}return h}).then(h=>St.mergeObjectSync(s,h)):St.mergeObjectSync(s,l)}get shape(){return this._def.shape()}strict(t){return j.errToObj,new at({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(e,s)=>{var r,n,o,a;const l=(o=(n=(r=this._def).errorMap)===null||n===void 0?void 0:n.call(r,e,s).message)!==null&&o!==void 0?o:s.defaultError;return e.code==="unrecognized_keys"?{message:(a=j.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new at({...this._def,unknownKeys:"strip"})}passthrough(){return new at({...this._def,unknownKeys:"passthrough"})}extend(t){return new at({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new at({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Y.ZodObject})}setKey(t,e){return this.augment({[t]:e})}catchall(t){return new at({...this._def,catchall:t})}pick(t){const e={};return q.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(e[s]=this.shape[s])}),new at({...this._def,shape:()=>e})}omit(t){const e={};return q.objectKeys(this.shape).forEach(s=>{t[s]||(e[s]=this.shape[s])}),new at({...this._def,shape:()=>e})}deepPartial(){return ye(this)}partial(t){const e={};return q.objectKeys(this.shape).forEach(s=>{const r=this.shape[s];t&&!t[s]?e[s]=r:e[s]=r.optional()}),new at({...this._def,shape:()=>e})}required(t){const e={};return q.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])e[s]=this.shape[s];else{let n=this.shape[s];for(;n instanceof Ht;)n=n._def.innerType;e[s]=n}}),new at({...this._def,shape:()=>e})}keyof(){return jo(q.objectKeys(this.shape))}}at.create=(i,t)=>new at({shape:()=>i,unknownKeys:"strip",catchall:ie.create(),typeName:Y.ZodObject,...H(t)});at.strictCreate=(i,t)=>new at({shape:()=>i,unknownKeys:"strict",catchall:ie.create(),typeName:Y.ZodObject,...H(t)});at.lazycreate=(i,t)=>new at({shape:i,unknownKeys:"strip",catchall:ie.create(),typeName:Y.ZodObject,...H(t)});class Os extends G{_parse(t){const{ctx:e}=this._processInputParams(t),s=this._def.options;function r(n){for(const a of n)if(a.result.status==="valid")return a.result;for(const a of n)if(a.result.status==="dirty")return e.common.issues.push(...a.ctx.common.issues),a.result;const o=n.map(a=>new Dt(a.ctx.common.issues));return D(e,{code:k.invalid_union,unionErrors:o}),U}if(e.common.async)return Promise.all(s.map(async n=>{const o={...e,common:{...e.common,issues:[]},parent:null};return{result:await n._parseAsync({data:e.data,path:e.path,parent:o}),ctx:o}})).then(r);{let n;const o=[];for(const l of s){const h={...e,common:{...e.common,issues:[]},parent:null},c=l._parseSync({data:e.data,path:e.path,parent:h});if(c.status==="valid")return c;c.status==="dirty"&&!n&&(n={result:c,ctx:h}),h.common.issues.length&&o.push(h.common.issues)}if(n)return e.common.issues.push(...n.ctx.common.issues),n.result;const a=o.map(l=>new Dt(l));return D(e,{code:k.invalid_union,unionErrors:a}),U}}get options(){return this._def.options}}Os.create=(i,t)=>new Os({options:i,typeName:Y.ZodUnion,...H(t)});const Yt=i=>i instanceof Vs?Yt(i.schema):i instanceof Gt?Yt(i.innerType()):i instanceof Ls?[i.value]:i instanceof he?i.options:i instanceof Is?q.objectValues(i.enum):i instanceof js?Yt(i._def.innerType):i instanceof Ps?[void 0]:i instanceof As?[null]:i instanceof Ht?[void 0,...Yt(i.unwrap())]:i instanceof ce?[null,...Yt(i.unwrap())]:i instanceof Fo||i instanceof Bs?Yt(i.unwrap()):i instanceof Fs?Yt(i._def.innerType):[];class yr extends G{_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==V.object)return D(e,{code:k.invalid_type,expected:V.object,received:e.parsedType}),U;const s=this.discriminator,r=e.data[s],n=this.optionsMap.get(r);return n?e.common.async?n._parseAsync({data:e.data,path:e.path,parent:e}):n._parseSync({data:e.data,path:e.path,parent:e}):(D(e,{code:k.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),U)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,e,s){const r=new Map;for(const n of e){const o=Yt(n.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of o){if(r.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);r.set(a,n)}}return new yr({typeName:Y.ZodDiscriminatedUnion,discriminator:t,options:e,optionsMap:r,...H(s)})}}function Zi(i,t){const e=oe(i),s=oe(t);if(i===t)return{valid:!0,data:i};if(e===V.object&&s===V.object){const r=q.objectKeys(t),n=q.objectKeys(i).filter(a=>r.indexOf(a)!==-1),o={...i,...t};for(const a of n){const l=Zi(i[a],t[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(e===V.array&&s===V.array){if(i.length!==t.length)return{valid:!1};const r=[];for(let n=0;n<i.length;n++){const o=i[n],a=t[n],l=Zi(o,a);if(!l.valid)return{valid:!1};r.push(l.data)}return{valid:!0,data:r}}else return e===V.date&&s===V.date&&+i==+t?{valid:!0,data:i}:{valid:!1}}class Ds extends G{_parse(t){const{status:e,ctx:s}=this._processInputParams(t),r=(n,o)=>{if(rn(n)||rn(o))return U;const a=Zi(n.value,o.value);return a.valid?((nn(n)||nn(o))&&e.dirty(),{status:e.value,value:a.data}):(D(s,{code:k.invalid_intersection_types}),U)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([n,o])=>r(n,o)):r(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Ds.create=(i,t,e)=>new Ds({left:i,right:t,typeName:Y.ZodIntersection,...H(e)});class Kt extends G{_parse(t){const{status:e,ctx:s}=this._processInputParams(t);if(s.parsedType!==V.array)return D(s,{code:k.invalid_type,expected:V.array,received:s.parsedType}),U;if(s.data.length<this._def.items.length)return D(s,{code:k.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),U;!this._def.rest&&s.data.length>this._def.items.length&&(D(s,{code:k.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),e.dirty());const n=[...s.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Ft(s,o,s.path,a)):null}).filter(o=>!!o);return s.common.async?Promise.all(n).then(o=>St.mergeArray(e,o)):St.mergeArray(e,n)}get items(){return this._def.items}rest(t){return new Kt({...this._def,rest:t})}}Kt.create=(i,t)=>{if(!Array.isArray(i))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Kt({items:i,typeName:Y.ZodTuple,rest:null,...H(t)})};class zs extends G{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:e,ctx:s}=this._processInputParams(t);if(s.parsedType!==V.object)return D(s,{code:k.invalid_type,expected:V.object,received:s.parsedType}),U;const r=[],n=this._def.keyType,o=this._def.valueType;for(const a in s.data)r.push({key:n._parse(new Ft(s,a,s.path,a)),value:o._parse(new Ft(s,s.data[a],s.path,a)),alwaysSet:a in s.data});return s.common.async?St.mergeObjectAsync(e,r):St.mergeObjectSync(e,r)}get element(){return this._def.valueType}static create(t,e,s){return e instanceof G?new zs({keyType:t,valueType:e,typeName:Y.ZodRecord,...H(s)}):new zs({keyType:Zt.create(),valueType:t,typeName:Y.ZodRecord,...H(e)})}}class Xi extends G{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:e,ctx:s}=this._processInputParams(t);if(s.parsedType!==V.map)return D(s,{code:k.invalid_type,expected:V.map,received:s.parsedType}),U;const r=this._def.keyType,n=this._def.valueType,o=[...s.data.entries()].map(([a,l],h)=>({key:r._parse(new Ft(s,a,s.path,[h,"key"])),value:n._parse(new Ft(s,l,s.path,[h,"value"]))}));if(s.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const h=await l.key,c=await l.value;if(h.status==="aborted"||c.status==="aborted")return U;(h.status==="dirty"||c.status==="dirty")&&e.dirty(),a.set(h.value,c.value)}return{status:e.value,value:a}})}else{const a=new Map;for(const l of o){const h=l.key,c=l.value;if(h.status==="aborted"||c.status==="aborted")return U;(h.status==="dirty"||c.status==="dirty")&&e.dirty(),a.set(h.value,c.value)}return{status:e.value,value:a}}}}Xi.create=(i,t,e)=>new Xi({valueType:t,keyType:i,typeName:Y.ZodMap,...H(e)});class Ee extends G{_parse(t){const{status:e,ctx:s}=this._processInputParams(t);if(s.parsedType!==V.set)return D(s,{code:k.invalid_type,expected:V.set,received:s.parsedType}),U;const r=this._def;r.minSize!==null&&s.data.size<r.minSize.value&&(D(s,{code:k.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),e.dirty()),r.maxSize!==null&&s.data.size>r.maxSize.value&&(D(s,{code:k.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),e.dirty());const n=this._def.valueType;function o(l){const h=new Set;for(const c of l){if(c.status==="aborted")return U;c.status==="dirty"&&e.dirty(),h.add(c.value)}return{status:e.value,value:h}}const a=[...s.data.values()].map((l,h)=>n._parse(new Ft(s,l,s.path,h)));return s.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(t,e){return new Ee({...this._def,minSize:{value:t,message:j.toString(e)}})}max(t,e){return new Ee({...this._def,maxSize:{value:t,message:j.toString(e)}})}size(t,e){return this.min(t,e).max(t,e)}nonempty(t){return this.min(1,t)}}Ee.create=(i,t)=>new Ee({valueType:i,minSize:null,maxSize:null,typeName:Y.ZodSet,...H(t)});class Qe extends G{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==V.function)return D(e,{code:k.invalid_type,expected:V.function,received:e.parsedType}),U;function s(a,l){return Bi({data:a,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Fi(),ts].filter(h=>!!h),issueData:{code:k.invalid_arguments,argumentsError:l}})}function r(a,l){return Bi({data:a,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Fi(),ts].filter(h=>!!h),issueData:{code:k.invalid_return_type,returnTypeError:l}})}const n={errorMap:e.common.contextualErrorMap},o=e.data;if(this._def.returns instanceof ss){const a=this;return Nt(async function(...l){const h=new Dt([]),c=await a._def.args.parseAsync(l,n).catch(g=>{throw h.addIssue(s(l,g)),h}),u=await Reflect.apply(o,this,c);return await a._def.returns._def.type.parseAsync(u,n).catch(g=>{throw h.addIssue(r(u,g)),h})})}else{const a=this;return Nt(function(...l){const h=a._def.args.safeParse(l,n);if(!h.success)throw new Dt([s(l,h.error)]);const c=Reflect.apply(o,this,h.data),u=a._def.returns.safeParse(c,n);if(!u.success)throw new Dt([r(c,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Qe({...this._def,args:Kt.create(t).rest(xe.create())})}returns(t){return new Qe({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,e,s){return new Qe({args:t||Kt.create([]).rest(xe.create()),returns:e||xe.create(),typeName:Y.ZodFunction,...H(s)})}}class Vs extends G{get schema(){return this._def.getter()}_parse(t){const{ctx:e}=this._processInputParams(t);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}}Vs.create=(i,t)=>new Vs({getter:i,typeName:Y.ZodLazy,...H(t)});class Ls extends G{_parse(t){if(t.data!==this._def.value){const e=this._getOrReturnCtx(t);return D(e,{received:e.data,code:k.invalid_literal,expected:this._def.value}),U}return{status:"valid",value:t.data}}get value(){return this._def.value}}Ls.create=(i,t)=>new Ls({value:i,typeName:Y.ZodLiteral,...H(t)});function jo(i,t){return new he({values:i,typeName:Y.ZodEnum,...H(t)})}class he extends G{constructor(){super(...arguments),$e.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const e=this._getOrReturnCtx(t),s=this._def.values;return D(e,{expected:q.joinValues(s),received:e.parsedType,code:k.invalid_type}),U}if(Ms(this,$e)||Vo(this,$e,new Set(this._def.values)),!Ms(this,$e).has(t.data)){const e=this._getOrReturnCtx(t),s=this._def.values;return D(e,{received:e.data,code:k.invalid_enum_value,options:s}),U}return Nt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const e of this._def.values)t[e]=e;return t}get Values(){const t={};for(const e of this._def.values)t[e]=e;return t}get Enum(){const t={};for(const e of this._def.values)t[e]=e;return t}extract(t,e=this._def){return he.create(t,{...this._def,...e})}exclude(t,e=this._def){return he.create(this.options.filter(s=>!t.includes(s)),{...this._def,...e})}}$e=new WeakMap;he.create=jo;class Is extends G{constructor(){super(...arguments),Ye.set(this,void 0)}_parse(t){const e=q.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==V.string&&s.parsedType!==V.number){const r=q.objectValues(e);return D(s,{expected:q.joinValues(r),received:s.parsedType,code:k.invalid_type}),U}if(Ms(this,Ye)||Vo(this,Ye,new Set(q.getValidEnumValues(this._def.values))),!Ms(this,Ye).has(t.data)){const r=q.objectValues(e);return D(s,{received:s.data,code:k.invalid_enum_value,options:r}),U}return Nt(t.data)}get enum(){return this._def.values}}Ye=new WeakMap;Is.create=(i,t)=>new Is({values:i,typeName:Y.ZodNativeEnum,...H(t)});class ss extends G{unwrap(){return this._def.type}_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==V.promise&&e.common.async===!1)return D(e,{code:k.invalid_type,expected:V.promise,received:e.parsedType}),U;const s=e.parsedType===V.promise?e.data:Promise.resolve(e.data);return Nt(s.then(r=>this._def.type.parseAsync(r,{path:e.path,errorMap:e.common.contextualErrorMap})))}}ss.create=(i,t)=>new ss({type:i,typeName:Y.ZodPromise,...H(t)});class Gt extends G{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Y.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:e,ctx:s}=this._processInputParams(t),r=this._def.effect||null,n={addIssue:o=>{D(s,o),o.fatal?e.abort():e.dirty()},get path(){return s.path}};if(n.addIssue=n.addIssue.bind(n),r.type==="preprocess"){const o=r.transform(s.data,n);if(s.common.async)return Promise.resolve(o).then(async a=>{if(e.value==="aborted")return U;const l=await this._def.schema._parseAsync({data:a,path:s.path,parent:s});return l.status==="aborted"?U:l.status==="dirty"||e.value==="dirty"?We(l.value):l});{if(e.value==="aborted")return U;const a=this._def.schema._parseSync({data:o,path:s.path,parent:s});return a.status==="aborted"?U:a.status==="dirty"||e.value==="dirty"?We(a.value):a}}if(r.type==="refinement"){const o=a=>{const l=r.refinement(a,n);if(s.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(s.common.async===!1){const a=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?U:(a.status==="dirty"&&e.dirty(),o(a.value),{status:e.value,value:a.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(a=>a.status==="aborted"?U:(a.status==="dirty"&&e.dirty(),o(a.value).then(()=>({status:e.value,value:a.value}))))}if(r.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Ns(o))return o;const a=r.transform(o.value,n);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:a}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Ns(o)?Promise.resolve(r.transform(o.value,n)).then(a=>({status:e.value,value:a})):o);q.assertNever(r)}}Gt.create=(i,t,e)=>new Gt({schema:i,typeName:Y.ZodEffects,effect:t,...H(e)});Gt.createWithPreprocess=(i,t,e)=>new Gt({schema:t,effect:{type:"preprocess",transform:i},typeName:Y.ZodEffects,...H(e)});class Ht extends G{_parse(t){return this._getType(t)===V.undefined?Nt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ht.create=(i,t)=>new Ht({innerType:i,typeName:Y.ZodOptional,...H(t)});class ce extends G{_parse(t){return this._getType(t)===V.null?Nt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ce.create=(i,t)=>new ce({innerType:i,typeName:Y.ZodNullable,...H(t)});class js extends G{_parse(t){const{ctx:e}=this._processInputParams(t);let s=e.data;return e.parsedType===V.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:e.path,parent:e})}removeDefault(){return this._def.innerType}}js.create=(i,t)=>new js({innerType:i,typeName:Y.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...H(t)});class Fs extends G{_parse(t){const{ctx:e}=this._processInputParams(t),s={...e,common:{...e.common,issues:[]}},r=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Rs(r)?r.then(n=>({status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Dt(s.common.issues)},input:s.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Dt(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Fs.create=(i,t)=>new Fs({innerType:i,typeName:Y.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...H(t)});class Qi extends G{_parse(t){if(this._getType(t)!==V.nan){const s=this._getOrReturnCtx(t);return D(s,{code:k.invalid_type,expected:V.nan,received:s.parsedType}),U}return{status:"valid",value:t.data}}}Qi.create=i=>new Qi({typeName:Y.ZodNaN,...H(i)});class Fo extends G{_parse(t){const{ctx:e}=this._processInputParams(t),s=e.data;return this._def.type._parse({data:s,path:e.path,parent:e})}unwrap(){return this._def.type}}class Js extends G{_parse(t){const{status:e,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const n=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?U:n.status==="dirty"?(e.dirty(),We(n.value)):this._def.out._parseAsync({data:n.value,path:s.path,parent:s})})();{const r=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?U:r.status==="dirty"?(e.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:s.path,parent:s})}}static create(t,e){return new Js({in:t,out:e,typeName:Y.ZodPipeline})}}class Bs extends G{_parse(t){const e=this._def.innerType._parse(t),s=r=>(Ns(r)&&(r.value=Object.freeze(r.value)),r);return Rs(e)?e.then(r=>s(r)):s(e)}unwrap(){return this._def.innerType}}Bs.create=(i,t)=>new Bs({innerType:i,typeName:Y.ZodReadonly,...H(t)});at.lazycreate;var Y;(function(i){i.ZodString="ZodString",i.ZodNumber="ZodNumber",i.ZodNaN="ZodNaN",i.ZodBigInt="ZodBigInt",i.ZodBoolean="ZodBoolean",i.ZodDate="ZodDate",i.ZodSymbol="ZodSymbol",i.ZodUndefined="ZodUndefined",i.ZodNull="ZodNull",i.ZodAny="ZodAny",i.ZodUnknown="ZodUnknown",i.ZodNever="ZodNever",i.ZodVoid="ZodVoid",i.ZodArray="ZodArray",i.ZodObject="ZodObject",i.ZodUnion="ZodUnion",i.ZodDiscriminatedUnion="ZodDiscriminatedUnion",i.ZodIntersection="ZodIntersection",i.ZodTuple="ZodTuple",i.ZodRecord="ZodRecord",i.ZodMap="ZodMap",i.ZodSet="ZodSet",i.ZodFunction="ZodFunction",i.ZodLazy="ZodLazy",i.ZodLiteral="ZodLiteral",i.ZodEnum="ZodEnum",i.ZodEffects="ZodEffects",i.ZodNativeEnum="ZodNativeEnum",i.ZodOptional="ZodOptional",i.ZodNullable="ZodNullable",i.ZodDefault="ZodDefault",i.ZodCatch="ZodCatch",i.ZodPromise="ZodPromise",i.ZodBranded="ZodBranded",i.ZodPipeline="ZodPipeline",i.ZodReadonly="ZodReadonly"})(Y||(Y={}));const an=Zt.create;Ce.create;Qi.create;ke.create;Wi.create;es.create;$i.create;Ps.create;As.create;Yi.create;xe.create;ie.create;Ui.create;jt.create;const Ah=at.create;at.strictCreate;Os.create;yr.create;Ds.create;Kt.create;zs.create;Xi.create;Ee.create;Qe.create;Vs.create;Ls.create;he.create;Is.create;ss.create;Gt.create;Ht.create;ce.create;Gt.createWithPreprocess;Js.create;function Oh(i,t){typeof i=="function"?i(t):i!=null&&(i.current=t)}function Bo(...i){return t=>i.forEach(e=>Oh(e,t))}function Pt(...i){return p.useCallback(Bo(...i),i)}var Te=p.forwardRef((i,t)=>{const{children:e,...s}=i,r=p.Children.toArray(e),n=r.find(zh);if(n){const o=n.props.children,a=r.map(l=>l===n?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:l);return f.jsx(Hi,{...s,ref:t,children:p.isValidElement(o)?p.cloneElement(o,void 0,a):null})}return f.jsx(Hi,{...s,ref:t,children:e})});Te.displayName="Slot";var Hi=p.forwardRef((i,t)=>{const{children:e,...s}=i;if(p.isValidElement(e)){const r=Lh(e);return p.cloneElement(e,{...Vh(s,e.props),ref:t?Bo(t,r):r})}return p.Children.count(e)>1?p.Children.only(null):null});Hi.displayName="SlotClone";var Dh=({children:i})=>f.jsx(f.Fragment,{children:i});function zh(i){return p.isValidElement(i)&&i.type===Dh}function Vh(i,t){const e={...t};for(const s in t){const r=i[s],n=t[s];/^on[A-Z]/.test(s)?r&&n?e[s]=(...a)=>{n(...a),r(...a)}:r&&(e[s]=r):s==="style"?e[s]={...r,...n}:s==="className"&&(e[s]=[r,n].filter(Boolean).join(" "))}return{...i,...e}}function Lh(i){var s,r;let t=(s=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:s.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?i.ref:(t=(r=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?i.props.ref:i.props.ref||i.ref)}function Wo(i){var t,e,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i))for(t=0;t<i.length;t++)i[t]&&(e=Wo(i[t]))&&(s&&(s+=" "),s+=e);else for(t in i)i[t]&&(s&&(s+=" "),s+=t);return s}function Ih(){for(var i,t,e=0,s="";e<arguments.length;)(i=arguments[e++])&&(t=Wo(i))&&(s&&(s+=" "),s+=t);return s}const ln=i=>typeof i=="boolean"?"".concat(i):i===0?"0":i,hn=Ih,br=(i,t)=>e=>{var s;if((t==null?void 0:t.variants)==null)return hn(i,e==null?void 0:e.class,e==null?void 0:e.className);const{variants:r,defaultVariants:n}=t,o=Object.keys(r).map(h=>{const c=e==null?void 0:e[h],u=n==null?void 0:n[h];if(c===null)return null;const d=ln(c)||ln(u);return r[h][d]}),a=e&&Object.entries(e).reduce((h,c)=>{let[u,d]=c;return d===void 0||(h[u]=d),h},{}),l=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((h,c)=>{let{class:u,className:d,...g}=c;return Object.entries(g).every(v=>{let[y,b]=v;return Array.isArray(b)?b.includes({...n,...a}[y]):{...n,...a}[y]===b})?[...h,u,d]:h},[]);return hn(i,o,l,e==null?void 0:e.class,e==null?void 0:e.className)};function $o(i){var t,e,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var r=i.length;for(t=0;t<r;t++)i[t]&&(e=$o(i[t]))&&(s&&(s+=" "),s+=e)}else for(e in i)i[e]&&(s&&(s+=" "),s+=e);return s}function jh(){for(var i,t,e=0,s="",r=arguments.length;e<r;e++)(i=arguments[e])&&(t=$o(i))&&(s&&(s+=" "),s+=t);return s}const wr="-",Fh=i=>{const t=Wh(i),{conflictingClassGroups:e,conflictingClassGroupModifiers:s}=i;return{getClassGroupId:o=>{const a=o.split(wr);return a[0]===""&&a.length!==1&&a.shift(),Yo(a,t)||Bh(o)},getConflictingClassGroupIds:(o,a)=>{const l=e[o]||[];return a&&s[o]?[...l,...s[o]]:l}}},Yo=(i,t)=>{var o;if(i.length===0)return t.classGroupId;const e=i[0],s=t.nextPart.get(e),r=s?Yo(i.slice(1),s):void 0;if(r)return r;if(t.validators.length===0)return;const n=i.join(wr);return(o=t.validators.find(({validator:a})=>a(n)))==null?void 0:o.classGroupId},cn=/^\[(.+)\]$/,Bh=i=>{if(cn.test(i)){const t=cn.exec(i)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},Wh=i=>{const{theme:t,prefix:e}=i,s={nextPart:new Map,validators:[]};return Yh(Object.entries(i.classGroups),e).forEach(([n,o])=>{Ki(o,s,n,t)}),s},Ki=(i,t,e,s)=>{i.forEach(r=>{if(typeof r=="string"){const n=r===""?t:un(t,r);n.classGroupId=e;return}if(typeof r=="function"){if($h(r)){Ki(r(s),t,e,s);return}t.validators.push({validator:r,classGroupId:e});return}Object.entries(r).forEach(([n,o])=>{Ki(o,un(t,n),e,s)})})},un=(i,t)=>{let e=i;return t.split(wr).forEach(s=>{e.nextPart.has(s)||e.nextPart.set(s,{nextPart:new Map,validators:[]}),e=e.nextPart.get(s)}),e},$h=i=>i.isThemeGetter,Yh=(i,t)=>t?i.map(([e,s])=>{const r=s.map(n=>typeof n=="string"?t+n:typeof n=="object"?Object.fromEntries(Object.entries(n).map(([o,a])=>[t+o,a])):n);return[e,r]}):i,Uh=i=>{if(i<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,s=new Map;const r=(n,o)=>{e.set(n,o),t++,t>i&&(t=0,s=e,e=new Map)};return{get(n){let o=e.get(n);if(o!==void 0)return o;if((o=s.get(n))!==void 0)return r(n,o),o},set(n,o){e.has(n)?e.set(n,o):r(n,o)}}},Uo="!",Zh=i=>{const{separator:t,experimentalParseClassName:e}=i,s=t.length===1,r=t[0],n=t.length,o=a=>{const l=[];let h=0,c=0,u;for(let b=0;b<a.length;b++){let w=a[b];if(h===0){if(w===r&&(s||a.slice(b,b+n)===t)){l.push(a.slice(c,b)),c=b+n;continue}if(w==="/"){u=b;continue}}w==="["?h++:w==="]"&&h--}const d=l.length===0?a:a.substring(c),g=d.startsWith(Uo),v=g?d.substring(1):d,y=u&&u>c?u-c:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}};return e?a=>e({className:a,parseClassName:o}):o},Xh=i=>{if(i.length<=1)return i;const t=[];let e=[];return i.forEach(s=>{s[0]==="["?(t.push(...e.sort(),s),e=[]):e.push(s)}),t.push(...e.sort()),t},Qh=i=>({cache:Uh(i.cacheSize),parseClassName:Zh(i),...Fh(i)}),Hh=/\s+/,Kh=(i,t)=>{const{parseClassName:e,getClassGroupId:s,getConflictingClassGroupIds:r}=t,n=[],o=i.trim().split(Hh);let a="";for(let l=o.length-1;l>=0;l-=1){const h=o[l],{modifiers:c,hasImportantModifier:u,baseClassName:d,maybePostfixModifierPosition:g}=e(h);let v=!!g,y=s(v?d.substring(0,g):d);if(!y){if(!v){a=h+(a.length>0?" "+a:a);continue}if(y=s(d),!y){a=h+(a.length>0?" "+a:a);continue}v=!1}const b=Xh(c).join(":"),w=u?b+Uo:b,_=w+y;if(n.includes(_))continue;n.push(_);const A=r(y,v);for(let C=0;C<A.length;++C){const R=A[C];n.push(w+R)}a=h+(a.length>0?" "+a:a)}return a};function Gh(){let i=0,t,e,s="";for(;i<arguments.length;)(t=arguments[i++])&&(e=Zo(t))&&(s&&(s+=" "),s+=e);return s}const Zo=i=>{if(typeof i=="string")return i;let t,e="";for(let s=0;s<i.length;s++)i[s]&&(t=Zo(i[s]))&&(e&&(e+=" "),e+=t);return e};function Jh(i,...t){let e,s,r,n=o;function o(l){const h=t.reduce((c,u)=>u(c),i());return e=Qh(h),s=e.cache.get,r=e.cache.set,n=a,a(l)}function a(l){const h=s(l);if(h)return h;const c=Kh(l,e);return r(l,c),c}return function(){return n(Gh.apply(null,arguments))}}const nt=i=>{const t=e=>e[i]||[];return t.isThemeGetter=!0,t},Xo=/^\[(?:([a-z-]+):)?(.+)\]$/i,qh=/^\d+\/\d+$/,tc=new Set(["px","full","screen"]),ec=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sc=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ic=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rc=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nc=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$t=i=>_e(i)||tc.has(i)||qh.test(i),Jt=i=>Oe(i,"length",fc),_e=i=>!!i&&!Number.isNaN(Number(i)),bi=i=>Oe(i,"number",_e),Ie=i=>!!i&&Number.isInteger(Number(i)),oc=i=>i.endsWith("%")&&_e(i.slice(0,-1)),K=i=>Xo.test(i),qt=i=>ec.test(i),ac=new Set(["length","size","percentage"]),lc=i=>Oe(i,ac,Qo),hc=i=>Oe(i,"position",Qo),cc=new Set(["image","url"]),uc=i=>Oe(i,cc,mc),dc=i=>Oe(i,"",pc),je=()=>!0,Oe=(i,t,e)=>{const s=Xo.exec(i);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):e(s[2]):!1},fc=i=>sc.test(i)&&!ic.test(i),Qo=()=>!1,pc=i=>rc.test(i),mc=i=>nc.test(i),gc=()=>{const i=nt("colors"),t=nt("spacing"),e=nt("blur"),s=nt("brightness"),r=nt("borderColor"),n=nt("borderRadius"),o=nt("borderSpacing"),a=nt("borderWidth"),l=nt("contrast"),h=nt("grayscale"),c=nt("hueRotate"),u=nt("invert"),d=nt("gap"),g=nt("gradientColorStops"),v=nt("gradientColorStopPositions"),y=nt("inset"),b=nt("margin"),w=nt("opacity"),_=nt("padding"),A=nt("saturate"),C=nt("scale"),R=nt("sepia"),B=nt("skew"),I=nt("space"),Z=nt("translate"),L=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],it=()=>["auto",K,t],P=()=>[K,t],X=()=>["",$t,Jt],E=()=>["auto",_e,K],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],tt=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ot=()=>["start","end","center","between","around","evenly","stretch"],ht=()=>["","0",K],Ct=()=>["auto","avoid","all","avoid-page","page","left","right","column"],kt=()=>[_e,K];return{cacheSize:500,separator:":",theme:{colors:[je],spacing:[$t,Jt],blur:["none","",qt,K],brightness:kt(),borderColor:[i],borderRadius:["none","","full",qt,K],borderSpacing:P(),borderWidth:X(),contrast:kt(),grayscale:ht(),hueRotate:kt(),invert:ht(),gap:P(),gradientColorStops:[i],gradientColorStopPositions:[oc,Jt],inset:it(),margin:it(),opacity:kt(),padding:P(),saturate:kt(),scale:kt(),sepia:ht(),skew:kt(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",K]}],container:["container"],columns:[{columns:[qt]}],"break-after":[{"break-after":Ct()}],"break-before":[{"break-before":Ct()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),K]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ie,K]}],basis:[{basis:it()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",K]}],grow:[{grow:ht()}],shrink:[{shrink:ht()}],order:[{order:["first","last","none",Ie,K]}],"grid-cols":[{"grid-cols":[je]}],"col-start-end":[{col:["auto",{span:["full",Ie,K]},K]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[je]}],"row-start-end":[{row:["auto",{span:[Ie,K]},K]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",K]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",K]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...ot()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ot(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ot(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",K,t]}],"min-w":[{"min-w":[K,t,"min","max","fit"]}],"max-w":[{"max-w":[K,t,"none","full","min","max","fit","prose",{screen:[qt]},qt]}],h:[{h:[K,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[K,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[K,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[K,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qt,Jt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bi]}],"font-family":[{font:[je]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",K]}],"line-clamp":[{"line-clamp":["none",_e,bi]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$t,K]}],"list-image":[{"list-image":["none",K]}],"list-style-type":[{list:["none","disc","decimal",K]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[i]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[i]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...tt(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$t,Jt]}],"underline-offset":[{"underline-offset":["auto",$t,K]}],"text-decoration-color":[{decoration:[i]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",K]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",K]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),hc]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lc]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uc]}],"bg-color":[{bg:[i]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[n]}],"rounded-s":[{"rounded-s":[n]}],"rounded-e":[{"rounded-e":[n]}],"rounded-t":[{"rounded-t":[n]}],"rounded-r":[{"rounded-r":[n]}],"rounded-b":[{"rounded-b":[n]}],"rounded-l":[{"rounded-l":[n]}],"rounded-ss":[{"rounded-ss":[n]}],"rounded-se":[{"rounded-se":[n]}],"rounded-ee":[{"rounded-ee":[n]}],"rounded-es":[{"rounded-es":[n]}],"rounded-tl":[{"rounded-tl":[n]}],"rounded-tr":[{"rounded-tr":[n]}],"rounded-br":[{"rounded-br":[n]}],"rounded-bl":[{"rounded-bl":[n]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...tt(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:tt()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...tt()]}],"outline-offset":[{"outline-offset":[$t,K]}],"outline-w":[{outline:[$t,Jt]}],"outline-color":[{outline:[i]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[i]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[$t,Jt]}],"ring-offset-color":[{"ring-offset":[i]}],shadow:[{shadow:["","inner","none",qt,dc]}],"shadow-color":[{shadow:[je]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[e]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",qt,K]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[u]}],saturate:[{saturate:[A]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[e]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",K]}],duration:[{duration:kt()}],ease:[{ease:["linear","in","out","in-out",K]}],delay:[{delay:kt()}],animate:[{animate:["none","spin","ping","pulse","bounce",K]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Ie,K]}],"translate-x":[{"translate-x":[Z]}],"translate-y":[{"translate-y":[Z]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",K]}],accent:[{accent:["auto",i]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",K]}],"caret-color":[{caret:[i]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",K]}],fill:[{fill:[i,"none"]}],"stroke-w":[{stroke:[$t,Jt,bi]}],stroke:[{stroke:[i,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vc=Jh(gc);function ut(...i){return vc(jh(i))}const yc=br("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ot=p.forwardRef(({className:i,variant:t,size:e,asChild:s=!1,...r},n)=>{const o=s?Te:"button";return f.jsx(o,{className:ut(yc({variant:t,size:e,className:i})),ref:n,...r})});Ot.displayName="Button";const Ws=p.forwardRef(({className:i,type:t,...e},s)=>f.jsx("input",{type:t,className:ut("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",i),ref:s,...e}));Ws.displayName="Input";const xr=p.forwardRef(({className:i,...t},e)=>f.jsx("div",{ref:e,className:ut("rounded-xl border bg-card text-card-foreground shadow",i),...t}));xr.displayName="Card";const Ho=p.forwardRef(({className:i,...t},e)=>f.jsx("div",{ref:e,className:ut("flex flex-col space-y-1.5 p-6",i),...t}));Ho.displayName="CardHeader";const Ko=p.forwardRef(({className:i,...t},e)=>f.jsx("h3",{ref:e,className:ut("font-semibold leading-none tracking-tight",i),...t}));Ko.displayName="CardTitle";const Go=p.forwardRef(({className:i,...t},e)=>f.jsx("p",{ref:e,className:ut("text-sm text-muted-foreground",i),...t}));Go.displayName="CardDescription";const Jo=p.forwardRef(({className:i,...t},e)=>f.jsx("div",{ref:e,className:ut("p-6 pt-0",i),...t}));Jo.displayName="CardContent";const qo=p.forwardRef(({className:i,...t},e)=>f.jsx("div",{ref:e,className:ut("flex items-center p-6 pt-0",i),...t}));qo.displayName="CardFooter";var bc=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],wt=bc.reduce((i,t)=>{const e=p.forwardRef((s,r)=>{const{asChild:n,...o}=s,a=n?Te:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...o,ref:r})});return e.displayName=`Primitive.${t}`,{...i,[t]:e}},{});function ta(i,t){i&&ur.flushSync(()=>i.dispatchEvent(t))}var wc="Label",ea=p.forwardRef((i,t)=>f.jsx(wt.label,{...i,ref:t,onMouseDown:e=>{var r;e.target.closest("button, input, select, textarea")||((r=i.onMouseDown)==null||r.call(i,e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));ea.displayName=wc;var sa=ea;const xc=br("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ia=p.forwardRef(({className:i,...t},e)=>f.jsx(sa,{ref:e,className:ut(xc(),i),...t}));ia.displayName=sa.displayName;const _c=Ql,ra=p.createContext({}),dn=({...i})=>f.jsx(ra.Provider,{value:{name:i.name},children:f.jsx(Jl,{...i})}),qs=()=>{const i=p.useContext(ra),t=p.useContext(na),{getFieldState:e,formState:s}=Gs(),r=e(i.name,s);if(!i)throw new Error("useFormField should be used within <FormField>");const{id:n}=t;return{id:n,name:i.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...r}},na=p.createContext({}),Gi=p.forwardRef(({className:i,...t},e)=>{const s=p.useId();return f.jsx(na.Provider,{value:{id:s},children:f.jsx("div",{ref:e,className:ut("space-y-2",i),...t})})});Gi.displayName="FormItem";const Ji=p.forwardRef(({className:i,...t},e)=>{const{error:s,formItemId:r}=qs();return f.jsx(ia,{ref:e,className:ut(s&&"text-destructive",i),htmlFor:r,...t})});Ji.displayName="FormLabel";const qi=p.forwardRef(({...i},t)=>{const{error:e,formItemId:s,formDescriptionId:r,formMessageId:n}=qs();return f.jsx(Te,{ref:t,id:s,"aria-describedby":e?`${r} ${n}`:`${r}`,"aria-invalid":!!e,...i})});qi.displayName="FormControl";const Sc=p.forwardRef(({className:i,...t},e)=>{const{formDescriptionId:s}=qs();return f.jsx("p",{ref:e,id:s,className:ut("text-[0.8rem] text-muted-foreground",i),...t})});Sc.displayName="FormDescription";const tr=p.forwardRef(({className:i,children:t,...e},s)=>{const{error:r,formMessageId:n}=qs(),o=r?String(r==null?void 0:r.message):t;return o?f.jsx("p",{ref:s,id:n,className:ut("text-[0.8rem] font-medium text-destructive",i),...e,children:o}):null});tr.displayName="FormMessage";const Cc="https://gwkirrnjlrcwaejjlokn.supabase.co",kc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd3a2lycm5qbHJjd2Flampsb2tuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcyMDMzMzQsImV4cCI6MjA2Mjc3OTMzNH0.yzLOtjHvM38Q63Qyca6sFK_tM01Nh1HaLNiQ5tMhyKM",ae=Cl(Cc,kc),oa=p.createContext(void 0);function Ec({children:i}){const[t,e]=p.useState({user:null,session:null,isLoading:!0,error:null});p.useEffect(()=>{ae.auth.getSession().then(({data:{session:a}})=>{e(l=>({...l,session:a,user:(a==null?void 0:a.user)??null,isLoading:!1}))});const{data:{subscription:o}}=ae.auth.onAuthStateChange((a,l)=>{e(h=>({...h,session:l,user:(l==null?void 0:l.user)??null,isLoading:!1}))});return()=>{o.unsubscribe()}},[]);const n={...t,login:async({email:o,password:a})=>{try{const{error:l}=await ae.auth.signInWithPassword({email:o,password:a});return l?(e(h=>({...h,error:l.message})),{error:l}):{error:null}}catch(l){return e(h=>({...h,error:l.message})),{error:l}}},logout:async()=>{try{await ae.auth.signOut(),e(o=>({...o,user:null,session:null}))}catch(o){e(a=>({...a,error:o.message}))}}};return f.jsx(oa.Provider,{value:n,children:i})}function ti(){const i=p.useContext(oa);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i}function aa({size:i=32,className:t="",showText:e=!1}){return f.jsxs("div",{className:`flex items-center gap-2 ${t}`,children:[f.jsx("div",{className:"relative",children:f.jsx(Rl,{size:i,className:"text-primary"})}),e&&f.jsx("span",{className:"font-bold text-lg text-primary select-none",children:"Screener AI"})]})}const Tc=1,Nc=1e6;let wi=0;function Rc(){return wi=(wi+1)%Number.MAX_SAFE_INTEGER,wi.toString()}const xi=new Map,fn=i=>{if(xi.has(i))return;const t=setTimeout(()=>{xi.delete(i),He({type:"REMOVE_TOAST",toastId:i})},Nc);xi.set(i,t)},Mc=(i,t)=>{switch(t.type){case"ADD_TOAST":return{...i,toasts:[t.toast,...i.toasts].slice(0,Tc)};case"UPDATE_TOAST":return{...i,toasts:i.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:e}=t;return e?fn(e):i.toasts.forEach(s=>{fn(s.id)}),{...i,toasts:i.toasts.map(s=>s.id===e||e===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(e=>e.id!==t.toastId)}}},ys=[];let bs={toasts:[]};function He(i){bs=Mc(bs,i),ys.forEach(t=>{t(bs)})}function Pc({...i}){const t=Rc(),e=r=>He({type:"UPDATE_TOAST",toast:{...r,id:t}}),s=()=>He({type:"DISMISS_TOAST",toastId:t});return He({type:"ADD_TOAST",toast:{...i,id:t,open:!0,onOpenChange:r=>{r||s()}}}),{id:t,dismiss:s,update:e}}function _r(){const[i,t]=p.useState(bs);return p.useEffect(()=>(ys.push(t),()=>{const e=ys.indexOf(t);e>-1&&ys.splice(e,1)}),[i]),{...i,toast:Pc,dismiss:e=>He({type:"DISMISS_TOAST",toastId:e})}}const Ac=Ah({email:an().email("유효한 이메일 주소를 입력해주세요."),password:an().min(6,"비밀번호는 최소 6자 이상이어야 합니다.")});function Oc(){const{login:i,error:t}=ti(),{toast:e}=_r(),[s,r]=p.useState(!1),[n,o]=p.useState(!1);p.useEffect(()=>{window.amplitude.track("login-view-screener-poc")},[]);const a=ch({resolver:ph(Ac),defaultValues:{email:"",password:""}}),l=async h=>{r(!0);try{const{error:c}=await i({email:h.email,password:h.password});c&&e({variant:"destructive",title:"로그인 실패",description:c.message||"이메일 또는 비밀번호를 확인해주세요."})}catch{e({variant:"destructive",title:"로그인 실패",description:"서버 오류가 발생했습니다. 잠시 후 다시 시도해주세요."})}finally{r(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:f.jsx("div",{className:"w-full max-w-md px-4",children:f.jsxs(xr,{children:[f.jsxs(Ho,{className:"space-y-2 items-center text-center",children:[f.jsx(aa,{size:48,className:"mb-2"}),f.jsx(Ko,{className:"text-2xl font-bold",children:"Screener AI by Newsystock"}),f.jsx(Go,{children:"계정에 로그인하여 주식 분석 AI를 이용해보세요."})]}),f.jsx(Jo,{children:f.jsx(_c,{...a,children:f.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-4",children:[f.jsx(dn,{control:a.control,name:"email",render:({field:h})=>f.jsxs(Gi,{children:[f.jsx(Ji,{children:"이메일"}),f.jsx(qi,{children:f.jsx(Ws,{placeholder:"name@example.com",type:"email",autoComplete:"email",...h})}),f.jsx(tr,{})]})}),f.jsx(dn,{control:a.control,name:"password",render:({field:h})=>f.jsxs(Gi,{children:[f.jsx(Ji,{children:"비밀번호"}),f.jsxs("div",{className:"relative",children:[f.jsx(qi,{children:f.jsx(Ws,{placeholder:"비밀번호를 입력하세요",type:n?"text":"password",autoComplete:"current-password",...h})}),f.jsx(Ot,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>o(!n),children:n?f.jsx(Ml,{className:"h-4 w-4"}):f.jsx(Pl,{className:"h-4 w-4"})})]}),f.jsx(tr,{})]})}),t&&f.jsx("div",{className:"text-destructive text-sm mt-2",children:t}),f.jsx(Ot,{type:"submit",className:"w-full",disabled:s,children:s?"로그인 중...":"로그인"})]})})}),f.jsx(qo,{className:"flex flex-col",children:f.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"로그인하면 Newsystock의 이용약관 및 개인정보처리방침에 동의하게 됩니다."})})]})})})}var is=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{};function Dc(i,t){return p.useReducer((e,s)=>t[e][s]??e,i)}var De=i=>{const{present:t,children:e}=i,s=zc(t),r=typeof e=="function"?e({present:s.isPresent}):p.Children.only(e),n=Pt(s.ref,Vc(r));return typeof e=="function"||s.isPresent?p.cloneElement(r,{ref:n}):null};De.displayName="Presence";function zc(i){const[t,e]=p.useState(),s=p.useRef({}),r=p.useRef(i),n=p.useRef("none"),o=i?"mounted":"unmounted",[a,l]=Dc(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const h=ls(s.current);n.current=a==="mounted"?h:"none"},[a]),is(()=>{const h=s.current,c=r.current;if(c!==i){const d=n.current,g=ls(h);i?l("MOUNT"):g==="none"||(h==null?void 0:h.display)==="none"?l("UNMOUNT"):l(c&&d!==g?"ANIMATION_OUT":"UNMOUNT"),r.current=i}},[i,l]),is(()=>{if(t){let h;const c=t.ownerDocument.defaultView??window,u=g=>{const y=ls(s.current).includes(g.animationName);if(g.target===t&&y&&(l("ANIMATION_END"),!r.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",h=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},d=g=>{g.target===t&&(n.current=ls(s.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{c.clearTimeout(h),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(h=>{h&&(s.current=getComputedStyle(h)),e(h)},[])}}function ls(i){return(i==null?void 0:i.animationName)||"none"}function Vc(i){var s,r;let t=(s=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:s.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?i.ref:(t=(r=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?i.props.ref:i.props.ref||i.ref)}function la(i,t=[]){let e=[];function s(n,o){const a=p.createContext(o),l=e.length;e=[...e,o];const h=u=>{var w;const{scope:d,children:g,...v}=u,y=((w=d==null?void 0:d[i])==null?void 0:w[l])||a,b=p.useMemo(()=>v,Object.values(v));return f.jsx(y.Provider,{value:b,children:g})};h.displayName=n+"Provider";function c(u,d){var y;const g=((y=d==null?void 0:d[i])==null?void 0:y[l])||a,v=p.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${n}\``)}return[h,c]}const r=()=>{const n=e.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[i])||n;return p.useMemo(()=>({[`__scope${i}`]:{...a,[i]:l}}),[a,l])}};return r.scopeName=i,[s,Lc(r,...t)]}function Lc(...i){const t=i[0];if(i.length===1)return t;const e=()=>{const s=i.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(n){const o=s.reduce((a,{useScope:l,scopeName:h})=>{const u=l(n)[`__scope${h}`];return{...a,...u}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return e.scopeName=t.scopeName,e}function bt(i){const t=p.useRef(i);return p.useEffect(()=>{t.current=i}),p.useMemo(()=>(...e)=>{var s;return(s=t.current)==null?void 0:s.call(t,...e)},[])}var Ic=p.createContext(void 0);function jc(i){const t=p.useContext(Ic);return i||t||"ltr"}function Fc(i,[t,e]){return Math.min(e,Math.max(t,i))}function dt(i,t,{checkForDefaultPrevented:e=!0}={}){return function(r){if(i==null||i(r),e===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function Bc(i,t){return p.useReducer((e,s)=>t[e][s]??e,i)}var Sr="ScrollArea",[ha,gp]=la(Sr),[Wc,zt]=ha(Sr),ca=p.forwardRef((i,t)=>{const{__scopeScrollArea:e,type:s="hover",dir:r,scrollHideDelay:n=600,...o}=i,[a,l]=p.useState(null),[h,c]=p.useState(null),[u,d]=p.useState(null),[g,v]=p.useState(null),[y,b]=p.useState(null),[w,_]=p.useState(0),[A,C]=p.useState(0),[R,B]=p.useState(!1),[I,Z]=p.useState(!1),L=Pt(t,it=>l(it)),W=jc(r);return f.jsx(Wc,{scope:e,type:s,dir:W,scrollHideDelay:n,scrollArea:a,viewport:h,onViewportChange:c,content:u,onContentChange:d,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:R,onScrollbarXEnabledChange:B,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:I,onScrollbarYEnabledChange:Z,onCornerWidthChange:_,onCornerHeightChange:C,children:f.jsx(wt.div,{dir:W,...o,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":A+"px",...i.style}})})});ca.displayName=Sr;var ua="ScrollAreaViewport",da=p.forwardRef((i,t)=>{const{__scopeScrollArea:e,children:s,asChild:r,nonce:n,...o}=i,a=zt(ua,e),l=p.useRef(null),h=Pt(t,l,a.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:n}),f.jsx(wt.div,{"data-radix-scroll-area-viewport":"",...o,asChild:r,ref:h,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...i.style},children:Jc({asChild:r,children:s},c=>f.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:c}))})]})});da.displayName=ua;var Bt="ScrollAreaScrollbar",Cr=p.forwardRef((i,t)=>{const{forceMount:e,...s}=i,r=zt(Bt,i.__scopeScrollArea),{onScrollbarXEnabledChange:n,onScrollbarYEnabledChange:o}=r,a=i.orientation==="horizontal";return p.useEffect(()=>(a?n(!0):o(!0),()=>{a?n(!1):o(!1)}),[a,n,o]),r.type==="hover"?f.jsx($c,{...s,ref:t,forceMount:e}):r.type==="scroll"?f.jsx(Yc,{...s,ref:t,forceMount:e}):r.type==="auto"?f.jsx(fa,{...s,ref:t,forceMount:e}):r.type==="always"?f.jsx(kr,{...s,ref:t}):null});Cr.displayName=Bt;var $c=p.forwardRef((i,t)=>{const{forceMount:e,...s}=i,r=zt(Bt,i.__scopeScrollArea),[n,o]=p.useState(!1);return p.useEffect(()=>{const a=r.scrollArea;let l=0;if(a){const h=()=>{window.clearTimeout(l),o(!0)},c=()=>{l=window.setTimeout(()=>o(!1),r.scrollHideDelay)};return a.addEventListener("pointerenter",h),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",h),a.removeEventListener("pointerleave",c)}}},[r.scrollArea,r.scrollHideDelay]),f.jsx(De,{present:e||n,children:f.jsx(fa,{"data-state":n?"visible":"hidden",...s,ref:t})})}),Yc=p.forwardRef((i,t)=>{const{forceMount:e,...s}=i,r=zt(Bt,i.__scopeScrollArea),n=i.orientation==="horizontal",o=si(()=>l("SCROLL_END"),100),[a,l]=Bc("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(a==="idle"){const h=window.setTimeout(()=>l("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(h)}},[a,r.scrollHideDelay,l]),p.useEffect(()=>{const h=r.viewport,c=n?"scrollLeft":"scrollTop";if(h){let u=h[c];const d=()=>{const g=h[c];u!==g&&(l("SCROLL"),o()),u=g};return h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[r.viewport,n,l,o]),f.jsx(De,{present:e||a!=="hidden",children:f.jsx(kr,{"data-state":a==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:dt(i.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:dt(i.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),fa=p.forwardRef((i,t)=>{const e=zt(Bt,i.__scopeScrollArea),{forceMount:s,...r}=i,[n,o]=p.useState(!1),a=i.orientation==="horizontal",l=si(()=>{if(e.viewport){const h=e.viewport.offsetWidth<e.viewport.scrollWidth,c=e.viewport.offsetHeight<e.viewport.scrollHeight;o(a?h:c)}},10);return Ne(e.viewport,l),Ne(e.content,l),f.jsx(De,{present:s||n,children:f.jsx(kr,{"data-state":n?"visible":"hidden",...r,ref:t})})}),kr=p.forwardRef((i,t)=>{const{orientation:e="vertical",...s}=i,r=zt(Bt,i.__scopeScrollArea),n=p.useRef(null),o=p.useRef(0),[a,l]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=ya(a.viewport,a.content),c={...s,sizes:a,onSizesChange:l,hasThumb:h>0&&h<1,onThumbChange:d=>n.current=d,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:d=>o.current=d};function u(d,g){return Kc(d,o.current,a,g)}return e==="horizontal"?f.jsx(Uc,{...c,ref:t,onThumbPositionChange:()=>{if(r.viewport&&n.current){const d=r.viewport.scrollLeft,g=pn(d,a,r.dir);n.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:d=>{r.viewport&&(r.viewport.scrollLeft=d)},onDragScroll:d=>{r.viewport&&(r.viewport.scrollLeft=u(d,r.dir))}}):e==="vertical"?f.jsx(Zc,{...c,ref:t,onThumbPositionChange:()=>{if(r.viewport&&n.current){const d=r.viewport.scrollTop,g=pn(d,a);n.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:d=>{r.viewport&&(r.viewport.scrollTop=d)},onDragScroll:d=>{r.viewport&&(r.viewport.scrollTop=u(d))}}):null}),Uc=p.forwardRef((i,t)=>{const{sizes:e,onSizesChange:s,...r}=i,n=zt(Bt,i.__scopeScrollArea),[o,a]=p.useState(),l=p.useRef(null),h=Pt(t,l,n.onScrollbarXChange);return p.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),f.jsx(ma,{"data-orientation":"horizontal",...r,ref:h,sizes:e,style:{bottom:0,left:n.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:n.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ei(e)+"px",...i.style},onThumbPointerDown:c=>i.onThumbPointerDown(c.x),onDragScroll:c=>i.onDragScroll(c.x),onWheelScroll:(c,u)=>{if(n.viewport){const d=n.viewport.scrollLeft+c.deltaX;i.onWheelScroll(d),wa(d,u)&&c.preventDefault()}},onResize:()=>{l.current&&n.viewport&&o&&s({content:n.viewport.scrollWidth,viewport:n.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Ys(o.paddingLeft),paddingEnd:Ys(o.paddingRight)}})}})}),Zc=p.forwardRef((i,t)=>{const{sizes:e,onSizesChange:s,...r}=i,n=zt(Bt,i.__scopeScrollArea),[o,a]=p.useState(),l=p.useRef(null),h=Pt(t,l,n.onScrollbarYChange);return p.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),f.jsx(ma,{"data-orientation":"vertical",...r,ref:h,sizes:e,style:{top:0,right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ei(e)+"px",...i.style},onThumbPointerDown:c=>i.onThumbPointerDown(c.y),onDragScroll:c=>i.onDragScroll(c.y),onWheelScroll:(c,u)=>{if(n.viewport){const d=n.viewport.scrollTop+c.deltaY;i.onWheelScroll(d),wa(d,u)&&c.preventDefault()}},onResize:()=>{l.current&&n.viewport&&o&&s({content:n.viewport.scrollHeight,viewport:n.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Ys(o.paddingTop),paddingEnd:Ys(o.paddingBottom)}})}})}),[Xc,pa]=ha(Bt),ma=p.forwardRef((i,t)=>{const{__scopeScrollArea:e,sizes:s,hasThumb:r,onThumbChange:n,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:h,onWheelScroll:c,onResize:u,...d}=i,g=zt(Bt,e),[v,y]=p.useState(null),b=Pt(t,L=>y(L)),w=p.useRef(null),_=p.useRef(""),A=g.viewport,C=s.content-s.viewport,R=bt(c),B=bt(l),I=si(u,10);function Z(L){if(w.current){const W=L.clientX-w.current.left,it=L.clientY-w.current.top;h({x:W,y:it})}}return p.useEffect(()=>{const L=W=>{const it=W.target;(v==null?void 0:v.contains(it))&&R(W,C)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[A,v,C,R]),p.useEffect(B,[s,B]),Ne(v,I),Ne(g.content,I),f.jsx(Xc,{scope:e,scrollbar:v,hasThumb:r,onThumbChange:bt(n),onThumbPointerUp:bt(o),onThumbPositionChange:B,onThumbPointerDown:bt(a),children:f.jsx(wt.div,{...d,ref:b,style:{position:"absolute",...d.style},onPointerDown:dt(i.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),w.current=v.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),Z(L))}),onPointerMove:dt(i.onPointerMove,Z),onPointerUp:dt(i.onPointerUp,L=>{const W=L.target;W.hasPointerCapture(L.pointerId)&&W.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=_.current,g.viewport&&(g.viewport.style.scrollBehavior=""),w.current=null})})})}),$s="ScrollAreaThumb",ga=p.forwardRef((i,t)=>{const{forceMount:e,...s}=i,r=pa($s,i.__scopeScrollArea);return f.jsx(De,{present:e||r.hasThumb,children:f.jsx(Qc,{ref:t,...s})})}),Qc=p.forwardRef((i,t)=>{const{__scopeScrollArea:e,style:s,...r}=i,n=zt($s,e),o=pa($s,e),{onThumbPositionChange:a}=o,l=Pt(t,u=>o.onThumbChange(u)),h=p.useRef(),c=si(()=>{h.current&&(h.current(),h.current=void 0)},100);return p.useEffect(()=>{const u=n.viewport;if(u){const d=()=>{if(c(),!h.current){const g=Gc(u,a);h.current=g,a()}};return a(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[n.viewport,c,a]),f.jsx(wt.div,{"data-state":o.hasThumb?"visible":"hidden",...r,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:dt(i.onPointerDownCapture,u=>{const g=u.target.getBoundingClientRect(),v=u.clientX-g.left,y=u.clientY-g.top;o.onThumbPointerDown({x:v,y})}),onPointerUp:dt(i.onPointerUp,o.onThumbPointerUp)})});ga.displayName=$s;var Er="ScrollAreaCorner",va=p.forwardRef((i,t)=>{const e=zt(Er,i.__scopeScrollArea),s=!!(e.scrollbarX&&e.scrollbarY);return e.type!=="scroll"&&s?f.jsx(Hc,{...i,ref:t}):null});va.displayName=Er;var Hc=p.forwardRef((i,t)=>{const{__scopeScrollArea:e,...s}=i,r=zt(Er,e),[n,o]=p.useState(0),[a,l]=p.useState(0),h=!!(n&&a);return Ne(r.scrollbarX,()=>{var u;const c=((u=r.scrollbarX)==null?void 0:u.offsetHeight)||0;r.onCornerHeightChange(c),l(c)}),Ne(r.scrollbarY,()=>{var u;const c=((u=r.scrollbarY)==null?void 0:u.offsetWidth)||0;r.onCornerWidthChange(c),o(c)}),h?f.jsx(wt.div,{...s,ref:t,style:{width:n,height:a,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...i.style}}):null});function Ys(i){return i?parseInt(i,10):0}function ya(i,t){const e=i/t;return isNaN(e)?0:e}function ei(i){const t=ya(i.viewport,i.content),e=i.scrollbar.paddingStart+i.scrollbar.paddingEnd,s=(i.scrollbar.size-e)*t;return Math.max(s,18)}function Kc(i,t,e,s="ltr"){const r=ei(e),n=r/2,o=t||n,a=r-o,l=e.scrollbar.paddingStart+o,h=e.scrollbar.size-e.scrollbar.paddingEnd-a,c=e.content-e.viewport,u=s==="ltr"?[0,c]:[c*-1,0];return ba([l,h],u)(i)}function pn(i,t,e="ltr"){const s=ei(t),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=t.scrollbar.size-r,o=t.content-t.viewport,a=n-s,l=e==="ltr"?[0,o]:[o*-1,0],h=Fc(i,l);return ba([0,o],[0,a])(h)}function ba(i,t){return e=>{if(i[0]===i[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(i[1]-i[0]);return t[0]+s*(e-i[0])}}function wa(i,t){return i>0&&i<t}var Gc=(i,t=()=>{})=>{let e={left:i.scrollLeft,top:i.scrollTop},s=0;return function r(){const n={left:i.scrollLeft,top:i.scrollTop},o=e.left!==n.left,a=e.top!==n.top;(o||a)&&t(),e=n,s=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(s)};function si(i,t){const e=bt(i),s=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),p.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(e,t)},[e,t])}function Ne(i,t){const e=bt(t);is(()=>{let s=0;if(i){const r=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(e)});return r.observe(i),()=>{window.cancelAnimationFrame(s),r.unobserve(i)}}},[i,e])}function Jc(i,t){const{asChild:e,children:s}=i;if(!e)return typeof t=="function"?t(s):t;const r=p.Children.only(s);return p.cloneElement(r,{children:typeof t=="function"?t(r.props.children):t})}var xa=ca,qc=da,tu=va;const _a=p.forwardRef(({className:i,children:t,...e},s)=>f.jsxs(xa,{ref:s,className:ut("relative overflow-hidden",i),...e,children:[f.jsx(qc,{className:"h-full w-full rounded-[inherit]",children:t}),f.jsx(Sa,{}),f.jsx(tu,{})]}));_a.displayName=xa.displayName;const Sa=p.forwardRef(({className:i,orientation:t="vertical",...e},s)=>f.jsx(Cr,{ref:s,orientation:t,className:ut("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",i),...e,children:f.jsx(ga,{className:"relative flex-1 rounded-full bg-border"})}));Sa.displayName=Cr.displayName;function rt(i){var t=i.width,e=i.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(e<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:e}}function le(i,t){return i.width===t.width&&i.height===t.height}var eu=function(){function i(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return i.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(i.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),i.prototype.subscribe=function(t){var e=this,s={next:t};return this._observers.push(s),{unsubscribe:function(){e._observers=e._observers.filter(function(r){return r!==s})}}},i.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},i.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},i.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},i.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},i}();function su(i){return new eu(i)}var iu=function(){function i(t,e,s){var r;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=rt({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=e??function(n){return n},this._allowResizeObserver=(r=s==null?void 0:s.allowResizeObserver)!==null&&r!==void 0?r:!0,this._chooseAndInitObserver()}return i.prototype.dispose=function(){var t,e;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(e=this._devicePixelRatioObservable)===null||e===void 0||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(i.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bitmapSize",{get:function(){return rt({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),i.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=rt(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},i.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},i.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(i.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),i.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},i.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},i.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},i.prototype._resizeBitmap=function(t){var e=this.bitmapSize;le(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},i.prototype._emitBitmapSizeChanged=function(t,e){var s=this;this._bitmapSizeChangedListeners.forEach(function(r){return r.call(s,t,e)})},i.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,s=rt(this._transformBitmapSize(t,this._canvasElementClientSize)),r=le(this.bitmapSize,s)?null:s;e===null&&r===null||e!==null&&r!==null&&le(e,r)||(this._suggestedBitmapSize=r,this._emitSuggestedBitmapSizeChanged(e,r))},i.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var s=this;this._suggestedBitmapSizeChangedListeners.forEach(function(r){return r.call(s,t,e)})},i.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}nu().then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})},i.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var e=mn(this._canvasElement);if(e===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=su(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},i.prototype._invalidateBitmapSize=function(){var t,e;if(this._canvasElement!==null){var s=mn(this._canvasElement);if(s!==null){var r=(e=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&e!==void 0?e:s.devicePixelRatio,n=this._canvasElement.getClientRects(),o=n[0]!==void 0?ou(n[0],r):rt({width:this._canvasElementClientSize.width*r,height:this._canvasElementClientSize.height*r});this._suggestNewBitmapSize(o)}}},i.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var s=e.find(function(o){return o.target===t._canvasElement});if(!(!s||!s.devicePixelContentBoxSize||!s.devicePixelContentBoxSize[0])){var r=s.devicePixelContentBoxSize[0],n=rt({width:r.inlineSize,height:r.blockSize});t._suggestNewBitmapSize(n)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},i}();function ru(i,t){if(t.type==="device-pixel-content-box")return new iu(i,t.transform,t.options);throw new Error("Unsupported binding target")}function mn(i){return i.ownerDocument.defaultView}function nu(){return new Promise(function(i){var t=new ResizeObserver(function(e){i(e.every(function(s){return"devicePixelContentBoxSize"in s})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function ou(i,t){return rt({width:Math.round(i.left*t+i.width*t)-Math.round(i.left*t),height:Math.round(i.top*t+i.height*t)-Math.round(i.top*t)})}var au=function(){function i(t,e,s){if(e.width===0||e.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,s.width===0||s.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=s,this._context=t}return i.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},i.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(i.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),i}();function ue(i,t){var e=i.canvasElementClientSize;if(e.width===0||e.height===0)return null;var s=i.bitmapSize;if(s.width===0||s.height===0)return null;var r=i.canvasElement.getContext("2d",t);return r===null?null:new au(r,e,s)}/*!
 * @license
 * TradingView Lightweight Charts™ v5.0.7
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const Ca={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var gn,vn;function Re(i,t){const e={0:[],1:[i.lineWidth,i.lineWidth],2:[2*i.lineWidth,2*i.lineWidth],3:[6*i.lineWidth,6*i.lineWidth],4:[i.lineWidth,4*i.lineWidth]}[t];i.setLineDash(e)}function ka(i,t,e,s){i.beginPath();const r=i.lineWidth%2?.5:0;i.moveTo(e,t+r),i.lineTo(s,t+r),i.stroke()}function yt(i,t){if(!i)throw new Error("Assertion failed"+(t?": "+t:""))}function Rt(i){if(i===void 0)throw new Error("Value is undefined");return i}function T(i){if(i===null)throw new Error("Value is null");return i}function se(i){return T(Rt(i))}(function(i){i[i.Simple=0]="Simple",i[i.WithSteps=1]="WithSteps",i[i.Curved=2]="Curved"})(gn||(gn={})),function(i){i[i.Solid=0]="Solid",i[i.Dotted=1]="Dotted",i[i.Dashed=2]="Dashed",i[i.LargeDashed=3]="LargeDashed",i[i.SparseDotted=4]="SparseDotted"}(vn||(vn={}));class ct{constructor(){this.t=[]}i(t,e,s){const r={h:t,l:e,o:s===!0};this.t.push(r)}_(t){const e=this.t.findIndex(s=>t===s.h);e>-1&&this.t.splice(e,1)}u(t){this.t=this.t.filter(e=>e.l!==t)}p(t,e,s){const r=[...this.t];this.t=this.t.filter(n=>!n.o),r.forEach(n=>n.h(t,e,s))}v(){return this.t.length>0}m(){this.t=[]}}function Mt(i,...t){for(const e of t)for(const s in e)e[s]!==void 0&&Object.prototype.hasOwnProperty.call(e,s)&&!["__proto__","constructor","prototype"].includes(s)&&(typeof e[s]!="object"||i[s]===void 0||Array.isArray(e[s])?i[s]=e[s]:Mt(i[s],e[s]));return i}function Me(i){return typeof i=="number"&&isFinite(i)}function rs(i){return typeof i=="number"&&i%1==0}function os(i){return typeof i=="string"}function hs(i){return typeof i=="boolean"}function Xt(i){const t=i;if(!t||typeof t!="object")return t;let e,s,r;for(s in e=Array.isArray(t)?[]:{},t)t.hasOwnProperty(s)&&(r=t[s],e[s]=r&&typeof r=="object"?Xt(r):r);return e}function lu(i){return i!==null}function er(i){return i===null?void 0:i}const Ea="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Us(i,t,e){return t===void 0&&(t=Ea),`${e=e!==void 0?`${e} `:""}${i}px ${t}`}class hu{constructor(t){this.M={S:1,C:5,k:NaN,P:"",T:"",R:"",D:"",V:0,I:0,B:0,A:0,L:0},this.O=t}N(){const t=this.M,e=this.W(),s=this.F();return t.k===e&&t.T===s||(t.k=e,t.T=s,t.P=Us(e,s),t.A=2.5/12*e,t.V=t.A,t.I=e/12*t.C,t.B=e/12*t.C,t.L=0),t.R=this.H(),t.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}W(){return this.O.N().layout.fontSize}F(){return this.O.N().layout.fontFamily}}function _i(i){return i<0?0:i>255?255:Math.round(i)||0}function yn(i){return .199*i[0]+.687*i[1]+.114*i[2]}class cu{constructor(t,e){this.q=new Map,this.Y=t,e&&(this.q=e)}j(t,e){if(t==="transparent")return t;const s=this.K(t),r=s[3];return`rgba(${s[0]}, ${s[1]}, ${s[2]}, ${e*r})`}X(t){const e=this.K(t);return{Z:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,G:yn(e)>160?"black":"white"}}J(t){return yn(this.K(t))}tt(t,e,s){const[r,n,o,a]=this.K(t),[l,h,c,u]=this.K(e),d=[_i(r+s*(l-r)),_i(n+s*(h-n)),_i(o+s*(c-o)),(g=a+s*(u-a),g<=0||g>1?Math.min(Math.max(g,0),1):Math.round(1e4*g)/1e4)];var g;return`rgba(${d[0]}, ${d[1]}, ${d[2]}, ${d[3]})`}K(t){const e=this.q.get(t);if(e)return e;const s=function(o){const a=document.createElement("div");a.style.display="none",document.body.appendChild(a),a.style.color=o;const l=window.getComputedStyle(a).color;return document.body.removeChild(a),l}(t),r=s.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!r){if(this.Y.length)for(const o of this.Y){const a=o(t);if(a)return this.q.set(t,a),a}throw new Error(`Failed to parse color: ${t}`)}const n=[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),r[4]?parseFloat(r[4]):1];return this.q.set(t,n),n}}class uu{constructor(){this.it=[]}st(t){this.it=t}nt(t,e,s){this.it.forEach(r=>{r.nt(t,e,s)})}}class ze{nt(t,e,s){t.useBitmapCoordinateSpace(r=>this.et(r,e,s))}}class du extends ze{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.rt===null||this.rt.lt===null)return;const r=this.rt.lt,n=this.rt,o=Math.max(1,Math.floor(e))%2/2,a=l=>{t.beginPath();for(let h=r.to-1;h>=r.from;--h){const c=n.ot[h],u=Math.round(c._t*e)+o,d=c.ut*s,g=l*s+o;t.moveTo(u,d),t.arc(u,d,g,0,2*Math.PI)}t.fill()};n.ct>0&&(t.fillStyle=n.dt,a(n.ft+n.ct)),t.fillStyle=n.vt,a(n.ft)}}function fu(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const pu={from:0,to:1};class mu{constructor(t,e,s){this.Mt=new uu,this.bt=[],this.St=[],this.xt=!0,this.O=t,this.Ct=e,this.yt=s,this.Mt.st(this.bt)}kt(t){this.Pt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}Pt(){const t=this.yt.Dt();t.length!==this.bt.length&&(this.St=t.map(fu),this.bt=this.St.map(e=>{const s=new du;return s.ht(e),s}),this.Mt.st(this.bt))}Rt(){const t=this.Ct.N().mode===2||!this.Ct.Vt(),e=this.yt.It(),s=this.Ct.Bt(),r=this.O.At();this.Pt(),e.forEach((n,o)=>{const a=this.St[o],l=n.Et(s),h=n.zt();!t&&l!==null&&n.Vt()&&h!==null?(a.vt=l.Lt,a.ft=l.ft,a.ct=l.Ot,a.ot[0].gt=l.gt,a.ot[0].ut=n.Wt().Nt(l.gt,h.Ft),a.dt=l.Ht??this.O.Ut(a.ot[0].ut/n.Wt().$t()),a.ot[0].wt=s,a.ot[0]._t=r.qt(s),a.lt=pu):a.lt=null})}}class gu extends ze{constructor(t){super(),this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:r}){if(this.Yt===null)return;const n=this.Yt.jt.Vt,o=this.Yt.Kt.Vt;if(!n&&!o)return;const a=Math.round(this.Yt._t*s),l=Math.round(this.Yt.ut*r);t.lineCap="butt",n&&a>=0&&(t.lineWidth=Math.floor(this.Yt.jt.ct*s),t.strokeStyle=this.Yt.jt.R,t.fillStyle=this.Yt.jt.R,Re(t,this.Yt.jt.Xt),function(h,c,u,d){h.beginPath();const g=h.lineWidth%2?.5:0;h.moveTo(c+g,u),h.lineTo(c+g,d),h.stroke()}(t,a,0,e.height)),o&&l>=0&&(t.lineWidth=Math.floor(this.Yt.Kt.ct*r),t.strokeStyle=this.Yt.Kt.R,t.fillStyle=this.Yt.Kt.R,Re(t,this.Yt.Kt.Xt),ka(t,l,0,e.width))}}class vu{constructor(t,e){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new gu(this.Zt),this.Jt=t,this.yt=e}kt(){this.xt=!0}Tt(t){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){const t=this.Jt.Vt(),e=this.yt.Qt().N().crosshair,s=this.Zt;if(e.mode===2)return s.Kt.Vt=!1,void(s.jt.Vt=!1);s.Kt.Vt=t&&this.Jt.ti(this.yt),s.jt.Vt=t&&this.Jt.ii(),s.Kt.ct=e.horzLine.width,s.Kt.Xt=e.horzLine.style,s.Kt.R=e.horzLine.color,s.jt.ct=e.vertLine.width,s.jt.Xt=e.vertLine.style,s.jt.R=e.vertLine.color,s._t=this.Jt.si(),s.ut=this.Jt.ni()}}function ii(i,t,e,s,r,n){i.save(),i.globalCompositeOperation="copy",i.fillStyle=n,i.fillRect(t,e,s,r),i.restore()}function bn(i,t,e,s,r,n){i.beginPath(),i.roundRect?i.roundRect(t,e,s,r,n):(i.lineTo(t+s-n[1],e),n[1]!==0&&i.arcTo(t+s,e,t+s,e+n[1],n[1]),i.lineTo(t+s,e+r-n[2]),n[2]!==0&&i.arcTo(t+s,e+r,t+s-n[2],e+r,n[2]),i.lineTo(t+n[3],e+r),n[3]!==0&&i.arcTo(t,e+r,t,e+r-n[3],n[3]),i.lineTo(t,e+n[0]),n[0]!==0&&i.arcTo(t,e,t+n[0],e,n[0]))}function wn(i,t,e,s,r,n,o=0,a=[0,0,0,0],l=""){if(i.save(),!o||!l||l===n)return bn(i,t,e,s,r,a),i.fillStyle=n,i.fill(),void i.restore();const h=o/2;var c;bn(i,t+h,e+h,s-o,r-o,(c=-h,a.map(u=>u===0?u:u+c))),n!=="transparent"&&(i.fillStyle=n,i.fill()),l!=="transparent"&&(i.lineWidth=o,i.strokeStyle=l,i.closePath(),i.stroke()),i.restore()}function Ta(i,t,e,s,r,n,o){i.save(),i.globalCompositeOperation="copy";const a=i.createLinearGradient(0,0,0,r);a.addColorStop(0,n),a.addColorStop(1,o),i.fillStyle=a,i.fillRect(t,e,s,r),i.restore()}class xn{constructor(t,e){this.ht(t,e)}ht(t,e){this.Yt=t,this.ei=e}$t(t,e){return this.Yt.Vt?t.k+t.A+t.V:0}nt(t,e,s,r){if(!this.Yt.Vt||this.Yt.ri.length===0)return;const n=this.Yt.R,o=this.ei.Z,a=t.useBitmapCoordinateSpace(l=>{const h=l.context;h.font=e.P;const c=this.hi(l,e,s,r),u=c.ai;return c.li?wn(h,u.oi,u._i,u.ui,u.ci,o,u.di,[u.ft,0,0,u.ft],o):wn(h,u.fi,u._i,u.ui,u.ci,o,u.di,[0,u.ft,u.ft,0],o),this.Yt.pi&&(h.fillStyle=n,h.fillRect(u.fi,u.mi,u.wi-u.fi,u.gi)),this.Yt.Mi&&(h.fillStyle=e.D,h.fillRect(c.li?u.bi-u.di:0,u._i,u.di,u.Si-u._i)),c});t.useMediaCoordinateSpace(({context:l})=>{const h=a.xi;l.font=e.P,l.textAlign=a.li?"right":"left",l.textBaseline="middle",l.fillStyle=n,l.fillText(this.Yt.ri,h.Ci,(h._i+h.Si)/2+h.yi)})}hi(t,e,s,r){const{context:n,bitmapSize:o,mediaSize:a,horizontalPixelRatio:l,verticalPixelRatio:h}=t,c=this.Yt.pi||!this.Yt.ki?e.C:0,u=this.Yt.Pi?e.S:0,d=e.A+this.ei.Ti,g=e.V+this.ei.Ri,v=e.I,y=e.B,b=this.Yt.ri,w=e.k,_=s.Di(n,b),A=Math.ceil(s.Vi(n,b)),C=w+d+g,R=e.S+v+y+A+c,B=Math.max(1,Math.floor(h));let I=Math.round(C*h);I%2!=B%2&&(I+=1);const Z=u>0?Math.max(1,Math.floor(u*l)):0,L=Math.round(R*l),W=Math.round(c*l),it=this.ei.Ii??this.ei.Bi,P=Math.round(it*h)-Math.floor(.5*h),X=Math.floor(P+B/2-I/2),E=X+I,Q=r==="right",tt=Q?a.width-u:u,$=Q?o.width-Z:Z;let ot,ht,Ct;return Q?(ot=$-L,ht=$-W,Ct=tt-c-v-u):(ot=$+L,ht=$+W,Ct=tt+c+v),{li:Q,ai:{_i:X,mi:P,Si:E,ui:L,ci:I,ft:2*l,di:Z,oi:ot,fi:$,wi:ht,gi:B,bi:o.width},xi:{_i:X/h,Si:E/h,Ci:Ct,yi:_}}}}class ri{constructor(t){this.Ai={Bi:0,Z:"#000",Ri:0,Ti:0},this.Ei={ri:"",Vt:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,Pi:!1},this.zi={ri:"",Vt:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,Pi:!0},this.xt=!0,this.Li=new(t||xn)(this.Ei,this.Ai),this.Oi=new(t||xn)(this.zi,this.Ai)}ri(){return this.Ni(),this.Ei.ri}Bi(){return this.Ni(),this.Ai.Bi}kt(){this.xt=!0}$t(t,e=!1){return Math.max(this.Li.$t(t,e),this.Oi.$t(t,e))}Wi(){return this.Ai.Ii||0}Fi(t){this.Ai.Ii=t}Hi(){return this.Ni(),this.Ei.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ei.Vt}Tt(t){return this.Ni(),this.Ei.pi=this.Ei.pi&&t.N().ticksVisible,this.zi.pi=this.zi.pi&&t.N().ticksVisible,this.Li.ht(this.Ei,this.Ai),this.Oi.ht(this.zi,this.Ai),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ei,this.Ai),this.Oi.ht(this.zi,this.Ai),this.Oi}Ni(){this.xt&&(this.Ei.pi=!0,this.zi.pi=!1,this.qi(this.Ei,this.zi,this.Ai))}}class yu extends ri{constructor(t,e,s){super(),this.Jt=t,this.Yi=e,this.ji=s}qi(t,e,s){if(t.Vt=!1,this.Jt.N().mode===2)return;const r=this.Jt.N().horzLine;if(!r.labelVisible)return;const n=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||n===null)return;const o=this.Yi.Xi().X(r.labelBackgroundColor);s.Z=o.Z,t.R=o.G;const a=2/12*this.Yi.k();s.Ti=a,s.Ri=a;const l=this.ji(this.Yi);s.Bi=l.Bi,t.ri=this.Yi.Zi(l.gt,n),t.Vt=!0}}const bu=/[1-9]/g;class Na{constructor(){this.Yt=null}ht(t){this.Yt=t}nt(t,e){if(this.Yt===null||this.Yt.Vt===!1||this.Yt.ri.length===0)return;const s=t.useMediaCoordinateSpace(({context:d})=>(d.font=e.P,Math.round(e.Gi.Vi(d,T(this.Yt).ri,bu))));if(s<=0)return;const r=e.Ji,n=s+2*r,o=n/2,a=this.Yt.Qi;let l=this.Yt.Bi,h=Math.floor(l-o)+.5;h<0?(l+=Math.abs(0-h),h=Math.floor(l-o)+.5):h+n>a&&(l-=Math.abs(a-(h+n)),h=Math.floor(l-o)+.5);const c=h+n,u=Math.ceil(0+e.S+e.C+e.A+e.k+e.V);t.useBitmapCoordinateSpace(({context:d,horizontalPixelRatio:g,verticalPixelRatio:v})=>{const y=T(this.Yt);d.fillStyle=y.Z;const b=Math.round(h*g),w=Math.round(0*v),_=Math.round(c*g),A=Math.round(u*v),C=Math.round(2*g);if(d.beginPath(),d.moveTo(b,w),d.lineTo(b,A-C),d.arcTo(b,A,b+C,A,C),d.lineTo(_-C,A),d.arcTo(_,A,_,A-C,C),d.lineTo(_,w),d.fill(),y.pi){const R=Math.round(y.Bi*g),B=w,I=Math.round((B+e.C)*v);d.fillStyle=y.R;const Z=Math.max(1,Math.floor(g)),L=Math.floor(.5*g);d.fillRect(R-L,B,Z,I-B)}}),t.useMediaCoordinateSpace(({context:d})=>{const g=T(this.Yt),v=0+e.S+e.C+e.A+e.k/2;d.font=e.P,d.textAlign="left",d.textBaseline="middle",d.fillStyle=g.R;const y=e.Gi.Di(d,"Apr0");d.translate(h+r,v+y),d.fillText(g.ri,0,0)})}}class wu{constructor(t,e,s){this.xt=!0,this.Gt=new Na,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Bi:NaN,pi:!0},this.Ct=t,this.ts=e,this.ji=s}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const t=this.Zt;if(t.Vt=!1,this.Ct.N().mode===2)return;const e=this.Ct.N().vertLine;if(!e.labelVisible)return;const s=this.ts.At();if(s.Ki())return;t.Qi=s.Qi();const r=this.ji();if(r===null)return;t.Bi=r.Bi;const n=s.ss(this.Ct.Bt());t.ri=s.ns(T(n)),t.Vt=!0;const o=this.ts.Xi().X(e.labelBackgroundColor);t.Z=o.Z,t.R=o.G,t.pi=s.N().ticksVisible}}class Ra{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(t){this.rs=t}Wt(){return this.es}_s(t){this.es=t}us(t){return[]}cs(){return[]}Vt(){return!0}}var _n;(function(i){i[i.Normal=0]="Normal",i[i.Magnet=1]="Magnet",i[i.Hidden=2]="Hidden",i[i.MagnetOHLC=3]="MagnetOHLC"})(_n||(_n={}));class xu extends Ra{constructor(t,e){super(),this.yt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=t,this.ys=e,this.ks=((r,n)=>o=>{const a=n(),l=r();if(o===T(this.yt).Ps())return{gt:l,Bi:a};{const h=T(o.zt());return{gt:o.Ts(a,h),Bi:a}}})(()=>this.ds,()=>this.Ss);const s=((r,n)=>()=>{const o=this.ts.At().Rs(r()),a=n();return o&&Number.isFinite(a)?{wt:o,Bi:a}:null})(()=>this.fs,()=>this.si());this.Ds=new wu(this,t,s)}N(){return this.ys}Vs(t,e){this.xs=t,this.Cs=e}Is(){this.xs=NaN,this.Cs=NaN}Bs(){return this.xs}As(){return this.Cs}Es(t,e,s){this.ws||(this.ws=!0),this.ps=!0,this.zs(t,e,s)}Bt(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.yt=null,this.Is(),this.Ns()}Ws(t){let e=this.gs.get(t);e||(e=new vu(this,t),this.gs.set(t,e));let s=this.Ms.get(t);return s||(s=new mu(this.ts,this,t),this.Ms.set(t,s)),[e,s]}ti(t){return t===this.yt&&this.ys.horzLine.visible}ii(){return this.ys.vertLine.visible}Fs(t,e){this.ps&&this.yt===t||this.vs.clear();const s=[];return this.yt===t&&s.push(this.Hs(this.vs,e,this.ks)),s}cs(){return this.ps?[this.Ds]:[]}Us(){return this.yt}Ns(){this.ts.$s().forEach(t=>{var e,s;(e=this.gs.get(t))==null||e.kt(),(s=this.Ms.get(t))==null||s.kt()}),this.vs.forEach(t=>t.kt()),this.Ds.kt()}qs(t){return t&&!t.Ps().Ki()?t.Ps():null}zs(t,e,s){this.Ys(t,e,s)&&this.Ns()}Ys(t,e,s){const r=this.bs,n=this.Ss,o=this.ds,a=this.fs,l=this.yt,h=this.qs(s);this.fs=t,this.bs=isNaN(t)?NaN:this.ts.At().qt(t),this.yt=s;const c=h!==null?h.zt():null;return h!==null&&c!==null?(this.ds=e,this.Ss=h.Nt(e,c)):(this.ds=NaN,this.Ss=NaN),r!==this.bs||n!==this.Ss||a!==this.fs||o!==this.ds||l!==this.yt}Os(){const t=this.ts.js().map(s=>s.Xs().Ks()).filter(lu),e=t.length===0?null:Math.max(...t);this.fs=e!==null?e:NaN}Hs(t,e,s){let r=t.get(e);return r===void 0&&(r=new yu(this,e,s),t.set(e,r)),r}}function ni(i){return i==="left"||i==="right"}class vt{constructor(t){this.Zs=new Map,this.Gs=[],this.Js=t}Qs(t,e){const s=function(r,n){return r===void 0?n:{tn:Math.max(r.tn,n.tn),sn:r.sn||n.sn}}(this.Zs.get(t),e);this.Zs.set(t,s)}nn(){return this.Js}en(t){const e=this.Zs.get(t);return e===void 0?{tn:this.Js}:{tn:Math.max(this.Js,e.tn),sn:e.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(t){this.hn(),this.Gs=[{an:1,Ft:t}]}_n(t){this.un(),this.Gs.push({an:5,Ft:t})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(t){this.hn(),this.Gs.push({an:2,Ft:t})}fn(t){this.hn(),this.Gs.push({an:3,Ft:t})}pn(){return this.Gs}vn(t){for(const e of t.Gs)this.mn(e);this.Js=Math.max(this.Js,t.Js),t.Zs.forEach((e,s)=>{this.Qs(s,e)})}static wn(){return new vt(2)}static gn(){return new vt(3)}mn(t){switch(t.an){case 0:this.rn();break;case 1:this.ln(t.Ft);break;case 2:this.dn(t.Ft);break;case 3:this.fn(t.Ft);break;case 4:this.cn();break;case 5:this._n(t.Ft);break;case 6:this.un()}}un(){const t=this.Gs.findIndex(e=>e.an===5);t!==-1&&this.Gs.splice(t,1)}}const Sn=".";function Qt(i,t){if(!Me(i))return"n/a";if(!rs(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?i.toString():("0000000000000000"+i.toString()).slice(-t)}class oi{constructor(t,e){if(e||(e=1),Me(t)&&rs(t)||(t=100),t<0)throw new TypeError("invalid base");this.Yi=t,this.Mn=e,this.bn()}format(t){const e=t<0?"−":"";return t=Math.abs(t),e+this.Sn(t)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let t=this.Yi;for(;t>1;)t/=10,this.xn++}}Sn(t){const e=this.Yi/this.Mn;let s=Math.floor(t),r="";const n=this.xn!==void 0?this.xn:NaN;if(e>1){let o=+(Math.round(t*e)-s*e).toFixed(this.xn);o>=e&&(o-=e,s+=1),r=Sn+Qt(+o.toFixed(this.xn)*this.Mn,n)}else s=Math.round(s*e)/e,n>0&&(r=Sn+Qt(0,n));return s.toFixed(0)+r}}class Ma extends oi{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class _u{constructor(t){this.Cn=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.yn(t):t<999995?e+this.yn(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.yn(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.yn(t/1e9)+"B")}yn(t){let e;const s=Math.pow(10,this.Cn);return e=(t=Math.round(t*s)/s)>=1e-15&&t<1?t.toFixed(this.Cn).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,(r,n)=>n)}}const Su=/[2-9]/g;class Zs{constructor(t=50){this.kn=0,this.Pn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=t}In(){this.kn=0,this.Dn.clear(),this.Pn=1,this.Tn=1,this.Rn={}}Vi(t,e,s){return this.Bn(t,e,s).width}Di(t,e,s){const r=this.Bn(t,e,s);return((r.actualBoundingBoxAscent||0)-(r.actualBoundingBoxDescent||0))/2}Bn(t,e,s){const r=s||Su,n=String(e).replace(r,"0");if(this.Dn.has(n))return Rt(this.Dn.get(n)).An;if(this.kn===this.Vn){const a=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(a),this.Tn++,this.kn--}t.save(),t.textBaseline="middle";const o=t.measureText(n);return t.restore(),o.width===0&&e.length||(this.Dn.set(n,{An:o,En:this.Pn}),this.Rn[this.Pn]=n,this.kn++,this.Pn++),o}}class Cu{constructor(t){this.zn=null,this.M=null,this.Ln="right",this.On=t}Nn(t,e,s){this.zn=t,this.M=e,this.Ln=s}nt(t){this.M!==null&&this.zn!==null&&this.zn.nt(t,this.M,this.On,this.Ln)}}class Pa{constructor(t,e,s){this.Wn=t,this.On=new Zs(50),this.Fn=e,this.O=s,this.W=-1,this.Gt=new Cu(this.On)}Tt(){const t=this.O.Hn(this.Fn);if(t===null)return null;const e=t.Un(this.Fn)?t.$n():this.Fn.Wt();if(e===null)return null;const s=t.qn(e);if(s==="overlay")return null;const r=this.O.Yn();return r.k!==this.W&&(this.W=r.k,this.On.In()),this.Gt.Nn(this.Wn.$i(),r,s),this.Gt}}class ku extends ze{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}jn(t,e){var o;if(!((o=this.Yt)!=null&&o.Vt))return null;const{ut:s,ct:r,Kn:n}=this.Yt;return e>=s-r-7&&e<=s+r+7?{Xn:this.Yt,Kn:n}:null}et({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:r}){if(this.Yt===null||this.Yt.Vt===!1)return;const n=Math.round(this.Yt.ut*r);n<0||n>e.height||(t.lineCap="butt",t.strokeStyle=this.Yt.R,t.lineWidth=Math.floor(this.Yt.ct*s),Re(t,this.Yt.Xt),ka(t,n,0,e.width))}}class Tr{constructor(t){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new ku,this.xt=!0,this.Jn=t,this.Qn=t.Qt(),this.Gn.ht(this.Zn)}kt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class Eu extends Tr{constructor(t){super(t)}te(){this.Zn.Vt=!1;const t=this.Jn.Wt(),e=t.ie().ie;if(e!==2&&e!==3)return;const s=this.Jn.N();if(!s.baseLineVisible||!this.Jn.Vt())return;const r=this.Jn.zt();r!==null&&(this.Zn.Vt=!0,this.Zn.ut=t.Nt(r.Ft,r.Ft),this.Zn.R=s.baseLineColor,this.Zn.ct=s.baseLineWidth,this.Zn.Xt=s.baseLineStyle)}}class Tu extends ze{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}se(){return this.Yt}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){const r=this.Yt;if(r===null)return;const n=Math.max(1,Math.floor(e)),o=n%2/2,a=Math.round(r.ne.x*e)+o,l=r.ne.y*s;t.fillStyle=r.ee,t.beginPath();const h=Math.max(2,1.5*r.re)*e;t.arc(a,l,h,0,2*Math.PI,!1),t.fill(),t.fillStyle=r.he,t.beginPath(),t.arc(a,l,r.ft*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=n,t.strokeStyle=r.ae,t.beginPath(),t.arc(a,l,r.ft*e+n/2,0,2*Math.PI,!1),t.stroke()}}const Nu=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class Ru{constructor(t){this.Gt=new Tu,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=t}Me(){this.we=this.me-1,this.kt()}be(){if(this.kt(),this.ge.N().lastPriceAnimation===2){const t=performance.now(),e=this.we-t;if(e>0)return void(e<650&&(this.we+=2600));this.me=t,this.we=t+2600}}kt(){this.xt=!0}Se(){this.ve=!0}Vt(){return this.ge.N().lastPriceAnimation!==0}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const t=this.ge.Qt().At(),e=t.ye(),s=this.ge.zt();if(e===null||s===null)return;const r=this.ge.ke(!0);if(r.Pe||!e.Te(r.Re))return;const n={x:t.qt(r.Re),y:this.ge.Wt().Nt(r.gt,s.Ft)},o=r.R,a=this.ge.N().lineWidth,l=this.De(this.Ve(),o);this.Gt.ht({ee:o,re:a,he:l.he,ae:l.ae,ft:l.ft,ne:n})}Ce(){const t=this.Gt.se();if(t!==null){const e=this.De(this.Ve(),t.ee);t.he=e.he,t.ae=e.ae,t.ft=e.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Ie(t,e,s,r){const n=s+(r-s)*e;return this.ge.Qt().Xi().j(t,n)}De(t,e){const s=t%2600/2600;let r;for(const h of Nu)if(s>=h.le&&s<=h.oe){r=h;break}yt(r!==void 0,"Last price animation internal logic error");const n=(s-r.le)/(r.oe-r.le);return{he:this.Ie(e,n,r.ce,r.de),ae:this.Ie(e,n,r.fe,r.pe),ft:(o=n,a=r._e,l=r.ue,a+(l-a)*o)};var o,a,l}}class Mu extends Tr{constructor(t){super(t)}te(){const t=this.Zn;t.Vt=!1;const e=this.Jn.N();if(!e.priceLineVisible||!this.Jn.Vt())return;const s=this.Jn.ke(e.priceLineSource===0);s.Pe||(t.Vt=!0,t.ut=s.Bi,t.R=this.Jn.Be(s.R),t.ct=e.priceLineWidth,t.Xt=e.priceLineStyle)}}class Pu extends ri{constructor(t){super(),this.Jt=t}qi(t,e,s){t.Vt=!1,e.Vt=!1;const r=this.Jt;if(!r.Vt())return;const n=r.N(),o=n.lastValueVisible,a=r.Ae()!=="",l=n.seriesLastValueMode===0,h=r.ke(!1);if(h.Pe)return;o&&(t.ri=this.Ee(h,o,l),t.Vt=t.ri.length!==0),(a||l)&&(e.ri=this.ze(h,o,a,l),e.Vt=e.ri.length>0);const c=r.Be(h.R),u=this.Jt.Qt().Xi().X(c);s.Z=u.Z,s.Bi=h.Bi,e.Ht=r.Qt().Ut(h.Bi/r.Wt().$t()),t.Ht=c,t.R=u.G,e.R=u.G}ze(t,e,s,r){let n="";const o=this.Jt.Ae();return s&&o.length!==0&&(n+=`${o} `),e&&r&&(n+=this.Jt.Wt().Le()?t.Oe:t.Ne),n.trim()}Ee(t,e,s){return e?s?this.Jt.Wt().Le()?t.Ne:t.Oe:t.ri:""}}function Cn(i,t,e,s){const r=Number.isFinite(t),n=Number.isFinite(e);return r&&n?i(t,e):r||n?r?t:e:s}class _t{constructor(t,e){this.We=t,this.Fe=e}He(t){return t!==null&&this.We===t.We&&this.Fe===t.Fe}Ue(){return new _t(this.We,this.Fe)}$e(){return this.We}qe(){return this.Fe}Ye(){return this.Fe-this.We}Ki(){return this.Fe===this.We||Number.isNaN(this.Fe)||Number.isNaN(this.We)}vn(t){return t===null?this:new _t(Cn(Math.min,this.$e(),t.$e(),-1/0),Cn(Math.max,this.qe(),t.qe(),1/0))}je(t){if(!Me(t)||this.Fe-this.We===0)return;const e=.5*(this.Fe+this.We);let s=this.Fe-e,r=this.We-e;s*=t,r*=t,this.Fe=e+s,this.We=e+r}Ke(t){Me(t)&&(this.Fe+=t,this.We+=t)}Xe(){return{minValue:this.We,maxValue:this.Fe}}static Ze(t){return t===null?null:new _t(t.minValue,t.maxValue)}}class Xs{constructor(t,e){this.Ge=t,this.Je=e||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:this.Ge===null?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(t){return t===null?null:new Xs(_t.Ze(t.priceRange),t.margins)}}class Au extends Tr{constructor(t,e){super(t),this.ir=e}te(){const t=this.Zn;t.Vt=!1;const e=this.ir.N();if(!this.Jn.Vt()||!e.lineVisible)return;const s=this.ir.sr();s!==null&&(t.Vt=!0,t.ut=s,t.R=e.color,t.ct=e.lineWidth,t.Xt=e.lineStyle,t.Kn=this.ir.N().id)}}class Ou extends ri{constructor(t,e){super(),this.ge=t,this.ir=e}qi(t,e,s){t.Vt=!1,e.Vt=!1;const r=this.ir.N(),n=r.axisLabelVisible,o=r.title!=="",a=this.ge;if(!n||!a.Vt())return;const l=this.ir.sr();if(l===null)return;o&&(e.ri=r.title,e.Vt=!0),e.Ht=a.Qt().Ut(l/a.Wt().$t()),t.ri=this.nr(r.price),t.Vt=!0;const h=this.ge.Qt().Xi().X(r.axisLabelColor||r.color);s.Z=h.Z;const c=r.axisLabelTextColor||h.G;t.R=c,e.R=c,s.Bi=l}nr(t){const e=this.ge.zt();return e===null?"":this.ge.Wt().Zi(t,e.Ft)}}class Du{constructor(t,e){this.ge=t,this.ys=e,this.er=new Au(t,this),this.Wn=new Ou(t,this),this.rr=new Pa(this.Wn,t,t.Qt())}hr(t){Mt(this.ys,t),this.kt(),this.ge.Qt().ar()}N(){return this.ys}lr(){return this.er}_r(){return this.rr}ur(){return this.Wn}kt(){this.er.kt(),this.Wn.kt()}sr(){const t=this.ge,e=t.Wt();if(t.Qt().At().Ki()||e.Ki())return null;const s=t.zt();return s===null?null:e.Nt(this.ys.price,s.Ft)}}class zu extends Ra{constructor(t){super(),this.ts=t}Qt(){return this.ts}}const Vu={Bar:(i,t,e,s)=>{const r=t.upColor,n=t.downColor,o=T(i(e,s)),a=se(o.Ft[0])<=se(o.Ft[3]);return{cr:o.R??(a?r:n)}},Candlestick:(i,t,e,s)=>{const r=t.upColor,n=t.downColor,o=t.borderUpColor,a=t.borderDownColor,l=t.wickUpColor,h=t.wickDownColor,c=T(i(e,s)),u=se(c.Ft[0])<=se(c.Ft[3]);return{cr:c.R??(u?r:n),dr:c.Ht??(u?o:a),pr:c.vr??(u?l:h)}},Custom:(i,t,e,s)=>({cr:T(i(e,s)).R??t.color}),Area:(i,t,e,s)=>{const r=T(i(e,s));return{cr:r.vt??t.lineColor,vt:r.vt??t.lineColor,mr:r.mr??t.topColor,wr:r.wr??t.bottomColor}},Baseline:(i,t,e,s)=>{const r=T(i(e,s));return{cr:r.Ft[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,gr:r.gr??t.topLineColor,Mr:r.Mr??t.bottomLineColor,br:r.br??t.topFillColor1,Sr:r.Sr??t.topFillColor2,Cr:r.Cr??t.bottomFillColor1,yr:r.yr??t.bottomFillColor2}},Line:(i,t,e,s)=>{const r=T(i(e,s));return{cr:r.R??t.color,vt:r.R??t.color}},Histogram:(i,t,e,s)=>({cr:T(i(e,s)).R??t.color})};class Lu{constructor(t){this.kr=(e,s)=>s!==void 0?s.Ft:this.ge.Xs().Pr(e),this.ge=t,this.Tr=Vu[t.Rr()]}Dr(t,e){return this.Tr(this.kr,this.ge.N(),t,e)}}function Aa(i,t,e,s,r=0,n=t.length){let o=n-r;for(;0<o;){const a=o>>1,l=r+a;s(t[l],e)===i?(r=l+1,o-=a+1):o=a}return r}const Pe=Aa.bind(null,!0),Oa=Aa.bind(null,!1);var kn;(function(i){i[i.NearestLeft=-1]="NearestLeft",i[i.None=0]="None",i[i.NearestRight=1]="NearestRight"})(kn||(kn={}));const te=30;class Iu{constructor(){this.Vr=[],this.Ir=new Map,this.Br=new Map,this.Ar=[]}Er(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return this.zr()===0}Te(t){return this.Nr(t,0)!==null}Pr(t){return this.Wr(t)}Wr(t,e=0){const s=this.Nr(t,e);return s===null?null:{...this.Fr(s),Re:this.Or(s)}}Hr(){return this.Vr}Ur(t,e,s){if(this.Ki())return null;let r=null;for(const n of s)r=cs(r,this.$r(t,e,n));return r}ht(t){this.Br.clear(),this.Ir.clear(),this.Vr=t,this.Ar=t.map(e=>e.Re)}qr(){return this.Ar}Or(t){return this.Vr[t].Re}Fr(t){return this.Vr[t]}Nr(t,e){const s=this.Yr(t);if(s===null&&e!==0)switch(e){case-1:return this.jr(t);case 1:return this.Kr(t);default:throw new TypeError("Unknown search mode")}return s}jr(t){let e=this.Xr(t);return e>0&&(e-=1),e!==this.Vr.length&&this.Or(e)<t?e:null}Kr(t){const e=this.Zr(t);return e!==this.Vr.length&&t<this.Or(e)?e:null}Yr(t){const e=this.Xr(t);return e===this.Vr.length||t<this.Vr[e].Re?null:e}Xr(t){return Pe(this.Vr,t,(e,s)=>e.Re<s)}Zr(t){return Oa(this.Vr,t,(e,s)=>e.Re>s)}Gr(t,e,s){let r=null;for(let n=t;n<e;n++){const o=this.Vr[n].Ft[s];Number.isNaN(o)||(r===null?r={Jr:o,Qr:o}:(o<r.Jr&&(r.Jr=o),o>r.Qr&&(r.Qr=o)))}return r}$r(t,e,s){if(this.Ki())return null;let r=null;const n=T(this.Lr()),o=T(this.Ks()),a=Math.max(t,n),l=Math.min(e,o),h=Math.ceil(a/te)*te,c=Math.max(h,Math.floor(l/te)*te);{const d=this.Xr(a),g=this.Zr(Math.min(l,h,e));r=cs(r,this.Gr(d,g,s))}let u=this.Ir.get(s);u===void 0&&(u=new Map,this.Ir.set(s,u));for(let d=Math.max(h+1,a);d<c;d+=te){const g=Math.floor(d/te);let v=u.get(g);if(v===void 0){const y=this.Xr(g*te),b=this.Zr((g+1)*te-1);v=this.Gr(y,b,s),u.set(g,v)}r=cs(r,v)}{const d=this.Xr(c),g=this.Zr(l);r=cs(r,this.Gr(d,g,s))}return r}}function cs(i,t){return i===null?t:t===null?i:{Jr:Math.min(i.Jr,t.Jr),Qr:Math.max(i.Qr,t.Qr)}}class ju{constructor(t){this.th=t}nt(t,e,s){this.th.draw(t)}ih(t,e,s){var r,n;(n=(r=this.th).drawBackground)==null||n.call(r,t)}}class Fu{constructor(t){this.Dn=null,this.sh=t}Tt(){var s;const t=this.sh.renderer();if(t===null)return null;if(((s=this.Dn)==null?void 0:s.nh)===t)return this.Dn.eh;const e=new ju(t);return this.Dn={nh:t,eh:e},e}rh(){var t,e;return((e=(t=this.sh).zOrder)==null?void 0:e.call(t))??"normal"}}class Da{constructor(t){this.hh=null,this.ah=t}oh(){return this.ah}Ns(){var t,e;(e=(t=this.ah).updateAllViews)==null||e.call(t)}Ws(){var s,r,n;const t=((r=(s=this.ah).paneViews)==null?void 0:r.call(s))??[];if(((n=this.hh)==null?void 0:n.nh)===t)return this.hh.eh;const e=t.map(o=>new Fu(o));return this.hh={nh:t,eh:e},e}jn(t,e){var s,r;return((r=(s=this.ah).hitTest)==null?void 0:r.call(s,t,e))??null}}let Bu=class extends Da{us(){return[]}};class Wu{constructor(t){this.th=t}nt(t,e,s){this.th.draw(t)}ih(t,e,s){var r,n;(n=(r=this.th).drawBackground)==null||n.call(r,t)}}class En{constructor(t){this.Dn=null,this.sh=t}Tt(){var s;const t=this.sh.renderer();if(t===null)return null;if(((s=this.Dn)==null?void 0:s.nh)===t)return this.Dn.eh;const e=new Wu(t);return this.Dn={nh:t,eh:e},e}rh(){var t,e;return((e=(t=this.sh).zOrder)==null?void 0:e.call(t))??"normal"}}function za(i){var t,e,s;return{ri:i.text(),Bi:i.coordinate(),Ii:(t=i.fixedCoordinate)==null?void 0:t.call(i),R:i.textColor(),Z:i.backColor(),Vt:((e=i.visible)==null?void 0:e.call(i))??!0,pi:((s=i.tickVisible)==null?void 0:s.call(i))??!0}}class $u{constructor(t,e){this.Gt=new Na,this._h=t,this.uh=e}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...za(this._h)}),this.Gt}}class Yu extends ri{constructor(t,e){super(),this._h=t,this.Yi=e}qi(t,e,s){const r=za(this._h);s.Z=r.Z,t.R=r.R;const n=2/12*this.Yi.k();s.Ti=n,s.Ri=n,s.Bi=r.Bi,s.Ii=r.Ii,t.ri=r.ri,t.Vt=r.Vt,t.pi=r.pi}}class Uu extends Da{constructor(t,e){super(t),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=e}cs(){var r,n,o;const t=((n=(r=this.ah).timeAxisViews)==null?void 0:n.call(r))??[];if(((o=this.dh)==null?void 0:o.nh)===t)return this.dh.eh;const e=this.ge.Qt().At(),s=t.map(a=>new $u(a,e));return this.dh={nh:t,eh:s},s}Fs(){var r,n,o;const t=((n=(r=this.ah).priceAxisViews)==null?void 0:n.call(r))??[];if(((o=this.fh)==null?void 0:o.nh)===t)return this.fh.eh;const e=this.ge.Wt(),s=t.map(a=>new Yu(a,e));return this.fh={nh:t,eh:s},s}wh(){var s,r,n;const t=((r=(s=this.ah).priceAxisPaneViews)==null?void 0:r.call(s))??[];if(((n=this.ph)==null?void 0:n.nh)===t)return this.ph.eh;const e=t.map(o=>new En(o));return this.ph={nh:t,eh:e},e}gh(){var s,r,n;const t=((r=(s=this.ah).timeAxisPaneViews)==null?void 0:r.call(s))??[];if(((n=this.mh)==null?void 0:n.nh)===t)return this.mh.eh;const e=t.map(o=>new En(o));return this.mh={nh:t,eh:e},e}Mh(t,e){var s,r;return((r=(s=this.ah).autoscaleInfo)==null?void 0:r.call(s,t,e))??null}}function Si(i,t,e,s){i.forEach(r=>{t(r).forEach(n=>{n.rh()===e&&s.push(n)})})}function Ci(i){return i.Ws()}function Zu(i){return i.wh()}function Xu(i){return i.gh()}const Qu=["Area","Line","Baseline"];class ai extends zu{constructor(t,e,s,r,n){super(t),this.Yt=new Iu,this.er=new Mu(this),this.bh=[],this.Sh=new Eu(this),this.xh=null,this.Ch=null,this.yh=null,this.kh=[],this.ys=s,this.Ph=e;const o=new Pu(this);this.vs=[o],this.rr=new Pa(o,this,t),Qu.includes(this.Ph)&&(this.xh=new Ru(this)),this.Th(),this.sh=r(this,this.Qt(),n)}m(){this.yh!==null&&clearTimeout(this.yh)}Be(t){return this.ys.priceLineColor||t}ke(t){const e={Pe:!0},s=this.Wt();if(this.Qt().At().Ki()||s.Ki()||this.Yt.Ki())return e;const r=this.Qt().At().ye(),n=this.zt();if(r===null||n===null)return e;let o,a;if(t){const u=this.Yt.Er();if(u===null)return e;o=u,a=u.Re}else{const u=this.Yt.Wr(r.bi(),-1);if(u===null||(o=this.Yt.Pr(u.Re),o===null))return e;a=u.Re}const l=o.Ft[3],h=this.Rh().Dr(a,{Ft:o}),c=s.Nt(l,n.Ft);return{Pe:!1,gt:l,ri:s.Zi(l,n.Ft),Oe:s.Dh(l),Ne:s.Vh(l,n.Ft),R:h.cr,Bi:c,Re:a}}Rh(){return this.Ch!==null||(this.Ch=new Lu(this)),this.Ch}N(){return this.ys}hr(t){const e=t.priceScaleId;e!==void 0&&e!==this.ys.priceScaleId&&this.Qt().Ih(this,e),Mt(this.ys,t),t.priceFormat!==void 0&&(this.Th(),this.Qt().Bh()),this.Qt().Ah(this),this.Qt().Eh(),this.sh.kt("options")}ht(t,e){this.Yt.ht(t),this.sh.kt("data"),this.xh!==null&&(e&&e.zh?this.xh.be():t.length===0&&this.xh.Me());const s=this.Qt().Hn(this);this.Qt().Lh(s),this.Qt().Ah(this),this.Qt().Eh(),this.Qt().ar()}Oh(t){const e=new Du(this,t);return this.bh.push(e),this.Qt().Ah(this),e}Nh(t){const e=this.bh.indexOf(t);e!==-1&&this.bh.splice(e,1),this.Qt().Ah(this)}Wh(){return this.bh}Rr(){return this.Ph}zt(){const t=this.Fh();return t===null?null:{Ft:t.Ft[3],Hh:t.wt}}Fh(){const t=this.Qt().At().ye();if(t===null)return null;const e=t.Uh();return this.Yt.Wr(e,1)}Xs(){return this.Yt}$h(t){const e=this.Yt.Pr(t);return e===null?null:this.Ph==="Bar"||this.Ph==="Candlestick"||this.Ph==="Custom"?{qh:e.Ft[0],Yh:e.Ft[1],jh:e.Ft[2],Kh:e.Ft[3]}:e.Ft[3]}Xh(t){const e=[];Si(this.kh,Ci,"top",e);const s=this.xh;return s!==null&&s.Vt()&&(this.yh===null&&s.xe()&&(this.yh=setTimeout(()=>{this.yh=null,this.Qt().Zh()},0)),s.Se(),e.unshift(s)),e}Ws(){const t=[];this.Gh()||t.push(this.Sh),t.push(this.sh,this.er);const e=this.bh.map(s=>s.lr());return t.push(...e),Si(this.kh,Ci,"normal",t),t}Jh(){return this.Qh(Ci,"bottom")}ta(t){return this.Qh(Zu,t)}ia(t){return this.Qh(Xu,t)}sa(t,e){return this.kh.map(s=>s.jn(t,e)).filter(s=>s!==null)}us(){return[this.rr,...this.bh.map(t=>t._r())]}Fs(t,e){if(e!==this.es&&!this.Gh())return[];const s=[...this.vs];for(const r of this.bh)s.push(r.ur());return this.kh.forEach(r=>{s.push(...r.Fs())}),s}cs(){const t=[];return this.kh.forEach(e=>{t.push(...e.cs())}),t}Mh(t,e){if(this.ys.autoscaleInfoProvider!==void 0){const s=this.ys.autoscaleInfoProvider(()=>{const r=this.na(t,e);return r===null?null:r.Xe()});return Xs.Ze(s)}return this.na(t,e)}ea(){return this.ys.priceFormat.minMove}ra(){return this.ha}Ns(){var t;this.sh.kt();for(const e of this.vs)e.kt();for(const e of this.bh)e.kt();this.er.kt(),this.Sh.kt(),(t=this.xh)==null||t.kt(),this.kh.forEach(e=>e.Ns())}Wt(){return T(super.Wt())}Et(t){if(!((this.Ph==="Line"||this.Ph==="Area"||this.Ph==="Baseline")&&this.ys.crosshairMarkerVisible))return null;const e=this.Yt.Pr(t);return e===null?null:{gt:e.Ft[3],ft:this.aa(),Ht:this.la(),Ot:this.oa(),Lt:this._a(t)}}Ae(){return this.ys.title}Vt(){return this.ys.visible}ua(t){this.kh.push(new Uu(t,this))}ca(t){this.kh=this.kh.filter(e=>e.oh()!==t)}da(){if(this.Ph==="Custom")return t=>this.sh.fa(t)}pa(){if(this.Ph==="Custom")return t=>this.sh.va(t)}ma(){return this.Yt.qr()}Gh(){return!ni(this.Wt().wa())}na(t,e){if(!rs(t)||!rs(e)||this.Yt.Ki())return null;const s=this.Ph==="Line"||this.Ph==="Area"||this.Ph==="Baseline"||this.Ph==="Histogram"?[3]:[2,1],r=this.Yt.Ur(t,e,s);let n=r!==null?new _t(r.Jr,r.Qr):null,o=null;if(this.Rr()==="Histogram"){const a=this.ys.base,l=new _t(a,a);n=n!==null?n.vn(l):l}return this.kh.forEach(a=>{const l=a.Mh(t,e);if(l!=null&&l.priceRange){const h=new _t(l.priceRange.minValue,l.priceRange.maxValue);n=n!==null?n.vn(h):h}l!=null&&l.margins&&(o=l.margins)}),new Xs(n,o)}aa(){switch(this.Ph){case"Line":case"Area":case"Baseline":return this.ys.crosshairMarkerRadius}return 0}la(){switch(this.Ph){case"Line":case"Area":case"Baseline":{const t=this.ys.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}oa(){switch(this.Ph){case"Line":case"Area":case"Baseline":return this.ys.crosshairMarkerBorderWidth}return 0}_a(t){switch(this.Ph){case"Line":case"Area":case"Baseline":{const e=this.ys.crosshairMarkerBackgroundColor;if(e.length!==0)return e}}return this.Rh().Dr(t).cr}Th(){switch(this.ys.priceFormat.type){case"custom":this.ha={format:this.ys.priceFormat.formatter};break;case"volume":this.ha=new _u(this.ys.priceFormat.precision);break;case"percent":this.ha=new Ma(this.ys.priceFormat.precision);break;default:{const t=Math.pow(10,this.ys.priceFormat.precision);this.ha=new oi(t,this.ys.priceFormat.minMove*t)}}this.es!==null&&this.es.ga()}Qh(t,e){const s=[];return Si(this.kh,t,e,s),s}}const Hu=[3],Ku=[0,1,2,3];class Gu{constructor(t){this.ys=t}Ma(t,e,s){let r=t;if(this.ys.mode===0)return r;const n=s.Ps(),o=n.zt();if(o===null)return r;const a=n.Nt(t,o),l=s.ba().filter(c=>c instanceof ai).reduce((c,u)=>{if(s.Un(u)||!u.Vt())return c;const d=u.Wt(),g=u.Xs();if(d.Ki()||!g.Te(e))return c;const v=g.Pr(e);if(v===null)return c;const y=se(u.zt()),b=this.ys.mode===3?Ku:Hu;return c.concat(b.map(w=>d.Nt(v.Ft[w],y.Ft)))},[]);if(l.length===0)return r;l.sort((c,u)=>Math.abs(c-a)-Math.abs(u-a));const h=l[0];return r=n.Ts(h,o),r}}function Ke(i,t,e){return Math.min(Math.max(i,t),e)}function us(i,t,e){return t-i<=e}class Ju extends ze{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:r}){if(this.Yt===null)return;const n=Math.max(1,Math.floor(s));t.lineWidth=n,function(o,a){o.save(),o.lineWidth%2&&o.translate(.5,.5),a(),o.restore()}(t,()=>{const o=T(this.Yt);if(o.Sa){t.strokeStyle=o.xa,Re(t,o.Ca),t.beginPath();for(const a of o.ya){const l=Math.round(a.ka*s);t.moveTo(l,-n),t.lineTo(l,e.height+n)}t.stroke()}if(o.Pa){t.strokeStyle=o.Ta,Re(t,o.Ra),t.beginPath();for(const a of o.Da){const l=Math.round(a.ka*r);t.moveTo(-n,l),t.lineTo(e.width+n,l)}t.stroke()}})}}class qu{constructor(t){this.Gt=new Ju,this.xt=!0,this.yt=t}kt(){this.xt=!0}Tt(){if(this.xt){const t=this.yt.Qt().N().grid,e={Pa:t.horzLines.visible,Sa:t.vertLines.visible,Ta:t.horzLines.color,xa:t.vertLines.color,Ra:t.horzLines.style,Ca:t.vertLines.style,Da:this.yt.Ps().Va(),ya:(this.yt.Qt().At().Va()||[]).map(s=>({ka:s.coord}))};this.Gt.ht(e),this.xt=!1}return this.Gt}}class td{constructor(t){this.sh=new qu(t)}lr(){return this.sh}}const ki={Ia:4,Ba:1e-4};function we(i,t){const e=100*(i-t)/t;return t<0?-e:e}function ed(i,t){const e=we(i.$e(),t),s=we(i.qe(),t);return new _t(e,s)}function Ge(i,t){const e=100*(i-t)/t+100;return t<0?-e:e}function sd(i,t){const e=Ge(i.$e(),t),s=Ge(i.qe(),t);return new _t(e,s)}function Qs(i,t){const e=Math.abs(i);if(e<1e-15)return 0;const s=Math.log10(e+t.Ba)+t.Ia;return i<0?-s:s}function Je(i,t){const e=Math.abs(i);if(e<1e-15)return 0;const s=Math.pow(10,e-t.Ia)-t.Ba;return i<0?-s:s}function Fe(i,t){if(i===null)return null;const e=Qs(i.$e(),t),s=Qs(i.qe(),t);return new _t(e,s)}function Ue(i,t){if(i===null)return null;const e=Je(i.$e(),t),s=Je(i.qe(),t);return new _t(e,s)}function Ei(i){if(i===null)return ki;const t=Math.abs(i.qe()-i.$e());if(t>=1||t<1e-15)return ki;const e=Math.ceil(Math.abs(Math.log10(t))),s=ki.Ia+e;return{Ia:s,Ba:1/Math.pow(10,s)}}class Ti{constructor(t,e){if(this.Aa=t,this.Ea=e,function(s){if(s<0)return!1;for(let r=s;r>1;r/=10)if(r%10!=0)return!1;return!0}(this.Aa))this.za=[2,2.5,2];else{this.za=[];for(let s=this.Aa;s!==1;){if(s%2==0)this.za.push(2),s/=2;else{if(s%5!=0)throw new Error("unexpected base");this.za.push(2,2.5),s/=5}if(this.za.length>100)throw new Error("something wrong with base")}}}La(t,e,s){const r=this.Aa===0?0:1/this.Aa;let n=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),o=0,a=this.Ea[0];for(;;){const u=us(n,r,1e-14)&&n>r+1e-14,d=us(n,s*a,1e-14),g=us(n,1,1e-14);if(!(u&&d&&g))break;n/=a,a=this.Ea[++o%this.Ea.length]}if(n<=r+1e-14&&(n=r),n=Math.max(1,n),this.za.length>0&&(l=n,h=1,c=1e-14,Math.abs(l-h)<c))for(o=0,a=this.za[0];us(n,s*a,1e-14)&&n>r+1e-14;)n/=a,a=this.za[++o%this.za.length];var l,h,c;return n}}class Tn{constructor(t,e,s,r){this.Oa=[],this.Yi=t,this.Aa=e,this.Na=s,this.Wa=r}La(t,e){if(t<e)throw new Error("high < low");const s=this.Yi.$t(),r=(t-e)*this.Fa()/s,n=new Ti(this.Aa,[2,2.5,2]),o=new Ti(this.Aa,[2,2,2.5]),a=new Ti(this.Aa,[2.5,2,2]),l=[];return l.push(n.La(t,e,r),o.La(t,e,r),a.La(t,e,r)),function(h){if(h.length<1)throw Error("array is empty");let c=h[0];for(let u=1;u<h.length;++u)h[u]<c&&(c=h[u]);return c}(l)}Ha(){const t=this.Yi,e=t.zt();if(e===null)return void(this.Oa=[]);const s=t.$t(),r=this.Na(s-1,e),n=this.Na(0,e),o=this.Yi.N().entireTextOnly?this.Ua()/2:0,a=o,l=s-1-o,h=Math.max(r,n),c=Math.min(r,n);if(h===c)return void(this.Oa=[]);const u=this.La(h,c);if(this.$a(e,u,h,c,a,l),t.qa()&&this.Ya(u,c,h)){const d=this.Yi.ja();this.Ka(e,u,a,l,d,2*d)}}Va(){return this.Oa}Ua(){return this.Yi.k()}Fa(){return Math.ceil(2.5*this.Ua())}$a(t,e,s,r,n,o){const a=this.Oa,l=this.Yi;let h=s%e;h+=h<0?e:0;const c=s>=r?1:-1;let u=null,d=0;for(let g=s-h;g>r;g-=e){const v=this.Wa(g,t,!0);u!==null&&Math.abs(v-u)<this.Fa()||v<n||v>o||(d<a.length?(a[d].ka=v,a[d].Xa=l.Za(g)):a.push({ka:v,Xa:l.Za(g)}),d++,u=v,l.Ga()&&(e=this.La(g*c,r)))}a.length=d}Ka(t,e,s,r,n,o){const a=this.Oa,l=this.Ja(t,s,n,o),h=this.Ja(t,r,-o,-n),c=this.Wa(0,t,!0)-this.Wa(e,t,!0);a.length>0&&a[0].ka-l.ka<c/2&&a.shift(),a.length>0&&h.ka-a[a.length-1].ka<c/2&&a.pop(),a.unshift(l),a.push(h)}Ja(t,e,s,r){const n=(s+r)/2,o=this.Na(e+s,t),a=this.Na(e+r,t),l=Math.min(o,a),h=Math.max(o,a),c=Math.max(.1,this.La(h,l)),u=this.Na(e+n,t),d=u-u%c,g=this.Wa(d,t,!0);return{Xa:this.Yi.Za(d),ka:g}}Ya(t,e,s){let r=se(this.Yi.Qe());return this.Yi.Ga()&&(r=Ue(r,this.Yi.Qa())),r.$e()-e<t&&s-r.qe()<t}}function Va(i){return i.slice().sort((t,e)=>T(t.hs())-T(e.hs()))}var Nn;(function(i){i[i.Normal=0]="Normal",i[i.Logarithmic=1]="Logarithmic",i[i.Percentage=2]="Percentage",i[i.IndexedTo100=3]="IndexedTo100"})(Nn||(Nn={}));const Rn=new Ma,Mn=new oi(100,1);class id{constructor(t,e,s,r,n){this.tl=0,this.il=null,this.Ge=null,this.sl=null,this.nl={el:!1,rl:null},this.hl=!1,this.al=0,this.ll=0,this.ol=new ct,this._l=new ct,this.ul=[],this.cl=null,this.dl=null,this.fl=null,this.pl=null,this.vl=null,this.ha=Mn,this.ml=Ei(null),this.wl=t,this.ys=e,this.gl=s,this.Ml=r,this.bl=n,this.Sl=new Tn(this,100,this.xl.bind(this),this.Cl.bind(this))}wa(){return this.wl}N(){return this.ys}hr(t){if(Mt(this.ys,t),this.ga(),t.mode!==void 0&&this.yl({ie:t.mode}),t.scaleMargins!==void 0){const e=Rt(t.scaleMargins.top),s=Rt(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(s<0||s>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${s}`);if(e+s>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+s}`);this.kl(),this.fl=null}}Pl(){return this.ys.autoScale}Tl(){return this.hl}Ga(){return this.ys.mode===1}Le(){return this.ys.mode===2}Rl(){return this.ys.mode===3}Qa(){return this.ml}ie(){return{sn:this.ys.autoScale,Dl:this.ys.invertScale,ie:this.ys.mode}}yl(t){const e=this.ie();let s=null;t.sn!==void 0&&(this.ys.autoScale=t.sn),t.ie!==void 0&&(this.ys.mode=t.ie,t.ie!==2&&t.ie!==3||(this.ys.autoScale=!0),this.nl.el=!1),e.ie===1&&t.ie!==e.ie&&(function(n,o){if(n===null)return!1;const a=Je(n.$e(),o),l=Je(n.qe(),o);return isFinite(a)&&isFinite(l)}(this.Ge,this.ml)?(s=Ue(this.Ge,this.ml),s!==null&&this.Vl(s)):this.ys.autoScale=!0),t.ie===1&&t.ie!==e.ie&&(s=Fe(this.Ge,this.ml),s!==null&&this.Vl(s));const r=e.ie!==this.ys.mode;r&&(e.ie===2||this.Le())&&this.ga(),r&&(e.ie===3||this.Rl())&&this.ga(),t.Dl!==void 0&&e.Dl!==t.Dl&&(this.ys.invertScale=t.Dl,this.Il()),this._l.p(e,this.ie())}Bl(){return this._l}k(){return this.gl.fontSize}$t(){return this.tl}Al(t){this.tl!==t&&(this.tl=t,this.kl(),this.fl=null)}El(){if(this.il)return this.il;const t=this.$t()-this.zl()-this.Ll();return this.il=t,t}Qe(){return this.Ol(),this.Ge}Vl(t,e){const s=this.Ge;(e||s===null&&t!==null||s!==null&&!s.He(t))&&(this.fl=null,this.Ge=t)}Nl(t){this.Vl(t),this.Wl(t!==null)}Ki(){return this.Ol(),this.tl===0||!this.Ge||this.Ge.Ki()}Fl(t){return this.Dl()?t:this.$t()-1-t}Nt(t,e){return this.Le()?t=we(t,e):this.Rl()&&(t=Ge(t,e)),this.Cl(t,e)}Hl(t,e,s){this.Ol();const r=this.Ll(),n=T(this.Qe()),o=n.$e(),a=n.qe(),l=this.El()-1,h=this.Dl(),c=l/(a-o),u=s===void 0?0:s.from,d=s===void 0?t.length:s.to,g=this.Ul();for(let v=u;v<d;v++){const y=t[v],b=y.gt;if(isNaN(b))continue;let w=b;g!==null&&(w=g(y.gt,e));const _=r+c*(w-o),A=h?_:this.tl-1-_;y.ut=A}}$l(t,e,s){this.Ol();const r=this.Ll(),n=T(this.Qe()),o=n.$e(),a=n.qe(),l=this.El()-1,h=this.Dl(),c=l/(a-o),u=s===void 0?0:s.from,d=s===void 0?t.length:s.to,g=this.Ul();for(let v=u;v<d;v++){const y=t[v];let b=y.qh,w=y.Yh,_=y.jh,A=y.Kh;g!==null&&(b=g(y.qh,e),w=g(y.Yh,e),_=g(y.jh,e),A=g(y.Kh,e));let C=r+c*(b-o),R=h?C:this.tl-1-C;y.ql=R,C=r+c*(w-o),R=h?C:this.tl-1-C,y.Yl=R,C=r+c*(_-o),R=h?C:this.tl-1-C,y.jl=R,C=r+c*(A-o),R=h?C:this.tl-1-C,y.Kl=R}}Ts(t,e){const s=this.xl(t,e);return this.Xl(s,e)}Xl(t,e){let s=t;return this.Le()?s=function(r,n){return n<0&&(r=-r),r/100*n+n}(s,e):this.Rl()&&(s=function(r,n){return r-=100,n<0&&(r=-r),r/100*n+n}(s,e)),s}ba(){return this.ul}Dt(){return this.dl||(this.dl=Va(this.ul)),this.dl}Zl(t){this.ul.indexOf(t)===-1&&(this.ul.push(t),this.ga(),this.Gl())}Jl(t){const e=this.ul.indexOf(t);if(e===-1)throw new Error("source is not attached to scale");this.ul.splice(e,1),this.ul.length===0&&(this.yl({sn:!0}),this.Vl(null)),this.ga(),this.Gl()}zt(){let t=null;for(const e of this.ul){const s=e.zt();s!==null&&(t===null||s.Hh<t.Hh)&&(t=s)}return t===null?null:t.Ft}Dl(){return this.ys.invertScale}Va(){const t=this.zt()===null;if(this.fl!==null&&(t||this.fl.Ql===t))return this.fl.Va;this.Sl.Ha();const e=this.Sl.Va();return this.fl={Va:e,Ql:t},this.ol.p(),e}io(){return this.ol}so(t){this.Le()||this.Rl()||this.pl===null&&this.sl===null&&(this.Ki()||(this.pl=this.tl-t,this.sl=T(this.Qe()).Ue()))}no(t){if(this.Le()||this.Rl()||this.pl===null)return;this.yl({sn:!1}),(t=this.tl-t)<0&&(t=0);let e=(this.pl+.2*(this.tl-1))/(t+.2*(this.tl-1));const s=T(this.sl).Ue();e=Math.max(e,.1),s.je(e),this.Vl(s)}eo(){this.Le()||this.Rl()||(this.pl=null,this.sl=null)}ro(t){this.Pl()||this.vl===null&&this.sl===null&&(this.Ki()||(this.vl=t,this.sl=T(this.Qe()).Ue()))}ho(t){if(this.Pl()||this.vl===null)return;const e=T(this.Qe()).Ye()/(this.El()-1);let s=t-this.vl;this.Dl()&&(s*=-1);const r=s*e,n=T(this.sl).Ue();n.Ke(r),this.Vl(n,!0),this.fl=null}ao(){this.Pl()||this.vl!==null&&(this.vl=null,this.sl=null)}ra(){return this.ha||this.ga(),this.ha}Zi(t,e){switch(this.ys.mode){case 2:return this.lo(we(t,e));case 3:return this.ra().format(Ge(t,e));default:return this.nr(t)}}Za(t){switch(this.ys.mode){case 2:return this.lo(t);case 3:return this.ra().format(t);default:return this.nr(t)}}Dh(t){return this.nr(t,T(this.cl).ra())}Vh(t,e){return t=we(t,e),this.lo(t,Rn)}oo(){return this.ul}_o(t){this.nl={rl:t,el:!1}}Ns(){this.ul.forEach(t=>t.Ns())}qa(){return this.ys.ensureEdgeTickMarksVisible&&this.Pl()}ja(){return this.k()/2}ga(){this.fl=null;let t=1/0;this.cl=null;for(const s of this.ul)s.hs()<t&&(t=s.hs(),this.cl=s);let e=100;this.cl!==null&&(e=Math.round(1/this.cl.ea())),this.ha=Mn,this.Le()?(this.ha=Rn,e=100):this.Rl()?(this.ha=new oi(100,1),e=100):this.cl!==null&&(this.ha=this.cl.ra()),this.Sl=new Tn(this,e,this.xl.bind(this),this.Cl.bind(this)),this.Sl.Ha()}Gl(){this.dl=null}Xi(){return this.bl}Wl(t){this.hl=t}zl(){return this.Dl()?this.ys.scaleMargins.bottom*this.$t()+this.ll:this.ys.scaleMargins.top*this.$t()+this.al}Ll(){return this.Dl()?this.ys.scaleMargins.top*this.$t()+this.al:this.ys.scaleMargins.bottom*this.$t()+this.ll}Ol(){this.nl.el||(this.nl.el=!0,this.uo())}kl(){this.il=null}Cl(t,e){if(this.Ol(),this.Ki())return 0;t=this.Ga()&&t?Qs(t,this.ml):t;const s=T(this.Qe()),r=this.Ll()+(this.El()-1)*(t-s.$e())/s.Ye();return this.Fl(r)}xl(t,e){if(this.Ol(),this.Ki())return 0;const s=this.Fl(t),r=T(this.Qe()),n=r.$e()+r.Ye()*((s-this.Ll())/(this.El()-1));return this.Ga()?Je(n,this.ml):n}Il(){this.fl=null,this.Sl.Ha()}uo(){if(this.Tl()&&!this.Pl())return;const t=this.nl.rl;if(t===null)return;let e=null;const s=this.oo();let r=0,n=0;for(const l of s){if(!l.Vt())continue;const h=l.zt();if(h===null)continue;const c=l.Mh(t.Uh(),t.bi());let u=c&&c.Qe();if(u!==null){switch(this.ys.mode){case 1:u=Fe(u,this.ml);break;case 2:u=ed(u,h.Ft);break;case 3:u=sd(u,h.Ft)}if(e=e===null?u:e.vn(T(u)),c!==null){const d=c.tr();d!==null&&(r=Math.max(r,d.above),n=Math.max(n,d.below))}}}if(this.qa()&&(r=Math.max(r,this.ja()),n=Math.max(n,this.ja())),r===this.al&&n===this.ll||(this.al=r,this.ll=n,this.fl=null,this.kl()),e!==null){if(e.$e()===e.qe()){const l=this.cl,h=5*(l===null||this.Le()||this.Rl()?1:l.ea());this.Ga()&&(e=Ue(e,this.ml)),e=new _t(e.$e()-h,e.qe()+h),this.Ga()&&(e=Fe(e,this.ml))}if(this.Ga()){const l=Ue(e,this.ml),h=Ei(l);if(o=h,a=this.ml,o.Ia!==a.Ia||o.Ba!==a.Ba){const c=this.sl!==null?Ue(this.sl,this.ml):null;this.ml=h,e=Fe(l,h),c!==null&&(this.sl=Fe(c,h))}}this.Vl(e)}else this.Ge===null&&(this.Vl(new _t(-.5,.5)),this.ml=Ei(null));var o,a}Ul(){return this.Le()?we:this.Rl()?Ge:this.Ga()?t=>Qs(t,this.ml):null}co(t,e,s){return e===void 0?(s===void 0&&(s=this.ra()),s.format(t)):e(t)}nr(t,e){return this.co(t,this.Ml.priceFormatter,e)}lo(t,e){return this.co(t,this.Ml.percentageFormatter,e)}}function Pn(i){return i instanceof ai}class An{constructor(t,e){this.ul=[],this.do=new Map,this.tl=0,this.fo=0,this.po=1e3,this.dl=null,this.vo=new ct,this.kh=[],this.uh=t,this.ts=e,this.mo=new td(this);const s=e.N();this.wo=this.Mo("left",s.leftPriceScale),this.bo=this.Mo("right",s.rightPriceScale),this.wo.Bl().i(this.So.bind(this,this.wo),this),this.bo.Bl().i(this.So.bind(this,this.bo),this),this.xo(s)}xo(t){if(t.leftPriceScale&&this.wo.hr(t.leftPriceScale),t.rightPriceScale&&this.bo.hr(t.rightPriceScale),t.localization&&(this.wo.ga(),this.bo.ga()),t.overlayPriceScales){const e=Array.from(this.do.values());for(const s of e){const r=T(s[0].Wt());r.hr(t.overlayPriceScales),t.localization&&r.ga()}}}Co(t){switch(t){case"left":return this.wo;case"right":return this.bo}return this.do.has(t)?Rt(this.do.get(t))[0].Wt():null}m(){this.Qt().yo().u(this),this.wo.Bl().u(this),this.bo.Bl().u(this),this.ul.forEach(t=>{t.m&&t.m()}),this.kh=this.kh.filter(t=>{const e=t.oh();return e.detached&&e.detached(),!1}),this.vo.p()}ko(){return this.po}Po(t){this.po=t}Qt(){return this.ts}Qi(){return this.fo}$t(){return this.tl}To(t){this.fo=t,this.Ro()}Al(t){this.tl=t,this.wo.Al(t),this.bo.Al(t),this.ul.forEach(e=>{if(this.Un(e)){const s=e.Wt();s!==null&&s.Al(t)}}),this.Ro()}Do(){return this.ul.filter(Pn)}ba(){return this.ul}Un(t){const e=t.Wt();return e===null||this.wo!==e&&this.bo!==e}Zl(t,e,s){this.Vo(t,e,s?t.hs():this.ul.length)}Jl(t,e){const s=this.ul.indexOf(t);yt(s!==-1,"removeDataSource: invalid data source"),this.ul.splice(s,1),e||this.ul.forEach((o,a)=>o.ls(a));const r=T(t.Wt()).wa();if(this.do.has(r)){const o=Rt(this.do.get(r)),a=o.indexOf(t);a!==-1&&(o.splice(a,1),o.length===0&&this.do.delete(r))}const n=t.Wt();n&&n.ba().indexOf(t)>=0&&(n.Jl(t),this.Io(n)),this.dl=null}qn(t){return t===this.wo?"left":t===this.bo?"right":"overlay"}Bo(){return this.wo}Ao(){return this.bo}Eo(t,e){t.so(e)}zo(t,e){t.no(e),this.Ro()}Lo(t){t.eo()}Oo(t,e){t.ro(e)}No(t,e){t.ho(e),this.Ro()}Wo(t){t.ao()}Ro(){this.ul.forEach(t=>{t.Ns()})}Ps(){let t=null;return this.ts.N().rightPriceScale.visible&&this.bo.ba().length!==0?t=this.bo:this.ts.N().leftPriceScale.visible&&this.wo.ba().length!==0?t=this.wo:this.ul.length!==0&&(t=this.ul[0].Wt()),t===null&&(t=this.bo),t}$n(){let t=null;return this.ts.N().rightPriceScale.visible?t=this.bo:this.ts.N().leftPriceScale.visible&&(t=this.wo),t}Io(t){t!==null&&t.Pl()&&this.Fo(t)}Ho(t){const e=this.uh.ye();t.yl({sn:!0}),e!==null&&t._o(e),this.Ro()}Uo(){this.Fo(this.wo),this.Fo(this.bo)}$o(){this.Io(this.wo),this.Io(this.bo),this.ul.forEach(t=>{this.Un(t)&&this.Io(t.Wt())}),this.Ro(),this.ts.ar()}Dt(){return this.dl===null&&(this.dl=Va(this.ul)),this.dl}qo(t,e){e=Ke(e,0,this.ul.length-1);const s=this.ul.indexOf(t);yt(s!==-1,"setSeriesOrder: invalid data source"),this.ul.splice(s,1),this.ul.splice(e,0,t),this.ul.forEach((r,n)=>r.ls(n)),this.dl=null;for(const r of[this.wo,this.bo])r.Gl(),r.ga();this.ts.ar()}It(){return this.Dt().filter(Pn)}Yo(){return this.vo}jo(){return this.mo}ua(t){this.kh.push(new Bu(t))}ca(t){this.kh=this.kh.filter(e=>e.oh()!==t),t.detached&&t.detached(),this.ts.ar()}Ko(){return this.kh}sa(t,e){return this.kh.map(s=>s.jn(t,e)).filter(s=>s!==null)}Fo(t){const e=t.oo();if(e&&e.length>0&&!this.uh.Ki()){const s=this.uh.ye();s!==null&&t._o(s)}t.Ns()}Vo(t,e,s){let r=this.Co(e);if(r===null&&(r=this.Mo(e,this.ts.N().overlayPriceScales)),this.ul.splice(s,0,t),!ni(e)){const n=this.do.get(e)||[];n.push(t),this.do.set(e,n)}t.ls(s),r.Zl(t),t._s(r),this.Io(r),this.dl=null}So(t,e,s){e.ie!==s.ie&&this.Fo(t)}Mo(t,e){const s={visible:!0,autoScale:!0,...Xt(e)},r=new id(t,s,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return r.Al(this.$t()),r}}function ds(i){return{Xo:i.Xo,Zo:{Kn:i.Go.externalId},Jo:i.Go.cursorStyle}}function rd(i,t,e,s){for(const r of i){const n=r.Tt(s);if(n!==null&&n.jn){const o=n.jn(t,e);if(o!==null)return{Qo:r,Zo:o}}}return null}function nd(i){return i.Ws!==void 0}function La(i,t,e){const s=[i,...i.Dt()],r=function(n,o,a){var d;let l,h;for(const g of n){const v=((d=g.sa)==null?void 0:d.call(g,o,a))??[];for(const y of v)c=y.zOrder,u=l==null?void 0:l.zOrder,(!u||c==="top"&&u!=="top"||c==="normal"&&u==="bottom")&&(l=y,h=g)}var c,u;return l&&h?{Go:l,Xo:h}:null}(s,t,e);if((r==null?void 0:r.Go.zOrder)==="top")return ds(r);for(const n of s){if(r&&r.Xo===n&&r.Go.zOrder!=="bottom"&&!r.Go.isBackground)return ds(r);if(nd(n)){const o=rd(n.Ws(i),t,e,i);if(o!==null)return{Xo:n,Qo:o.Qo,Zo:o.Zo}}if(r&&r.Xo===n&&r.Go.zOrder!=="bottom"&&r.Go.isBackground)return ds(r)}return r!=null&&r.Go?ds(r):null}class od{constructor(t,e,s=50){this.kn=0,this.Pn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.t_=t,this.i_=e,this.Vn=s}s_(t){const e=t.time,s=this.i_.cacheKey(e),r=this.Dn.get(s);if(r!==void 0)return r.n_;if(this.kn===this.Vn){const o=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(Rt(o)),this.Tn++,this.kn--}const n=this.t_(t);return this.Dn.set(s,{n_:n,En:this.Pn}),this.Rn.set(this.Pn,s),this.kn++,this.Pn++,n}}class qe{constructor(t,e){yt(t<=e,"right should be >= left"),this.e_=t,this.r_=e}Uh(){return this.e_}bi(){return this.r_}h_(){return this.r_-this.e_+1}Te(t){return this.e_<=t&&t<=this.r_}He(t){return this.e_===t.Uh()&&this.r_===t.bi()}}function On(i,t){return i===null||t===null?i===t:i.He(t)}class ad{constructor(){this.a_=new Map,this.Dn=null,this.l_=!1}o_(t){this.l_=t,this.Dn=null}__(t,e){this.u_(e),this.Dn=null;for(let s=e;s<t.length;++s){const r=t[s];let n=this.a_.get(r.timeWeight);n===void 0&&(n=[],this.a_.set(r.timeWeight,n)),n.push({index:s,time:r.time,weight:r.timeWeight,originalTime:r.originalTime})}}c_(t,e,s,r,n){const o=Math.ceil(e/t);return this.Dn!==null&&this.Dn.d_===o&&n===this.Dn.f_&&s===this.Dn.p_||(this.Dn={f_:n,p_:s,Va:this.v_(o,s,r),d_:o}),this.Dn.Va}u_(t){if(t===0)return void this.a_.clear();const e=[];this.a_.forEach((s,r)=>{t<=s[0].index?e.push(r):s.splice(Pe(s,t,n=>n.index<t),1/0)});for(const s of e)this.a_.delete(s)}v_(t,e,s){let r=[];const n=o=>!e||s.has(o.index);for(const o of Array.from(this.a_.keys()).sort((a,l)=>l-a)){if(!this.a_.get(o))continue;const a=r;r=[];const l=a.length;let h=0;const c=Rt(this.a_.get(o)),u=c.length;let d=1/0,g=-1/0;for(let v=0;v<u;v++){const y=c[v],b=y.index;for(;h<l;){const w=a[h],_=w.index;if(!(_<b&&n(w))){d=_;break}h++,r.push(w),g=_,d=1/0}if(d-b>=t&&b-g>=t&&n(y))r.push(y),g=b;else if(this.l_)return a}for(;h<l;h++)n(a[h])&&r.push(a[h])}return r}}class Se{constructor(t){this.m_=t}w_(){return this.m_===null?null:new qe(Math.floor(this.m_.Uh()),Math.ceil(this.m_.bi()))}g_(){return this.m_}static M_(){return new Se(null)}}function ld(i,t){return i.weight>t.weight?i:t}class hd{constructor(t,e,s,r){this.fo=0,this.b_=null,this.S_=[],this.vl=null,this.pl=null,this.x_=new ad,this.C_=new Map,this.y_=Se.M_(),this.k_=!0,this.P_=new ct,this.T_=new ct,this.R_=new ct,this.D_=null,this.V_=null,this.I_=new Map,this.B_=-1,this.A_=[],this.ys=e,this.Ml=s,this.E_=e.rightOffset,this.z_=e.barSpacing,this.ts=t,this.i_=r,this.L_(),this.x_.o_(e.uniformDistribution),this.O_()}N(){return this.ys}N_(t){Mt(this.Ml,t),this.W_(),this.L_()}hr(t,e){Mt(this.ys,t),this.ys.fixLeftEdge&&this.F_(),this.ys.fixRightEdge&&this.H_(),t.barSpacing!==void 0&&this.ts.dn(t.barSpacing),t.rightOffset!==void 0&&this.ts.fn(t.rightOffset),t.minBarSpacing===void 0&&t.maxBarSpacing===void 0||this.ts.dn(t.barSpacing??this.z_),t.ignoreWhitespaceIndices!==void 0&&t.ignoreWhitespaceIndices!==this.ys.ignoreWhitespaceIndices&&this.O_(),this.W_(),this.L_(),this.R_.p()}Rs(t){var e;return((e=this.S_[t])==null?void 0:e.time)??null}ss(t){return this.S_[t]??null}U_(t,e){if(this.S_.length<1)return null;if(this.i_.key(t)>this.i_.key(this.S_[this.S_.length-1].time))return e?this.S_.length-1:null;const s=Pe(this.S_,this.i_.key(t),(r,n)=>this.i_.key(r.time)<n);return this.i_.key(t)<this.i_.key(this.S_[s].time)?e?s:null:s}Ki(){return this.fo===0||this.S_.length===0||this.b_===null}q_(){return this.S_.length>0}ye(){return this.Y_(),this.y_.w_()}j_(){return this.Y_(),this.y_.g_()}K_(){const t=this.ye();if(t===null)return null;const e={from:t.Uh(),to:t.bi()};return this.X_(e)}X_(t){const e=Math.round(t.from),s=Math.round(t.to),r=T(this.Z_()),n=T(this.G_());return{from:T(this.ss(Math.max(r,e))),to:T(this.ss(Math.min(n,s)))}}J_(t){return{from:T(this.U_(t.from,!0)),to:T(this.U_(t.to,!0))}}Qi(){return this.fo}To(t){if(!isFinite(t)||t<=0||this.fo===t)return;const e=this.j_(),s=this.fo;if(this.fo=t,this.k_=!0,this.ys.lockVisibleTimeRangeOnResize&&s!==0){const r=this.z_*t/s;this.z_=r}if(this.ys.fixLeftEdge&&e!==null&&e.Uh()<=0){const r=s-t;this.E_-=Math.round(r/this.z_)+1,this.k_=!0}this.Q_(),this.tu()}qt(t){if(this.Ki()||!rs(t))return 0;const e=this.iu()+this.E_-t;return this.fo-(e+.5)*this.z_-1}su(t,e){const s=this.iu(),r=e===void 0?0:e.from,n=e===void 0?t.length:e.to;for(let o=r;o<n;o++){const a=t[o].wt,l=s+this.E_-a,h=this.fo-(l+.5)*this.z_-1;t[o]._t=h}}nu(t,e){const s=Math.ceil(this.eu(t));return e&&this.ys.ignoreWhitespaceIndices&&!this.ru(s)?this.hu(s):s}fn(t){this.k_=!0,this.E_=t,this.tu(),this.ts.au(),this.ts.ar()}lu(){return this.z_}dn(t){this.ou(t),this.tu(),this.ts.au(),this.ts.ar()}_u(){return this.E_}Va(){if(this.Ki())return null;if(this.V_!==null)return this.V_;const t=this.z_,e=5*(this.ts.N().layout.fontSize+4)/8*(this.ys.tickMarkMaxCharacterLength||8),s=Math.round(e/t),r=T(this.ye()),n=Math.max(r.Uh(),r.Uh()-s),o=Math.max(r.bi(),r.bi()-s),a=this.x_.c_(t,e,this.ys.ignoreWhitespaceIndices,this.I_,this.B_),l=this.Z_()+s,h=this.G_()-s,c=this.uu(),u=this.ys.fixLeftEdge||c,d=this.ys.fixRightEdge||c;let g=0;for(const v of a){if(!(n<=v.index&&v.index<=o))continue;let y;g<this.A_.length?(y=this.A_[g],y.coord=this.qt(v.index),y.label=this.cu(v),y.weight=v.weight):(y={needAlignCoordinate:!1,coord:this.qt(v.index),label:this.cu(v),weight:v.weight},this.A_.push(y)),this.z_>e/2&&!c?y.needAlignCoordinate=!1:y.needAlignCoordinate=u&&v.index<=l||d&&v.index>=h,g++}return this.A_.length=g,this.V_=this.A_,this.A_}du(){this.k_=!0,this.dn(this.ys.barSpacing),this.fn(this.ys.rightOffset)}fu(t){this.k_=!0,this.b_=t,this.tu(),this.F_()}pu(t,e){const s=this.eu(t),r=this.lu(),n=r+e*(r/10);this.dn(n),this.ys.rightBarStaysOnScroll||this.fn(this._u()+(s-this.eu(t)))}so(t){this.vl&&this.ao(),this.pl===null&&this.D_===null&&(this.Ki()||(this.pl=t,this.vu()))}no(t){if(this.D_===null)return;const e=Ke(this.fo-t,0,this.fo),s=Ke(this.fo-T(this.pl),0,this.fo);e!==0&&s!==0&&this.dn(this.D_.lu*e/s)}eo(){this.pl!==null&&(this.pl=null,this.mu())}ro(t){this.vl===null&&this.D_===null&&(this.Ki()||(this.vl=t,this.vu()))}ho(t){if(this.vl===null)return;const e=(this.vl-t)/this.lu();this.E_=T(this.D_)._u+e,this.k_=!0,this.tu()}ao(){this.vl!==null&&(this.vl=null,this.mu())}wu(){this.gu(this.ys.rightOffset)}gu(t,e=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const s=this.E_,r=performance.now();this.ts._n({Mu:n=>(n-r)/e>=1,bu:n=>{const o=(n-r)/e;return o>=1?t:s+(t-s)*o}})}kt(t,e){this.k_=!0,this.S_=t,this.x_.__(t,e),this.tu()}Su(){return this.P_}xu(){return this.T_}Cu(){return this.R_}iu(){return this.b_||0}yu(t){const e=t.h_();this.ou(this.fo/e),this.E_=t.bi()-this.iu(),this.tu(),this.k_=!0,this.ts.au(),this.ts.ar()}ku(){const t=this.Z_(),e=this.G_();t!==null&&e!==null&&this.yu(new qe(t,e+this.ys.rightOffset))}Pu(t){const e=new qe(t.from,t.to);this.yu(e)}ns(t){return this.Ml.timeFormatter!==void 0?this.Ml.timeFormatter(t.originalTime):this.i_.formatHorzItem(t.time)}O_(){if(!this.ys.ignoreWhitespaceIndices)return;this.I_.clear();const t=this.ts.js();for(const e of t)for(const s of e.ma())this.I_.set(s,!0);this.B_++}uu(){const t=this.ts.N().handleScroll,e=this.ts.N().handleScale;return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}Z_(){return this.S_.length===0?null:0}G_(){return this.S_.length===0?null:this.S_.length-1}Tu(t){return(this.fo-1-t)/this.z_}eu(t){const e=this.Tu(t),s=this.iu()+this.E_-e;return Math.round(1e6*s)/1e6}ou(t){const e=this.z_;this.z_=t,this.Q_(),e!==this.z_&&(this.k_=!0,this.Ru())}Y_(){if(!this.k_)return;if(this.k_=!1,this.Ki())return void this.Du(Se.M_());const t=this.iu(),e=this.fo/this.z_,s=this.E_+t,r=new qe(s-e+1,s);this.Du(new Se(r))}Q_(){const t=Ke(this.z_,this.Vu(),this.Iu());this.z_!==t&&(this.z_=t,this.k_=!0)}Iu(){return this.ys.maxBarSpacing>0?this.ys.maxBarSpacing:.5*this.fo}Vu(){return this.ys.fixLeftEdge&&this.ys.fixRightEdge&&this.S_.length!==0?this.fo/this.S_.length:this.ys.minBarSpacing}tu(){const t=this.Bu();t!==null&&this.E_<t&&(this.E_=t,this.k_=!0);const e=this.Au();this.E_>e&&(this.E_=e,this.k_=!0)}Bu(){const t=this.Z_(),e=this.b_;return t===null||e===null?null:t-e-1+(this.ys.fixLeftEdge?this.fo/this.z_:Math.min(2,this.S_.length))}Au(){return this.ys.fixRightEdge?0:this.fo/this.z_-Math.min(2,this.S_.length)}vu(){this.D_={lu:this.lu(),_u:this._u()}}mu(){this.D_=null}cu(t){let e=this.C_.get(t.weight);return e===void 0&&(e=new od(s=>this.Eu(s),this.i_),this.C_.set(t.weight,e)),e.s_(t)}Eu(t){return this.i_.formatTickmark(t,this.Ml)}Du(t){const e=this.y_;this.y_=t,On(e.w_(),this.y_.w_())||this.P_.p(),On(e.g_(),this.y_.g_())||this.T_.p(),this.Ru()}Ru(){this.V_=null}W_(){this.Ru(),this.C_.clear()}L_(){this.i_.updateFormatter(this.Ml)}F_(){if(!this.ys.fixLeftEdge)return;const t=this.Z_();if(t===null)return;const e=this.ye();if(e===null)return;const s=e.Uh()-t;if(s<0){const r=this.E_-s-1;this.fn(r)}this.Q_()}H_(){this.tu(),this.Q_()}ru(t){return!this.ys.ignoreWhitespaceIndices||this.I_.get(t)||!1}hu(t){const e=function*(r){const n=Math.round(r),o=n<r;let a=1;for(;;)o?(yield n+a,yield n-a):(yield n-a,yield n+a),a++}(t),s=this.G_();for(;s;){const r=e.next().value;if(this.I_.get(r))return r;if(r<0||r>s)break}return t}}var Dn,zn,Vn,Ln,In;(function(i){i[i.OnTouchEnd=0]="OnTouchEnd",i[i.OnNextTap=1]="OnNextTap"})(Dn||(Dn={}));class cd{constructor(t,e,s){this.zu=[],this.Lu=[],this.fo=0,this.Ou=null,this.Nu=new ct,this.Wu=new ct,this.Fu=null,this.Hu=t,this.ys=e,this.i_=s,this.bl=new cu(this.ys.layout.colorParsers),this.Uu=new hu(this),this.uh=new hd(this,e.timeScale,this.ys.localization,s),this.Ct=new xu(this,e.crosshair),this.$u=new Gu(e.crosshair),this.qu(0),this.zu[0].Po(2e3),this.Yu=this.ju(0),this.Ku=this.ju(1)}Bh(){this.Xu(vt.gn())}ar(){this.Xu(vt.wn())}Zh(){this.Xu(new vt(1))}Ah(t){const e=this.Zu(t);this.Xu(e)}Gu(){return this.Ou}Ju(t){var s,r,n,o;if(((s=this.Ou)==null?void 0:s.Xo)===(t==null?void 0:t.Xo)&&((n=(r=this.Ou)==null?void 0:r.Zo)==null?void 0:n.Kn)===((o=t==null?void 0:t.Zo)==null?void 0:o.Kn))return;const e=this.Ou;this.Ou=t,e!==null&&this.Ah(e.Xo),t!==null&&t.Xo!==(e==null?void 0:e.Xo)&&this.Ah(t.Xo)}N(){return this.ys}hr(t){Mt(this.ys,t),this.zu.forEach(e=>e.xo(t)),t.timeScale!==void 0&&this.uh.hr(t.timeScale),t.localization!==void 0&&this.uh.N_(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Nu.p(),this.Yu=this.ju(0),this.Ku=this.ju(1),this.Bh()}Qu(t,e,s=0){const r=this.zu[s];if(r===void 0)return;if(t==="left")return Mt(this.ys,{leftPriceScale:e}),r.xo({leftPriceScale:e}),this.Nu.p(),void this.Bh();if(t==="right")return Mt(this.ys,{rightPriceScale:e}),r.xo({rightPriceScale:e}),this.Nu.p(),void this.Bh();const n=this.tc(t,s);n!==null&&(n.Wt.hr(e),this.Nu.p())}tc(t,e){const s=this.zu[e];if(s===void 0)return null;const r=s.Co(t);return r!==null?{Us:s,Wt:r}:null}At(){return this.uh}$s(){return this.zu}sc(){return this.Ct}nc(){return this.Wu}ec(t,e){t.Al(e),this.au()}To(t){this.fo=t,this.uh.To(this.fo),this.zu.forEach(e=>e.To(t)),this.au()}rc(t){this.zu.length!==1&&(yt(t>=0&&t<this.zu.length,"Invalid pane index"),this.zu.splice(t,1),this.Bh())}hc(t,e){if(this.zu.length<2)return;yt(t>=0&&t<this.zu.length,"Invalid pane index");const s=this.zu[t],r=this.zu.reduce((u,d)=>u+d.ko(),0),n=this.zu.reduce((u,d)=>u+d.$t(),0),o=n-30*(this.zu.length-1);e=Math.min(o,Math.max(30,e));const a=r/n,l=s.$t();s.Po(e*a);let h=e-l,c=this.zu.length-1;for(const u of this.zu)if(u!==s){const d=Math.min(o,Math.max(30,u.$t()-h/c));h-=u.$t()-d,c-=1;const g=d*a;u.Po(g)}this.Bh()}ac(t,e){yt(t>=0&&t<this.zu.length&&e>=0&&e<this.zu.length,"Invalid pane index");const s=this.zu[t],r=this.zu[e];this.zu[t]=r,this.zu[e]=s,this.Bh()}Eo(t,e,s){t.Eo(e,s)}zo(t,e,s){t.zo(e,s),this.Eh(),this.Xu(this.lc(t,2))}Lo(t,e){t.Lo(e),this.Xu(this.lc(t,2))}Oo(t,e,s){e.Pl()||t.Oo(e,s)}No(t,e,s){e.Pl()||(t.No(e,s),this.Eh(),this.Xu(this.lc(t,2)))}Wo(t,e){e.Pl()||(t.Wo(e),this.Xu(this.lc(t,2)))}Ho(t,e){t.Ho(e),this.Xu(this.lc(t,2))}oc(t){this.uh.so(t)}_c(t,e){const s=this.At();if(s.Ki()||e===0)return;const r=s.Qi();t=Math.max(1,Math.min(t,r)),s.pu(t,e),this.au()}uc(t){this.cc(0),this.dc(t),this.fc()}vc(t){this.uh.no(t),this.au()}mc(){this.uh.eo(),this.ar()}cc(t){this.uh.ro(t)}dc(t){this.uh.ho(t),this.au()}fc(){this.uh.ao(),this.ar()}js(){return this.Lu}wc(t,e,s,r,n){this.Ct.Vs(t,e);let o=NaN,a=this.uh.nu(t,!0);const l=this.uh.ye();l!==null&&(a=Math.min(Math.max(l.Uh(),a),l.bi()));const h=r.Ps(),c=h.zt();if(c!==null&&(o=h.Ts(e,c)),o=this.$u.Ma(o,a,r),this.Ct.Es(a,o,r),this.Zh(),!n){const u=La(r,t,e);this.Ju(u&&{Xo:u.Xo,Zo:u.Zo,Jo:u.Jo||null}),this.Wu.p(this.Ct.Bt(),{x:t,y:e},s)}}gc(t,e,s){const r=s.Ps(),n=r.zt(),o=r.Nt(t,T(n)),a=this.uh.U_(e,!0),l=this.uh.qt(T(a));this.wc(l,o,null,s,!0)}Mc(t){this.sc().Ls(),this.Zh(),t||this.Wu.p(null,null,null)}Eh(){const t=this.Ct.Us();if(t!==null){const e=this.Ct.Bs(),s=this.Ct.As();this.wc(e,s,null,t)}this.Ct.Ns()}bc(t,e,s){const r=this.uh.Rs(0);e!==void 0&&s!==void 0&&this.uh.kt(e,s);const n=this.uh.Rs(0),o=this.uh.iu(),a=this.uh.ye();if(a!==null&&r!==null&&n!==null){const l=a.Te(o),h=this.i_.key(r)>this.i_.key(n),c=t!==null&&t>o&&!h,u=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,d=l&&(s!==void 0||u)&&this.uh.N().shiftVisibleRangeOnNewBar;if(c&&!d){const g=t-o;this.uh.fn(this.uh._u()-g)}}this.uh.fu(t)}Lh(t){t!==null&&t.$o()}Hn(t){if(function(s){return s instanceof An}(t))return t;const e=this.zu.find(s=>s.Dt().includes(t));return e===void 0?null:e}au(){this.zu.forEach(t=>t.$o()),this.Eh()}m(){this.zu.forEach(t=>t.m()),this.zu.length=0,this.ys.localization.priceFormatter=void 0,this.ys.localization.percentageFormatter=void 0,this.ys.localization.timeFormatter=void 0}Sc(){return this.Uu}Yn(){return this.Uu.N()}yo(){return this.Nu}xc(t,e){const s=this.qu(e);this.Cc(t,s),this.Lu.push(t),this.Lu.length===1?this.Bh():this.ar()}yc(t){const e=this.Hn(t),s=this.Lu.indexOf(t);yt(s!==-1,"Series not found");const r=T(e);this.Lu.splice(s,1),r.Jl(t),t.m&&t.m(),this.uh.O_(),this.kc(r)}Ih(t,e){const s=T(this.Hn(t));s.Jl(t,!0),s.Zl(t,e,!0)}ku(){const t=vt.wn();t.rn(),this.Xu(t)}Pc(t){const e=vt.wn();e.ln(t),this.Xu(e)}cn(){const t=vt.wn();t.cn(),this.Xu(t)}dn(t){const e=vt.wn();e.dn(t),this.Xu(e)}fn(t){const e=vt.wn();e.fn(t),this.Xu(e)}_n(t){const e=vt.wn();e._n(t),this.Xu(e)}hn(){const t=vt.wn();t.hn(),this.Xu(t)}Tc(){return this.ys.rightPriceScale.visible?"right":"left"}Rc(t,e){if(yt(e>=0,"Index should be greater or equal to 0"),e===this.Dc(t))return;const s=T(this.Hn(t));s.Jl(t);const r=this.qu(e);this.Cc(t,r),s.ba().length===0&&this.kc(s)}Vc(){return this.Ku}$(){return this.Yu}Ut(t){const e=this.Ku,s=this.Yu;if(e===s)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.Fu===null||this.Fu.mr!==s||this.Fu.wr!==e)this.Fu={mr:s,wr:e,Ic:new Map};else{const n=this.Fu.Ic.get(t);if(n!==void 0)return n}const r=this.bl.tt(s,e,t/100);return this.Fu.Ic.set(t,r),r}Bc(t){return this.zu.indexOf(t)}Xi(){return this.bl}qu(t){if(yt(t>=0,"Index should be greater or equal to 0"),(t=Math.min(this.zu.length,t))<this.zu.length)return this.zu[t];const e=new An(this.uh,this);this.zu.push(e);const s=vt.gn();return s.Qs(t,{tn:0,sn:!0}),this.Xu(s),e}Dc(t){return this.zu.findIndex(e=>e.Do().includes(t))}lc(t,e){const s=new vt(e);if(t!==null){const r=this.zu.indexOf(t);s.Qs(r,{tn:e})}return s}Zu(t,e){return e===void 0&&(e=2),this.lc(this.Hn(t),e)}Xu(t){this.Hu&&this.Hu(t),this.zu.forEach(e=>e.jo().lr().kt())}Cc(t,e){const s=t.N().priceScaleId,r=s!==void 0?s:this.Tc();e.Zl(t,r),ni(r)||t.hr(t.N())}ju(t){const e=this.ys.layout;return e.background.type==="gradient"?t===0?e.background.topColor:e.background.bottomColor:e.background.color}kc(t){t.ba().length===0&&this.zu.length>1&&(this.zu.splice(this.Bc(t),1),this.Bh())}}function sr(i){return!Me(i)&&!os(i)}function Ia(i){return Me(i)}(function(i){i[i.Disabled=0]="Disabled",i[i.Continuous=1]="Continuous",i[i.OnDataUpdate=2]="OnDataUpdate"})(zn||(zn={})),function(i){i[i.LastBar=0]="LastBar",i[i.LastVisible=1]="LastVisible"}(Vn||(Vn={})),function(i){i.Solid="solid",i.VerticalGradient="gradient"}(Ln||(Ln={})),function(i){i[i.Year=0]="Year",i[i.Month=1]="Month",i[i.DayOfMonth=2]="DayOfMonth",i[i.Time=3]="Time",i[i.TimeWithSeconds=4]="TimeWithSeconds"}(In||(In={}));const jn=i=>i.getUTCFullYear();function ud(i,t,e){return t.replace(/yyyy/g,(s=>Qt(jn(s),4))(i)).replace(/yy/g,(s=>Qt(jn(s)%100,2))(i)).replace(/MMMM/g,((s,r)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(r,{month:"long"}))(i,e)).replace(/MMM/g,((s,r)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(r,{month:"short"}))(i,e)).replace(/MM/g,(s=>Qt((r=>r.getUTCMonth()+1)(s),2))(i)).replace(/dd/g,(s=>Qt((r=>r.getUTCDate())(s),2))(i))}class ja{constructor(t="yyyy-MM-dd",e="default"){this.Ac=t,this.Ec=e}s_(t){return ud(t,this.Ac,this.Ec)}}class dd{constructor(t){this.zc=t||"%h:%m:%s"}s_(t){return this.zc.replace("%h",Qt(t.getUTCHours(),2)).replace("%m",Qt(t.getUTCMinutes(),2)).replace("%s",Qt(t.getUTCSeconds(),2))}}const fd={Lc:"yyyy-MM-dd",Oc:"%h:%m:%s",Nc:" ",Wc:"default"};class pd{constructor(t={}){const e={...fd,...t};this.Fc=new ja(e.Lc,e.Wc),this.Hc=new dd(e.Oc),this.Uc=e.Nc}s_(t){return`${this.Fc.s_(t)}${this.Uc}${this.Hc.s_(t)}`}}function fs(i){return 60*i*60*1e3}function Ni(i){return 60*i*1e3}const ps=[{$c:(Fn=1,1e3*Fn),qc:10},{$c:Ni(1),qc:20},{$c:Ni(5),qc:21},{$c:Ni(30),qc:22},{$c:fs(1),qc:30},{$c:fs(3),qc:31},{$c:fs(6),qc:32},{$c:fs(12),qc:33}];var Fn;function Bn(i,t){if(i.getUTCFullYear()!==t.getUTCFullYear())return 70;if(i.getUTCMonth()!==t.getUTCMonth())return 60;if(i.getUTCDate()!==t.getUTCDate())return 50;for(let e=ps.length-1;e>=0;--e)if(Math.floor(t.getTime()/ps[e].$c)!==Math.floor(i.getTime()/ps[e].$c))return ps[e].qc;return 0}function Ri(i){let t=i;if(os(i)&&(t=Nr(i)),!sr(t))throw new Error("time must be of type BusinessDay");const e=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{Yc:Math.round(e.getTime()/1e3),jc:t}}function Wn(i){if(!Ia(i))throw new Error("time must be of type isUTCTimestamp");return{Yc:i}}function Nr(i){const t=new Date(i);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${i}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function $n(i){os(i.time)&&(i.time=Nr(i.time))}class Yn{options(){return this.ys}setOptions(t){this.ys=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(e){e.forEach($n)}(t):$n(t)}createConverterToInternalObj(t){return T(function(e){return e.length===0?null:sr(e[0].time)||os(e[0].time)?Ri:Wn}(t))}key(t){return typeof t=="object"&&"Yc"in t?t.Yc:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return e.jc===void 0?new Date(1e3*e.Yc).getTime():new Date(Date.UTC(e.jc.year,e.jc.month-1,e.jc.day)).getTime()}convertHorzItemToInternal(t){return Ia(e=t)?Wn(e):sr(e)?Ri(e):Ri(Nr(e));var e}updateFormatter(t){if(!this.ys)return;const e=t.dateFormat;this.ys.timeScale.timeVisible?this.Kc=new pd({Lc:e,Oc:this.ys.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Nc:"   ",Wc:t.locale}):this.Kc=new ja(e,t.locale)}formatHorzItem(t){const e=t;return this.Kc.s_(new Date(1e3*e.Yc))}formatTickmark(t,e){const s=function(n,o,a){switch(n){case 0:case 10:return o?a?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.ys.timeScale.timeVisible,this.ys.timeScale.secondsVisible),r=this.ys.timeScale;if(r.tickMarkFormatter!==void 0){const n=r.tickMarkFormatter(t.originalTime,s,e.locale);if(n!==null)return n}return function(n,o,a){const l={};switch(o){case 0:l.year="numeric";break;case 1:l.month="short";break;case 2:l.day="numeric";break;case 3:l.hour12=!1,l.hour="2-digit",l.minute="2-digit";break;case 4:l.hour12=!1,l.hour="2-digit",l.minute="2-digit",l.second="2-digit"}const h=n.jc===void 0?new Date(1e3*n.Yc):new Date(Date.UTC(n.jc.year,n.jc.month-1,n.jc.day));return new Date(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()).toLocaleString(a,l)}(t.time,s,e.locale)}maxTickMarkWeight(t){let e=t.reduce(ld,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){(function(s,r=0){if(s.length===0)return;let n=r===0?null:s[r-1].time.Yc,o=n!==null?new Date(1e3*n):null,a=0;for(let l=r;l<s.length;++l){const h=s[l],c=new Date(1e3*h.time.Yc);o!==null&&(h.timeWeight=Bn(c,o)),a+=h.time.Yc-(n||h.time.Yc),n=h.time.Yc,o=c}if(r===0&&s.length>1){const l=Math.ceil(a/(s.length-1)),h=new Date(1e3*(s[0].time.Yc-l));s[0].timeWeight=Bn(new Date(1e3*s[0].time.Yc),h)}})(t,e)}static Xc(t){return Mt({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const Ae=typeof window<"u";function Un(){return!!Ae&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Mi(){return!!Ae&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function ir(i){return i+i%2}function md(i){Ae&&window.chrome!==void 0&&i.addEventListener("mousedown",t=>{if(t.button===1)return t.preventDefault(),!1})}class li{constructor(t,e,s){this.Zc=0,this.Gc=null,this.Jc={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.Qc=0,this.td=null,this.sd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.nd=null,this.ed=!1,this.rd=null,this.hd=null,this.ad=!1,this.ld=!1,this.od=!1,this._d=null,this.ud=null,this.dd=null,this.fd=null,this.pd=null,this.vd=null,this.md=null,this.wd=0,this.gd=!1,this.Md=!1,this.bd=!1,this.Sd=0,this.xd=null,this.Cd=!Mi(),this.yd=r=>{this.kd(r)},this.Pd=r=>{if(this.Td(r)){const n=this.Rd(r);if(++this.Qc,this.td&&this.Qc>1){const{Dd:o}=this.Vd(Lt(r),this.sd);o<30&&!this.od&&this.Id(n,this.Ad.Bd),this.Ed()}}else{const n=this.Rd(r);if(++this.Zc,this.Gc&&this.Zc>1){const{Dd:o}=this.Vd(Lt(r),this.Jc);o<5&&!this.ld&&this.zd(n,this.Ad.Ld),this.Od()}}},this.Nd=t,this.Ad=e,this.ys=s,this.Wd()}m(){this._d!==null&&(this._d(),this._d=null),this.ud!==null&&(this.ud(),this.ud=null),this.fd!==null&&(this.fd(),this.fd=null),this.pd!==null&&(this.pd(),this.pd=null),this.vd!==null&&(this.vd(),this.vd=null),this.dd!==null&&(this.dd(),this.dd=null),this.Fd(),this.Od()}Hd(t){this.fd&&this.fd();const e=this.Ud.bind(this);if(this.fd=()=>{this.Nd.removeEventListener("mousemove",e)},this.Nd.addEventListener("mousemove",e),this.Td(t))return;const s=this.Rd(t);this.zd(s,this.Ad.$d),this.Cd=!0}Od(){this.Gc!==null&&clearTimeout(this.Gc),this.Zc=0,this.Gc=null,this.Jc={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Ed(){this.td!==null&&clearTimeout(this.td),this.Qc=0,this.td=null,this.sd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Ud(t){if(this.bd||this.hd!==null||this.Td(t))return;const e=this.Rd(t);this.zd(e,this.Ad.qd),this.Cd=!0}Yd(t){const e=Pi(t.changedTouches,T(this.xd));if(e===null||(this.Sd=ms(t),this.md!==null)||this.Md)return;this.gd=!0;const s=this.Vd(Lt(e),T(this.hd)),{jd:r,Kd:n,Dd:o}=s;if(this.ad||!(o<5)){if(!this.ad){const a=.5*r,l=n>=a&&!this.ys.Xd(),h=a>n&&!this.ys.Zd();l||h||(this.Md=!0),this.ad=!0,this.od=!0,this.Fd(),this.Ed()}if(!this.Md){const a=this.Rd(t,e);this.Id(a,this.Ad.Gd),ve(t)}}}Jd(t){if(t.button!==0)return;const e=this.Vd(Lt(t),T(this.rd)),{Dd:s}=e;if(s>=5&&(this.ld=!0,this.Od()),this.ld){const r=this.Rd(t);this.zd(r,this.Ad.Qd)}}Vd(t,e){const s=Math.abs(e._t-t._t),r=Math.abs(e.ut-t.ut);return{jd:s,Kd:r,Dd:s+r}}tf(t){let e=Pi(t.changedTouches,T(this.xd));if(e===null&&t.touches.length===0&&(e=t.changedTouches[0]),e===null)return;this.xd=null,this.Sd=ms(t),this.Fd(),this.hd=null,this.vd&&(this.vd(),this.vd=null);const s=this.Rd(t,e);if(this.Id(s,this.Ad.if),++this.Qc,this.td&&this.Qc>1){const{Dd:r}=this.Vd(Lt(e),this.sd);r<30&&!this.od&&this.Id(s,this.Ad.Bd),this.Ed()}else this.od||(this.Id(s,this.Ad.sf),this.Ad.sf&&ve(t));this.Qc===0&&ve(t),t.touches.length===0&&this.ed&&(this.ed=!1,ve(t))}kd(t){if(t.button!==0)return;const e=this.Rd(t);if(this.rd=null,this.bd=!1,this.pd&&(this.pd(),this.pd=null),Un()&&this.Nd.ownerDocument.documentElement.removeEventListener("mouseleave",this.yd),!this.Td(t))if(this.zd(e,this.Ad.nf),++this.Zc,this.Gc&&this.Zc>1){const{Dd:s}=this.Vd(Lt(t),this.Jc);s<5&&!this.ld&&this.zd(e,this.Ad.Ld),this.Od()}else this.ld||this.zd(e,this.Ad.ef)}Fd(){this.nd!==null&&(clearTimeout(this.nd),this.nd=null)}rf(t){if(this.xd!==null)return;const e=t.changedTouches[0];this.xd=e.identifier,this.Sd=ms(t);const s=this.Nd.ownerDocument.documentElement;this.od=!1,this.ad=!1,this.Md=!1,this.hd=Lt(e),this.vd&&(this.vd(),this.vd=null);{const n=this.Yd.bind(this),o=this.tf.bind(this);this.vd=()=>{s.removeEventListener("touchmove",n),s.removeEventListener("touchend",o)},s.addEventListener("touchmove",n,{passive:!1}),s.addEventListener("touchend",o,{passive:!1}),this.Fd(),this.nd=setTimeout(this.hf.bind(this,t),240)}const r=this.Rd(t,e);this.Id(r,this.Ad.af),this.td||(this.Qc=0,this.td=setTimeout(this.Ed.bind(this),500),this.sd=Lt(e))}lf(t){if(t.button!==0)return;const e=this.Nd.ownerDocument.documentElement;Un()&&e.addEventListener("mouseleave",this.yd),this.ld=!1,this.rd=Lt(t),this.pd&&(this.pd(),this.pd=null);{const r=this.Jd.bind(this),n=this.kd.bind(this);this.pd=()=>{e.removeEventListener("mousemove",r),e.removeEventListener("mouseup",n)},e.addEventListener("mousemove",r),e.addEventListener("mouseup",n)}if(this.bd=!0,this.Td(t))return;const s=this.Rd(t);this.zd(s,this.Ad._f),this.Gc||(this.Zc=0,this.Gc=setTimeout(this.Od.bind(this),500),this.Jc=Lt(t))}Wd(){this.Nd.addEventListener("mouseenter",this.Hd.bind(this)),this.Nd.addEventListener("touchcancel",this.Fd.bind(this));{const t=this.Nd.ownerDocument,e=s=>{this.Ad.uf&&(s.composed&&this.Nd.contains(s.composedPath()[0])||s.target&&this.Nd.contains(s.target)||this.Ad.uf())};this.ud=()=>{t.removeEventListener("touchstart",e)},this._d=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}Mi()&&(this.dd=()=>{this.Nd.removeEventListener("dblclick",this.Pd)},this.Nd.addEventListener("dblclick",this.Pd)),this.Nd.addEventListener("mouseleave",this.cf.bind(this)),this.Nd.addEventListener("touchstart",this.rf.bind(this),{passive:!0}),md(this.Nd),this.Nd.addEventListener("mousedown",this.lf.bind(this)),this.df(),this.Nd.addEventListener("touchmove",()=>{},{passive:!1})}df(){this.Ad.ff===void 0&&this.Ad.pf===void 0&&this.Ad.vf===void 0||(this.Nd.addEventListener("touchstart",t=>this.mf(t.touches),{passive:!0}),this.Nd.addEventListener("touchmove",t=>{if(t.touches.length===2&&this.md!==null&&this.Ad.pf!==void 0){const e=Zn(t.touches[0],t.touches[1])/this.wd;this.Ad.pf(this.md,e),ve(t)}},{passive:!1}),this.Nd.addEventListener("touchend",t=>{this.mf(t.touches)}))}mf(t){t.length===1&&(this.gd=!1),t.length!==2||this.gd||this.ed?this.wf():this.gf(t)}gf(t){const e=this.Nd.getBoundingClientRect()||{left:0,top:0};this.md={_t:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,ut:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.wd=Zn(t[0],t[1]),this.Ad.ff!==void 0&&this.Ad.ff(),this.Fd()}wf(){this.md!==null&&(this.md=null,this.Ad.vf!==void 0&&this.Ad.vf())}cf(t){if(this.fd&&this.fd(),this.Td(t)||!this.Cd)return;const e=this.Rd(t);this.zd(e,this.Ad.Mf),this.Cd=!Mi()}hf(t){const e=Pi(t.touches,T(this.xd));if(e===null)return;const s=this.Rd(t,e);this.Id(s,this.Ad.bf),this.od=!0,this.ed=!0}Td(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:ms(t)<this.Sd+500}Id(t,e){e&&e.call(this.Ad,t)}zd(t,e){e&&e.call(this.Ad,t)}Rd(t,e){const s=e||t,r=this.Nd.getBoundingClientRect()||{left:0,top:0};return{clientX:s.clientX,clientY:s.clientY,pageX:s.pageX,pageY:s.pageY,screenX:s.screenX,screenY:s.screenY,localX:s.clientX-r.left,localY:s.clientY-r.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Sf:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",xf:t.type,Cf:s.target,Qo:t.view,yf:()=>{t.type!=="touchstart"&&ve(t)}}}}function Zn(i,t){const e=i.clientX-t.clientX,s=i.clientY-t.clientY;return Math.sqrt(e*e+s*s)}function ve(i){i.cancelable&&i.preventDefault()}function Lt(i){return{_t:i.pageX,ut:i.pageY}}function ms(i){return i.timeStamp||performance.now()}function Pi(i,t){for(let e=0;e<i.length;++e)if(i[e].identifier===t)return i[e];return null}class gd{constructor(t,e,s){this.kf=null,this.Pf=null,this.Tf=!0,this.Rf=null,this.Df=t,this.Vf=t.If()[e],this.Bf=t.If()[s],this.Af=document.createElement("tr"),this.Af.style.height="1px",this.Ef=document.createElement("td"),this.Ef.style.position="relative",this.Ef.style.padding="0",this.Ef.style.margin="0",this.Ef.setAttribute("colspan","3"),this.zf(),this.Af.appendChild(this.Ef),this.Tf=this.Df.N().layout.panes.enableResize,this.Tf?this.Lf():(this.kf=null,this.Pf=null)}m(){this.Pf!==null&&this.Pf.m()}Of(){return this.Af}Nf(){return rt({width:this.Vf.Nf().width,height:1})}Wf(){return rt({width:this.Vf.Wf().width,height:1*window.devicePixelRatio})}Ff(t,e,s){const r=this.Wf();t.fillStyle=this.Df.N().layout.panes.separatorColor,t.fillRect(e,s,r.width,r.height)}kt(){this.zf(),this.Df.N().layout.panes.enableResize!==this.Tf&&(this.Tf=this.Df.N().layout.panes.enableResize,this.Tf?this.Lf():(this.kf!==null&&(this.Ef.removeChild(this.kf.Hf),this.Ef.removeChild(this.kf.Uf),this.kf=null),this.Pf!==null&&(this.Pf.m(),this.Pf=null)))}Lf(){const t=document.createElement("div"),e=t.style;e.position="fixed",e.display="none",e.zIndex="49",e.top="0",e.left="0",e.width="100%",e.height="100%",e.cursor="row-resize",this.Ef.appendChild(t);const s=document.createElement("div"),r=s.style;r.position="absolute",r.zIndex="50",r.top="-4px",r.height="9px",r.width="100%",r.backgroundColor="",r.cursor="row-resize",this.Ef.appendChild(s);const n={$d:this.$f.bind(this),Mf:this.qf.bind(this),_f:this.Yf.bind(this),af:this.Yf.bind(this),Qd:this.jf.bind(this),Gd:this.jf.bind(this),nf:this.Kf.bind(this),if:this.Kf.bind(this)};this.Pf=new li(s,n,{Xd:()=>!1,Zd:()=>!0}),this.kf={Uf:s,Hf:t}}zf(){this.Ef.style.background=this.Df.N().layout.panes.separatorColor}$f(t){this.kf!==null&&(this.kf.Uf.style.backgroundColor=this.Df.N().layout.panes.separatorHoverColor)}qf(t){this.kf!==null&&this.Rf===null&&(this.kf.Uf.style.backgroundColor="")}Yf(t){if(this.kf===null)return;const e=this.Vf.Xf().ko()+this.Bf.Xf().ko(),s=e/(this.Vf.Nf().height+this.Bf.Nf().height),r=30*s;e<=2*r||(this.Rf={Zf:t.pageY,Gf:this.Vf.Xf().ko(),Jf:e-r,Qf:e,tp:s,ip:r},this.kf.Hf.style.display="block")}jf(t){const e=this.Rf;if(e===null)return;const s=(t.pageY-e.Zf)*e.tp,r=Ke(e.Gf+s,e.ip,e.Jf);this.Vf.Xf().Po(r),this.Bf.Xf().Po(e.Qf-r),this.Df.Qt().Bh()}Kf(t){this.Rf!==null&&this.kf!==null&&(this.Rf=null,this.kf.Hf.style.display="none")}}function Ai(i,t){return i.sp-t.sp}function Oi(i,t,e){const s=(i.sp-t.sp)/(i.wt-t.wt);return Math.sign(s)*Math.min(Math.abs(s),e)}class vd{constructor(t,e,s,r){this.np=null,this.ep=null,this.rp=null,this.hp=null,this.ap=null,this.lp=0,this.op=0,this._p=t,this.up=e,this.cp=s,this.Mn=r}dp(t,e){if(this.np!==null){if(this.np.wt===e)return void(this.np.sp=t);if(Math.abs(this.np.sp-t)<this.Mn)return}this.hp=this.rp,this.rp=this.ep,this.ep=this.np,this.np={wt:e,sp:t}}le(t,e){if(this.np===null||this.ep===null||e-this.np.wt>50)return;let s=0;const r=Oi(this.np,this.ep,this.up),n=Ai(this.np,this.ep),o=[r],a=[n];if(s+=n,this.rp!==null){const h=Oi(this.ep,this.rp,this.up);if(Math.sign(h)===Math.sign(r)){const c=Ai(this.ep,this.rp);if(o.push(h),a.push(c),s+=c,this.hp!==null){const u=Oi(this.rp,this.hp,this.up);if(Math.sign(u)===Math.sign(r)){const d=Ai(this.rp,this.hp);o.push(u),a.push(d),s+=d}}}}let l=0;for(let h=0;h<o.length;++h)l+=a[h]/s*o[h];Math.abs(l)<this._p||(this.ap={sp:t,wt:e},this.op=l,this.lp=function(h,c){const u=Math.log(c);return Math.log(1*u/-h)/u}(Math.abs(l),this.cp))}bu(t){const e=T(this.ap),s=t-e.wt;return e.sp+this.op*(Math.pow(this.cp,s)-1)/Math.log(this.cp)}Mu(t){return this.ap===null||this.fp(t)===this.lp}fp(t){const e=t-T(this.ap).wt;return Math.min(e,this.lp)}}class yd{constructor(t,e){this.pp=void 0,this.vp=void 0,this.mp=void 0,this.ps=!1,this.wp=t,this.gp=e,this.Mp()}kt(){this.Mp()}bp(){this.pp&&this.wp.removeChild(this.pp),this.vp&&this.wp.removeChild(this.vp),this.pp=void 0,this.vp=void 0}Sp(){return this.ps!==this.xp()||this.mp!==this.Cp()}Cp(){return this.gp.Qt().Xi().J(this.gp.N().layout.textColor)>160?"dark":"light"}xp(){return this.gp.N().layout.attributionLogo}yp(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}Mp(){this.Sp()&&(this.bp(),this.ps=this.xp(),this.ps&&(this.mp=this.Cp(),this.vp=document.createElement("style"),this.vp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.pp=document.createElement("a"),this.pp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.yp()}`,this.pp.title="Charting by TradingView",this.pp.id="tv-attr-logo",this.pp.target="_blank",this.pp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.pp.toggleAttribute("data-dark",this.mp==="dark"),this.wp.appendChild(this.vp),this.wp.appendChild(this.pp)))}}function de(i,t){const e=T(i.ownerDocument).createElement("canvas");i.appendChild(e);const s=ru(e,{type:"device-pixel-content-box",options:{allowResizeObserver:!0},transform:(r,n)=>({width:Math.max(r.width,n.width),height:Math.max(r.height,n.height)})});return s.resizeCanvasElement(t),s}function fe(i){var t;i.width=1,i.height=1,(t=i.getContext("2d"))==null||t.clearRect(0,0,1,1)}function rr(i,t,e,s){i.ih&&i.ih(t,e,s)}function ws(i,t,e,s){i.nt(t,e,s)}function nr(i,t,e,s){const r=i(e,s);for(const n of r){const o=n.Tt(s);o!==null&&t(o)}}function Di(i,t){return e=>{var s,r;return function(n){return n.Wt!==void 0}(e)?(((s=e.Wt())==null?void 0:s.wa())??"")!==t?[]:((r=e.ta)==null?void 0:r.call(e,i))??[]:[]}}function Xn(i,t,e,s){if(!i.length)return;let r=0;const n=i[0].$t(s,!0);let o=t===1?e/2-(i[0].Wi()-n/2):i[0].Wi()-n/2-e/2;o=Math.max(0,o);for(let a=1;a<i.length;a++){const l=i[a],h=i[a-1],c=h.$t(s,!1),u=l.Wi(),d=h.Wi();if(t===1?u>d-c:u<d+c){const g=d-c*t;l.Fi(g);const v=g-t*c/2;if((t===1?v<0:v>e)&&o>0){const y=t===1?-1-v:v-e,b=Math.min(y,o);for(let w=r;w<i.length;w++)i[w].Fi(i[w].Wi()+t*b);o-=b}}else r=a,o=t===1?d-c-u:u-(d+c)}}class Qn{constructor(t,e,s,r){this.Yi=null,this.kp=null,this.Pp=!1,this.Tp=new Zs(200),this.Rp=null,this.Dp=0,this.Vp=!1,this.Ip=()=>{this.Vp||this.yt.Bp().Qt().ar()},this.Ap=()=>{this.Vp||this.yt.Bp().Qt().ar()},this.yt=t,this.ys=e,this.gl=e.layout,this.Uu=s,this.Ep=r==="left",this.zp=Di("normal",r),this.Lp=Di("top",r),this.Op=Di("bottom",r),this.Ef=document.createElement("div"),this.Ef.style.height="100%",this.Ef.style.overflow="hidden",this.Ef.style.width="25px",this.Ef.style.left="0",this.Ef.style.position="relative",this.Np=de(this.Ef,rt({width:16,height:16})),this.Np.subscribeSuggestedBitmapSizeChanged(this.Ip);const n=this.Np.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Wp=de(this.Ef,rt({width:16,height:16})),this.Wp.subscribeSuggestedBitmapSizeChanged(this.Ap);const o=this.Wp.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const a={_f:this.Yf.bind(this),af:this.Yf.bind(this),Qd:this.jf.bind(this),Gd:this.jf.bind(this),uf:this.Fp.bind(this),nf:this.Kf.bind(this),if:this.Kf.bind(this),Ld:this.Hp.bind(this),Bd:this.Hp.bind(this),$d:this.Up.bind(this),Mf:this.qf.bind(this)};this.Pf=new li(this.Wp.canvasElement,a,{Xd:()=>!this.ys.handleScroll.vertTouchDrag,Zd:()=>!0})}m(){this.Pf.m(),this.Wp.unsubscribeSuggestedBitmapSizeChanged(this.Ap),fe(this.Wp.canvasElement),this.Wp.dispose(),this.Np.unsubscribeSuggestedBitmapSizeChanged(this.Ip),fe(this.Np.canvasElement),this.Np.dispose(),this.Yi!==null&&this.Yi.io().u(this),this.Yi=null}Of(){return this.Ef}k(){return this.gl.fontSize}$p(){const t=this.Uu.N();return this.Rp!==t.P&&(this.Tp.In(),this.Rp=t.P),t}qp(){if(this.Yi===null)return 0;let t=0;const e=this.$p(),s=T(this.Np.canvasElement.getContext("2d",{colorSpace:this.yt.Bp().N().layout.colorSpace}));s.save();const r=this.Yi.Va();s.font=this.Yp(),r.length>0&&(t=Math.max(this.Tp.Vi(s,r[0].Xa),this.Tp.Vi(s,r[r.length-1].Xa)));const n=this.jp();for(let h=n.length;h--;){const c=this.Tp.Vi(s,n[h].ri());c>t&&(t=c)}const o=this.Yi.zt();if(o!==null&&this.kp!==null&&(a=this.ys.crosshair).mode!==2&&a.horzLine.visible&&a.horzLine.labelVisible){const h=this.Yi.Ts(1,o),c=this.Yi.Ts(this.kp.height-2,o);t=Math.max(t,this.Tp.Vi(s,this.Yi.Zi(Math.floor(Math.min(h,c))+.11111111111111,o)),this.Tp.Vi(s,this.Yi.Zi(Math.ceil(Math.max(h,c))-.11111111111111,o)))}var a;s.restore();const l=t||34;return ir(Math.ceil(e.S+e.C+e.I+e.B+5+l))}Kp(t){this.kp!==null&&le(this.kp,t)||(this.kp=t,this.Vp=!0,this.Np.resizeCanvasElement(t),this.Wp.resizeCanvasElement(t),this.Vp=!1,this.Ef.style.width=`${t.width}px`,this.Ef.style.height=`${t.height}px`)}Xp(){return T(this.kp).width}_s(t){this.Yi!==t&&(this.Yi!==null&&this.Yi.io().u(this),this.Yi=t,t.io().i(this.ol.bind(this),this))}Wt(){return this.Yi}In(){const t=this.yt.Xf();this.yt.Bp().Qt().Ho(t,T(this.Wt()))}Zp(t){if(this.kp===null)return;const e={colorSpace:this.yt.Bp().N().layout.colorSpace};if(t!==1){this.Gp(),this.Np.applySuggestedBitmapSize();const r=ue(this.Np,e);r!==null&&(r.useBitmapCoordinateSpace(n=>{this.Jp(n),this.Qp(n)}),this.yt.tv(r,this.Op),this.iv(r),this.yt.tv(r,this.zp),this.sv(r))}this.Wp.applySuggestedBitmapSize();const s=ue(this.Wp,e);s!==null&&(s.useBitmapCoordinateSpace(({context:r,bitmapSize:n})=>{r.clearRect(0,0,n.width,n.height)}),this.nv(s),this.yt.tv(s,this.Lp))}Wf(){return this.Np.bitmapSize}Ff(t,e,s){const r=this.Wf();r.width>0&&r.height>0&&t.drawImage(this.Np.canvasElement,e,s)}kt(){var t;(t=this.Yi)==null||t.Va()}Yf(t){if(this.Yi===null||this.Yi.Ki()||!this.ys.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Bp().Qt(),s=this.yt.Xf();this.Pp=!0,e.Eo(s,this.Yi,t.localY)}jf(t){if(this.Yi===null||!this.ys.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Bp().Qt(),s=this.yt.Xf(),r=this.Yi;e.zo(s,r,t.localY)}Fp(){if(this.Yi===null||!this.ys.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Bp().Qt(),e=this.yt.Xf(),s=this.Yi;this.Pp&&(this.Pp=!1,t.Lo(e,s))}Kf(t){if(this.Yi===null||!this.ys.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Bp().Qt(),s=this.yt.Xf();this.Pp=!1,e.Lo(s,this.Yi)}Hp(t){this.ys.handleScale.axisDoubleClickReset.price&&this.In()}Up(t){this.Yi!==null&&(!this.yt.Bp().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Rl()||this.ev(1))}qf(t){this.ev(0)}jp(){const t=[],e=this.Yi===null?void 0:this.Yi;return(s=>{for(let r=0;r<s.length;++r){const n=s[r].Fs(this.yt.Xf(),e);for(let o=0;o<n.length;o++)t.push(n[o])}})(this.yt.Xf().Dt()),t}Jp({context:t,bitmapSize:e}){const{width:s,height:r}=e,n=this.yt.Xf().Qt(),o=n.$(),a=n.Vc();o===a?ii(t,0,0,s,r,o):Ta(t,0,0,s,r,o,a)}Qp({context:t,bitmapSize:e,horizontalPixelRatio:s}){if(this.kp===null||this.Yi===null||!this.Yi.N().borderVisible)return;t.fillStyle=this.Yi.N().borderColor;const r=Math.max(1,Math.floor(this.$p().S*s));let n;n=this.Ep?e.width-r:0,t.fillRect(n,0,r,e.height)}iv(t){if(this.kp===null||this.Yi===null)return;const e=this.Yi.Va(),s=this.Yi.N(),r=this.$p(),n=this.Ep?this.kp.width-r.C:0;s.borderVisible&&s.ticksVisible&&t.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:a,verticalPixelRatio:l})=>{o.fillStyle=s.borderColor;const h=Math.max(1,Math.floor(l)),c=Math.floor(.5*l),u=Math.round(r.C*a);o.beginPath();for(const d of e)o.rect(Math.floor(n*a),Math.round(d.ka*l)-c,u,h);o.fill()}),t.useMediaCoordinateSpace(({context:o})=>{o.font=this.Yp(),o.fillStyle=s.textColor??this.gl.textColor,o.textAlign=this.Ep?"right":"left",o.textBaseline="middle";const a=this.Ep?Math.round(n-r.I):Math.round(n+r.C+r.I),l=e.map(h=>this.Tp.Di(o,h.Xa));for(let h=e.length;h--;){const c=e[h];o.fillText(c.Xa,a,c.ka+l[h])}})}Gp(){if(this.kp===null||this.Yi===null)return;let t=this.kp.height/2;const e=[],s=this.Yi.Dt().slice(),r=this.yt.Xf(),n=this.$p();this.Yi===r.$n()&&this.yt.Xf().Dt().forEach(l=>{r.Un(l)&&s.push(l)});const o=this.Yi.ba()[0],a=this.Yi;s.forEach(l=>{const h=l.Fs(r,a);h.forEach(c=>{c.Fi(null),c.Hi()&&e.push(c)}),o===l&&h.length>0&&(t=h[0].Bi())}),e.forEach(l=>l.Fi(l.Bi())),this.Yi.N().alignLabels&&this.rv(e,n,t)}rv(t,e,s){if(this.kp===null)return;const r=t.filter(o=>o.Bi()<=s),n=t.filter(o=>o.Bi()>s);r.sort((o,a)=>a.Bi()-o.Bi()),r.length&&n.length&&n.push(r[0]),n.sort((o,a)=>o.Bi()-a.Bi());for(const o of t){const a=Math.floor(o.$t(e)/2),l=o.Bi();l>-a&&l<a&&o.Fi(a),l>this.kp.height-a&&l<this.kp.height+a&&o.Fi(this.kp.height-a)}Xn(r,1,this.kp.height,e),Xn(n,-1,this.kp.height,e)}sv(t){if(this.kp===null)return;const e=this.jp(),s=this.$p(),r=this.Ep?"right":"left";e.forEach(n=>{n.Ui()&&n.Tt(T(this.Yi)).nt(t,s,this.Tp,r)})}nv(t){if(this.kp===null||this.Yi===null)return;const e=this.yt.Bp().Qt(),s=[],r=this.yt.Xf(),n=e.sc().Fs(r,this.Yi);n.length&&s.push(n);const o=this.$p(),a=this.Ep?"right":"left";s.forEach(l=>{l.forEach(h=>{h.Tt(T(this.Yi)).nt(t,o,this.Tp,a)})})}ev(t){this.Ef.style.cursor=t===1?"ns-resize":"default"}ol(){const t=this.qp();this.Dp<t&&this.yt.Bp().Qt().Bh(),this.Dp=t}Yp(){return Us(this.gl.fontSize,this.gl.fontFamily)}}function bd(i,t){var e;return((e=i.Jh)==null?void 0:e.call(i,t))??[]}function Hn(i,t){var e;return((e=i.Ws)==null?void 0:e.call(i,t))??[]}function Kn(i,t){var e;return((e=i.us)==null?void 0:e.call(i,t))??[]}function wd(i,t){var e;return((e=i.Xh)==null?void 0:e.call(i,t))??[]}class Rr{constructor(t,e){this.kp=rt({width:0,height:0}),this.hv=null,this.av=null,this.lv=null,this.ov=null,this._v=!1,this.uv=new ct,this.cv=new ct,this.dv=0,this.fv=!1,this.pv=null,this.vv=!1,this.mv=null,this.wv=null,this.Vp=!1,this.Ip=()=>{this.Vp||this.gv===null||this.ts().ar()},this.Ap=()=>{this.Vp||this.gv===null||this.ts().ar()},this.gp=t,this.gv=e,this.gv.Yo().i(this.Mv.bind(this),this,!0),this.bv=document.createElement("td"),this.bv.style.padding="0",this.bv.style.position="relative";const s=document.createElement("div");s.style.width="100%",s.style.height="100%",s.style.position="relative",s.style.overflow="hidden",this.Sv=document.createElement("td"),this.Sv.style.padding="0",this.xv=document.createElement("td"),this.xv.style.padding="0",this.bv.appendChild(s),this.Np=de(s,rt({width:16,height:16})),this.Np.subscribeSuggestedBitmapSizeChanged(this.Ip);const r=this.Np.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Wp=de(s,rt({width:16,height:16})),this.Wp.subscribeSuggestedBitmapSizeChanged(this.Ap);const n=this.Wp.canvasElement;n.style.position="absolute",n.style.zIndex="2",n.style.left="0",n.style.top="0",this.Af=document.createElement("tr"),this.Af.appendChild(this.Sv),this.Af.appendChild(this.bv),this.Af.appendChild(this.xv),this.Cv(),this.Pf=new li(this.Wp.canvasElement,this,{Xd:()=>this.pv===null&&!this.gp.N().handleScroll.vertTouchDrag,Zd:()=>this.pv===null&&!this.gp.N().handleScroll.horzTouchDrag})}m(){this.hv!==null&&this.hv.m(),this.av!==null&&this.av.m(),this.lv=null,this.Wp.unsubscribeSuggestedBitmapSizeChanged(this.Ap),fe(this.Wp.canvasElement),this.Wp.dispose(),this.Np.unsubscribeSuggestedBitmapSizeChanged(this.Ip),fe(this.Np.canvasElement),this.Np.dispose(),this.gv!==null&&(this.gv.Yo().u(this),this.gv.m()),this.Pf.m()}Xf(){return T(this.gv)}yv(t){var e;this.gv!==null&&this.gv.Yo().u(this),this.gv=t,this.gv!==null&&this.gv.Yo().i(Rr.prototype.Mv.bind(this),this,!0),this.Cv(),this.gp.If().indexOf(this)===this.gp.If().length-1?(this.lv=this.lv??new yd(this.bv,this.gp),this.lv.kt()):((e=this.lv)==null||e.bp(),this.lv=null)}Bp(){return this.gp}Of(){return this.Af}Cv(){if(this.gv!==null&&(this.kv(),this.ts().js().length!==0)){if(this.hv!==null){const t=this.gv.Bo();this.hv._s(T(t))}if(this.av!==null){const t=this.gv.Ao();this.av._s(T(t))}}}Pv(){this.hv!==null&&this.hv.kt(),this.av!==null&&this.av.kt()}ko(){return this.gv!==null?this.gv.ko():0}Po(t){this.gv&&this.gv.Po(t)}$d(t){if(!this.gv)return;this.Tv();const e=t.localX,s=t.localY;this.Rv(e,s,t)}_f(t){this.Tv(),this.Dv(),this.Rv(t.localX,t.localY,t)}qd(t){if(!this.gv)return;this.Tv();const e=t.localX,s=t.localY;this.Rv(e,s,t)}ef(t){this.gv!==null&&(this.Tv(),this.Vv(t))}Ld(t){this.gv!==null&&this.Iv(this.cv,t)}Bd(t){this.Ld(t)}Qd(t){this.Tv(),this.Bv(t),this.Rv(t.localX,t.localY,t)}nf(t){this.gv!==null&&(this.Tv(),this.fv=!1,this.Av(t))}sf(t){this.gv!==null&&this.Vv(t)}bf(t){if(this.fv=!0,this.pv===null){const e={x:t.localX,y:t.localY};this.Ev(e,e,t)}}Mf(t){this.gv!==null&&(this.Tv(),this.gv.Qt().Ju(null),this.zv())}Lv(){return this.uv}Ov(){return this.cv}ff(){this.dv=1,this.ts().hn()}pf(t,e){if(!this.gp.N().handleScale.pinch)return;const s=5*(e-this.dv);this.dv=e,this.ts()._c(t._t,s)}af(t){this.fv=!1,this.vv=this.pv!==null,this.Dv();const e=this.ts().sc();this.pv!==null&&e.Vt()&&(this.mv={x:e.si(),y:e.ni()},this.pv={x:t.localX,y:t.localY})}Gd(t){if(this.gv===null)return;const e=t.localX,s=t.localY;if(this.pv===null)this.Bv(t);else{this.vv=!1;const r=T(this.mv),n=r.x+(e-this.pv.x),o=r.y+(s-this.pv.y);this.Rv(n,o,t)}}if(t){this.Bp().N().trackingMode.exitMode===0&&(this.vv=!0),this.Nv(),this.Av(t)}jn(t,e){const s=this.gv;return s===null?null:La(s,t,e)}Wv(t,e){T(e==="left"?this.hv:this.av).Kp(rt({width:t,height:this.kp.height}))}Nf(){return this.kp}Kp(t){le(this.kp,t)||(this.kp=t,this.Vp=!0,this.Np.resizeCanvasElement(t),this.Wp.resizeCanvasElement(t),this.Vp=!1,this.bv.style.width=t.width+"px",this.bv.style.height=t.height+"px")}Fv(){const t=T(this.gv);t.Io(t.Bo()),t.Io(t.Ao());for(const e of t.ba())if(t.Un(e)){const s=e.Wt();s!==null&&t.Io(s),e.Ns()}for(const e of t.Ko())e.Ns()}Wf(){return this.Np.bitmapSize}Ff(t,e,s){const r=this.Wf();r.width>0&&r.height>0&&t.drawImage(this.Np.canvasElement,e,s)}Zp(t){if(t===0||this.gv===null)return;t>1&&this.Fv(),this.hv!==null&&this.hv.Zp(t),this.av!==null&&this.av.Zp(t);const e={colorSpace:this.gp.N().layout.colorSpace};if(t!==1){this.Np.applySuggestedBitmapSize();const r=ue(this.Np,e);r!==null&&(r.useBitmapCoordinateSpace(n=>{this.Jp(n)}),this.gv&&(this.Hv(r,bd),this.Uv(r),this.Hv(r,Hn),this.Hv(r,Kn)))}this.Wp.applySuggestedBitmapSize();const s=ue(this.Wp,e);s!==null&&(s.useBitmapCoordinateSpace(({context:r,bitmapSize:n})=>{r.clearRect(0,0,n.width,n.height)}),this.$v(s),this.Hv(s,wd),this.Hv(s,Kn))}qv(){return this.hv}Yv(){return this.av}tv(t,e){this.Hv(t,e)}Mv(){this.gv!==null&&this.gv.Yo().u(this),this.gv=null}Vv(t){this.Iv(this.uv,t)}Iv(t,e){const s=e.localX,r=e.localY;t.v()&&t.p(this.ts().At().nu(s),{x:s,y:r},e)}Jp({context:t,bitmapSize:e}){const{width:s,height:r}=e,n=this.ts(),o=n.$(),a=n.Vc();o===a?ii(t,0,0,s,r,a):Ta(t,0,0,s,r,o,a)}Uv(t){const e=T(this.gv),s=e.jo().lr().Tt(e);s!==null&&s.nt(t,!1)}$v(t){this.jv(t,Hn,ws,this.ts().sc())}Hv(t,e){const s=T(this.gv),r=s.Dt(),n=s.Ko();for(const o of n)this.jv(t,e,rr,o);for(const o of r)this.jv(t,e,rr,o);for(const o of n)this.jv(t,e,ws,o);for(const o of r)this.jv(t,e,ws,o)}jv(t,e,s,r){const n=T(this.gv),o=n.Qt().Gu(),a=o!==null&&o.Xo===r,l=o!==null&&a&&o.Zo!==void 0?o.Zo.Xn:void 0;nr(e,h=>s(h,t,a,l),r,n)}kv(){if(this.gv===null)return;const t=this.gp,e=this.gv.Bo().N().visible,s=this.gv.Ao().N().visible;e||this.hv===null||(this.Sv.removeChild(this.hv.Of()),this.hv.m(),this.hv=null),s||this.av===null||(this.xv.removeChild(this.av.Of()),this.av.m(),this.av=null);const r=t.Qt().Sc();e&&this.hv===null&&(this.hv=new Qn(this,t.N(),r,"left"),this.Sv.appendChild(this.hv.Of())),s&&this.av===null&&(this.av=new Qn(this,t.N(),r,"right"),this.xv.appendChild(this.av.Of()))}Kv(t){return t.Sf&&this.fv||this.pv!==null}Xv(t){return Math.max(0,Math.min(t,this.kp.width-1))}Zv(t){return Math.max(0,Math.min(t,this.kp.height-1))}Rv(t,e,s){this.ts().wc(this.Xv(t),this.Zv(e),s,T(this.gv))}zv(){this.ts().Mc()}Nv(){this.vv&&(this.pv=null,this.zv())}Ev(t,e,s){this.pv=t,this.vv=!1,this.Rv(e.x,e.y,s);const r=this.ts().sc();this.mv={x:r.si(),y:r.ni()}}ts(){return this.gp.Qt()}Av(t){if(!this._v)return;const e=this.ts(),s=this.Xf();if(e.Wo(s,s.Ps()),this.ov=null,this._v=!1,e.fc(),this.wv!==null){const r=performance.now(),n=e.At();this.wv.le(n._u(),r),this.wv.Mu(r)||e._n(this.wv)}}Tv(){this.pv=null}Dv(){if(this.gv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)T(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.gv.Ps().Ki()&&this.ts().At().Ki()}}Bv(t){if(this.gv===null)return;const e=this.ts(),s=e.At();if(s.Ki())return;const r=this.gp.N(),n=r.handleScroll,o=r.kineticScroll;if((!n.pressedMouseMove||t.Sf)&&(!n.horzTouchDrag&&!n.vertTouchDrag||!t.Sf))return;const a=this.gv.Ps(),l=performance.now();if(this.ov!==null||this.Kv(t)||(this.ov={x:t.clientX,y:t.clientY,Yc:l,Gv:t.localX,Jv:t.localY}),this.ov!==null&&!this._v&&(this.ov.x!==t.clientX||this.ov.y!==t.clientY)){if(t.Sf&&o.touch||!t.Sf&&o.mouse){const h=s.lu();this.wv=new vd(.2/h,7/h,.997,15/h),this.wv.dp(s._u(),this.ov.Yc)}else this.wv=null;a.Ki()||e.Oo(this.gv,a,t.localY),e.cc(t.localX),this._v=!0}this._v&&(a.Ki()||e.No(this.gv,a,t.localY),e.dc(t.localX),this.wv!==null&&this.wv.dp(s._u(),l))}}class Gn{constructor(t,e,s,r,n){this.xt=!0,this.kp=rt({width:0,height:0}),this.Ip=()=>this.Zp(3),this.Ep=t==="left",this.Uu=s.Sc,this.ys=e,this.Qv=r,this.tm=n,this.Ef=document.createElement("div"),this.Ef.style.width="25px",this.Ef.style.height="100%",this.Ef.style.overflow="hidden",this.Np=de(this.Ef,rt({width:16,height:16})),this.Np.subscribeSuggestedBitmapSizeChanged(this.Ip)}m(){this.Np.unsubscribeSuggestedBitmapSizeChanged(this.Ip),fe(this.Np.canvasElement),this.Np.dispose()}Of(){return this.Ef}Nf(){return this.kp}Kp(t){le(this.kp,t)||(this.kp=t,this.Np.resizeCanvasElement(t),this.Ef.style.width=`${t.width}px`,this.Ef.style.height=`${t.height}px`,this.xt=!0)}Zp(t){if(t<3&&!this.xt||this.kp.width===0||this.kp.height===0)return;this.xt=!1,this.Np.applySuggestedBitmapSize();const e=ue(this.Np,{colorSpace:this.ys.layout.colorSpace});e!==null&&e.useBitmapCoordinateSpace(s=>{this.Jp(s),this.Qp(s)})}Wf(){return this.Np.bitmapSize}Ff(t,e,s){const r=this.Wf();r.width>0&&r.height>0&&t.drawImage(this.Np.canvasElement,e,s)}Qp({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:r}){if(!this.Qv())return;t.fillStyle=this.ys.timeScale.borderColor;const n=Math.floor(this.Uu.N().S*s),o=Math.floor(this.Uu.N().S*r),a=this.Ep?e.width-n:0;t.fillRect(a,0,n,o)}Jp({context:t,bitmapSize:e}){ii(t,0,0,e.width,e.height,this.tm())}}function Mr(i){return t=>{var e;return((e=t.ia)==null?void 0:e.call(t,i))??[]}}const xd=Mr("normal"),_d=Mr("top"),Sd=Mr("bottom");class Cd{constructor(t,e){this.im=null,this.sm=null,this.M=null,this.nm=!1,this.kp=rt({width:0,height:0}),this.rm=new ct,this.Tp=new Zs(5),this.Vp=!1,this.Ip=()=>{this.Vp||this.gp.Qt().ar()},this.Ap=()=>{this.Vp||this.gp.Qt().ar()},this.gp=t,this.i_=e,this.ys=t.N().layout,this.pp=document.createElement("tr"),this.hm=document.createElement("td"),this.hm.style.padding="0",this.am=document.createElement("td"),this.am.style.padding="0",this.Ef=document.createElement("td"),this.Ef.style.height="25px",this.Ef.style.padding="0",this.lm=document.createElement("div"),this.lm.style.width="100%",this.lm.style.height="100%",this.lm.style.position="relative",this.lm.style.overflow="hidden",this.Ef.appendChild(this.lm),this.Np=de(this.lm,rt({width:16,height:16})),this.Np.subscribeSuggestedBitmapSizeChanged(this.Ip);const s=this.Np.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Wp=de(this.lm,rt({width:16,height:16})),this.Wp.subscribeSuggestedBitmapSizeChanged(this.Ap);const r=this.Wp.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.pp.appendChild(this.hm),this.pp.appendChild(this.Ef),this.pp.appendChild(this.am),this.om(),this.gp.Qt().yo().i(this.om.bind(this),this),this.Pf=new li(this.Wp.canvasElement,this,{Xd:()=>!0,Zd:()=>!this.gp.N().handleScroll.horzTouchDrag})}m(){this.Pf.m(),this.im!==null&&this.im.m(),this.sm!==null&&this.sm.m(),this.Wp.unsubscribeSuggestedBitmapSizeChanged(this.Ap),fe(this.Wp.canvasElement),this.Wp.dispose(),this.Np.unsubscribeSuggestedBitmapSizeChanged(this.Ip),fe(this.Np.canvasElement),this.Np.dispose()}Of(){return this.pp}_m(){return this.im}um(){return this.sm}_f(t){if(this.nm)return;this.nm=!0;const e=this.gp.Qt();!e.At().Ki()&&this.gp.N().handleScale.axisPressedMouseMove.time&&e.oc(t.localX)}af(t){this._f(t)}uf(){const t=this.gp.Qt();!t.At().Ki()&&this.nm&&(this.nm=!1,this.gp.N().handleScale.axisPressedMouseMove.time&&t.mc())}Qd(t){const e=this.gp.Qt();!e.At().Ki()&&this.gp.N().handleScale.axisPressedMouseMove.time&&e.vc(t.localX)}Gd(t){this.Qd(t)}nf(){this.nm=!1;const t=this.gp.Qt();t.At().Ki()&&!this.gp.N().handleScale.axisPressedMouseMove.time||t.mc()}if(){this.nf()}Ld(){this.gp.N().handleScale.axisDoubleClickReset.time&&this.gp.Qt().cn()}Bd(){this.Ld()}$d(){this.gp.Qt().N().handleScale.axisPressedMouseMove.time&&this.ev(1)}Mf(){this.ev(0)}Nf(){return this.kp}dm(){return this.rm}fm(t,e,s){le(this.kp,t)||(this.kp=t,this.Vp=!0,this.Np.resizeCanvasElement(t),this.Wp.resizeCanvasElement(t),this.Vp=!1,this.Ef.style.width=`${t.width}px`,this.Ef.style.height=`${t.height}px`,this.rm.p(t)),this.im!==null&&this.im.Kp(rt({width:e,height:t.height})),this.sm!==null&&this.sm.Kp(rt({width:s,height:t.height}))}pm(){const t=this.vm();return Math.ceil(t.S+t.C+t.k+t.A+t.V+t.wm)}kt(){this.gp.Qt().At().Va()}Wf(){return this.Np.bitmapSize}Ff(t,e,s){const r=this.Wf();r.width>0&&r.height>0&&t.drawImage(this.Np.canvasElement,e,s)}Zp(t){if(t===0)return;const e={colorSpace:this.ys.colorSpace};if(t!==1){this.Np.applySuggestedBitmapSize();const r=ue(this.Np,e);r!==null&&(r.useBitmapCoordinateSpace(n=>{this.Jp(n),this.Qp(n),this.gm(r,Sd)}),this.iv(r),this.gm(r,xd)),this.im!==null&&this.im.Zp(t),this.sm!==null&&this.sm.Zp(t)}this.Wp.applySuggestedBitmapSize();const s=ue(this.Wp,e);s!==null&&(s.useBitmapCoordinateSpace(({context:r,bitmapSize:n})=>{r.clearRect(0,0,n.width,n.height)}),this.Mm([...this.gp.Qt().js(),this.gp.Qt().sc()],s),this.gm(s,_d))}gm(t,e){const s=this.gp.Qt().js();for(const r of s)nr(e,n=>rr(n,t,!1,void 0),r,void 0);for(const r of s)nr(e,n=>ws(n,t,!1,void 0),r,void 0)}Jp({context:t,bitmapSize:e}){ii(t,0,0,e.width,e.height,this.gp.Qt().Vc())}Qp({context:t,bitmapSize:e,verticalPixelRatio:s}){if(this.gp.N().timeScale.borderVisible){t.fillStyle=this.bm();const r=Math.max(1,Math.floor(this.vm().S*s));t.fillRect(0,0,e.width,r)}}iv(t){const e=this.gp.Qt().At(),s=e.Va();if(!s||s.length===0)return;const r=this.i_.maxTickMarkWeight(s),n=this.vm(),o=e.N();o.borderVisible&&o.ticksVisible&&t.useBitmapCoordinateSpace(({context:a,horizontalPixelRatio:l,verticalPixelRatio:h})=>{a.strokeStyle=this.bm(),a.fillStyle=this.bm();const c=Math.max(1,Math.floor(l)),u=Math.floor(.5*l);a.beginPath();const d=Math.round(n.C*h);for(let g=s.length;g--;){const v=Math.round(s[g].coord*l);a.rect(v-u,0,c,d)}a.fill()}),t.useMediaCoordinateSpace(({context:a})=>{const l=n.S+n.C+n.A+n.k/2;a.textAlign="center",a.textBaseline="middle",a.fillStyle=this.H(),a.font=this.Yp();for(const h of s)if(h.weight<r){const c=h.needAlignCoordinate?this.Sm(a,h.coord,h.label):h.coord;a.fillText(h.label,c,l)}this.gp.N().timeScale.allowBoldLabels&&(a.font=this.xm());for(const h of s)if(h.weight>=r){const c=h.needAlignCoordinate?this.Sm(a,h.coord,h.label):h.coord;a.fillText(h.label,c,l)}})}Sm(t,e,s){const r=this.Tp.Vi(t,s),n=r/2,o=Math.floor(e-n)+.5;return o<0?e+=Math.abs(0-o):o+r>this.kp.width&&(e-=Math.abs(this.kp.width-(o+r))),e}Mm(t,e){const s=this.vm();for(const r of t)for(const n of r.cs())n.Tt().nt(e,s)}bm(){return this.gp.N().timeScale.borderColor}H(){return this.ys.textColor}W(){return this.ys.fontSize}Yp(){return Us(this.W(),this.ys.fontFamily)}xm(){return Us(this.W(),this.ys.fontFamily,"bold")}vm(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,k:NaN,P:"",Gi:new Zs,wm:0});const t=this.M,e=this.Yp();if(t.P!==e){const s=this.W();t.k=s,t.P=e,t.A=3*s/12,t.V=3*s/12,t.Ji=9*s/12,t.L=0,t.wm=4*s/12,t.Gi.In()}return this.M}ev(t){this.Ef.style.cursor=t===1?"ew-resize":"default"}om(){const t=this.gp.Qt(),e=t.N();e.leftPriceScale.visible||this.im===null||(this.hm.removeChild(this.im.Of()),this.im.m(),this.im=null),e.rightPriceScale.visible||this.sm===null||(this.am.removeChild(this.sm.Of()),this.sm.m(),this.sm=null);const s={Sc:this.gp.Qt().Sc()},r=()=>e.leftPriceScale.borderVisible&&t.At().N().borderVisible,n=()=>t.Vc();e.leftPriceScale.visible&&this.im===null&&(this.im=new Gn("left",e,s,r,n),this.hm.appendChild(this.im.Of())),e.rightPriceScale.visible&&this.sm===null&&(this.sm=new Gn("right",e,s,r,n),this.am.appendChild(this.sm.Of()))}}var po;const kd=!!Ae&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(i=>i.brand.includes("Chromium"))&&!!Ae&&((po=navigator==null?void 0:navigator.userAgentData)!=null&&po.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class Ed{constructor(t,e,s){var r;this.Cm=[],this.ym=[],this.km=0,this.tl=0,this.fo=0,this.Pm=0,this.Tm=0,this.Rm=null,this.Dm=!1,this.uv=new ct,this.cv=new ct,this.Wu=new ct,this.Vm=null,this.Im=null,this.wp=t,this.ys=e,this.i_=s,this.pp=document.createElement("div"),this.pp.classList.add("tv-lightweight-charts"),this.pp.style.overflow="hidden",this.pp.style.direction="ltr",this.pp.style.width="100%",this.pp.style.height="100%",(r=this.pp).style.userSelect="none",r.style.webkitUserSelect="none",r.style.msUserSelect="none",r.style.MozUserSelect="none",r.style.webkitTapHighlightColor="transparent",this.Bm=document.createElement("table"),this.Bm.setAttribute("cellspacing","0"),this.pp.appendChild(this.Bm),this.Am=this.Em.bind(this),zi(this.ys)&&this.zm(!0),this.ts=new cd(this.Hu.bind(this),this.ys,s),this.Qt().nc().i(this.Lm.bind(this),this),this.Om=new Cd(this,this.i_),this.Bm.appendChild(this.Om.Of());const n=e.autoSize&&this.Nm();let o=this.ys.width,a=this.ys.height;if(n||o===0||a===0){const l=t.getBoundingClientRect();o=o||l.width,a=a||l.height}this.Wm(o,a),this.Fm(),t.appendChild(this.pp),this.Hm(),this.ts.At().Cu().i(this.ts.Bh.bind(this.ts),this),this.ts.yo().i(this.ts.Bh.bind(this.ts),this)}Qt(){return this.ts}N(){return this.ys}If(){return this.Cm}Um(){return this.Om}m(){this.zm(!1),this.km!==0&&window.cancelAnimationFrame(this.km),this.ts.nc().u(this),this.ts.At().Cu().u(this),this.ts.yo().u(this),this.ts.m();for(const t of this.Cm)this.Bm.removeChild(t.Of()),t.Lv().u(this),t.Ov().u(this),t.m();this.Cm=[];for(const t of this.ym)this.$m(t);this.ym=[],T(this.Om).m(),this.pp.parentElement!==null&&this.pp.parentElement.removeChild(this.pp),this.Wu.m(),this.uv.m(),this.cv.m(),this.qm()}Wm(t,e,s=!1){if(this.tl===e&&this.fo===t)return;const r=function(a){const l=Math.floor(a.width),h=Math.floor(a.height);return rt({width:l-l%2,height:h-h%2})}(rt({width:t,height:e}));this.tl=r.height,this.fo=r.width;const n=this.tl+"px",o=this.fo+"px";T(this.pp).style.height=n,T(this.pp).style.width=o,this.Bm.style.height=n,this.Bm.style.width=o,s?this.Ym(vt.gn(),performance.now()):this.ts.Bh()}Zp(t){t===void 0&&(t=vt.gn());for(let e=0;e<this.Cm.length;e++)this.Cm[e].Zp(t.en(e).tn);this.ys.timeScale.visible&&this.Om.Zp(t.nn())}hr(t){var r;const e=zi(this.ys);this.ts.hr(t);const s=zi(this.ys);s!==e&&this.zm(s),(r=t.layout)!=null&&r.panes&&this.jm(),this.Hm(),this.Km(t)}Lv(){return this.uv}Ov(){return this.cv}nc(){return this.Wu}Xm(){this.Rm!==null&&(this.Ym(this.Rm,performance.now()),this.Rm=null);const t=this.Zm(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const s=T(e.getContext("2d"));return this.Zm(s),e}Gm(t){return t==="left"&&!this.Jm()||t==="right"&&!this.Qm()||this.Cm.length===0?0:T(t==="left"?this.Cm[0].qv():this.Cm[0].Yv()).Xp()}tw(){return this.ys.autoSize&&this.Vm!==null}Uf(){return this.pp}iw(t){this.Im=t,this.Im?this.Uf().style.setProperty("cursor",t):this.Uf().style.removeProperty("cursor")}sw(){return this.Im}nw(t){return Rt(this.Cm[t]).Nf()}jm(){this.ym.forEach(t=>{t.kt()})}Km(t){(t.autoSize!==void 0||!this.Vm||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.Vm&&this.Nm(),t.autoSize===!1&&this.Vm!==null&&this.qm(),t.autoSize||t.width===void 0&&t.height===void 0||this.Wm(t.width||this.fo,t.height||this.tl))}Zm(t){let e=0,s=0;const r=this.Cm[0],n=(a,l)=>{let h=0;for(let c=0;c<this.Cm.length;c++){const u=this.Cm[c],d=T(a==="left"?u.qv():u.Yv()),g=d.Wf();if(t!==null&&d.Ff(t,l,h),h+=g.height,c<this.Cm.length-1){const v=this.ym[c],y=v.Wf();t!==null&&v.Ff(t,l,h),h+=y.height}}};this.Jm()&&(n("left",0),e+=T(r.qv()).Wf().width);for(let a=0;a<this.Cm.length;a++){const l=this.Cm[a],h=l.Wf();if(t!==null&&l.Ff(t,e,s),s+=h.height,a<this.Cm.length-1){const c=this.ym[a],u=c.Wf();t!==null&&c.Ff(t,e,s),s+=u.height}}e+=r.Wf().width,this.Qm()&&(n("right",e),e+=T(r.Yv()).Wf().width);const o=(a,l,h)=>{T(a==="left"?this.Om._m():this.Om.um()).Ff(T(t),l,h)};if(this.ys.timeScale.visible){const a=this.Om.Wf();if(t!==null){let l=0;this.Jm()&&(o("left",l,s),l=T(r.qv()).Wf().width),this.Om.Ff(t,l,s),l+=a.width,this.Qm()&&o("right",l,s)}s+=a.height}return rt({width:e,height:s})}ew(){let t=0,e=0,s=0;for(const b of this.Cm)this.Jm()&&(e=Math.max(e,T(b.qv()).qp(),this.ys.leftPriceScale.minimumWidth)),this.Qm()&&(s=Math.max(s,T(b.Yv()).qp(),this.ys.rightPriceScale.minimumWidth)),t+=b.ko();e=ir(e),s=ir(s);const r=this.fo,n=this.tl,o=Math.max(r-e-s,0),a=1*this.ym.length,l=this.ys.timeScale.visible;let h=l?Math.max(this.Om.pm(),this.ys.timeScale.minimumHeight):0;var c;h=(c=h)+c%2;const u=a+h,d=n<u?0:n-u,g=d/t;let v=0;const y=window.devicePixelRatio||1;for(let b=0;b<this.Cm.length;++b){const w=this.Cm[b];w.yv(this.ts.$s()[b]);let _=0,A=0;A=b===this.Cm.length-1?Math.ceil((d-v)*y)/y:Math.round(w.ko()*g*y)/y,_=Math.max(A,2),v+=_,w.Kp(rt({width:o,height:_})),this.Jm()&&w.Wv(e,"left"),this.Qm()&&w.Wv(s,"right"),w.Xf()&&this.ts.ec(w.Xf(),_)}this.Om.fm(rt({width:l?o:0,height:h}),l?e:0,l?s:0),this.ts.To(o),this.Pm!==e&&(this.Pm=e),this.Tm!==s&&(this.Tm=s)}zm(t){t?this.pp.addEventListener("wheel",this.Am,{passive:!1}):this.pp.removeEventListener("wheel",this.Am)}rw(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return kd?1/window.devicePixelRatio:1}Em(t){if(!(t.deltaX!==0&&this.ys.handleScroll.mouseWheel||t.deltaY!==0&&this.ys.handleScale.mouseWheel))return;const e=this.rw(t),s=e*t.deltaX/100,r=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),r!==0&&this.ys.handleScale.mouseWheel){const n=Math.sign(r)*Math.min(1,Math.abs(r)),o=t.clientX-this.pp.getBoundingClientRect().left;this.Qt()._c(o,n)}s!==0&&this.ys.handleScroll.mouseWheel&&this.Qt().uc(-80*s)}Ym(t,e){var r;const s=t.nn();s===3&&this.hw(),s!==3&&s!==2||(this.aw(t),this.lw(t,e),this.Om.kt(),this.Cm.forEach(n=>{n.Pv()}),((r=this.Rm)==null?void 0:r.nn())===3&&(this.Rm.vn(t),this.hw(),this.aw(this.Rm),this.lw(this.Rm,e),t=this.Rm,this.Rm=null)),this.Zp(t)}lw(t,e){for(const s of t.pn())this.mn(s,e)}aw(t){const e=this.ts.$s();for(let s=0;s<e.length;s++)t.en(s).sn&&e[s].Uo()}mn(t,e){const s=this.ts.At();switch(t.an){case 0:s.ku();break;case 1:s.Pu(t.Ft);break;case 2:s.dn(t.Ft);break;case 3:s.fn(t.Ft);break;case 4:s.du();break;case 5:t.Ft.Mu(e)||s.fn(t.Ft.bu(e))}}Hu(t){this.Rm!==null?this.Rm.vn(t):this.Rm=t,this.Dm||(this.Dm=!0,this.km=window.requestAnimationFrame(e=>{if(this.Dm=!1,this.km=0,this.Rm!==null){const s=this.Rm;this.Rm=null,this.Ym(s,e);for(const r of s.pn())if(r.an===5&&!r.Ft.Mu(e)){this.Qt()._n(r.Ft);break}}}))}hw(){this.Fm()}$m(t){this.Bm.removeChild(t.Of()),t.m()}Fm(){const t=this.ts.$s(),e=t.length,s=this.Cm.length;for(let r=e;r<s;r++){const n=Rt(this.Cm.pop());this.Bm.removeChild(n.Of()),n.Lv().u(this),n.Ov().u(this),n.m();const o=this.ym.pop();o!==void 0&&this.$m(o)}for(let r=s;r<e;r++){const n=new Rr(this,t[r]);if(n.Lv().i(this.ow.bind(this,n),this),n.Ov().i(this._w.bind(this,n),this),this.Cm.push(n),r>0){const o=new gd(this,r-1,r);this.ym.push(o),this.Bm.insertBefore(o.Of(),this.Om.Of())}this.Bm.insertBefore(n.Of(),this.Om.Of())}for(let r=0;r<e;r++){const n=t[r],o=this.Cm[r];o.Xf()!==n?o.yv(n):o.Cv()}this.Hm(),this.ew()}uw(t,e,s,r){var u;const n=new Map;t!==null&&this.ts.js().forEach(d=>{const g=d.Xs().Wr(t);g!==null&&n.set(d,g)});let o;if(t!==null){const d=(u=this.ts.At().ss(t))==null?void 0:u.originalTime;d!==void 0&&(o=d)}const a=this.Qt().Gu(),l=a!==null&&a.Xo instanceof ai?a.Xo:void 0,h=a!==null&&a.Zo!==void 0?a.Zo.Kn:void 0,c=this.cw(r);return{dw:o,Re:t??void 0,fw:e??void 0,pw:c!==-1?c:void 0,mw:l,ww:n,gw:h,Mw:s??void 0}}cw(t){let e=-1;if(t)e=this.Cm.indexOf(t);else{const s=this.Qt().sc().Us();s!==null&&(e=this.Qt().$s().indexOf(s))}return e}ow(t,e,s,r){this.uv.p(()=>this.uw(e,s,r,t))}_w(t,e,s,r){this.cv.p(()=>this.uw(e,s,r,t))}Lm(t,e,s){var r;this.iw(((r=this.Qt().Gu())==null?void 0:r.Jo)??null),this.Wu.p(()=>this.uw(t,e,s))}Hm(){const t=this.ys.timeScale.visible?"":"none";this.Om.Of().style.display=t}Jm(){return this.Cm[0].Xf().Bo().N().visible}Qm(){return this.Cm[0].Xf().Ao().N().visible}Nm(){return"ResizeObserver"in window&&(this.Vm=new ResizeObserver(t=>{const e=t[t.length-1];e&&this.Wm(e.contentRect.width,e.contentRect.height)}),this.Vm.observe(this.wp,{box:"border-box"}),!0)}qm(){this.Vm!==null&&this.Vm.disconnect(),this.Vm=null}}function zi(i){return!!(i.handleScroll.mouseWheel||i.handleScale.mouseWheel)}function Td(i){return i.open===void 0&&i.value===void 0}function Nd(i){return function(t){return t.open!==void 0}(i)||function(t){return t.value!==void 0}(i)}function Jn(i,t,e,s){const r=e.value,n={Re:t,wt:i,Ft:[r,r,r,r],dw:s};return e.color!==void 0&&(n.R=e.color),n}function Rd(i,t,e,s){const r=e.value,n={Re:t,wt:i,Ft:[r,r,r,r],dw:s};return e.lineColor!==void 0&&(n.vt=e.lineColor),e.topColor!==void 0&&(n.mr=e.topColor),e.bottomColor!==void 0&&(n.wr=e.bottomColor),n}function Md(i,t,e,s){const r=e.value,n={Re:t,wt:i,Ft:[r,r,r,r],dw:s};return e.topLineColor!==void 0&&(n.gr=e.topLineColor),e.bottomLineColor!==void 0&&(n.Mr=e.bottomLineColor),e.topFillColor1!==void 0&&(n.br=e.topFillColor1),e.topFillColor2!==void 0&&(n.Sr=e.topFillColor2),e.bottomFillColor1!==void 0&&(n.Cr=e.bottomFillColor1),e.bottomFillColor2!==void 0&&(n.yr=e.bottomFillColor2),n}function Pd(i,t,e,s){const r={Re:t,wt:i,Ft:[e.open,e.high,e.low,e.close],dw:s};return e.color!==void 0&&(r.R=e.color),r}function Ad(i,t,e,s){const r={Re:t,wt:i,Ft:[e.open,e.high,e.low,e.close],dw:s};return e.color!==void 0&&(r.R=e.color),e.borderColor!==void 0&&(r.Ht=e.borderColor),e.wickColor!==void 0&&(r.vr=e.wickColor),r}function Od(i,t,e,s,r){const n=Rt(r)(e),o=Math.max(...n),a=Math.min(...n),l=n[n.length-1],h=[l,o,a,l],{time:c,color:u,...d}=e;return{Re:t,wt:i,Ft:h,dw:s,se:d,R:u}}function Be(i){return i.Ft!==void 0}function qn(i,t){return t.customValues!==void 0&&(i.bw=t.customValues),i}function ne(i){return(t,e,s,r,n,o)=>function(a,l){return l?l(a):Td(a)}(s,o)?qn({wt:t,Re:e,dw:r},s):qn(i(t,e,s,r,n),s)}function to(i){return{Candlestick:ne(Ad),Bar:ne(Pd),Area:ne(Rd),Baseline:ne(Md),Histogram:ne(Jn),Line:ne(Jn),Custom:ne(Od)}[i]}function eo(i){return{Re:0,Sw:new Map,Hh:i}}function so(i,t){if(i!==void 0&&i.length!==0)return{xw:t.key(i[0].wt),Cw:t.key(i[i.length-1].wt)}}function io(i){let t;return i.forEach(e=>{t===void 0&&(t=e.dw)}),Rt(t)}class Dd{constructor(t){this.yw=new Map,this.kw=new Map,this.Pw=new Map,this.Tw=[],this.i_=t}m(){this.yw.clear(),this.kw.clear(),this.Pw.clear(),this.Tw=[]}Rw(t,e){let s=this.yw.size!==0,r=!1;const n=this.kw.get(t);if(n!==void 0)if(this.kw.size===1)s=!1,r=!0,this.yw.clear();else for(const l of this.Tw)l.pointData.Sw.delete(t)&&(r=!0);let o=[];if(e.length!==0){const l=e.map(g=>g.time),h=this.i_.createConverterToInternalObj(e),c=to(t.Rr()),u=t.da(),d=t.pa();o=e.map((g,v)=>{const y=h(g.time),b=this.i_.key(y);let w=this.yw.get(b);w===void 0&&(w=eo(y),this.yw.set(b,w),r=!0);const _=c(y,w.Re,g,l[v],u,d);return w.Sw.set(t,_),_})}s&&this.Dw(),this.Vw(t,o);let a=-1;if(r){const l=[];this.yw.forEach(h=>{l.push({timeWeight:0,time:h.Hh,pointData:h,originalTime:io(h.Sw)})}),l.sort((h,c)=>this.i_.key(h.time)-this.i_.key(c.time)),a=this.Iw(l)}return this.Bw(t,a,function(l,h,c){const u=so(l,c),d=so(h,c);if(u!==void 0&&d!==void 0)return{Aw:!1,zh:u.Cw>=d.Cw&&u.xw>=d.xw}}(this.kw.get(t),n,this.i_))}yc(t){return this.Rw(t,[])}Ew(t,e,s){const r=e;(function(b){b.dw===void 0&&(b.dw=b.time)})(r),this.i_.preprocessData(e);const n=this.i_.createConverterToInternalObj([e])(e.time),o=this.Pw.get(t);if(!s&&o!==void 0&&this.i_.key(n)<this.i_.key(o))throw new Error(`Cannot update oldest data, last time=${o}, new time=${n}`);let a=this.yw.get(this.i_.key(n));if(s&&a===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const l=a===void 0;a===void 0&&(a=eo(n),this.yw.set(this.i_.key(n),a));const h=to(t.Rr()),c=t.da(),u=t.pa(),d=h(n,a.Re,e,r.dw,c,u);a.Sw.set(t,d),s?this.zw(t,d,a.Re):this.Lw(t,d);const g={zh:Be(d),Aw:s};if(!l)return this.Bw(t,-1,g);const v={timeWeight:0,time:a.Hh,pointData:a,originalTime:io(a.Sw)},y=Pe(this.Tw,this.i_.key(v.time),(b,w)=>this.i_.key(b.time)<w);this.Tw.splice(y,0,v);for(let b=y;b<this.Tw.length;++b)Vi(this.Tw[b].pointData,b);return this.i_.fillWeightsForPoints(this.Tw,y),this.Bw(t,y,g)}Lw(t,e){let s=this.kw.get(t);s===void 0&&(s=[],this.kw.set(t,s));const r=s.length!==0?s[s.length-1]:null;r===null||this.i_.key(e.wt)>this.i_.key(r.wt)?Be(e)&&s.push(e):Be(e)?s[s.length-1]=e:s.splice(-1,1),this.Pw.set(t,e.wt)}zw(t,e,s){const r=this.kw.get(t);if(r===void 0)return;const n=Pe(r,s,(o,a)=>o.Re<a);Be(e)?r[n]=e:r.splice(n,1)}Vw(t,e){e.length!==0?(this.kw.set(t,e.filter(Be)),this.Pw.set(t,e[e.length-1].wt)):(this.kw.delete(t),this.Pw.delete(t))}Dw(){for(const t of this.Tw)t.pointData.Sw.size===0&&this.yw.delete(this.i_.key(t.time))}Iw(t){let e=-1;for(let s=0;s<this.Tw.length&&s<t.length;++s){const r=this.Tw[s],n=t[s];if(this.i_.key(r.time)!==this.i_.key(n.time)){e=s;break}n.timeWeight=r.timeWeight,Vi(n.pointData,s)}if(e===-1&&this.Tw.length!==t.length&&(e=Math.min(this.Tw.length,t.length)),e===-1)return-1;for(let s=e;s<t.length;++s)Vi(t[s].pointData,s);return this.i_.fillWeightsForPoints(t,e),this.Tw=t,e}Ow(){if(this.kw.size===0)return null;let t=0;return this.kw.forEach(e=>{e.length!==0&&(t=Math.max(t,e[e.length-1].Re))}),t}Bw(t,e,s){const r={Do:new Map,At:{iu:this.Ow()}};if(e!==-1)this.kw.forEach((n,o)=>{r.Do.set(o,{se:n,Nw:o===t?s:void 0})}),this.kw.has(t)||r.Do.set(t,{se:[],Nw:s}),r.At.Ww=this.Tw,r.At.Fw=e;else{const n=this.kw.get(t);r.Do.set(t,{se:n||[],Nw:s})}return r}}function Vi(i,t){i.Re=t,i.Sw.forEach(e=>{e.Re=t})}function zd(i,t){return i.wt<t}function Vd(i,t){return t<i.wt}function Ld(i,t,e){const s=t.Uh(),r=t.bi(),n=Pe(i,s,zd),o=Oa(i,r,Vd);if(!e)return{from:n,to:o};let a=n,l=o;return n>0&&n<i.length&&i[n].wt>=s&&(a=n-1),o>0&&o<i.length&&i[o-1].wt<=r&&(l=o+1),{from:a,to:l}}class Fa{constructor(t,e,s){this.Hw=!0,this.Uw=!0,this.$w=!0,this.qw=[],this.Yw=null,this.Jn=t,this.Qn=e,this.jw=s}kt(t){this.Hw=!0,t==="data"&&(this.Uw=!0),t==="options"&&(this.$w=!0)}Tt(){return this.Jn.Vt()?(this.Kw(),this.Yw===null?null:this.Xw):null}Zw(){this.qw=this.qw.map(t=>({...t,...this.Jn.Rh().Dr(t.wt)}))}Gw(){this.Yw=null}Kw(){this.Uw&&(this.Jw(),this.Uw=!1),this.$w&&(this.Zw(),this.$w=!1),this.Hw&&(this.Qw(),this.Hw=!1)}Qw(){const t=this.Jn.Wt(),e=this.Qn.At();if(this.Gw(),e.Ki()||t.Ki())return;const s=e.ye();if(s===null||this.Jn.Xs().zr()===0)return;const r=this.Jn.zt();r!==null&&(this.Yw=Ld(this.qw,s,this.jw),this.tg(t,e,r.Ft),this.ig())}}class Id{constructor(t,e){this.sg=t,this.Yi=e}nt(t,e,s){this.sg.draw(t,this.Yi,e,s)}}class jd extends Fa{constructor(t,e,s){super(t,e,!1),this.sh=s,this.Xw=new Id(this.sh.renderer(),r=>{const n=t.zt();return n===null?null:t.Wt().Nt(r,n.Ft)})}fa(t){return this.sh.priceValueBuilder(t)}va(t){return this.sh.isWhitespace(t)}Jw(){const t=this.Jn.Rh();this.qw=this.Jn.Xs().Hr().map(e=>({wt:e.Re,_t:NaN,...t.Dr(e.Re),ng:e.se}))}tg(t,e){e.su(this.qw,er(this.Yw))}ig(){this.sh.update({bars:this.qw.map(Fd),barSpacing:this.Qn.At().lu(),visibleRange:this.Yw},this.Jn.N())}}function Fd(i){return{x:i._t,time:i.wt,originalData:i.ng,barColor:i.cr}}const Bd={color:"#2196f3"},Wd=(i,t,e)=>{const s=se(e);return new jd(i,t,s)};function Pr(i){const t={value:i.Ft[3],time:i.dw};return i.bw!==void 0&&(t.customValues=i.bw),t}function ro(i){const t=Pr(i);return i.R!==void 0&&(t.color=i.R),t}function $d(i){const t=Pr(i);return i.vt!==void 0&&(t.lineColor=i.vt),i.mr!==void 0&&(t.topColor=i.mr),i.wr!==void 0&&(t.bottomColor=i.wr),t}function Yd(i){const t=Pr(i);return i.gr!==void 0&&(t.topLineColor=i.gr),i.Mr!==void 0&&(t.bottomLineColor=i.Mr),i.br!==void 0&&(t.topFillColor1=i.br),i.Sr!==void 0&&(t.topFillColor2=i.Sr),i.Cr!==void 0&&(t.bottomFillColor1=i.Cr),i.yr!==void 0&&(t.bottomFillColor2=i.yr),t}function Ba(i){const t={open:i.Ft[0],high:i.Ft[1],low:i.Ft[2],close:i.Ft[3],time:i.dw};return i.bw!==void 0&&(t.customValues=i.bw),t}function Ud(i){const t=Ba(i);return i.R!==void 0&&(t.color=i.R),t}function Zd(i){const t=Ba(i),{R:e,Ht:s,vr:r}=i;return e!==void 0&&(t.color=e),s!==void 0&&(t.borderColor=s),r!==void 0&&(t.wickColor=r),t}function or(i){return{Area:$d,Line:ro,Baseline:Yd,Histogram:ro,Bar:Ud,Candlestick:Zd,Custom:Xd}[i]}function Xd(i){const t=i.dw;return{...i.se,time:t}}const Qd={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},Hd={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Kd={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Ea,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},Li={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},Gd={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function no(){return{width:0,height:0,autoSize:!1,layout:Kd,crosshair:Qd,grid:Hd,overlayPriceScales:{...Li},leftPriceScale:{...Li,visible:!1},rightPriceScale:{...Li,visible:!0},timeScale:Gd,localization:{locale:Ae?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Wa{constructor(t,e,s){this.Df=t,this.eg=e,this.rg=s??0}applyOptions(t){this.Df.Qt().Qu(this.eg,t,this.rg)}options(){return this.Yi().N()}width(){return ni(this.eg)?this.Df.Gm(this.eg):0}setVisibleRange(t){this.setAutoScale(!1),this.Yi().Nl(new _t(t.from,t.to))}getVisibleRange(){const t=this.Yi().Qe();return t===null?null:{from:t.$e(),to:t.qe()}}setAutoScale(t){this.applyOptions({autoScale:t})}Yi(){return T(this.Df.Qt().tc(this.eg,this.rg)).Wt}}class Jd{constructor(t,e,s,r){this.Df=t,this.yt=s,this.hg=e,this.ag=r}getHeight(){return this.yt.$t()}setHeight(t){const e=this.Df.Qt(),s=e.Bc(this.yt);e.hc(s,t)}paneIndex(){return this.Df.Qt().Bc(this.yt)}moveTo(t){const e=this.paneIndex();e!==t&&(yt(t>=0&&t<this.Df.If().length,"Invalid pane index"),this.Df.Qt().ac(e,t))}getSeries(){return this.yt.Do().map(t=>this.hg(t))??[]}getHTMLElement(){return this.Df.If()[this.paneIndex()].Of()}attachPrimitive(t){this.yt.ua(t),t.attached&&t.attached({chart:this.ag,requestUpdate:()=>this.yt.Qt().Bh()})}detachPrimitive(t){this.yt.ca(t)}priceScale(t){if(this.yt.Co(t)===null)throw new Error(`Cannot find price scale with id: ${t}`);return new Wa(this.Df,t,this.paneIndex())}}const qd={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class oo{constructor(t){this.ir=t}applyOptions(t){this.ir.hr(t)}options(){return this.ir.N()}lg(){return this.ir}}class tf{constructor(t,e,s,r,n,o){this.og=new ct,this.Jn=t,this._g=e,this.ug=s,this.i_=n,this.ag=r,this.cg=o}m(){this.og.m()}priceFormatter(){return this.Jn.ra()}priceToCoordinate(t){const e=this.Jn.zt();return e===null?null:this.Jn.Wt().Nt(t,e.Ft)}coordinateToPrice(t){const e=this.Jn.zt();return e===null?null:this.Jn.Wt().Ts(t,e.Ft)}barsInLogicalRange(t){if(t===null)return null;const e=new Se(new qe(t.from,t.to)).w_(),s=this.Jn.Xs();if(s.Ki())return null;const r=s.Wr(e.Uh(),1),n=s.Wr(e.bi(),-1),o=T(s.Lr()),a=T(s.Ks());if(r!==null&&n!==null&&r.Re>n.Re)return{barsBefore:t.from-o,barsAfter:a-t.to};const l={barsBefore:r===null||r.Re===o?t.from-o:r.Re-o,barsAfter:n===null||n.Re===a?a-t.to:a-n.Re};return r!==null&&n!==null&&(l.from=r.dw,l.to=n.dw),l}setData(t){this.i_,this.Jn.Rr(),this._g.dg(this.Jn,t),this.fg("full")}update(t,e=!1){this.Jn.Rr(),this._g.pg(this.Jn,t,e),this.fg("update")}dataByIndex(t,e){const s=this.Jn.Xs().Wr(t,e);return s===null?null:or(this.seriesType())(s)}data(){const t=or(this.seriesType());return this.Jn.Xs().Hr().map(e=>t(e))}subscribeDataChanged(t){this.og.i(t)}unsubscribeDataChanged(t){this.og._(t)}applyOptions(t){this.Jn.hr(t)}options(){return Xt(this.Jn.N())}priceScale(){return this.ug.priceScale(this.Jn.Wt().wa(),this.getPane().paneIndex())}createPriceLine(t){const e=Mt(Xt(qd),t),s=this.Jn.Oh(e);return new oo(s)}removePriceLine(t){this.Jn.Nh(t.lg())}priceLines(){return this.Jn.Wh().map(t=>new oo(t))}seriesType(){return this.Jn.Rr()}attachPrimitive(t){this.Jn.ua(t),t.attached&&t.attached({chart:this.ag,series:this,requestUpdate:()=>this.Jn.Qt().Bh(),horzScaleBehavior:this.i_})}detachPrimitive(t){this.Jn.ca(t),t.detached&&t.detached(),this.Jn.Qt().Bh()}getPane(){const t=this.Jn,e=T(this.Jn.Qt().Hn(t));return this.cg(e)}moveToPane(t){this.Jn.Qt().Rc(this.Jn,t)}seriesOrder(){const t=this.Jn.Qt().Hn(this.Jn);return t===null?-1:t.Do().indexOf(this.Jn)}setSeriesOrder(t){const e=this.Jn.Qt().Hn(this.Jn);e!==null&&e.qo(this.Jn,t)}fg(t){this.og.v()&&this.og.p(t)}}class ef{constructor(t,e,s){this.vg=new ct,this.T_=new ct,this.rm=new ct,this.ts=t,this.uh=t.At(),this.Om=e,this.uh.Su().i(this.mg.bind(this)),this.uh.xu().i(this.wg.bind(this)),this.Om.dm().i(this.gg.bind(this)),this.i_=s}m(){this.uh.Su().u(this),this.uh.xu().u(this),this.Om.dm().u(this),this.vg.m(),this.T_.m(),this.rm.m()}scrollPosition(){return this.uh._u()}scrollToPosition(t,e){e?this.uh.gu(t,1e3):this.ts.fn(t)}scrollToRealTime(){this.uh.wu()}getVisibleRange(){const t=this.uh.K_();return t===null?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.i_.convertHorzItemToInternal(t.from),to:this.i_.convertHorzItemToInternal(t.to)},s=this.uh.J_(e);this.ts.Pc(s)}getVisibleLogicalRange(){const t=this.uh.j_();return t===null?null:{from:t.Uh(),to:t.bi()}}setVisibleLogicalRange(t){yt(t.from<=t.to,"The from index cannot be after the to index."),this.ts.Pc(t)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.ku()}logicalToCoordinate(t){const e=this.ts.At();return e.Ki()?null:e.qt(t)}coordinateToLogical(t){return this.uh.Ki()?null:this.uh.nu(t)}timeToIndex(t,e){const s=this.i_.convertHorzItemToInternal(t);return this.uh.U_(s,e)}timeToCoordinate(t){const e=this.timeToIndex(t,!1);return e===null?null:this.uh.qt(e)}coordinateToTime(t){const e=this.ts.At(),s=e.nu(t),r=e.ss(s);return r===null?null:r.originalTime}width(){return this.Om.Nf().width}height(){return this.Om.Nf().height}subscribeVisibleTimeRangeChange(t){this.vg.i(t)}unsubscribeVisibleTimeRangeChange(t){this.vg._(t)}subscribeVisibleLogicalRangeChange(t){this.T_.i(t)}unsubscribeVisibleLogicalRangeChange(t){this.T_._(t)}subscribeSizeChange(t){this.rm.i(t)}unsubscribeSizeChange(t){this.rm._(t)}applyOptions(t){this.uh.hr(t)}options(){return{...Xt(this.uh.N()),barSpacing:this.uh.lu()}}mg(){this.vg.v()&&this.vg.p(this.getVisibleRange())}wg(){this.T_.v()&&this.T_.p(this.getVisibleLogicalRange())}gg(t){this.rm.p(t.width,t.height)}}function sf(i){if(i===void 0||i.type==="custom")return;const t=i;t.minMove!==void 0&&t.precision===void 0&&(t.precision=function(e){if(e>=1)return 0;let s=0;for(;s<8;s++){const r=Math.round(e);if(Math.abs(r-e)<1e-8)return s;e*=10}return s}(t.minMove))}function ao(i){return function(t){if(hs(t.handleScale)){const s=t.handleScale;t.handleScale={axisDoubleClickReset:{time:s,price:s},axisPressedMouseMove:{time:s,price:s},mouseWheel:s,pinch:s}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:s,axisDoubleClickReset:r}=t.handleScale;hs(s)&&(t.handleScale.axisPressedMouseMove={time:s,price:s}),hs(r)&&(t.handleScale.axisDoubleClickReset={time:r,price:r})}const e=t.handleScroll;hs(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(i),i}class rf{constructor(t,e,s){this.Mg=new Map,this.bg=new Map,this.Sg=new ct,this.xg=new ct,this.Cg=new ct,this.zu=new WeakMap,this.yg=new Dd(e);const r=s===void 0?Xt(no()):Mt(Xt(no()),ao(s));this.kg=e,this.Df=new Ed(t,r,e),this.Df.Lv().i(o=>{this.Sg.v()&&this.Sg.p(this.Pg(o()))},this),this.Df.Ov().i(o=>{this.xg.v()&&this.xg.p(this.Pg(o()))},this),this.Df.nc().i(o=>{this.Cg.v()&&this.Cg.p(this.Pg(o()))},this);const n=this.Df.Qt();this.Tg=new ef(n,this.Df.Um(),this.kg)}remove(){this.Df.Lv().u(this),this.Df.Ov().u(this),this.Df.nc().u(this),this.Tg.m(),this.Df.m(),this.Mg.clear(),this.bg.clear(),this.Sg.m(),this.xg.m(),this.Cg.m(),this.yg.m()}resize(t,e,s){this.autoSizeActive()||this.Df.Wm(t,e,s)}addCustomSeries(t,e={},s=0){const r=(n=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...Bd,...n.defaultOptions()},Rg:Wd,Dg:n}))(se(t));return this.Vg(r,e,s)}addSeries(t,e={},s=0){return this.Vg(t,e,s)}removeSeries(t){const e=Rt(this.Mg.get(t)),s=this.yg.yc(e);this.Df.Qt().yc(e),this.Ig(s),this.Mg.delete(t),this.bg.delete(e)}dg(t,e){this.Ig(this.yg.Rw(t,e))}pg(t,e,s){this.Ig(this.yg.Ew(t,e,s))}subscribeClick(t){this.Sg.i(t)}unsubscribeClick(t){this.Sg._(t)}subscribeCrosshairMove(t){this.Cg.i(t)}unsubscribeCrosshairMove(t){this.Cg._(t)}subscribeDblClick(t){this.xg.i(t)}unsubscribeDblClick(t){this.xg._(t)}priceScale(t,e=0){return new Wa(this.Df,t,e)}timeScale(){return this.Tg}applyOptions(t){this.Df.hr(ao(t))}options(){return this.Df.N()}takeScreenshot(){return this.Df.Xm()}removePane(t){this.Df.Qt().rc(t)}swapPanes(t,e){this.Df.Qt().ac(t,e)}autoSizeActive(){return this.Df.tw()}chartElement(){return this.Df.Uf()}panes(){return this.Df.Qt().$s().map(t=>this.Bg(t))}paneSize(t=0){const e=this.Df.nw(t);return{height:e.height,width:e.width}}setCrosshairPosition(t,e,s){const r=this.Mg.get(s);if(r===void 0)return;const n=this.Df.Qt().Hn(r);n!==null&&this.Df.Qt().gc(t,e,n)}clearCrosshairPosition(){this.Df.Qt().Mc(!0)}horzBehaviour(){return this.kg}Vg(t,e={},s=0){yt(t.Rg!==void 0),sf(e.priceFormat),t.type==="Candlestick"&&function(l){l.borderColor!==void 0&&(l.borderUpColor=l.borderColor,l.borderDownColor=l.borderColor),l.wickColor!==void 0&&(l.wickUpColor=l.wickColor,l.wickDownColor=l.wickColor)}(e);const r=Mt(Xt(Ca),Xt(t.defaultOptions),e),n=t.Rg,o=new ai(this.Df.Qt(),t.type,r,n,t.Dg);this.Df.Qt().xc(o,s);const a=new tf(o,this,this,this,this.kg,l=>this.Bg(l));return this.Mg.set(a,o),this.bg.set(o,a),a}Ig(t){const e=this.Df.Qt();e.bc(t.At.iu,t.At.Ww,t.At.Fw),t.Do.forEach((s,r)=>r.ht(s.se,s.Nw)),e.At().O_(),e.au()}Ag(t){return Rt(this.bg.get(t))}Pg(t){const e=new Map;t.ww.forEach((r,n)=>{const o=n.Rr(),a=or(o)(r);if(o!=="Custom")yt(Nd(a));else{const l=n.pa();yt(!l||l(a)===!1)}e.set(this.Ag(n),a)});const s=t.mw!==void 0&&this.bg.has(t.mw)?this.Ag(t.mw):void 0;return{time:t.dw,logical:t.Re,point:t.fw,paneIndex:t.pw,hoveredSeries:s,hoveredObjectId:t.gw,seriesData:e,sourceEvent:t.Mw}}Bg(t){let e=this.zu.get(t);return e||(e=new Jd(this.Df,s=>this.Ag(s),t,this),this.zu.set(t,e)),e}}function nf(i){if(os(i)){const t=document.getElementById(i);return yt(t!==null,`Cannot find element in DOM with id=${i}`),t}return i}function of(i,t,e){const s=nf(i),r=new rf(s,t,e);return t.setOptions(r.options()),r}function af(i,t){return of(i,new Yn,Yn.Xc(t))}class lf extends Fa{constructor(t,e){super(t,e,!0)}tg(t,e,s){e.su(this.qw,er(this.Yw)),t.Hl(this.qw,s,er(this.Yw))}Eg(t,e){return{wt:t,gt:e,_t:NaN,ut:NaN}}Jw(){const t=this.Jn.Rh();this.qw=this.Jn.Xs().Hr().map(e=>{const s=e.Ft[3];return this.zg(e.Re,s,t)})}}function hf(i,t,e,s,r,n,o){if(t.length===0||s.from>=t.length||s.to<=0)return;const{context:a,horizontalPixelRatio:l,verticalPixelRatio:h}=i,c=t[s.from];let u=n(i,c),d=c;if(s.to-s.from<2){const g=r/2;a.beginPath();const v={_t:c._t-g,ut:c.ut},y={_t:c._t+g,ut:c.ut};a.moveTo(v._t*l,v.ut*h),a.lineTo(y._t*l,y.ut*h),o(i,u,v,y)}else{const g=(y,b)=>{o(i,u,d,b),a.beginPath(),u=y,d=b};let v=d;a.beginPath(),a.moveTo(c._t*l,c.ut*h);for(let y=s.from+1;y<s.to;++y){v=t[y];const b=n(i,v);switch(e){case 0:a.lineTo(v._t*l,v.ut*h);break;case 1:a.lineTo(v._t*l,t[y-1].ut*h),b!==u&&(g(b,v),a.lineTo(v._t*l,t[y-1].ut*h)),a.lineTo(v._t*l,v.ut*h);break;case 2:{const[w,_]=cf(t,y-1,y);a.bezierCurveTo(w._t*l,w.ut*h,_._t*l,_.ut*h,v._t*l,v.ut*h);break}}e!==1&&b!==u&&(g(b,v),a.moveTo(v._t*l,v.ut*h))}(d!==v||d===v&&e===1)&&o(i,u,d,v)}}const lo=6;function Ii(i,t){return{_t:i._t-t._t,ut:i.ut-t.ut}}function ho(i,t){return{_t:i._t/t,ut:i.ut/t}}function cf(i,t,e){const s=Math.max(0,t-1),r=Math.min(i.length-1,e+1);var n,o;return[(n=i[t],o=ho(Ii(i[e],i[s]),lo),{_t:n._t+o._t,ut:n.ut+o.ut}),Ii(i[e],ho(Ii(i[r],i[t]),lo))]}function uf(i,t){const e=i.context;e.strokeStyle=t,e.stroke()}class df extends ze{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){if(this.rt===null)return;const{ot:e,lt:s,Lg:r,Og:n,ct:o,Xt:a,Ng:l}=this.rt;if(s===null)return;const h=t.context;h.lineCap="butt",h.lineWidth=o*t.verticalPixelRatio,Re(h,a),h.lineJoin="round";const c=this.Wg.bind(this);n!==void 0&&hf(t,e,n,s,r,c,uf),l&&function(u,d,g,v,y){if(v.to-v.from<=0)return;const{horizontalPixelRatio:b,verticalPixelRatio:w,context:_}=u;let A=null;const C=Math.max(1,Math.floor(b))%2/2,R=g*w+C;for(let B=v.to-1;B>=v.from;--B){const I=d[B];if(I){const Z=y(u,I);Z!==A&&(_.beginPath(),A!==null&&_.fill(),_.fillStyle=Z,A=Z);const L=Math.round(I._t*b)+C,W=I.ut*w;_.moveTo(L,W),_.arc(L,W,R,0,2*Math.PI)}}_.fill()}(t,e,l,s,c)}}class ff extends df{Wg(t,e){return e.vt}}class pf extends lf{constructor(){super(...arguments),this.Xw=new ff}zg(t,e,s){return{...this.Eg(t,e),...s.Dr(t)}}ig(){const t=this.Jn.N(),e={ot:this.qw,Xt:t.lineStyle,Og:t.lineVisible?t.lineType:void 0,ct:t.lineWidth,Ng:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,lt:this.Yw,Lg:this.Qn.At().lu()};this.Xw.ht(e)}}const mf={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Rg:(i,t)=>new pf(i,t)};({...Ca});const gf=i=>{if(i.length===8){const t=i.substring(0,4),e=i.substring(4,6),s=i.substring(6,8);return`${t}-${e}-${s}`}return i},vf=({data:i,buyConditions:t,sellConditions:e,buyCondExp:s,sellCondExp:r})=>{const n=p.useRef(null);return p.useEffect(()=>{if(!n.current||!i.dates||!i.total_assets)return;const o=af(n.current,{width:260,height:200}),a=o.addSeries(mf),l=i.dates.map((c,u)=>({time:gf(c),value:i.total_assets[u]}));a.setData(l);const h=()=>{n.current&&o.applyOptions({width:n.current.clientWidth})};return window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h),o.remove()}},[i]),f.jsxs("div",{className:"mt-4 space-y-4",children:[f.jsx("div",{ref:n,className:"w-full h-[200px]"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h4",{className:"text-sm font-medium",children:"매수 조건"}),f.jsx("ul",{className:"text-xs space-y-1 text-muted-foreground",children:t.map((o,a)=>f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-primary",children:"•"}),f.jsxs("span",{children:[o.expr," ",o.operator," ",o.value]})]},a))}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[f.jsx("strong",{children:"조합:"})," ",s]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h4",{className:"text-sm font-medium",children:"매도 조건"}),f.jsx("ul",{className:"text-xs space-y-1 text-muted-foreground",children:e.map((o,a)=>f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-destructive",children:"•"}),f.jsxs("span",{children:[o.expr," ",o.operator," ",o.value]})]},a))}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[f.jsx("strong",{children:"조합:"})," ",r]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Ot,{className:"flex-1 bg-black hover:bg-black/90 text-white",size:"sm",onClick:()=>alert("전략 연동 화면으로 이동합니다."),children:"전략 연동"}),f.jsx(Ot,{className:"flex-1 bg-black hover:bg-black/90 text-white",size:"sm",onClick:()=>alert("전략이 저장되었습니다."),children:"저장"})]})]})},yf=["이재명, 김문수 테마주는?","시가총액 상위 10개 중 최근 많이 오른 종목은?","추세 추종 전략 만들어줘"];function bf(){const{logout:i,user:t}=ti(),{toast:e}=_r(),[s,r]=p.useState([{id:"1",text:`안녕하세요! 저는 Newsystock의 ScreenerAI 입니다. 주식 시장과 투자에 대한 질문을 해주세요. 

 POC 버전 안내: 아래 추천질문에 있는 유형(테마주, 종목필터링, 전략생성)을 클릭하거나 비슷한 유형으로 입력해보시면 됩니다. 실시간으로 테스트 및 개선 중이라 불안정할 수 있습니다.`,sender:"bot",timestamp:new Date}]),[n,o]=p.useState(""),[a,l]=p.useState(!1),[h,c]=p.useState(!0),u=p.useRef(null),d=p.useRef(null),[g,v]=p.useState(0);p.useEffect(()=>{var _,A;window.amplitude&&window.amplitude.track("chat-view-screener-poc"),"virtualKeyboard"in navigator&&(navigator.virtualKeyboard.overlaysContent=!0);const w=()=>{if(window.visualViewport){const C=window.innerHeight-window.visualViewport.height;v(C)}};return(_=window.visualViewport)==null||_.addEventListener("resize",w),(A=window.visualViewport)==null||A.addEventListener("scroll",w),()=>{var C,R;(C=window.visualViewport)==null||C.removeEventListener("resize",w),(R=window.visualViewport)==null||R.removeEventListener("scroll",w)}},[]),p.useEffect(()=>{var w;(w=u.current)==null||w.scrollIntoView({behavior:"smooth"})},[s]);const y=async(w=n)=>{var A,C,R,B,I,Z;if(!w.trim())return;const _={id:Date.now().toString(),text:w,sender:"user",timestamp:new Date};r(L=>[...L,_]),o(""),l(!0);try{const{data:{session:L}}=await ae.auth.getSession(),W=await ae.functions.invoke("micro-reply",{headers:{Authorization:`Bearer ${L==null?void 0:L.access_token}`},body:{msg:w}});console.log("Category:",W.data.category);const it={id:(Date.now()+1).toString(),text:W.data.reply,sender:"bot",timestamp:new Date};r($=>[...$,it]);const P=await ae.functions.invoke("detail-reply",{headers:{Authorization:`Bearer ${L==null?void 0:L.access_token}`},body:{msg:w,category:W.data.category}}),X={id:(Date.now()+2).toString(),text:JSON.stringify(P.data.result,null,2),sender:"bot",timestamp:new Date};console.log("resultMessage",X);const E=P.data.result[0];let Q=[];if(console.log("responseData 백테스트: ",E==null?void 0:E.message,(C=(A=E==null?void 0:E.result)==null?void 0:A.data)==null?void 0:C.portfolio_summary),(E==null?void 0:E.message)==="조건에 맞는 종목 검색 완료"&&((R=E==null?void 0:E.result)!=null&&R.stocks))Q=E.result.stocks.map($=>({id:(Date.now()+Math.random()).toString(),text:"주가 차트",sender:"bot",timestamp:new Date,stockInfo:{name:$.name,code:$.code}}));else if((E==null?void 0:E.message)==="백테스트 시뮬레이션 완료"&&((I=(B=E==null?void 0:E.result)==null?void 0:B.data)!=null&&I.portfolio_summary)){const $=E.result.data.portfolio_summary,ot=E.result.meta.strategy;Q=[{id:(Date.now()+Math.random()).toString(),text:"백테스트 결과",sender:"bot",timestamp:new Date,backtestData:{dates:$.dates,total_assets:$.total_assets,buyConditions:ot.buy_conditions,sellConditions:ot.sell_conditions,buyCondExp:ot.buy_cond_exp,sellCondExp:ot.sell_cond_exp}}]}else(Z=P.data.result)!=null&&Z.some($=>$.stock_code)?Q=P.data.result.filter($=>$.stock_code).map($=>({id:(Date.now()+Math.random()).toString(),text:"주가 차트",sender:"bot",timestamp:new Date,stockInfo:{name:$.stock_name,code:$.stock_code}})):E!=null&&E.strategyName&&(Q=[{id:(Date.now()+Math.random()).toString(),text:"백테스트",sender:"bot",timestamp:new Date,stockInfo:{name:E.strategyName,code:"BACKTEST"}}]);Q.length>0?r($=>[...$,...Q]):r($=>[...$,X]);const tt={id:(Date.now()+3).toString(),text:P.data.reply,sender:"bot",timestamp:new Date};r($=>[...$,tt])}catch(L){console.error("Error calling edge function:",L);const W={id:(Date.now()+1).toString(),text:"죄송합니다. 응답을 생성하는 중에 오류가 발생했습니다.",sender:"bot",timestamp:new Date};r(it=>[...it,W])}finally{l(!1)}},b=async()=>{await i(),e({title:"로그아웃 완료",description:"안전하게 로그아웃되었습니다."})};return f.jsxs("div",{className:"fixed inset-0 flex flex-col bg-background overflow-hidden",children:[f.jsx("header",{className:"flex-none border-b p-4 shadow-sm bg-card",children:f.jsxs("div",{className:"flex justify-between items-center max-w-3xl mx-auto",children:[f.jsx(aa,{showText:!0}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("span",{className:"text-sm text-muted-foreground hidden md:inline-block",children:t==null?void 0:t.email}),f.jsxs(Ot,{variant:"outline",size:"sm",onClick:b,children:[f.jsx(Al,{className:"h-4 w-4 mr-2"}),"로그아웃"]})]})]})}),f.jsxs("div",{className:"flex-1 min-h-0 flex flex-col max-w-3xl w-full mx-auto overflow-hidden",children:[f.jsx(_a,{ref:d,className:"flex-1 px-4",children:f.jsxs("div",{className:"space-y-4 py-4",children:[s.map(w=>f.jsx("div",{className:`flex ${w.sender==="user"?"justify-end":"justify-start"}`,children:f.jsxs("div",{className:`max-w-[80%] md:max-w-[70%] rounded-lg p-3 ${w.sender==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[f.jsxs("div",{className:"whitespace-pre-line min-w-64",children:[w.text!=="주가 차트"&&f.jsx("div",{className:"text-sm font-medium mt-2",children:w.text}),w.stockInfo&&f.jsxs("div",{className:"text-sm font-medium mt-2",children:[w.stockInfo.name,f.jsx("br",{}),"(",w.stockInfo.code,")"]})]}),(w.text==="주가 차트"||w.text==="백테스트")&&w.stockInfo&&f.jsx("div",{className:"mt-4 space-y-4",children:w.text==="주가 차트"?f.jsx(Ot,{className:"w-full bg-black hover:bg-black/90 text-white",size:"sm",onClick:()=>alert("주문 화면으로 이동합니다."),children:"주문 연동"}):f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Ot,{className:"flex-1 bg-black hover:bg-black/90 text-white",size:"sm",onClick:()=>alert("전략 연동 화면으로 이동합니다."),children:"전략 연동"}),f.jsx(Ot,{className:"flex-1 bg-black hover:bg-black/90 text-white",size:"sm",onClick:()=>alert("전략이 저장되었습니다."),children:"저장"})]})}),w.text==="백테스트 결과"&&w.backtestData&&f.jsx(vf,{data:w.backtestData,buyConditions:w.backtestData.buyConditions,sellConditions:w.backtestData.sellConditions,buyCondExp:w.backtestData.buyCondExp,sellCondExp:w.backtestData.sellCondExp}),f.jsx("div",{className:`text-xs mt-1 ${w.sender==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:w.timestamp.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})})]})},w.id)),a&&f.jsx("div",{className:"flex justify-start",children:f.jsx("div",{className:"bg-muted rounded-lg p-3",children:f.jsxs("div",{className:"flex space-x-1",children:[f.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce"}),f.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce delay-75"}),f.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce delay-150"})]})})}),f.jsx("div",{ref:u})]})}),f.jsx("div",{className:"px-4 py-2",children:f.jsx(xr,{className:"p-3",children:f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"추천 질문"}),f.jsx(Ot,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>c(!h),children:h?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polyline",{points:"6 9 12 15 18 9"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polyline",{points:"18 15 12 9 6 15"})})})]}),f.jsx("div",{className:`space-y-2 transition-all duration-200 ${h?"block":"hidden"}`,children:f.jsx("div",{className:"flex flex-wrap gap-2",children:yf.map((w,_)=>f.jsx(Ot,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>y(w),children:w},_))})})]})})}),f.jsx("div",{className:"flex-none border-t bg-background px-4 py-4",style:{marginBottom:`env(keyboard-inset-height, ${g}px)`},children:f.jsxs("form",{onSubmit:w=>{w.preventDefault(),y()},className:"flex gap-2",children:[f.jsx(Ws,{value:n,onChange:w=>o(w.target.value),placeholder:"메시지를 입력하세요...",className:"flex-1"}),f.jsx(Ot,{type:"submit",disabled:!n.trim()||a,children:f.jsx(Ol,{className:"h-4 w-4"})})]})})]})]})}function wf({children:i,restricted:t=!1}){const{user:e,isLoading:s}=ti();return s?f.jsx("div",{className:"flex items-center justify-center h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):t&&e?f.jsx(xs,{to:"/chat",replace:!0}):f.jsx(f.Fragment,{children:i})}function xf({children:i}){const{user:t,isLoading:e}=ti(),s=kl();return e?f.jsx("div",{className:"flex items-center justify-center h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):t?f.jsx(f.Fragment,{children:i}):f.jsx(xs,{to:"/login",state:{from:s},replace:!0})}const _f=El([{path:"/",element:f.jsx(xs,{to:"/chat",replace:!0})},{path:"/login",element:f.jsx(wf,{restricted:!0,children:f.jsx(Oc,{})})},{path:"/chat",element:f.jsx(xf,{children:f.jsx(bf,{})})},{path:"*",element:f.jsx(xs,{to:"/chat",replace:!0})}]);function Sf(i,t){if(i==null)return{};var e={},s=Object.keys(i),r,n;for(n=0;n<s.length;n++)r=s[n],!(t.indexOf(r)>=0)&&(e[r]=i[r]);return e}var Cf=["color"],kf=p.forwardRef(function(i,t){var e=i.color,s=e===void 0?"currentColor":e,r=Sf(i,Cf);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:t}),p.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))});function Ef(i,t=[]){let e=[];function s(n,o){const a=p.createContext(o),l=e.length;e=[...e,o];function h(u){const{scope:d,children:g,...v}=u,y=(d==null?void 0:d[i][l])||a,b=p.useMemo(()=>v,Object.values(v));return f.jsx(y.Provider,{value:b,children:g})}function c(u,d){const g=(d==null?void 0:d[i][l])||a,v=p.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${n}\``)}return h.displayName=n+"Provider",[h,c]}const r=()=>{const n=e.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[i])||n;return p.useMemo(()=>({[`__scope${i}`]:{...a,[i]:l}}),[a,l])}};return r.scopeName=i,[s,Tf(r,...t)]}function Tf(...i){const t=i[0];if(i.length===1)return t;const e=()=>{const s=i.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(n){const o=s.reduce((a,{useScope:l,scopeName:h})=>{const u=l(n)[`__scope${h}`];return{...a,...u}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return e.scopeName=t.scopeName,e}function Nf(i){const t=i+"CollectionProvider",[e,s]=Ef(t),[r,n]=e(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:y}=g,b=J.useRef(null),w=J.useRef(new Map).current;return f.jsx(r,{scope:v,itemMap:w,collectionRef:b,children:y})};o.displayName=t;const a=i+"CollectionSlot",l=J.forwardRef((g,v)=>{const{scope:y,children:b}=g,w=n(a,y),_=Pt(v,w.collectionRef);return f.jsx(Te,{ref:_,children:b})});l.displayName=a;const h=i+"CollectionItemSlot",c="data-radix-collection-item",u=J.forwardRef((g,v)=>{const{scope:y,children:b,...w}=g,_=J.useRef(null),A=Pt(v,_),C=n(h,y);return J.useEffect(()=>(C.itemMap.set(_,{ref:_,...w}),()=>void C.itemMap.delete(_))),f.jsx(Te,{[c]:"",ref:A,children:b})});u.displayName=h;function d(g){const v=n(i+"CollectionConsumer",g);return J.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${c}]`));return Array.from(v.itemMap.values()).sort((C,R)=>w.indexOf(C.ref.current)-w.indexOf(R.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:u},d,s]}function Rf(i,t=globalThis==null?void 0:globalThis.document){const e=bt(i);p.useEffect(()=>{const s=r=>{r.key==="Escape"&&e(r)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[e,t])}var Mf="DismissableLayer",ar="dismissableLayer.update",Pf="dismissableLayer.pointerDownOutside",Af="dismissableLayer.focusOutside",co,$a=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ya=p.forwardRef((i,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:n,onInteractOutside:o,onDismiss:a,...l}=i,h=p.useContext($a),[c,u]=p.useState(null),d=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),v=Pt(t,I=>u(I)),y=Array.from(h.layers),[b]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(b),_=c?y.indexOf(c):-1,A=h.layersWithOutsidePointerEventsDisabled.size>0,C=_>=w,R=Df(I=>{const Z=I.target,L=[...h.branches].some(W=>W.contains(Z));!C||L||(r==null||r(I),o==null||o(I),I.defaultPrevented||a==null||a())},d),B=zf(I=>{const Z=I.target;[...h.branches].some(W=>W.contains(Z))||(n==null||n(I),o==null||o(I),I.defaultPrevented||a==null||a())},d);return Rf(I=>{_===h.layers.size-1&&(s==null||s(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},d),p.useEffect(()=>{if(c)return e&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(co=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(c)),h.layers.add(c),uo(),()=>{e&&h.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=co)}},[c,d,e,h]),p.useEffect(()=>()=>{c&&(h.layers.delete(c),h.layersWithOutsidePointerEventsDisabled.delete(c),uo())},[c,h]),p.useEffect(()=>{const I=()=>g({});return document.addEventListener(ar,I),()=>document.removeEventListener(ar,I)},[]),f.jsx(wt.div,{...l,ref:v,style:{pointerEvents:A?C?"auto":"none":void 0,...i.style},onFocusCapture:dt(i.onFocusCapture,B.onFocusCapture),onBlurCapture:dt(i.onBlurCapture,B.onBlurCapture),onPointerDownCapture:dt(i.onPointerDownCapture,R.onPointerDownCapture)})});Ya.displayName=Mf;var Of="DismissableLayerBranch",Ua=p.forwardRef((i,t)=>{const e=p.useContext($a),s=p.useRef(null),r=Pt(t,s);return p.useEffect(()=>{const n=s.current;if(n)return e.branches.add(n),()=>{e.branches.delete(n)}},[e.branches]),f.jsx(wt.div,{...i,ref:r})});Ua.displayName=Of;function Df(i,t=globalThis==null?void 0:globalThis.document){const e=bt(i),s=p.useRef(!1),r=p.useRef(()=>{});return p.useEffect(()=>{const n=a=>{if(a.target&&!s.current){let l=function(){Za(Pf,e,h,{discrete:!0})};const h={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=l,t.addEventListener("click",r.current,{once:!0})):l()}else t.removeEventListener("click",r.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",n)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",n),t.removeEventListener("click",r.current)}},[t,e]),{onPointerDownCapture:()=>s.current=!0}}function zf(i,t=globalThis==null?void 0:globalThis.document){const e=bt(i),s=p.useRef(!1);return p.useEffect(()=>{const r=n=>{n.target&&!s.current&&Za(Af,e,{originalEvent:n},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,e]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function uo(){const i=new CustomEvent(ar);document.dispatchEvent(i)}function Za(i,t,e,{discrete:s}){const r=e.originalEvent.target,n=new CustomEvent(i,{bubbles:!1,cancelable:!0,detail:e});t&&r.addEventListener(i,t,{once:!0}),s?ta(r,n):r.dispatchEvent(n)}var Vf=Ya,Lf=Ua,If="Portal",Xa=p.forwardRef((i,t)=>{var a;const{container:e,...s}=i,[r,n]=p.useState(!1);is(()=>n(!0),[]);const o=e||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Tl.createPortal(f.jsx(wt.div,{...s,ref:t}),o):null});Xa.displayName=If;function jf({prop:i,defaultProp:t,onChange:e=()=>{}}){const[s,r]=Ff({defaultProp:t,onChange:e}),n=i!==void 0,o=n?i:s,a=bt(e),l=p.useCallback(h=>{if(n){const u=typeof h=="function"?h(i):h;u!==i&&a(u)}else r(h)},[n,i,r,a]);return[o,l]}function Ff({defaultProp:i,onChange:t}){const e=p.useState(i),[s]=e,r=p.useRef(s),n=bt(t);return p.useEffect(()=>{r.current!==s&&(n(s),r.current=s)},[s,r,n]),e}var Bf="VisuallyHidden",Ar=p.forwardRef((i,t)=>f.jsx(wt.span,{...i,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...i.style}}));Ar.displayName=Bf;var Or="ToastProvider",[Dr,Wf,$f]=Nf("Toast"),[Qa,vp]=la("Toast",[$f]),[Yf,hi]=Qa(Or),Ha=i=>{const{__scopeToast:t,label:e="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:n=50,children:o}=i,[a,l]=p.useState(null),[h,c]=p.useState(0),u=p.useRef(!1),d=p.useRef(!1);return e.trim()||console.error(`Invalid prop \`label\` supplied to \`${Or}\`. Expected non-empty \`string\`.`),f.jsx(Dr.Provider,{scope:t,children:f.jsx(Yf,{scope:t,label:e,duration:s,swipeDirection:r,swipeThreshold:n,toastCount:h,viewport:a,onViewportChange:l,onToastAdd:p.useCallback(()=>c(g=>g+1),[]),onToastRemove:p.useCallback(()=>c(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:d,children:o})})};Ha.displayName=Or;var Ka="ToastViewport",Uf=["F8"],lr="toast.viewportPause",hr="toast.viewportResume",Ga=p.forwardRef((i,t)=>{const{__scopeToast:e,hotkey:s=Uf,label:r="Notifications ({hotkey})",...n}=i,o=hi(Ka,e),a=Wf(e),l=p.useRef(null),h=p.useRef(null),c=p.useRef(null),u=p.useRef(null),d=Pt(t,u,o.onViewportChange),g=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;p.useEffect(()=>{const b=w=>{var A;s.length!==0&&s.every(C=>w[C]||w.code===C)&&((A=u.current)==null||A.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[s]),p.useEffect(()=>{const b=l.current,w=u.current;if(v&&b&&w){const _=()=>{if(!o.isClosePausedRef.current){const B=new CustomEvent(lr);w.dispatchEvent(B),o.isClosePausedRef.current=!0}},A=()=>{if(o.isClosePausedRef.current){const B=new CustomEvent(hr);w.dispatchEvent(B),o.isClosePausedRef.current=!1}},C=B=>{!b.contains(B.relatedTarget)&&A()},R=()=>{b.contains(document.activeElement)||A()};return b.addEventListener("focusin",_),b.addEventListener("focusout",C),b.addEventListener("pointermove",_),b.addEventListener("pointerleave",R),window.addEventListener("blur",_),window.addEventListener("focus",A),()=>{b.removeEventListener("focusin",_),b.removeEventListener("focusout",C),b.removeEventListener("pointermove",_),b.removeEventListener("pointerleave",R),window.removeEventListener("blur",_),window.removeEventListener("focus",A)}}},[v,o.isClosePausedRef]);const y=p.useCallback(({tabbingDirection:b})=>{const _=a().map(A=>{const C=A.ref.current,R=[C,...rp(C)];return b==="forwards"?R:R.reverse()});return(b==="forwards"?_.reverse():_).flat()},[a]);return p.useEffect(()=>{const b=u.current;if(b){const w=_=>{var R,B,I;const A=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!A){const Z=document.activeElement,L=_.shiftKey;if(_.target===b&&L){(R=h.current)==null||R.focus();return}const P=y({tabbingDirection:L?"backwards":"forwards"}),X=P.findIndex(E=>E===Z);ji(P.slice(X+1))?_.preventDefault():L?(B=h.current)==null||B.focus():(I=c.current)==null||I.focus()}};return b.addEventListener("keydown",w),()=>b.removeEventListener("keydown",w)}},[a,y]),f.jsxs(Lf,{ref:l,role:"region","aria-label":r.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&f.jsx(cr,{ref:h,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});ji(b)}}),f.jsx(Dr.Slot,{scope:e,children:f.jsx(wt.ol,{tabIndex:-1,...n,ref:d})}),v&&f.jsx(cr,{ref:c,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});ji(b)}})]})});Ga.displayName=Ka;var Ja="ToastFocusProxy",cr=p.forwardRef((i,t)=>{const{__scopeToast:e,onFocusFromOutsideViewport:s,...r}=i,n=hi(Ja,e);return f.jsx(Ar,{"aria-hidden":!0,tabIndex:0,...r,ref:t,style:{position:"fixed"},onFocus:o=>{var h;const a=o.relatedTarget;!((h=n.viewport)!=null&&h.contains(a))&&s()}})});cr.displayName=Ja;var ci="Toast",Zf="toast.swipeStart",Xf="toast.swipeMove",Qf="toast.swipeCancel",Hf="toast.swipeEnd",qa=p.forwardRef((i,t)=>{const{forceMount:e,open:s,defaultOpen:r,onOpenChange:n,...o}=i,[a=!0,l]=jf({prop:s,defaultProp:r,onChange:n});return f.jsx(De,{present:e||a,children:f.jsx(Jf,{open:a,...o,ref:t,onClose:()=>l(!1),onPause:bt(i.onPause),onResume:bt(i.onResume),onSwipeStart:dt(i.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:dt(i.onSwipeMove,h=>{const{x:c,y:u}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${c}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:dt(i.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:dt(i.onSwipeEnd,h=>{const{x:c,y:u}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${c}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),l(!1)})})})});qa.displayName=ci;var[Kf,Gf]=Qa(ci,{onClose(){}}),Jf=p.forwardRef((i,t)=>{const{__scopeToast:e,type:s="foreground",duration:r,open:n,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:h,onSwipeStart:c,onSwipeMove:u,onSwipeCancel:d,onSwipeEnd:g,...v}=i,y=hi(ci,e),[b,w]=p.useState(null),_=Pt(t,E=>w(E)),A=p.useRef(null),C=p.useRef(null),R=r||y.duration,B=p.useRef(0),I=p.useRef(R),Z=p.useRef(0),{onToastAdd:L,onToastRemove:W}=y,it=bt(()=>{var Q;(b==null?void 0:b.contains(document.activeElement))&&((Q=y.viewport)==null||Q.focus()),o()}),P=p.useCallback(E=>{!E||E===1/0||(window.clearTimeout(Z.current),B.current=new Date().getTime(),Z.current=window.setTimeout(it,E))},[it]);p.useEffect(()=>{const E=y.viewport;if(E){const Q=()=>{P(I.current),h==null||h()},tt=()=>{const $=new Date().getTime()-B.current;I.current=I.current-$,window.clearTimeout(Z.current),l==null||l()};return E.addEventListener(lr,tt),E.addEventListener(hr,Q),()=>{E.removeEventListener(lr,tt),E.removeEventListener(hr,Q)}}},[y.viewport,R,l,h,P]),p.useEffect(()=>{n&&!y.isClosePausedRef.current&&P(R)},[n,R,y.isClosePausedRef,P]),p.useEffect(()=>(L(),()=>W()),[L,W]);const X=p.useMemo(()=>b?ol(b):null,[b]);return y.viewport?f.jsxs(f.Fragment,{children:[X&&f.jsx(qf,{__scopeToast:e,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),f.jsx(Kf,{scope:e,onClose:it,children:ur.createPortal(f.jsx(Dr.ItemSlot,{scope:e,children:f.jsx(Vf,{asChild:!0,onEscapeKeyDown:dt(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||it(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(wt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":n?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:_,style:{userSelect:"none",touchAction:"none",...i.style},onKeyDown:dt(i.onKeyDown,E=>{E.key==="Escape"&&(a==null||a(E.nativeEvent),E.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,it()))}),onPointerDown:dt(i.onPointerDown,E=>{E.button===0&&(A.current={x:E.clientX,y:E.clientY})}),onPointerMove:dt(i.onPointerMove,E=>{if(!A.current)return;const Q=E.clientX-A.current.x,tt=E.clientY-A.current.y,$=!!C.current,ot=["left","right"].includes(y.swipeDirection),ht=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,Ct=ot?ht(0,Q):0,kt=ot?0:ht(0,tt),pe=E.pointerType==="touch"?10:2,me={x:Ct,y:kt},Ve={originalEvent:E,delta:me};$?(C.current=me,gs(Xf,u,Ve,{discrete:!1})):fo(me,y.swipeDirection,pe)?(C.current=me,gs(Zf,c,Ve,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs(Q)>pe||Math.abs(tt)>pe)&&(A.current=null)}),onPointerUp:dt(i.onPointerUp,E=>{const Q=C.current,tt=E.target;if(tt.hasPointerCapture(E.pointerId)&&tt.releasePointerCapture(E.pointerId),C.current=null,A.current=null,Q){const $=E.currentTarget,ot={originalEvent:E,delta:Q};fo(Q,y.swipeDirection,y.swipeThreshold)?gs(Hf,g,ot,{discrete:!0}):gs(Qf,d,ot,{discrete:!0}),$.addEventListener("click",ht=>ht.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),qf=i=>{const{__scopeToast:t,children:e,...s}=i,r=hi(ci,t),[n,o]=p.useState(!1),[a,l]=p.useState(!1);return sp(()=>o(!0)),p.useEffect(()=>{const h=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(h)},[]),a?null:f.jsx(Xa,{asChild:!0,children:f.jsx(Ar,{...s,children:n&&f.jsxs(f.Fragment,{children:[r.label," ",e]})})})},tp="ToastTitle",tl=p.forwardRef((i,t)=>{const{__scopeToast:e,...s}=i;return f.jsx(wt.div,{...s,ref:t})});tl.displayName=tp;var ep="ToastDescription",el=p.forwardRef((i,t)=>{const{__scopeToast:e,...s}=i;return f.jsx(wt.div,{...s,ref:t})});el.displayName=ep;var sl="ToastAction",il=p.forwardRef((i,t)=>{const{altText:e,...s}=i;return e.trim()?f.jsx(nl,{altText:e,asChild:!0,children:f.jsx(zr,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${sl}\`. Expected non-empty \`string\`.`),null)});il.displayName=sl;var rl="ToastClose",zr=p.forwardRef((i,t)=>{const{__scopeToast:e,...s}=i,r=Gf(rl,e);return f.jsx(nl,{asChild:!0,children:f.jsx(wt.button,{type:"button",...s,ref:t,onClick:dt(i.onClick,r.onClose)})})});zr.displayName=rl;var nl=p.forwardRef((i,t)=>{const{__scopeToast:e,altText:s,...r}=i;return f.jsx(wt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...r,ref:t})});function ol(i){const t=[];return Array.from(i.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),ip(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",n=s.dataset.radixToastAnnounceExclude==="";if(!r)if(n){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...ol(s))}}),t}function gs(i,t,e,{discrete:s}){const r=e.originalEvent.currentTarget,n=new CustomEvent(i,{bubbles:!0,cancelable:!0,detail:e});t&&r.addEventListener(i,t,{once:!0}),s?ta(r,n):r.dispatchEvent(n)}var fo=(i,t,e=0)=>{const s=Math.abs(i.x),r=Math.abs(i.y),n=s>r;return t==="left"||t==="right"?n&&s>e:!n&&r>e};function sp(i=()=>{}){const t=bt(i);is(()=>{let e=0,s=0;return e=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(s)}},[t])}function ip(i){return i.nodeType===i.ELEMENT_NODE}function rp(i){const t=[],e=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function ji(i){const t=document.activeElement;return i.some(e=>e===t?!0:(e.focus(),document.activeElement!==t))}var np=Ha,al=Ga,ll=qa,hl=tl,cl=el,ul=il,dl=zr;const op=np,fl=p.forwardRef(({className:i,...t},e)=>f.jsx(al,{ref:e,className:ut("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",i),...t}));fl.displayName=al.displayName;const ap=br("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),pl=p.forwardRef(({className:i,variant:t,...e},s)=>f.jsx(ll,{ref:s,className:ut(ap({variant:t}),i),...e}));pl.displayName=ll.displayName;const lp=p.forwardRef(({className:i,...t},e)=>f.jsx(ul,{ref:e,className:ut("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",i),...t}));lp.displayName=ul.displayName;const ml=p.forwardRef(({className:i,...t},e)=>f.jsx(dl,{ref:e,className:ut("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",i),"toast-close":"",...t,children:f.jsx(kf,{className:"h-4 w-4"})}));ml.displayName=dl.displayName;const gl=p.forwardRef(({className:i,...t},e)=>f.jsx(hl,{ref:e,className:ut("text-sm font-semibold [&+div]:text-xs",i),...t}));gl.displayName=hl.displayName;const vl=p.forwardRef(({className:i,...t},e)=>f.jsx(cl,{ref:e,className:ut("text-sm opacity-90",i),...t}));vl.displayName=cl.displayName;function hp(){const{toasts:i}=_r();return f.jsxs(op,{children:[i.map(function({id:t,title:e,description:s,action:r,...n}){return f.jsxs(pl,{...n,children:[f.jsxs("div",{className:"grid gap-1",children:[e&&f.jsx(gl,{children:e}),s&&f.jsx(vl,{children:s})]}),r,f.jsx(ml,{})]},t)}),f.jsx(fl,{})]})}function cp(){return f.jsx(Bl,{attribute:"class",defaultTheme:"light",children:f.jsxs(Ec,{children:[f.jsx(Nl,{router:_f}),f.jsx(hp,{})]})})}vo(document.getElementById("root")).render(f.jsx(p.StrictMode,{children:f.jsx(cp,{})}));
